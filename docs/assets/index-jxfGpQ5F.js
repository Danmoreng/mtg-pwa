(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ca(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const at={},Tr=[],vn=()=>{},kl=()=>!1,Io=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),la=e=>e.startsWith("onUpdate:"),Bt=Object.assign,ua=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Td=Object.prototype.hasOwnProperty,et=(e,t)=>Td.call(e,t),Te=Array.isArray,Fr=e=>Cs(e)==="[object Map]",Po=e=>Cs(e)==="[object Set]",hc=e=>Cs(e)==="[object Date]",Ne=e=>typeof e=="function",yt=e=>typeof e=="string",on=e=>typeof e=="symbol",lt=e=>e!==null&&typeof e=="object",El=e=>(lt(e)||Ne(e))&&Ne(e.then)&&Ne(e.catch),Al=Object.prototype.toString,Cs=e=>Al.call(e),Fd=e=>Cs(e).slice(8,-1),Cl=e=>Cs(e)==="[object Object]",da=e=>yt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,is=ca(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Oo=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},Md=/-(\w)/g,en=Oo(e=>e.replace(Md,(t,n)=>n?n.toUpperCase():"")),Bd=/\B([A-Z])/g,gr=Oo(e=>e.replace(Bd,"-$1").toLowerCase()),Ro=Oo(e=>e.charAt(0).toUpperCase()+e.slice(1)),lo=Oo(e=>e?`on${Ro(e)}`:""),Gn=(e,t)=>!Object.is(e,t),uo=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Sl=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},yo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let mc;const Do=()=>mc||(mc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Vr(e){if(Te(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=yt(r)?qd(r):Vr(r);if(o)for(const a in o)t[a]=o[a]}return t}else if(yt(e)||lt(e))return e}const Nd=/;(?![^(]*\))/g,jd=/:([^]+)/,Ld=/\/\*[^]*?\*\//g;function qd(e){const t={};return e.replace(Ld,"").split(Nd).forEach(n=>{if(n){const r=n.split(jd);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ct(e){let t="";if(yt(e))t=e;else if(Te(e))for(let n=0;n<e.length;n++){const r=Ct(e[n]);r&&(t+=r+" ")}else if(lt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Ud(e){if(!e)return null;let{class:t,style:n}=e;return t&&!yt(t)&&(e.class=Ct(t)),n&&(e.style=Vr(n)),e}const Kd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Vd=ca(Kd);function Il(e){return!!e||e===""}function Hd(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=$o(e[r],t[r]);return n}function $o(e,t){if(e===t)return!0;let n=hc(e),r=hc(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=on(e),r=on(t),n||r)return e===t;if(n=Te(e),r=Te(t),n||r)return n&&r?Hd(e,t):!1;if(n=lt(e),r=lt(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,a=Object.keys(t).length;if(o!==a)return!1;for(const l in e){const u=e.hasOwnProperty(l),f=t.hasOwnProperty(l);if(u&&!f||!u&&f||!$o(e[l],t[l]))return!1}}return String(e)===String(t)}function Wd(e,t){return e.findIndex(n=>$o(n,t))}const Pl=e=>!!(e&&e.__v_isRef===!0),se=e=>yt(e)?e:e==null?"":Te(e)||lt(e)&&(e.toString===Al||!Ne(e.toString))?Pl(e)?se(e.value):JSON.stringify(e,Ol,2):String(e),Ol=(e,t)=>Pl(t)?Ol(e,t.value):Fr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o],a)=>(n[Ei(r,a)+" =>"]=o,n),{})}:Po(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ei(n))}:on(t)?Ei(t):lt(t)&&!Te(t)&&!Cl(t)?String(t):t,Ei=(e,t="")=>{var n;return on(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Tt;class Rl{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Tt,!t&&Tt&&(this.index=(Tt.scopes||(Tt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Tt;try{return Tt=this,t()}finally{Tt=n}}}on(){++this._on===1&&(this.prevScope=Tt,Tt=this)}off(){this._on>0&&--this._on===0&&(Tt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function To(e){return new Rl(e)}function fa(){return Tt}function Dl(e,t=!1){Tt&&Tt.cleanups.push(e)}let ct;const Ai=new WeakSet;class $l{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Tt&&Tt.active&&Tt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ai.has(this)&&(Ai.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Fl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,yc(this),Ml(this);const t=ct,n=sn;ct=this,sn=!0;try{return this.fn()}finally{Bl(this),ct=t,sn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ma(t);this.deps=this.depsTail=void 0,yc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ai.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ki(this)&&this.run()}get dirty(){return Ki(this)}}let Tl=0,as,cs;function Fl(e,t=!1){if(e.flags|=8,t){e.next=cs,cs=e;return}e.next=as,as=e}function pa(){Tl++}function ha(){if(--Tl>0)return;if(cs){let t=cs;for(cs=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;as;){let t=as;for(as=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Ml(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Bl(e){let t,n=e.depsTail,r=n;for(;r;){const o=r.prevDep;r.version===-1?(r===n&&(n=o),ma(r),zd(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}e.deps=t,e.depsTail=n}function Ki(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Nl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Nl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===gs)||(e.globalVersion=gs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ki(e))))return;e.flags|=2;const t=e.dep,n=ct,r=sn;ct=e,sn=!0;try{Ml(e);const o=e.fn(e._value);(t.version===0||Gn(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{ct=n,sn=r,Bl(e),e.flags&=-3}}function ma(e,t=!1){const{dep:n,prevSub:r,nextSub:o}=e;if(r&&(r.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)ma(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function zd(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let sn=!0;const jl=[];function Dn(){jl.push(sn),sn=!1}function $n(){const e=jl.pop();sn=e===void 0?!0:e}function yc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ct;ct=void 0;try{t()}finally{ct=n}}}let gs=0;class Qd{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ya{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ct||!sn||ct===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ct)n=this.activeLink=new Qd(ct,this),ct.deps?(n.prevDep=ct.depsTail,ct.depsTail.nextDep=n,ct.depsTail=n):ct.deps=ct.depsTail=n,Ll(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=ct.depsTail,n.nextDep=void 0,ct.depsTail.nextDep=n,ct.depsTail=n,ct.deps===n&&(ct.deps=r)}return n}trigger(t){this.version++,gs++,this.notify(t)}notify(t){pa();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ha()}}}function Ll(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Ll(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const go=new WeakMap,hr=Symbol(""),Vi=Symbol(""),vs=Symbol("");function Ft(e,t,n){if(sn&&ct){let r=go.get(e);r||go.set(e,r=new Map);let o=r.get(n);o||(r.set(n,o=new ya),o.map=r,o.key=n),o.track()}}function On(e,t,n,r,o,a){const l=go.get(e);if(!l){gs++;return}const u=f=>{f&&f.trigger()};if(pa(),t==="clear")l.forEach(u);else{const f=Te(e),m=f&&da(n);if(f&&n==="length"){const h=Number(r);l.forEach((g,v)=>{(v==="length"||v===vs||!on(v)&&v>=h)&&u(g)})}else switch((n!==void 0||l.has(void 0))&&u(l.get(n)),m&&u(l.get(vs)),t){case"add":f?m&&u(l.get("length")):(u(l.get(hr)),Fr(e)&&u(l.get(Vi)));break;case"delete":f||(u(l.get(hr)),Fr(e)&&u(l.get(Vi)));break;case"set":Fr(e)&&u(l.get(hr));break}}ha()}function Yd(e,t){const n=go.get(e);return n&&n.get(t)}function Pr(e){const t=Je(e);return t===e?t:(Ft(t,"iterate",vs),nn(e)?t:t.map(Pt))}function Fo(e){return Ft(e=Je(e),"iterate",vs),e}const Gd={__proto__:null,[Symbol.iterator](){return Ci(this,Symbol.iterator,Pt)},concat(...e){return Pr(this).concat(...e.map(t=>Te(t)?Pr(t):t))},entries(){return Ci(this,"entries",e=>(e[1]=Pt(e[1]),e))},every(e,t){return Cn(this,"every",e,t,void 0,arguments)},filter(e,t){return Cn(this,"filter",e,t,n=>n.map(Pt),arguments)},find(e,t){return Cn(this,"find",e,t,Pt,arguments)},findIndex(e,t){return Cn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Cn(this,"findLast",e,t,Pt,arguments)},findLastIndex(e,t){return Cn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Cn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Si(this,"includes",e)},indexOf(...e){return Si(this,"indexOf",e)},join(e){return Pr(this).join(e)},lastIndexOf(...e){return Si(this,"lastIndexOf",e)},map(e,t){return Cn(this,"map",e,t,void 0,arguments)},pop(){return es(this,"pop")},push(...e){return es(this,"push",e)},reduce(e,...t){return gc(this,"reduce",e,t)},reduceRight(e,...t){return gc(this,"reduceRight",e,t)},shift(){return es(this,"shift")},some(e,t){return Cn(this,"some",e,t,void 0,arguments)},splice(...e){return es(this,"splice",e)},toReversed(){return Pr(this).toReversed()},toSorted(e){return Pr(this).toSorted(e)},toSpliced(...e){return Pr(this).toSpliced(...e)},unshift(...e){return es(this,"unshift",e)},values(){return Ci(this,"values",Pt)}};function Ci(e,t,n){const r=Fo(e),o=r[t]();return r!==e&&!nn(e)&&(o._next=o.next,o.next=()=>{const a=o._next();return a.value&&(a.value=n(a.value)),a}),o}const Jd=Array.prototype;function Cn(e,t,n,r,o,a){const l=Fo(e),u=l!==e&&!nn(e),f=l[t];if(f!==Jd[t]){const g=f.apply(e,a);return u?Pt(g):g}let m=n;l!==e&&(u?m=function(g,v){return n.call(this,Pt(g),v,e)}:n.length>2&&(m=function(g,v){return n.call(this,g,v,e)}));const h=f.call(l,m,r);return u&&o?o(h):h}function gc(e,t,n,r){const o=Fo(e);let a=n;return o!==e&&(nn(e)?n.length>3&&(a=function(l,u,f){return n.call(this,l,u,f,e)}):a=function(l,u,f){return n.call(this,l,Pt(u),f,e)}),o[t](a,...r)}function Si(e,t,n){const r=Je(e);Ft(r,"iterate",vs);const o=r[t](...n);return(o===-1||o===!1)&&ba(n[0])?(n[0]=Je(n[0]),r[t](...n)):o}function es(e,t,n=[]){Dn(),pa();const r=Je(e)[t].apply(e,n);return ha(),$n(),r}const Xd=ca("__proto__,__v_isRef,__isVue"),ql=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(on));function Zd(e){on(e)||(e=String(e));const t=Je(this);return Ft(t,"has",e),t.hasOwnProperty(e)}class Ul{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return a;if(n==="__v_raw")return r===(o?a?uf:Wl:a?Hl:Vl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const l=Te(t);if(!o){let f;if(l&&(f=Gd[n]))return f;if(n==="hasOwnProperty")return Zd}const u=Reflect.get(t,n,bt(t)?t:r);return(on(n)?ql.has(n):Xd(n))||(o||Ft(t,"get",n),a)?u:bt(u)?l&&da(n)?u:u.value:lt(u)?o?Ql(u):vr(u):u}}class Kl extends Ul{constructor(t=!1){super(!1,t)}set(t,n,r,o){let a=t[n];if(!this._isShallow){const f=Zn(a);if(!nn(r)&&!Zn(r)&&(a=Je(a),r=Je(r)),!Te(t)&&bt(a)&&!bt(r))return f||(a.value=r),!0}const l=Te(t)&&da(n)?Number(n)<t.length:et(t,n),u=Reflect.set(t,n,r,bt(t)?t:o);return t===Je(o)&&(l?Gn(r,a)&&On(t,"set",n,r):On(t,"add",n,r)),u}deleteProperty(t,n){const r=et(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&r&&On(t,"delete",n,void 0),o}has(t,n){const r=Reflect.has(t,n);return(!on(n)||!ql.has(n))&&Ft(t,"has",n),r}ownKeys(t){return Ft(t,"iterate",Te(t)?"length":hr),Reflect.ownKeys(t)}}class ef extends Ul{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const tf=new Kl,nf=new ef,rf=new Kl(!0);const Hi=e=>e,eo=e=>Reflect.getPrototypeOf(e);function sf(e,t,n){return function(...r){const o=this.__v_raw,a=Je(o),l=Fr(a),u=e==="entries"||e===Symbol.iterator&&l,f=e==="keys"&&l,m=o[e](...r),h=n?Hi:t?vo:Pt;return!t&&Ft(a,"iterate",f?Vi:hr),{next(){const{value:g,done:v}=m.next();return v?{value:g,done:v}:{value:u?[h(g[0]),h(g[1])]:h(g),done:v}},[Symbol.iterator](){return this}}}}function to(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function of(e,t){const n={get(o){const a=this.__v_raw,l=Je(a),u=Je(o);e||(Gn(o,u)&&Ft(l,"get",o),Ft(l,"get",u));const{has:f}=eo(l),m=t?Hi:e?vo:Pt;if(f.call(l,o))return m(a.get(o));if(f.call(l,u))return m(a.get(u));a!==l&&a.get(o)},get size(){const o=this.__v_raw;return!e&&Ft(Je(o),"iterate",hr),o.size},has(o){const a=this.__v_raw,l=Je(a),u=Je(o);return e||(Gn(o,u)&&Ft(l,"has",o),Ft(l,"has",u)),o===u?a.has(o):a.has(o)||a.has(u)},forEach(o,a){const l=this,u=l.__v_raw,f=Je(u),m=t?Hi:e?vo:Pt;return!e&&Ft(f,"iterate",hr),u.forEach((h,g)=>o.call(a,m(h),m(g),l))}};return Bt(n,e?{add:to("add"),set:to("set"),delete:to("delete"),clear:to("clear")}:{add(o){!t&&!nn(o)&&!Zn(o)&&(o=Je(o));const a=Je(this);return eo(a).has.call(a,o)||(a.add(o),On(a,"add",o,o)),this},set(o,a){!t&&!nn(a)&&!Zn(a)&&(a=Je(a));const l=Je(this),{has:u,get:f}=eo(l);let m=u.call(l,o);m||(o=Je(o),m=u.call(l,o));const h=f.call(l,o);return l.set(o,a),m?Gn(a,h)&&On(l,"set",o,a):On(l,"add",o,a),this},delete(o){const a=Je(this),{has:l,get:u}=eo(a);let f=l.call(a,o);f||(o=Je(o),f=l.call(a,o)),u&&u.call(a,o);const m=a.delete(o);return f&&On(a,"delete",o,void 0),m},clear(){const o=Je(this),a=o.size!==0,l=o.clear();return a&&On(o,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=sf(o,e,t)}),n}function ga(e,t){const n=of(e,t);return(r,o,a)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(et(n,o)&&o in r?n:r,o,a)}const af={get:ga(!1,!1)},cf={get:ga(!1,!0)},lf={get:ga(!0,!1)};const Vl=new WeakMap,Hl=new WeakMap,Wl=new WeakMap,uf=new WeakMap;function df(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ff(e){return e.__v_skip||!Object.isExtensible(e)?0:df(Fd(e))}function vr(e){return Zn(e)?e:va(e,!1,tf,af,Vl)}function zl(e){return va(e,!1,rf,cf,Hl)}function Ql(e){return va(e,!0,nf,lf,Wl)}function va(e,t,n,r,o){if(!lt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=ff(e);if(a===0)return e;const l=o.get(e);if(l)return l;const u=new Proxy(e,a===2?r:n);return o.set(e,u),u}function Jn(e){return Zn(e)?Jn(e.__v_raw):!!(e&&e.__v_isReactive)}function Zn(e){return!!(e&&e.__v_isReadonly)}function nn(e){return!!(e&&e.__v_isShallow)}function ba(e){return e?!!e.__v_raw:!1}function Je(e){const t=e&&e.__v_raw;return t?Je(t):e}function _a(e){return!et(e,"__v_skip")&&Object.isExtensible(e)&&Sl(e,"__v_skip",!0),e}const Pt=e=>lt(e)?vr(e):e,vo=e=>lt(e)?Ql(e):e;function bt(e){return e?e.__v_isRef===!0:!1}function Ee(e){return Gl(e,!1)}function Yl(e){return Gl(e,!0)}function Gl(e,t){return bt(e)?e:new pf(e,t)}class pf{constructor(t,n){this.dep=new ya,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Je(t),this._value=n?t:Pt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||nn(t)||Zn(t);t=r?t:Je(t),Gn(t,n)&&(this._rawValue=t,this._value=r?t:Pt(t),this.dep.trigger())}}function we(e){return bt(e)?e.value:e}function bn(e){return Ne(e)?e():we(e)}const hf={get:(e,t,n)=>t==="__v_raw"?e:we(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return bt(o)&&!bt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function Jl(e){return Jn(e)?e:new Proxy(e,hf)}function wa(e){const t=Te(e)?new Array(e.length):{};for(const n in e)t[n]=yf(e,n);return t}class mf{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Yd(Je(this._object),this._key)}}function yf(e,t,n){const r=e[t];return bt(r)?r:new mf(e,t,n)}class gf{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new ya(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=gs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ct!==this)return Fl(this,!0),!0}get value(){const t=this.dep.track();return Nl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function vf(e,t,n=!1){let r,o;return Ne(e)?r=e:(r=e.get,o=e.set),new gf(r,o,n)}const no={},bo=new WeakMap;let dr;function bf(e,t=!1,n=dr){if(n){let r=bo.get(n);r||bo.set(n,r=[]),r.push(e)}}function _f(e,t,n=at){const{immediate:r,deep:o,once:a,scheduler:l,augmentJob:u,call:f}=n,m=F=>o?F:nn(F)||o===!1||o===0?Rn(F,1):Rn(F);let h,g,v,x,I=!1,N=!1;if(bt(e)?(g=()=>e.value,I=nn(e)):Jn(e)?(g=()=>m(e),I=!0):Te(e)?(N=!0,I=e.some(F=>Jn(F)||nn(F)),g=()=>e.map(F=>{if(bt(F))return F.value;if(Jn(F))return m(F);if(Ne(F))return f?f(F,2):F()})):Ne(e)?t?g=f?()=>f(e,2):e:g=()=>{if(v){Dn();try{v()}finally{$n()}}const F=dr;dr=h;try{return f?f(e,3,[x]):e(x)}finally{dr=F}}:g=vn,t&&o){const F=g,oe=o===!0?1/0:o;g=()=>Rn(F(),oe)}const Q=fa(),V=()=>{h.stop(),Q&&Q.active&&ua(Q.effects,h)};if(a&&t){const F=t;t=(...oe)=>{F(...oe),V()}}let X=N?new Array(e.length).fill(no):no;const j=F=>{if(!(!(h.flags&1)||!h.dirty&&!F))if(t){const oe=h.run();if(o||I||(N?oe.some((ge,Ae)=>Gn(ge,X[Ae])):Gn(oe,X))){v&&v();const ge=dr;dr=h;try{const Ae=[oe,X===no?void 0:N&&X[0]===no?[]:X,x];X=oe,f?f(t,3,Ae):t(...Ae)}finally{dr=ge}}}else h.run()};return u&&u(j),h=new $l(g),h.scheduler=l?()=>l(j,!1):j,x=F=>bf(F,!1,h),v=h.onStop=()=>{const F=bo.get(h);if(F){if(f)f(F,4);else for(const oe of F)oe();bo.delete(h)}},t?r?j(!0):X=h.run():l?l(j.bind(null,!0),!0):h.run(),V.pause=h.pause.bind(h),V.resume=h.resume.bind(h),V.stop=V,V}function Rn(e,t=1/0,n){if(t<=0||!lt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,bt(e))Rn(e.value,t,n);else if(Te(e))for(let r=0;r<e.length;r++)Rn(e[r],t,n);else if(Po(e)||Fr(e))e.forEach(r=>{Rn(r,t,n)});else if(Cl(e)){for(const r in e)Rn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Rn(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ss(e,t,n,r){try{return r?e(...r):e()}catch(o){Mo(o,t,n)}}function _n(e,t,n,r){if(Ne(e)){const o=Ss(e,t,n,r);return o&&El(o)&&o.catch(a=>{Mo(a,t,n)}),o}if(Te(e)){const o=[];for(let a=0;a<e.length;a++)o.push(_n(e[a],t,n,r));return o}}function Mo(e,t,n,r=!0){const o=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||at;if(t){let u=t.parent;const f=t.proxy,m=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const h=u.ec;if(h){for(let g=0;g<h.length;g++)if(h[g](e,f,m)===!1)return}u=u.parent}if(a){Dn(),Ss(a,null,10,[e,f,m]),$n();return}}wf(e,n,o,r,l)}function wf(e,t,n,r=!0,o=!1){if(o)throw e;console.error(e)}const Vt=[];let hn=-1;const Mr=[];let zn=null,Dr=0;const Xl=Promise.resolve();let _o=null;function an(e){const t=_o||Xl;return e?t.then(this?e.bind(this):e):t}function xf(e){let t=hn+1,n=Vt.length;for(;t<n;){const r=t+n>>>1,o=Vt[r],a=bs(o);a<e||a===e&&o.flags&2?t=r+1:n=r}return t}function xa(e){if(!(e.flags&1)){const t=bs(e),n=Vt[Vt.length-1];!n||!(e.flags&2)&&t>=bs(n)?Vt.push(e):Vt.splice(xf(t),0,e),e.flags|=1,Zl()}}function Zl(){_o||(_o=Xl.then(tu))}function kf(e){Te(e)?Mr.push(...e):zn&&e.id===-1?zn.splice(Dr+1,0,e):e.flags&1||(Mr.push(e),e.flags|=1),Zl()}function vc(e,t,n=hn+1){for(;n<Vt.length;n++){const r=Vt[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Vt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function eu(e){if(Mr.length){const t=[...new Set(Mr)].sort((n,r)=>bs(n)-bs(r));if(Mr.length=0,zn){zn.push(...t);return}for(zn=t,Dr=0;Dr<zn.length;Dr++){const n=zn[Dr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}zn=null,Dr=0}}const bs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function tu(e){try{for(hn=0;hn<Vt.length;hn++){const t=Vt[hn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ss(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;hn<Vt.length;hn++){const t=Vt[hn];t&&(t.flags&=-2)}hn=-1,Vt.length=0,eu(),_o=null,(Vt.length||Mr.length)&&tu()}}let Ot=null,nu=null;function wo(e){const t=Ot;return Ot=e,nu=e&&e.type.__scopeId||null,t}function rt(e,t=Ot,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&Rc(-1);const a=wo(t);let l;try{l=e(...o)}finally{wo(a),r._d&&Rc(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function _s(e,t){if(Ot===null)return e;const n=Uo(Ot),r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[a,l,u,f=at]=t[o];a&&(Ne(a)&&(a={mounted:a,updated:a}),a.deep&&Rn(l),r.push({dir:a,instance:n,value:l,oldValue:void 0,arg:u,modifiers:f}))}return e}function cr(e,t,n,r){const o=e.dirs,a=t&&t.dirs;for(let l=0;l<o.length;l++){const u=o[l];a&&(u.oldValue=a[l].value);let f=u.dir[r];f&&(Dn(),_n(f,n,8,[e.el,u,e,t]),$n())}}const ru=Symbol("_vte"),Ef=e=>e.__isTeleport,ls=e=>e&&(e.disabled||e.disabled===""),bc=e=>e&&(e.defer||e.defer===""),_c=e=>typeof SVGElement<"u"&&e instanceof SVGElement,wc=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Wi=(e,t)=>{const n=e&&e.to;return yt(n)?t?t(n):null:n},su={name:"Teleport",__isTeleport:!0,process(e,t,n,r,o,a,l,u,f,m){const{mc:h,pc:g,pbc:v,o:{insert:x,querySelector:I,createText:N,createComment:Q}}=m,V=ls(t.props);let{shapeFlag:X,children:j,dynamicChildren:F}=t;if(e==null){const oe=t.el=N(""),ge=t.anchor=N("");x(oe,n,r),x(ge,n,r);const Ae=(Ce,qe)=>{X&16&&(o&&o.isCE&&(o.ce._teleportTarget=Ce),h(j,Ce,qe,o,a,l,u,f))},Se=()=>{const Ce=t.target=Wi(t.props,I),qe=ou(Ce,t,N,x);Ce&&(l!=="svg"&&_c(Ce)?l="svg":l!=="mathml"&&wc(Ce)&&(l="mathml"),V||(Ae(Ce,qe),fo(t,!1)))};V&&(Ae(n,ge),fo(t,!0)),bc(t.props)?(t.el.__isMounted=!1,Ut(()=>{Se(),delete t.el.__isMounted},a)):Se()}else{if(bc(t.props)&&e.el.__isMounted===!1){Ut(()=>{su.process(e,t,n,r,o,a,l,u,f,m)},a);return}t.el=e.el,t.targetStart=e.targetStart;const oe=t.anchor=e.anchor,ge=t.target=e.target,Ae=t.targetAnchor=e.targetAnchor,Se=ls(e.props),Ce=Se?n:ge,qe=Se?oe:Ae;if(l==="svg"||_c(ge)?l="svg":(l==="mathml"||wc(ge))&&(l="mathml"),F?(v(e.dynamicChildren,F,Ce,o,a,l,u),Ca(e,t,!0)):f||g(e,t,Ce,qe,o,a,l,u,!1),V)Se?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ro(t,n,oe,m,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const ut=t.target=Wi(t.props,I);ut&&ro(t,ut,null,m,0)}else Se&&ro(t,ge,Ae,m,1);fo(t,V)}},remove(e,t,n,{um:r,o:{remove:o}},a){const{shapeFlag:l,children:u,anchor:f,targetStart:m,targetAnchor:h,target:g,props:v}=e;if(g&&(o(m),o(h)),a&&o(f),l&16){const x=a||!ls(v);for(let I=0;I<u.length;I++){const N=u[I];r(N,t,n,x,!!N.dynamicChildren)}}},move:ro,hydrate:Af};function ro(e,t,n,{o:{insert:r},m:o},a=2){a===0&&r(e.targetAnchor,t,n);const{el:l,anchor:u,shapeFlag:f,children:m,props:h}=e,g=a===2;if(g&&r(l,t,n),(!g||ls(h))&&f&16)for(let v=0;v<m.length;v++)o(m[v],t,n,2);g&&r(u,t,n)}function Af(e,t,n,r,o,a,{o:{nextSibling:l,parentNode:u,querySelector:f,insert:m,createText:h}},g){const v=t.target=Wi(t.props,f);if(v){const x=ls(t.props),I=v._lpa||v.firstChild;if(t.shapeFlag&16)if(x)t.anchor=g(l(e),t,u(e),n,r,o,a),t.targetStart=I,t.targetAnchor=I&&l(I);else{t.anchor=l(e);let N=I;for(;N;){if(N&&N.nodeType===8){if(N.data==="teleport start anchor")t.targetStart=N;else if(N.data==="teleport anchor"){t.targetAnchor=N,v._lpa=t.targetAnchor&&l(t.targetAnchor);break}}N=l(N)}t.targetAnchor||ou(v,t,h,m),g(I&&l(I),t,v,n,r,o,a)}fo(t,x)}return t.anchor&&l(t.anchor)}const Cf=su;function fo(e,t){const n=e.ctx;if(n&&n.ut){let r,o;for(t?(r=e.el,o=e.anchor):(r=e.targetStart,o=e.targetAnchor);r&&r!==o;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function ou(e,t,n,r){const o=t.targetStart=n(""),a=t.targetAnchor=n("");return o[ru]=a,e&&(r(o,e),r(a,e)),a}const Sf=Symbol("_leaveCb");function ka(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ka(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function ot(e,t){return Ne(e)?Bt({name:e.name},t,{setup:e}):e}function If(){const e=Fn();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function iu(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function us(e,t,n,r,o=!1){if(Te(e)){e.forEach((I,N)=>us(I,t&&(Te(t)?t[N]:t),n,r,o));return}if(Br(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&us(e,t,n,r.component.subTree);return}const a=r.shapeFlag&4?Uo(r.component):r.el,l=o?null:a,{i:u,r:f}=e,m=t&&t.r,h=u.refs===at?u.refs={}:u.refs,g=u.setupState,v=Je(g),x=g===at?kl:I=>et(v,I);if(m!=null&&m!==f){if(yt(m))h[m]=null,x(m)&&(g[m]=null);else if(bt(m)){m.value=null;const I=t;I.k&&(h[I.k]=null)}}if(Ne(f))Ss(f,u,12,[l,h]);else{const I=yt(f),N=bt(f);if(I||N){const Q=()=>{if(e.f){const V=I?x(f)?g[f]:h[f]:f.value;if(o)Te(V)&&ua(V,a);else if(Te(V))V.includes(a)||V.push(a);else if(I)h[f]=[a],x(f)&&(g[f]=h[f]);else{const X=[a];f.value=X,e.k&&(h[e.k]=X)}}else I?(h[f]=l,x(f)&&(g[f]=l)):N&&(f.value=l,e.k&&(h[e.k]=l))};l?(Q.id=-1,Ut(Q,n)):Q()}}}Do().requestIdleCallback;Do().cancelIdleCallback;const Br=e=>!!e.type.__asyncLoader,au=e=>e.type.__isKeepAlive;function Pf(e,t){cu(e,"a",t)}function Of(e,t){cu(e,"da",t)}function cu(e,t,n=Mt){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Bo(t,r,n),n){let o=n.parent;for(;o&&o.parent;)au(o.parent.vnode)&&Rf(r,t,n,o),o=o.parent}}function Rf(e,t,n,r){const o=Bo(t,e,r,!0);No(()=>{ua(r[t],o)},n)}function Bo(e,t,n=Mt,r=!1){if(n){const o=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...l)=>{Dn();const u=Is(n),f=_n(t,n,e,l);return u(),$n(),f});return r?o.unshift(a):o.push(a),a}}const Tn=e=>(t,n=Mt)=>{(!ks||e==="sp")&&Bo(e,(...r)=>t(...r),n)},Df=Tn("bm"),er=Tn("m"),$f=Tn("bu"),Tf=Tn("u"),lu=Tn("bum"),No=Tn("um"),Ff=Tn("sp"),Mf=Tn("rtg"),Bf=Tn("rtc");function Nf(e,t=Mt){Bo("ec",e,t)}const jf="components";function jo(e,t){return qf(jf,e,!0,t)||e}const Lf=Symbol.for("v-ndc");function qf(e,t,n=!0,r=!1){const o=Ot||Mt;if(o){const a=o.type;{const u=Cp(a,!1);if(u&&(u===t||u===en(t)||u===Ro(en(t))))return a}const l=xc(o[e]||a[e],t)||xc(o.appContext[e],t);return!l&&r?a:l}}function xc(e,t){return e&&(e[t]||e[en(t)]||e[Ro(en(t))])}function Kt(e,t,n,r){let o;const a=n,l=Te(e);if(l||yt(e)){const u=l&&Jn(e);let f=!1,m=!1;u&&(f=!nn(e),m=Zn(e),e=Fo(e)),o=new Array(e.length);for(let h=0,g=e.length;h<g;h++)o[h]=t(f?m?vo(Pt(e[h])):Pt(e[h]):e[h],h,void 0,a)}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,a)}else if(lt(e))if(e[Symbol.iterator])o=Array.from(e,(u,f)=>t(u,f,void 0,a));else{const u=Object.keys(e);o=new Array(u.length);for(let f=0,m=u.length;f<m;f++){const h=u[f];o[f]=t(e[h],h,f,a)}}else o=[];return o}function Qt(e,t,n={},r,o){if(Ot.ce||Ot.parent&&Br(Ot.parent)&&Ot.parent.ce)return U(),St(nt,null,[Ke("slot",n,r)],64);let a=e[t];a&&a._c&&(a._d=!1),U();const l=a&&uu(a(n)),u=n.key||l&&l.key,f=St(nt,{key:(u&&!on(u)?u:`_${t}`)+(!l&&r?"_fb":"")},l||[],l&&e._===1?64:-2);return f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),a&&a._c&&(a._d=!0),f}function uu(e){return e.some(t=>xs(t)?!(t.type===wn||t.type===nt&&!uu(t.children)):!0)?e:null}const zi=e=>e?Pu(e)?Uo(e):zi(e.parent):null,ds=Bt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>zi(e.parent),$root:e=>zi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>fu(e),$forceUpdate:e=>e.f||(e.f=()=>{xa(e.update)}),$nextTick:e=>e.n||(e.n=an.bind(e.proxy)),$watch:e=>lp.bind(e)}),Ii=(e,t)=>e!==at&&!e.__isScriptSetup&&et(e,t),Uf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:o,props:a,accessCache:l,type:u,appContext:f}=e;let m;if(t[0]!=="$"){const x=l[t];if(x!==void 0)switch(x){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return a[t]}else{if(Ii(r,t))return l[t]=1,r[t];if(o!==at&&et(o,t))return l[t]=2,o[t];if((m=e.propsOptions[0])&&et(m,t))return l[t]=3,a[t];if(n!==at&&et(n,t))return l[t]=4,n[t];Qi&&(l[t]=0)}}const h=ds[t];let g,v;if(h)return t==="$attrs"&&Ft(e.attrs,"get",""),h(e);if((g=u.__cssModules)&&(g=g[t]))return g;if(n!==at&&et(n,t))return l[t]=4,n[t];if(v=f.config.globalProperties,et(v,t))return v[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:a}=e;return Ii(o,t)?(o[t]=n,!0):r!==at&&et(r,t)?(r[t]=n,!0):et(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:a,type:l}},u){let f,m;return!!(n[u]||e!==at&&u[0]!=="$"&&et(e,u)||Ii(t,u)||(f=a[0])&&et(f,u)||et(r,u)||et(ds,u)||et(o.config.globalProperties,u)||(m=l.__cssModules)&&m[u])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:et(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function kc(e){return Te(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Qi=!0;function Kf(e){const t=fu(e),n=e.proxy,r=e.ctx;Qi=!1,t.beforeCreate&&Ec(t.beforeCreate,e,"bc");const{data:o,computed:a,methods:l,watch:u,provide:f,inject:m,created:h,beforeMount:g,mounted:v,beforeUpdate:x,updated:I,activated:N,deactivated:Q,beforeDestroy:V,beforeUnmount:X,destroyed:j,unmounted:F,render:oe,renderTracked:ge,renderTriggered:Ae,errorCaptured:Se,serverPrefetch:Ce,expose:qe,inheritAttrs:ut,components:Xe,directives:ze,filters:wt}=t;if(m&&Vf(m,r,null),l)for(const Oe in l){const Y=l[Oe];Ne(Y)&&(r[Oe]=Y.bind(n))}if(o){const Oe=o.call(n,n);lt(Oe)&&(e.data=vr(Oe))}if(Qi=!0,a)for(const Oe in a){const Y=a[Oe],H=Ne(Y)?Y.bind(n,n):Ne(Y.get)?Y.get.bind(n,n):vn,L=!Ne(Y)&&Ne(Y.set)?Y.set.bind(n):vn,Ie=st({get:H,set:L});Object.defineProperty(r,Oe,{enumerable:!0,configurable:!0,get:()=>Ie.value,set:ve=>Ie.value=ve})}if(u)for(const Oe in u)du(u[Oe],r,n,Oe);if(f){const Oe=Ne(f)?f.call(n):f;Reflect.ownKeys(Oe).forEach(Y=>{fs(Y,Oe[Y])})}h&&Ec(h,e,"c");function Fe(Oe,Y){Te(Y)?Y.forEach(H=>Oe(H.bind(n))):Y&&Oe(Y.bind(n))}if(Fe(Df,g),Fe(er,v),Fe($f,x),Fe(Tf,I),Fe(Pf,N),Fe(Of,Q),Fe(Nf,Se),Fe(Bf,ge),Fe(Mf,Ae),Fe(lu,X),Fe(No,F),Fe(Ff,Ce),Te(qe))if(qe.length){const Oe=e.exposed||(e.exposed={});qe.forEach(Y=>{Object.defineProperty(Oe,Y,{get:()=>n[Y],set:H=>n[Y]=H,enumerable:!0})})}else e.exposed||(e.exposed={});oe&&e.render===vn&&(e.render=oe),ut!=null&&(e.inheritAttrs=ut),Xe&&(e.components=Xe),ze&&(e.directives=ze),Ce&&iu(e)}function Vf(e,t,n=vn){Te(e)&&(e=Yi(e));for(const r in e){const o=e[r];let a;lt(o)?"default"in o?a=Xt(o.from||r,o.default,!0):a=Xt(o.from||r):a=Xt(o),bt(a)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[r]=a}}function Ec(e,t,n){_n(Te(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function du(e,t,n,r){let o=r.includes(".")?ku(n,r):()=>n[r];if(yt(e)){const a=t[e];Ne(a)&&Zt(o,a)}else if(Ne(e))Zt(o,e.bind(n));else if(lt(e))if(Te(e))e.forEach(a=>du(a,t,n,r));else{const a=Ne(e.handler)?e.handler.bind(n):t[e.handler];Ne(a)&&Zt(o,a,e)}}function fu(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:a,config:{optionMergeStrategies:l}}=e.appContext,u=a.get(t);let f;return u?f=u:!o.length&&!n&&!r?f=t:(f={},o.length&&o.forEach(m=>xo(f,m,l,!0)),xo(f,t,l)),lt(t)&&a.set(t,f),f}function xo(e,t,n,r=!1){const{mixins:o,extends:a}=t;a&&xo(e,a,n,!0),o&&o.forEach(l=>xo(e,l,n,!0));for(const l in t)if(!(r&&l==="expose")){const u=Hf[l]||n&&n[l];e[l]=u?u(e[l],t[l]):t[l]}return e}const Hf={data:Ac,props:Cc,emits:Cc,methods:ss,computed:ss,beforeCreate:qt,created:qt,beforeMount:qt,mounted:qt,beforeUpdate:qt,updated:qt,beforeDestroy:qt,beforeUnmount:qt,destroyed:qt,unmounted:qt,activated:qt,deactivated:qt,errorCaptured:qt,serverPrefetch:qt,components:ss,directives:ss,watch:zf,provide:Ac,inject:Wf};function Ac(e,t){return t?e?function(){return Bt(Ne(e)?e.call(this,this):e,Ne(t)?t.call(this,this):t)}:t:e}function Wf(e,t){return ss(Yi(e),Yi(t))}function Yi(e){if(Te(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function qt(e,t){return e?[...new Set([].concat(e,t))]:t}function ss(e,t){return e?Bt(Object.create(null),e,t):t}function Cc(e,t){return e?Te(e)&&Te(t)?[...new Set([...e,...t])]:Bt(Object.create(null),kc(e),kc(t??{})):t}function zf(e,t){if(!e)return t;if(!t)return e;const n=Bt(Object.create(null),e);for(const r in t)n[r]=qt(e[r],t[r]);return n}function pu(){return{app:null,config:{isNativeTag:kl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Qf=0;function Yf(e,t){return function(r,o=null){Ne(r)||(r=Bt({},r)),o!=null&&!lt(o)&&(o=null);const a=pu(),l=new WeakSet,u=[];let f=!1;const m=a.app={_uid:Qf++,_component:r,_props:o,_container:null,_context:a,_instance:null,version:Ip,get config(){return a.config},set config(h){},use(h,...g){return l.has(h)||(h&&Ne(h.install)?(l.add(h),h.install(m,...g)):Ne(h)&&(l.add(h),h(m,...g))),m},mixin(h){return a.mixins.includes(h)||a.mixins.push(h),m},component(h,g){return g?(a.components[h]=g,m):a.components[h]},directive(h,g){return g?(a.directives[h]=g,m):a.directives[h]},mount(h,g,v){if(!f){const x=m._ceVNode||Ke(r,o);return x.appContext=a,v===!0?v="svg":v===!1&&(v=void 0),e(x,h,v),f=!0,m._container=h,h.__vue_app__=m,Uo(x.component)}},onUnmount(h){u.push(h)},unmount(){f&&(_n(u,m._instance,16),e(null,m._container),delete m._container.__vue_app__)},provide(h,g){return a.provides[h]=g,m},runWithContext(h){const g=mr;mr=m;try{return h()}finally{mr=g}}};return m}}let mr=null;function fs(e,t){if(Mt){let n=Mt.provides;const r=Mt.parent&&Mt.parent.provides;r===n&&(n=Mt.provides=Object.create(r)),n[e]=t}}function Xt(e,t,n=!1){const r=Fn();if(r||mr){let o=mr?mr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Ne(t)?t.call(r&&r.proxy):t}}function Gf(){return!!(Fn()||mr)}const hu={},mu=()=>Object.create(hu),yu=e=>Object.getPrototypeOf(e)===hu;function Jf(e,t,n,r=!1){const o={},a=mu();e.propsDefaults=Object.create(null),gu(e,t,o,a);for(const l in e.propsOptions[0])l in o||(o[l]=void 0);n?e.props=r?o:zl(o):e.type.props?e.props=o:e.props=a,e.attrs=a}function Xf(e,t,n,r){const{props:o,attrs:a,vnode:{patchFlag:l}}=e,u=Je(o),[f]=e.propsOptions;let m=!1;if((r||l>0)&&!(l&16)){if(l&8){const h=e.vnode.dynamicProps;for(let g=0;g<h.length;g++){let v=h[g];if(Lo(e.emitsOptions,v))continue;const x=t[v];if(f)if(et(a,v))x!==a[v]&&(a[v]=x,m=!0);else{const I=en(v);o[I]=Gi(f,u,I,x,e,!1)}else x!==a[v]&&(a[v]=x,m=!0)}}}else{gu(e,t,o,a)&&(m=!0);let h;for(const g in u)(!t||!et(t,g)&&((h=gr(g))===g||!et(t,h)))&&(f?n&&(n[g]!==void 0||n[h]!==void 0)&&(o[g]=Gi(f,u,g,void 0,e,!0)):delete o[g]);if(a!==u)for(const g in a)(!t||!et(t,g))&&(delete a[g],m=!0)}m&&On(e.attrs,"set","")}function gu(e,t,n,r){const[o,a]=e.propsOptions;let l=!1,u;if(t)for(let f in t){if(is(f))continue;const m=t[f];let h;o&&et(o,h=en(f))?!a||!a.includes(h)?n[h]=m:(u||(u={}))[h]=m:Lo(e.emitsOptions,f)||(!(f in r)||m!==r[f])&&(r[f]=m,l=!0)}if(a){const f=Je(n),m=u||at;for(let h=0;h<a.length;h++){const g=a[h];n[g]=Gi(o,f,g,m[g],e,!et(m,g))}}return l}function Gi(e,t,n,r,o,a){const l=e[n];if(l!=null){const u=et(l,"default");if(u&&r===void 0){const f=l.default;if(l.type!==Function&&!l.skipFactory&&Ne(f)){const{propsDefaults:m}=o;if(n in m)r=m[n];else{const h=Is(o);r=m[n]=f.call(null,t),h()}}else r=f;o.ce&&o.ce._setProp(n,r)}l[0]&&(a&&!u?r=!1:l[1]&&(r===""||r===gr(n))&&(r=!0))}return r}const Zf=new WeakMap;function vu(e,t,n=!1){const r=n?Zf:t.propsCache,o=r.get(e);if(o)return o;const a=e.props,l={},u=[];let f=!1;if(!Ne(e)){const h=g=>{f=!0;const[v,x]=vu(g,t,!0);Bt(l,v),x&&u.push(...x)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!a&&!f)return lt(e)&&r.set(e,Tr),Tr;if(Te(a))for(let h=0;h<a.length;h++){const g=en(a[h]);Sc(g)&&(l[g]=at)}else if(a)for(const h in a){const g=en(h);if(Sc(g)){const v=a[h],x=l[g]=Te(v)||Ne(v)?{type:v}:Bt({},v),I=x.type;let N=!1,Q=!0;if(Te(I))for(let V=0;V<I.length;++V){const X=I[V],j=Ne(X)&&X.name;if(j==="Boolean"){N=!0;break}else j==="String"&&(Q=!1)}else N=Ne(I)&&I.name==="Boolean";x[0]=N,x[1]=Q,(N||et(x,"default"))&&u.push(g)}}const m=[l,u];return lt(e)&&r.set(e,m),m}function Sc(e){return e[0]!=="$"&&!is(e)}const Ea=e=>e==="_"||e==="_ctx"||e==="$stable",Aa=e=>Te(e)?e.map(mn):[mn(e)],ep=(e,t,n)=>{if(t._n)return t;const r=rt((...o)=>Aa(t(...o)),n);return r._c=!1,r},bu=(e,t,n)=>{const r=e._ctx;for(const o in e){if(Ea(o))continue;const a=e[o];if(Ne(a))t[o]=ep(o,a,r);else if(a!=null){const l=Aa(a);t[o]=()=>l}}},_u=(e,t)=>{const n=Aa(t);e.slots.default=()=>n},wu=(e,t,n)=>{for(const r in t)(n||!Ea(r))&&(e[r]=t[r])},tp=(e,t,n)=>{const r=e.slots=mu();if(e.vnode.shapeFlag&32){const o=t._;o?(wu(r,t,n),n&&Sl(r,"_",o,!0)):bu(t,r)}else t&&_u(e,t)},np=(e,t,n)=>{const{vnode:r,slots:o}=e;let a=!0,l=at;if(r.shapeFlag&32){const u=t._;u?n&&u===1?a=!1:wu(o,t,n):(a=!t.$stable,bu(t,o)),l=t}else t&&(_u(e,t),l={default:1});if(a)for(const u in o)!Ea(u)&&l[u]==null&&delete o[u]},Ut=yp;function rp(e){return sp(e)}function sp(e,t){const n=Do();n.__VUE__=!0;const{insert:r,remove:o,patchProp:a,createElement:l,createText:u,createComment:f,setText:m,setElementText:h,parentNode:g,nextSibling:v,setScopeId:x=vn,insertStaticContent:I}=e,N=(_,A,B,G=null,te=null,Z=null,fe=void 0,ue=null,ce=!!A.dynamicChildren)=>{if(_===A)return;_&&!ts(_,A)&&(G=J(_),ve(_,te,Z,!0),_=null),A.patchFlag===-2&&(ce=!1,A.dynamicChildren=null);const{type:ne,ref:Re,shapeFlag:pe}=A;switch(ne){case qo:Q(_,A,B,G);break;case wn:V(_,A,B,G);break;case Oi:_==null&&X(A,B,G,fe);break;case nt:Xe(_,A,B,G,te,Z,fe,ue,ce);break;default:pe&1?oe(_,A,B,G,te,Z,fe,ue,ce):pe&6?ze(_,A,B,G,te,Z,fe,ue,ce):(pe&64||pe&128)&&ne.process(_,A,B,G,te,Z,fe,ue,ce,ke)}Re!=null&&te?us(Re,_&&_.ref,Z,A||_,!A):Re==null&&_&&_.ref!=null&&us(_.ref,null,Z,_,!0)},Q=(_,A,B,G)=>{if(_==null)r(A.el=u(A.children),B,G);else{const te=A.el=_.el;A.children!==_.children&&m(te,A.children)}},V=(_,A,B,G)=>{_==null?r(A.el=f(A.children||""),B,G):A.el=_.el},X=(_,A,B,G)=>{[_.el,_.anchor]=I(_.children,A,B,G,_.el,_.anchor)},j=({el:_,anchor:A},B,G)=>{let te;for(;_&&_!==A;)te=v(_),r(_,B,G),_=te;r(A,B,G)},F=({el:_,anchor:A})=>{let B;for(;_&&_!==A;)B=v(_),o(_),_=B;o(A)},oe=(_,A,B,G,te,Z,fe,ue,ce)=>{A.type==="svg"?fe="svg":A.type==="math"&&(fe="mathml"),_==null?ge(A,B,G,te,Z,fe,ue,ce):Ce(_,A,te,Z,fe,ue,ce)},ge=(_,A,B,G,te,Z,fe,ue)=>{let ce,ne;const{props:Re,shapeFlag:pe,transition:Pe,dirs:De}=_;if(ce=_.el=l(_.type,Z,Re&&Re.is,Re),pe&8?h(ce,_.children):pe&16&&Se(_.children,ce,null,G,te,Pi(_,Z),fe,ue),De&&cr(_,null,G,"created"),Ae(ce,_,_.scopeId,fe,G),Re){for(const He in Re)He!=="value"&&!is(He)&&a(ce,He,null,Re[He],Z,G);"value"in Re&&a(ce,"value",null,Re.value,Z),(ne=Re.onVnodeBeforeMount)&&pn(ne,G,_)}De&&cr(_,null,G,"beforeMount");const je=op(te,Pe);je&&Pe.beforeEnter(ce),r(ce,A,B),((ne=Re&&Re.onVnodeMounted)||je||De)&&Ut(()=>{ne&&pn(ne,G,_),je&&Pe.enter(ce),De&&cr(_,null,G,"mounted")},te)},Ae=(_,A,B,G,te)=>{if(B&&x(_,B),G)for(let Z=0;Z<G.length;Z++)x(_,G[Z]);if(te){let Z=te.subTree;if(A===Z||Au(Z.type)&&(Z.ssContent===A||Z.ssFallback===A)){const fe=te.vnode;Ae(_,fe,fe.scopeId,fe.slotScopeIds,te.parent)}}},Se=(_,A,B,G,te,Z,fe,ue,ce=0)=>{for(let ne=ce;ne<_.length;ne++){const Re=_[ne]=ue?Qn(_[ne]):mn(_[ne]);N(null,Re,A,B,G,te,Z,fe,ue)}},Ce=(_,A,B,G,te,Z,fe)=>{const ue=A.el=_.el;let{patchFlag:ce,dynamicChildren:ne,dirs:Re}=A;ce|=_.patchFlag&16;const pe=_.props||at,Pe=A.props||at;let De;if(B&&lr(B,!1),(De=Pe.onVnodeBeforeUpdate)&&pn(De,B,A,_),Re&&cr(A,_,B,"beforeUpdate"),B&&lr(B,!0),(pe.innerHTML&&Pe.innerHTML==null||pe.textContent&&Pe.textContent==null)&&h(ue,""),ne?qe(_.dynamicChildren,ne,ue,B,G,Pi(A,te),Z):fe||Y(_,A,ue,null,B,G,Pi(A,te),Z,!1),ce>0){if(ce&16)ut(ue,pe,Pe,B,te);else if(ce&2&&pe.class!==Pe.class&&a(ue,"class",null,Pe.class,te),ce&4&&a(ue,"style",pe.style,Pe.style,te),ce&8){const je=A.dynamicProps;for(let He=0;He<je.length;He++){const Qe=je[He],_t=pe[Qe],xt=Pe[Qe];(xt!==_t||Qe==="value")&&a(ue,Qe,_t,xt,te,B)}}ce&1&&_.children!==A.children&&h(ue,A.children)}else!fe&&ne==null&&ut(ue,pe,Pe,B,te);((De=Pe.onVnodeUpdated)||Re)&&Ut(()=>{De&&pn(De,B,A,_),Re&&cr(A,_,B,"updated")},G)},qe=(_,A,B,G,te,Z,fe)=>{for(let ue=0;ue<A.length;ue++){const ce=_[ue],ne=A[ue],Re=ce.el&&(ce.type===nt||!ts(ce,ne)||ce.shapeFlag&198)?g(ce.el):B;N(ce,ne,Re,null,G,te,Z,fe,!0)}},ut=(_,A,B,G,te)=>{if(A!==B){if(A!==at)for(const Z in A)!is(Z)&&!(Z in B)&&a(_,Z,A[Z],null,te,G);for(const Z in B){if(is(Z))continue;const fe=B[Z],ue=A[Z];fe!==ue&&Z!=="value"&&a(_,Z,ue,fe,te,G)}"value"in B&&a(_,"value",A.value,B.value,te)}},Xe=(_,A,B,G,te,Z,fe,ue,ce)=>{const ne=A.el=_?_.el:u(""),Re=A.anchor=_?_.anchor:u("");let{patchFlag:pe,dynamicChildren:Pe,slotScopeIds:De}=A;De&&(ue=ue?ue.concat(De):De),_==null?(r(ne,B,G),r(Re,B,G),Se(A.children||[],B,Re,te,Z,fe,ue,ce)):pe>0&&pe&64&&Pe&&_.dynamicChildren?(qe(_.dynamicChildren,Pe,B,te,Z,fe,ue),(A.key!=null||te&&A===te.subTree)&&Ca(_,A,!0)):Y(_,A,B,Re,te,Z,fe,ue,ce)},ze=(_,A,B,G,te,Z,fe,ue,ce)=>{A.slotScopeIds=ue,_==null?A.shapeFlag&512?te.ctx.activate(A,B,G,fe,ce):wt(A,B,G,te,Z,fe,ce):it(_,A,ce)},wt=(_,A,B,G,te,Z,fe)=>{const ue=_.component=wp(_,G,te);if(au(_)&&(ue.ctx.renderer=ke),xp(ue,!1,fe),ue.asyncDep){if(te&&te.registerDep(ue,Fe,fe),!_.el){const ce=ue.subTree=Ke(wn);V(null,ce,A,B),_.placeholder=ce.el}}else Fe(ue,_,A,B,te,Z,fe)},it=(_,A,B)=>{const G=A.component=_.component;if(hp(_,A,B))if(G.asyncDep&&!G.asyncResolved){Oe(G,A,B);return}else G.next=A,G.update();else A.el=_.el,G.vnode=A},Fe=(_,A,B,G,te,Z,fe)=>{const ue=()=>{if(_.isMounted){let{next:pe,bu:Pe,u:De,parent:je,vnode:He}=_;{const kt=xu(_);if(kt){pe&&(pe.el=He.el,Oe(_,pe,fe)),kt.asyncDep.then(()=>{_.isUnmounted||ue()});return}}let Qe=pe,_t;lr(_,!1),pe?(pe.el=He.el,Oe(_,pe,fe)):pe=He,Pe&&uo(Pe),(_t=pe.props&&pe.props.onVnodeBeforeUpdate)&&pn(_t,je,pe,He),lr(_,!0);const xt=Pc(_),jt=_.subTree;_.subTree=xt,N(jt,xt,g(jt.el),J(jt),_,te,Z),pe.el=xt.el,Qe===null&&mp(_,xt.el),De&&Ut(De,te),(_t=pe.props&&pe.props.onVnodeUpdated)&&Ut(()=>pn(_t,je,pe,He),te)}else{let pe;const{el:Pe,props:De}=A,{bm:je,m:He,parent:Qe,root:_t,type:xt}=_,jt=Br(A);lr(_,!1),je&&uo(je),!jt&&(pe=De&&De.onVnodeBeforeMount)&&pn(pe,Qe,A),lr(_,!0);{_t.ce&&_t.ce._def.shadowRoot!==!1&&_t.ce._injectChildStyle(xt);const kt=_.subTree=Pc(_);N(null,kt,B,G,_,te,Z),A.el=kt.el}if(He&&Ut(He,te),!jt&&(pe=De&&De.onVnodeMounted)){const kt=A;Ut(()=>pn(pe,Qe,kt),te)}(A.shapeFlag&256||Qe&&Br(Qe.vnode)&&Qe.vnode.shapeFlag&256)&&_.a&&Ut(_.a,te),_.isMounted=!0,A=B=G=null}};_.scope.on();const ce=_.effect=new $l(ue);_.scope.off();const ne=_.update=ce.run.bind(ce),Re=_.job=ce.runIfDirty.bind(ce);Re.i=_,Re.id=_.uid,ce.scheduler=()=>xa(Re),lr(_,!0),ne()},Oe=(_,A,B)=>{A.component=_;const G=_.vnode.props;_.vnode=A,_.next=null,Xf(_,A.props,G,B),np(_,A.children,B),Dn(),vc(_),$n()},Y=(_,A,B,G,te,Z,fe,ue,ce=!1)=>{const ne=_&&_.children,Re=_?_.shapeFlag:0,pe=A.children,{patchFlag:Pe,shapeFlag:De}=A;if(Pe>0){if(Pe&128){L(ne,pe,B,G,te,Z,fe,ue,ce);return}else if(Pe&256){H(ne,pe,B,G,te,Z,fe,ue,ce);return}}De&8?(Re&16&&pt(ne,te,Z),pe!==ne&&h(B,pe)):Re&16?De&16?L(ne,pe,B,G,te,Z,fe,ue,ce):pt(ne,te,Z,!0):(Re&8&&h(B,""),De&16&&Se(pe,B,G,te,Z,fe,ue,ce))},H=(_,A,B,G,te,Z,fe,ue,ce)=>{_=_||Tr,A=A||Tr;const ne=_.length,Re=A.length,pe=Math.min(ne,Re);let Pe;for(Pe=0;Pe<pe;Pe++){const De=A[Pe]=ce?Qn(A[Pe]):mn(A[Pe]);N(_[Pe],De,B,null,te,Z,fe,ue,ce)}ne>Re?pt(_,te,Z,!0,!1,pe):Se(A,B,G,te,Z,fe,ue,ce,pe)},L=(_,A,B,G,te,Z,fe,ue,ce)=>{let ne=0;const Re=A.length;let pe=_.length-1,Pe=Re-1;for(;ne<=pe&&ne<=Pe;){const De=_[ne],je=A[ne]=ce?Qn(A[ne]):mn(A[ne]);if(ts(De,je))N(De,je,B,null,te,Z,fe,ue,ce);else break;ne++}for(;ne<=pe&&ne<=Pe;){const De=_[pe],je=A[Pe]=ce?Qn(A[Pe]):mn(A[Pe]);if(ts(De,je))N(De,je,B,null,te,Z,fe,ue,ce);else break;pe--,Pe--}if(ne>pe){if(ne<=Pe){const De=Pe+1,je=De<Re?A[De].el:G;for(;ne<=Pe;)N(null,A[ne]=ce?Qn(A[ne]):mn(A[ne]),B,je,te,Z,fe,ue,ce),ne++}}else if(ne>Pe)for(;ne<=pe;)ve(_[ne],te,Z,!0),ne++;else{const De=ne,je=ne,He=new Map;for(ne=je;ne<=Pe;ne++){const ht=A[ne]=ce?Qn(A[ne]):mn(A[ne]);ht.key!=null&&He.set(ht.key,ne)}let Qe,_t=0;const xt=Pe-je+1;let jt=!1,kt=0;const ln=new Array(xt);for(ne=0;ne<xt;ne++)ln[ne]=0;for(ne=De;ne<=pe;ne++){const ht=_[ne];if(_t>=xt){ve(ht,te,Z,!0);continue}let _e;if(ht.key!=null)_e=He.get(ht.key);else for(Qe=je;Qe<=Pe;Qe++)if(ln[Qe-je]===0&&ts(ht,A[Qe])){_e=Qe;break}_e===void 0?ve(ht,te,Z,!0):(ln[_e-je]=ne+1,_e>=kt?kt=_e:jt=!0,N(ht,A[_e],B,null,te,Z,fe,ue,ce),_t++)}const _r=jt?ip(ln):Tr;for(Qe=_r.length-1,ne=xt-1;ne>=0;ne--){const ht=je+ne,_e=A[ht],Bn=A[ht+1],un=ht+1<Re?Bn.el||Bn.placeholder:G;ln[ne]===0?N(null,_e,B,un,te,Z,fe,ue,ce):jt&&(Qe<0||ne!==_r[Qe]?Ie(_e,B,un,2):Qe--)}}},Ie=(_,A,B,G,te=null)=>{const{el:Z,type:fe,transition:ue,children:ce,shapeFlag:ne}=_;if(ne&6){Ie(_.component.subTree,A,B,G);return}if(ne&128){_.suspense.move(A,B,G);return}if(ne&64){fe.move(_,A,B,ke);return}if(fe===nt){r(Z,A,B);for(let pe=0;pe<ce.length;pe++)Ie(ce[pe],A,B,G);r(_.anchor,A,B);return}if(fe===Oi){j(_,A,B);return}if(G!==2&&ne&1&&ue)if(G===0)ue.beforeEnter(Z),r(Z,A,B),Ut(()=>ue.enter(Z),te);else{const{leave:pe,delayLeave:Pe,afterLeave:De}=ue,je=()=>{_.ctx.isUnmounted?o(Z):r(Z,A,B)},He=()=>{Z._isLeaving&&Z[Sf](!0),pe(Z,()=>{je(),De&&De()})};Pe?Pe(Z,je,He):He()}else r(Z,A,B)},ve=(_,A,B,G=!1,te=!1)=>{const{type:Z,props:fe,ref:ue,children:ce,dynamicChildren:ne,shapeFlag:Re,patchFlag:pe,dirs:Pe,cacheIndex:De}=_;if(pe===-2&&(te=!1),ue!=null&&(Dn(),us(ue,null,B,_,!0),$n()),De!=null&&(A.renderCache[De]=void 0),Re&256){A.ctx.deactivate(_);return}const je=Re&1&&Pe,He=!Br(_);let Qe;if(He&&(Qe=fe&&fe.onVnodeBeforeUnmount)&&pn(Qe,A,_),Re&6)Nt(_.component,B,G);else{if(Re&128){_.suspense.unmount(B,G);return}je&&cr(_,null,A,"beforeUnmount"),Re&64?_.type.remove(_,A,B,ke,G):ne&&!ne.hasOnce&&(Z!==nt||pe>0&&pe&64)?pt(ne,A,B,!1,!0):(Z===nt&&pe&384||!te&&Re&16)&&pt(ce,A,B),G&&Ve(_)}(He&&(Qe=fe&&fe.onVnodeUnmounted)||je)&&Ut(()=>{Qe&&pn(Qe,A,_),je&&cr(_,null,A,"unmounted")},B)},Ve=_=>{const{type:A,el:B,anchor:G,transition:te}=_;if(A===nt){Ht(B,G);return}if(A===Oi){F(_);return}const Z=()=>{o(B),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if(_.shapeFlag&1&&te&&!te.persisted){const{leave:fe,delayLeave:ue}=te,ce=()=>fe(B,Z);ue?ue(_.el,Z,ce):ce()}else Z()},Ht=(_,A)=>{let B;for(;_!==A;)B=v(_),o(_),_=B;o(A)},Nt=(_,A,B)=>{const{bum:G,scope:te,job:Z,subTree:fe,um:ue,m:ce,a:ne}=_;Ic(ce),Ic(ne),G&&uo(G),te.stop(),Z&&(Z.flags|=8,ve(fe,_,A,B)),ue&&Ut(ue,A),Ut(()=>{_.isUnmounted=!0},A)},pt=(_,A,B,G=!1,te=!1,Z=0)=>{for(let fe=Z;fe<_.length;fe++)ve(_[fe],A,B,G,te)},J=_=>{if(_.shapeFlag&6)return J(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const A=v(_.anchor||_.el),B=A&&A[ru];return B?v(B):A};let be=!1;const W=(_,A,B)=>{_==null?A._vnode&&ve(A._vnode,null,null,!0):N(A._vnode||null,_,A,null,null,null,B),A._vnode=_,be||(be=!0,vc(),eu(),be=!1)},ke={p:N,um:ve,m:Ie,r:Ve,mt:wt,mc:Se,pc:Y,pbc:qe,n:J,o:e};return{render:W,hydrate:void 0,createApp:Yf(W)}}function Pi({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function lr({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function op(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ca(e,t,n=!1){const r=e.children,o=t.children;if(Te(r)&&Te(o))for(let a=0;a<r.length;a++){const l=r[a];let u=o[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=o[a]=Qn(o[a]),u.el=l.el),!n&&u.patchFlag!==-2&&Ca(l,u)),u.type===qo&&u.patchFlag!==-1&&(u.el=l.el),u.type===wn&&!u.el&&(u.el=l.el)}}function ip(e){const t=e.slice(),n=[0];let r,o,a,l,u;const f=e.length;for(r=0;r<f;r++){const m=e[r];if(m!==0){if(o=n[n.length-1],e[o]<m){t[r]=o,n.push(r);continue}for(a=0,l=n.length-1;a<l;)u=a+l>>1,e[n[u]]<m?a=u+1:l=u;m<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,l=n[a-1];a-- >0;)n[a]=l,l=t[l];return n}function xu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:xu(t)}function Ic(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ap=Symbol.for("v-scx"),cp=()=>Xt(ap);function qr(e,t){return Sa(e,null,t)}function Zt(e,t,n){return Sa(e,t,n)}function Sa(e,t,n=at){const{immediate:r,deep:o,flush:a,once:l}=n,u=Bt({},n),f=t&&r||!t&&a!=="post";let m;if(ks){if(a==="sync"){const x=cp();m=x.__watcherHandles||(x.__watcherHandles=[])}else if(!f){const x=()=>{};return x.stop=vn,x.resume=vn,x.pause=vn,x}}const h=Mt;u.call=(x,I,N)=>_n(x,h,I,N);let g=!1;a==="post"?u.scheduler=x=>{Ut(x,h&&h.suspense)}:a!=="sync"&&(g=!0,u.scheduler=(x,I)=>{I?x():xa(x)}),u.augmentJob=x=>{t&&(x.flags|=4),g&&(x.flags|=2,h&&(x.id=h.uid,x.i=h))};const v=_f(e,t,u);return ks&&(m?m.push(v):f&&v()),v}function lp(e,t,n){const r=this.proxy,o=yt(e)?e.includes(".")?ku(r,e):()=>r[e]:e.bind(r,r);let a;Ne(t)?a=t:(a=t.handler,n=t);const l=Is(this),u=Sa(o,a.bind(r),n);return l(),u}function ku(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}const up=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${en(t)}Modifiers`]||e[`${gr(t)}Modifiers`];function dp(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||at;let o=n;const a=t.startsWith("update:"),l=a&&up(r,t.slice(7));l&&(l.trim&&(o=n.map(h=>yt(h)?h.trim():h)),l.number&&(o=n.map(yo)));let u,f=r[u=lo(t)]||r[u=lo(en(t))];!f&&a&&(f=r[u=lo(gr(t))]),f&&_n(f,e,6,o);const m=r[u+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,_n(m,e,6,o)}}function Eu(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const a=e.emits;let l={},u=!1;if(!Ne(e)){const f=m=>{const h=Eu(m,t,!0);h&&(u=!0,Bt(l,h))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!a&&!u?(lt(e)&&r.set(e,null),null):(Te(a)?a.forEach(f=>l[f]=null):Bt(l,a),lt(e)&&r.set(e,l),l)}function Lo(e,t){return!e||!Io(t)?!1:(t=t.slice(2).replace(/Once$/,""),et(e,t[0].toLowerCase()+t.slice(1))||et(e,gr(t))||et(e,t))}function Pc(e){const{type:t,vnode:n,proxy:r,withProxy:o,propsOptions:[a],slots:l,attrs:u,emit:f,render:m,renderCache:h,props:g,data:v,setupState:x,ctx:I,inheritAttrs:N}=e,Q=wo(e);let V,X;try{if(n.shapeFlag&4){const F=o||r,oe=F;V=mn(m.call(oe,F,h,g,x,v,I)),X=u}else{const F=t;V=mn(F.length>1?F(g,{attrs:u,slots:l,emit:f}):F(g,null)),X=t.props?u:fp(u)}}catch(F){ps.length=0,Mo(F,e,1),V=Ke(wn)}let j=V;if(X&&N!==!1){const F=Object.keys(X),{shapeFlag:oe}=j;F.length&&oe&7&&(a&&F.some(la)&&(X=pp(X,a)),j=yr(j,X,!1,!0))}return n.dirs&&(j=yr(j,null,!1,!0),j.dirs=j.dirs?j.dirs.concat(n.dirs):n.dirs),n.transition&&ka(j,n.transition),V=j,wo(Q),V}const fp=e=>{let t;for(const n in e)(n==="class"||n==="style"||Io(n))&&((t||(t={}))[n]=e[n]);return t},pp=(e,t)=>{const n={};for(const r in e)(!la(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function hp(e,t,n){const{props:r,children:o,component:a}=e,{props:l,children:u,patchFlag:f}=t,m=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?Oc(r,l,m):!!l;if(f&8){const h=t.dynamicProps;for(let g=0;g<h.length;g++){const v=h[g];if(l[v]!==r[v]&&!Lo(m,v))return!0}}}else return(o||u)&&(!u||!u.$stable)?!0:r===l?!1:r?l?Oc(r,l,m):!0:!!l;return!1}function Oc(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const a=r[o];if(t[a]!==e[a]&&!Lo(n,a))return!0}return!1}function mp({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Au=e=>e.__isSuspense;function yp(e,t){t&&t.pendingBranch?Te(e)?t.effects.push(...e):t.effects.push(e):kf(e)}const nt=Symbol.for("v-fgt"),qo=Symbol.for("v-txt"),wn=Symbol.for("v-cmt"),Oi=Symbol.for("v-stc"),ps=[];let Jt=null;function U(e=!1){ps.push(Jt=e?null:[])}function gp(){ps.pop(),Jt=ps[ps.length-1]||null}let ws=1;function Rc(e,t=!1){ws+=e,e<0&&Jt&&t&&(Jt.hasOnce=!0)}function Cu(e){return e.dynamicChildren=ws>0?Jt||Tr:null,gp(),ws>0&&Jt&&Jt.push(e),e}function ee(e,t,n,r,o,a){return Cu(w(e,t,n,r,o,a,!0))}function St(e,t,n,r,o){return Cu(Ke(e,t,n,r,o,!0))}function xs(e){return e?e.__v_isVNode===!0:!1}function ts(e,t){return e.type===t.type&&e.key===t.key}const Su=({key:e})=>e??null,po=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?yt(e)||bt(e)||Ne(e)?{i:Ot,r:e,k:t,f:!!n}:e:null);function w(e,t=null,n=null,r=0,o=null,a=e===nt?0:1,l=!1,u=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Su(t),ref:t&&po(t),scopeId:nu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Ot};return u?(Ia(f,n),a&128&&e.normalize(f)):n&&(f.shapeFlag|=yt(n)?8:16),ws>0&&!l&&Jt&&(f.patchFlag>0||a&6)&&f.patchFlag!==32&&Jt.push(f),f}const Ke=vp;function vp(e,t=null,n=null,r=0,o=null,a=!1){if((!e||e===Lf)&&(e=wn),xs(e)){const u=yr(e,t,!0);return n&&Ia(u,n),ws>0&&!a&&Jt&&(u.shapeFlag&6?Jt[Jt.indexOf(e)]=u:Jt.push(u)),u.patchFlag=-2,u}if(Sp(e)&&(e=e.__vccOpts),t){t=Iu(t);let{class:u,style:f}=t;u&&!yt(u)&&(t.class=Ct(u)),lt(f)&&(ba(f)&&!Te(f)&&(f=Bt({},f)),t.style=Vr(f))}const l=yt(e)?1:Au(e)?128:Ef(e)?64:lt(e)?4:Ne(e)?2:0;return w(e,t,n,r,o,l,a,!0)}function Iu(e){return e?ba(e)||yu(e)?Bt({},e):e:null}function yr(e,t,n=!1,r=!1){const{props:o,ref:a,patchFlag:l,children:u,transition:f}=e,m=t?xn(o||{},t):o,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:m,key:m&&Su(m),ref:t&&t.ref?n&&a?Te(a)?a.concat(po(t)):[a,po(t)]:po(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==nt?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:f,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&yr(e.ssContent),ssFallback:e.ssFallback&&yr(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return f&&r&&ka(h,f.clone(h)),h}function zt(e=" ",t=0){return Ke(qo,null,e,t)}function $e(e="",t=!1){return t?(U(),St(wn,null,e)):Ke(wn,null,e)}function mn(e){return e==null||typeof e=="boolean"?Ke(wn):Te(e)?Ke(nt,null,e.slice()):xs(e)?Qn(e):Ke(qo,null,String(e))}function Qn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:yr(e)}function Ia(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Te(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),Ia(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!yu(t)?t._ctx=Ot:o===3&&Ot&&(Ot.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ne(t)?(t={default:t,_ctx:Ot},n=32):(t=String(t),r&64?(n=16,t=[zt(t)]):n=8);e.children=t,e.shapeFlag|=n}function xn(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=Ct([t.class,r.class]));else if(o==="style")t.style=Vr([t.style,r.style]);else if(Io(o)){const a=t[o],l=r[o];l&&a!==l&&!(Te(a)&&a.includes(l))&&(t[o]=a?[].concat(a,l):l)}else o!==""&&(t[o]=r[o])}return t}function pn(e,t,n,r=null){_n(e,t,7,[n,r])}const bp=pu();let _p=0;function wp(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||bp,a={uid:_p++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Rl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vu(r,o),emitsOptions:Eu(r,o),emit:null,emitted:null,propsDefaults:at,inheritAttrs:r.inheritAttrs,ctx:at,data:at,props:at,attrs:at,slots:at,refs:at,setupState:at,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=dp.bind(null,a),e.ce&&e.ce(a),a}let Mt=null;const Fn=()=>Mt||Ot;let ko,Ji;{const e=Do(),t=(n,r)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(r),a=>{o.length>1?o.forEach(l=>l(a)):o[0](a)}};ko=t("__VUE_INSTANCE_SETTERS__",n=>Mt=n),Ji=t("__VUE_SSR_SETTERS__",n=>ks=n)}const Is=e=>{const t=Mt;return ko(e),e.scope.on(),()=>{e.scope.off(),ko(t)}},Dc=()=>{Mt&&Mt.scope.off(),ko(null)};function Pu(e){return e.vnode.shapeFlag&4}let ks=!1;function xp(e,t=!1,n=!1){t&&Ji(t);const{props:r,children:o}=e.vnode,a=Pu(e);Jf(e,r,a,t),tp(e,o,n||t);const l=a?kp(e,t):void 0;return t&&Ji(!1),l}function kp(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Uf);const{setup:r}=n;if(r){Dn();const o=e.setupContext=r.length>1?Ap(e):null,a=Is(e),l=Ss(r,e,0,[e.props,o]),u=El(l);if($n(),a(),(u||e.sp)&&!Br(e)&&iu(e),u){if(l.then(Dc,Dc),t)return l.then(f=>{$c(e,f)}).catch(f=>{Mo(f,e,0)});e.asyncDep=l}else $c(e,l)}else Ou(e)}function $c(e,t,n){Ne(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:lt(t)&&(e.setupState=Jl(t)),Ou(e)}function Ou(e,t,n){const r=e.type;e.render||(e.render=r.render||vn);{const o=Is(e);Dn();try{Kf(e)}finally{$n(),o()}}}const Ep={get(e,t){return Ft(e,"get",""),e[t]}};function Ap(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Ep),slots:e.slots,emit:e.emit,expose:t}}function Uo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Jl(_a(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ds)return ds[n](e)},has(t,n){return n in t||n in ds}})):e.proxy}function Cp(e,t=!0){return Ne(e)?e.displayName||e.name:e.name||t&&e.__name}function Sp(e){return Ne(e)&&"__vccOpts"in e}const st=(e,t)=>vf(e,t,ks);function Nr(e,t,n){const r=arguments.length;return r===2?lt(t)&&!Te(t)?xs(t)?Ke(e,null,[t]):Ke(e,t):Ke(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&xs(n)&&(n=[n]),Ke(e,t,n))}const Ip="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xi;const Tc=typeof window<"u"&&window.trustedTypes;if(Tc)try{Xi=Tc.createPolicy("vue",{createHTML:e=>e})}catch{}const Ru=Xi?e=>Xi.createHTML(e):e=>e,Pp="http://www.w3.org/2000/svg",Op="http://www.w3.org/1998/Math/MathML",Pn=typeof document<"u"?document:null,Fc=Pn&&Pn.createElement("template"),Rp={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t==="svg"?Pn.createElementNS(Pp,e):t==="mathml"?Pn.createElementNS(Op,e):n?Pn.createElement(e,{is:n}):Pn.createElement(e);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>Pn.createTextNode(e),createComment:e=>Pn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Pn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,a){const l=n?n.previousSibling:t.lastChild;if(o&&(o===a||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===a||!(o=o.nextSibling)););else{Fc.innerHTML=Ru(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const u=Fc.content;if(r==="svg"||r==="mathml"){const f=u.firstChild;for(;f.firstChild;)u.appendChild(f.firstChild);u.removeChild(f)}t.insertBefore(u,n)}return[l?l.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Dp=Symbol("_vtc");function $p(e,t,n){const r=e[Dp];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Eo=Symbol("_vod"),Du=Symbol("_vsh"),Tp={name:"show",beforeMount(e,{value:t},{transition:n}){e[Eo]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ns(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),ns(e,!0),r.enter(e)):r.leave(e,()=>{ns(e,!1)}):ns(e,t))},beforeUnmount(e,{value:t}){ns(e,t)}};function ns(e,t){e.style.display=t?e[Eo]:"none",e[Du]=!t}const Fp=Symbol(""),Mp=/(^|;)\s*display\s*:/;function Bp(e,t,n){const r=e.style,o=yt(n);let a=!1;if(n&&!o){if(t)if(yt(t))for(const l of t.split(";")){const u=l.slice(0,l.indexOf(":")).trim();n[u]==null&&ho(r,u,"")}else for(const l in t)n[l]==null&&ho(r,l,"");for(const l in n)l==="display"&&(a=!0),ho(r,l,n[l])}else if(o){if(t!==n){const l=r[Fp];l&&(n+=";"+l),r.cssText=n,a=Mp.test(n)}}else t&&e.removeAttribute("style");Eo in e&&(e[Eo]=a?r.display:"",e[Du]&&(r.display="none"))}const Mc=/\s*!important$/;function ho(e,t,n){if(Te(n))n.forEach(r=>ho(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Np(e,t);Mc.test(n)?e.setProperty(gr(r),n.replace(Mc,""),"important"):e[r]=n}}const Bc=["Webkit","Moz","ms"],Ri={};function Np(e,t){const n=Ri[t];if(n)return n;let r=en(t);if(r!=="filter"&&r in e)return Ri[t]=r;r=Ro(r);for(let o=0;o<Bc.length;o++){const a=Bc[o]+r;if(a in e)return Ri[t]=a}return t}const Nc="http://www.w3.org/1999/xlink";function jc(e,t,n,r,o,a=Vd(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Nc,t.slice(6,t.length)):e.setAttributeNS(Nc,t,n):n==null||a&&!Il(n)?e.removeAttribute(t):e.setAttribute(t,a?"":on(n)?String(n):n)}function Lc(e,t,n,r,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Ru(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?e.getAttribute("value")||"":e.value,f=n==null?e.type==="checkbox"?"on":"":String(n);(u!==f||!("_value"in e))&&(e.value=f),n==null&&e.removeAttribute(t),e._value=n;return}let l=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=Il(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(o||t)}function fr(e,t,n,r){e.addEventListener(t,n,r)}function jp(e,t,n,r){e.removeEventListener(t,n,r)}const qc=Symbol("_vei");function Lp(e,t,n,r,o=null){const a=e[qc]||(e[qc]={}),l=a[t];if(r&&l)l.value=r;else{const[u,f]=qp(t);if(r){const m=a[t]=Vp(r,o);fr(e,u,m,f)}else l&&(jp(e,u,l,f),a[t]=void 0)}}const Uc=/(?:Once|Passive|Capture)$/;function qp(e){let t;if(Uc.test(e)){t={};let r;for(;r=e.match(Uc);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):gr(e.slice(2)),t]}let Di=0;const Up=Promise.resolve(),Kp=()=>Di||(Up.then(()=>Di=0),Di=Date.now());function Vp(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;_n(Hp(r,n.value),t,5,[r])};return n.value=e,n.attached=Kp(),n}function Hp(e,t){if(Te(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const Kc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Wp=(e,t,n,r,o,a)=>{const l=o==="svg";t==="class"?$p(e,r,l):t==="style"?Bp(e,n,r):Io(t)?la(t)||Lp(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):zp(e,t,r,l))?(Lc(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&jc(e,t,r,l,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!yt(r))?Lc(e,en(t),r,a,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),jc(e,t,r,l))};function zp(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Kc(t)&&Ne(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Kc(t)&&yt(n)?!1:t in e}const Ao=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Te(t)?n=>uo(t,n):t};function Qp(e){e.target.composing=!0}function Vc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const jr=Symbol("_assign"),Zi={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e[jr]=Ao(o);const a=r||o.props&&o.props.type==="number";fr(e,t?"change":"input",l=>{if(l.target.composing)return;let u=e.value;n&&(u=u.trim()),a&&(u=yo(u)),e[jr](u)}),n&&fr(e,"change",()=>{e.value=e.value.trim()}),t||(fr(e,"compositionstart",Qp),fr(e,"compositionend",Vc),fr(e,"change",Vc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:o,number:a}},l){if(e[jr]=Ao(l),e.composing)return;const u=(a||e.type==="number")&&!/^0\d/.test(e.value)?yo(e.value):e.value,f=t??"";u!==f&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||o&&e.value.trim()===f)||(e.value=f))}},Yp={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=Po(t);fr(e,"change",()=>{const a=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>n?yo(Co(l)):Co(l));e[jr](e.multiple?o?new Set(a):a:a[0]),e._assigning=!0,an(()=>{e._assigning=!1})}),e[jr]=Ao(r)},mounted(e,{value:t}){Hc(e,t)},beforeUpdate(e,t,n){e[jr]=Ao(n)},updated(e,{value:t}){e._assigning||Hc(e,t)}};function Hc(e,t){const n=e.multiple,r=Te(t);if(!(n&&!r&&!Po(t))){for(let o=0,a=e.options.length;o<a;o++){const l=e.options[o],u=Co(l);if(n)if(r){const f=typeof u;f==="string"||f==="number"?l.selected=t.some(m=>String(m)===String(u)):l.selected=Wd(t,u)>-1}else l.selected=t.has(u);else if($o(Co(l),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Co(e){return"_value"in e?e._value:e.value}const Gp=Bt({patchProp:Wp},Rp);let Wc;function Jp(){return Wc||(Wc=rp(Gp))}const Xp=((...e)=>{const t=Jp().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=eh(r);if(!o)return;const a=t._component;!Ne(a)&&!a.render&&!a.template&&(a.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const l=n(o,!1,Zp(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),l},t});function Zp(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function eh(e){return yt(e)?document.querySelector(e):e}const th="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201024%201024'%20width='1024'%20height='1024'%3e%3cdefs%3e%3clinearGradient%20id='bgGrad'%20x1='0'%20y1='0'%20x2='1'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23137ef2'/%3e%3cstop%20offset='100%25'%20stop-color='%235cb5f9'/%3e%3c/linearGradient%3e%3c!--%20Subtle%20soft%20shadow%20for%20floating%20cards%20--%3e%3cfilter%20id='softShadow'%20x='-20%25'%20y='-20%25'%20width='140%25'%20height='140%25'%3e%3cfeDropShadow%20dx='0'%20dy='14'%20stdDeviation='18'%20flood-color='%23000000'%20flood-opacity='0.22'/%3e%3c/filter%3e%3cfilter%20id='pageShadow'%20x='-20%25'%20y='-20%25'%20width='140%25'%20height='140%25'%3e%3cfeDropShadow%20dx='0'%20dy='10'%20stdDeviation='12'%20flood-color='%23000000'%20flood-opacity='0.18'/%3e%3c/filter%3e%3cfilter%20id='coinShadow'%20x='-20%25'%20y='-20%25'%20width='140%25'%20height='140%25'%3e%3cfeDropShadow%20dx='0'%20dy='10'%20stdDeviation='10'%20flood-color='%23000000'%20flood-opacity='0.25'/%3e%3c/filter%3e%3clinearGradient%20id='coinGrad'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23ffc02e'/%3e%3cstop%20offset='100%25'%20stop-color='%23ffaa19'/%3e%3c/linearGradient%3e%3clinearGradient%20id='coinRingGrad'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23FFC83A'/%3e%3cstop%20offset='100%25'%20stop-color='%23E59200'/%3e%3c/linearGradient%3e%3c/defs%3e%3c!--%20Rounded%20square%20background%20--%3e%3crect%20x='72'%20y='72'%20width='880'%20height='880'%20rx='220'%20fill='url(%23bgGrad)'/%3e%3c!--%20Back%20pages%20(slightly%20tilted)%20--%3e%3cg%20filter='url(%23softShadow)'%3e%3crect%20x='340'%20y='210'%20width='460'%20height='560'%20rx='42'%20fill='%23DDEBFF'%20opacity='0.9'%20transform='rotate(18%20750%20480)'/%3e%3crect%20x='300'%20y='230'%20width='470'%20height='560'%20rx='46'%20fill='%23EAF3FF'%20opacity='0.95'%20transform='rotate(12%20715%20490)'/%3e%3c/g%3e%3c!--%20Main%20notebook%20page%20--%3e%3cg%20filter='url(%23pageShadow)'%3e%3crect%20id='page'%20x='260'%20y='240'%20width='520'%20height='560'%20rx='54'%20fill='%23FFFFFF'/%3e%3c!--%20Inner%20card%20area%20--%3e%3crect%20x='356'%20y='322'%20width='330'%20height='420'%20rx='34'%20fill='%23EDEFF2'/%3e%3c/g%3e%3c!--%20Binder%20rings%20--%3e%3cg%3e%3ccircle%20cx='260'%20cy='360'%20r='34'%20fill='%232B2F38'/%3e%3ccircle%20cx='260'%20cy='520'%20r='34'%20fill='%232B2F38'/%3e%3ccircle%20cx='260'%20cy='680'%20r='34'%20fill='%232B2F38'/%3e%3c!--%20little%20highlights%20--%3e%3ccircle%20cx='248'%20cy='350'%20r='10'%20fill='%23FFFFFF'%20opacity='0.35'/%3e%3ccircle%20cx='248'%20cy='510'%20r='10'%20fill='%23FFFFFF'%20opacity='0.35'/%3e%3ccircle%20cx='248'%20cy='670'%20r='10'%20fill='%23FFFFFF'%20opacity='0.35'/%3e%3c/g%3e%3c!--%20Gold%20checkmark%20coin%20--%3e%3cg%20filter='url(%23coinShadow)'%3e%3c!--%20ring%20--%3e%3ccircle%20cx='690'%20cy='680'%20r='148'%20fill='url(%23coinRingGrad)'/%3e%3ccircle%20cx='690'%20cy='680'%20r='112'%20fill='url(%23coinGrad)'/%3e%3c!--%20check%20--%3e%3cg%20transform='translate(10,60)'%3e%3cpath%20d='M635%20683%20l-36%20-36%20a18%2018%200%200%201%2025%20-25%20l25%2025%2072%20-72%20a18%2018%200%201%201%2025%2025%20l-84%2084%20a18%2018%200%200%201%20-27%200z'%20fill='%23FFFFFF'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e";/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const $r=typeof document<"u";function $u(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function nh(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&$u(e.default)}const Ze=Object.assign;function $i(e,t){const n={};for(const r in t){const o=t[r];n[r]=cn(o)?o.map(e):e(o)}return n}const hs=()=>{},cn=Array.isArray,Tu=/#/g,rh=/&/g,sh=/\//g,oh=/=/g,ih=/\?/g,Fu=/\+/g,ah=/%5B/g,ch=/%5D/g,Mu=/%5E/g,lh=/%60/g,Bu=/%7B/g,uh=/%7C/g,Nu=/%7D/g,dh=/%20/g;function Pa(e){return encodeURI(""+e).replace(uh,"|").replace(ah,"[").replace(ch,"]")}function fh(e){return Pa(e).replace(Bu,"{").replace(Nu,"}").replace(Mu,"^")}function ea(e){return Pa(e).replace(Fu,"%2B").replace(dh,"+").replace(Tu,"%23").replace(rh,"%26").replace(lh,"`").replace(Bu,"{").replace(Nu,"}").replace(Mu,"^")}function ph(e){return ea(e).replace(oh,"%3D")}function hh(e){return Pa(e).replace(Tu,"%23").replace(ih,"%3F")}function mh(e){return e==null?"":hh(e).replace(sh,"%2F")}function Es(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const yh=/\/$/,gh=e=>e.replace(yh,"");function Ti(e,t,n="/"){let r,o={},a="",l="";const u=t.indexOf("#");let f=t.indexOf("?");return u<f&&u>=0&&(f=-1),f>-1&&(r=t.slice(0,f),a=t.slice(f+1,u>-1?u:t.length),o=e(a)),u>-1&&(r=r||t.slice(0,u),l=t.slice(u,t.length)),r=wh(r??t,n),{fullPath:r+(a&&"?")+a+l,path:r,query:o,hash:Es(l)}}function vh(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function zc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function bh(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&Ur(t.matched[r],n.matched[o])&&ju(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ur(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ju(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!_h(e[n],t[n]))return!1;return!0}function _h(e,t){return cn(e)?Qc(e,t):cn(t)?Qc(t,e):e===t}function Qc(e,t){return cn(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function wh(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let a=n.length-1,l,u;for(l=0;l<r.length;l++)if(u=r[l],u!==".")if(u==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+r.slice(l).join("/")}const Vn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var As;(function(e){e.pop="pop",e.push="push"})(As||(As={}));var ms;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ms||(ms={}));function xh(e){if(!e)if($r){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),gh(e)}const kh=/^[^#]+#/;function Eh(e,t){return e.replace(kh,"#")+t}function Ah(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Ko=()=>({left:window.scrollX,top:window.scrollY});function Ch(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=Ah(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Yc(e,t){return(history.state?history.state.position-t:-1)+e}const ta=new Map;function Sh(e,t){ta.set(e,t)}function Ih(e){const t=ta.get(e);return ta.delete(e),t}let Ph=()=>location.protocol+"//"+location.host;function Lu(e,t){const{pathname:n,search:r,hash:o}=t,a=e.indexOf("#");if(a>-1){let u=o.includes(e.slice(a))?e.slice(a).length:1,f=o.slice(u);return f[0]!=="/"&&(f="/"+f),zc(f,"")}return zc(n,e)+r+o}function Oh(e,t,n,r){let o=[],a=[],l=null;const u=({state:v})=>{const x=Lu(e,location),I=n.value,N=t.value;let Q=0;if(v){if(n.value=x,t.value=v,l&&l===I){l=null;return}Q=N?v.position-N.position:0}else r(x);o.forEach(V=>{V(n.value,I,{delta:Q,type:As.pop,direction:Q?Q>0?ms.forward:ms.back:ms.unknown})})};function f(){l=n.value}function m(v){o.push(v);const x=()=>{const I=o.indexOf(v);I>-1&&o.splice(I,1)};return a.push(x),x}function h(){const{history:v}=window;v.state&&v.replaceState(Ze({},v.state,{scroll:Ko()}),"")}function g(){for(const v of a)v();a=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:f,listen:m,destroy:g}}function Gc(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?Ko():null}}function Rh(e){const{history:t,location:n}=window,r={value:Lu(e,n)},o={value:t.state};o.value||a(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(f,m,h){const g=e.indexOf("#"),v=g>-1?(n.host&&document.querySelector("base")?e:e.slice(g))+f:Ph()+e+f;try{t[h?"replaceState":"pushState"](m,"",v),o.value=m}catch(x){console.error(x),n[h?"replace":"assign"](v)}}function l(f,m){const h=Ze({},t.state,Gc(o.value.back,f,o.value.forward,!0),m,{position:o.value.position});a(f,h,!0),r.value=f}function u(f,m){const h=Ze({},o.value,t.state,{forward:f,scroll:Ko()});a(h.current,h,!0);const g=Ze({},Gc(r.value,f,null),{position:h.position+1},m);a(f,g,!1),r.value=f}return{location:r,state:o,push:u,replace:l}}function Dh(e){e=xh(e);const t=Rh(e),n=Oh(e,t.state,t.location,t.replace);function r(a,l=!0){l||n.pauseListeners(),history.go(a)}const o=Ze({location:"",base:e,go:r,createHref:Eh.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function $h(e){return typeof e=="string"||e&&typeof e=="object"}function qu(e){return typeof e=="string"||typeof e=="symbol"}const Uu=Symbol("");var Jc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Jc||(Jc={}));function Kr(e,t){return Ze(new Error,{type:e,[Uu]:!0},t)}function Sn(e,t){return e instanceof Error&&Uu in e&&(t==null||!!(e.type&t))}const Xc="[^/]+?",Th={sensitive:!1,strict:!1,start:!0,end:!0},Fh=/[.+*?^${}()[\]/\\]/g;function Mh(e,t){const n=Ze({},Th,t),r=[];let o=n.start?"^":"";const a=[];for(const m of e){const h=m.length?[]:[90];n.strict&&!m.length&&(o+="/");for(let g=0;g<m.length;g++){const v=m[g];let x=40+(n.sensitive?.25:0);if(v.type===0)g||(o+="/"),o+=v.value.replace(Fh,"\\$&"),x+=40;else if(v.type===1){const{value:I,repeatable:N,optional:Q,regexp:V}=v;a.push({name:I,repeatable:N,optional:Q});const X=V||Xc;if(X!==Xc){x+=10;try{new RegExp(`(${X})`)}catch(F){throw new Error(`Invalid custom RegExp for param "${I}" (${X}): `+F.message)}}let j=N?`((?:${X})(?:/(?:${X}))*)`:`(${X})`;g||(j=Q&&m.length<2?`(?:/${j})`:"/"+j),Q&&(j+="?"),o+=j,x+=20,Q&&(x+=-8),N&&(x+=-20),X===".*"&&(x+=-50)}h.push(x)}r.push(h)}if(n.strict&&n.end){const m=r.length-1;r[m][r[m].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const l=new RegExp(o,n.sensitive?"":"i");function u(m){const h=m.match(l),g={};if(!h)return null;for(let v=1;v<h.length;v++){const x=h[v]||"",I=a[v-1];g[I.name]=x&&I.repeatable?x.split("/"):x}return g}function f(m){let h="",g=!1;for(const v of e){(!g||!h.endsWith("/"))&&(h+="/"),g=!1;for(const x of v)if(x.type===0)h+=x.value;else if(x.type===1){const{value:I,repeatable:N,optional:Q}=x,V=I in m?m[I]:"";if(cn(V)&&!N)throw new Error(`Provided param "${I}" is an array but it is not repeatable (* or + modifiers)`);const X=cn(V)?V.join("/"):V;if(!X)if(Q)v.length<2&&(h.endsWith("/")?h=h.slice(0,-1):g=!0);else throw new Error(`Missing required param "${I}"`);h+=X}}return h||"/"}return{re:l,score:r,keys:a,parse:u,stringify:f}}function Bh(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Ku(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const a=Bh(r[n],o[n]);if(a)return a;n++}if(Math.abs(o.length-r.length)===1){if(Zc(r))return 1;if(Zc(o))return-1}return o.length-r.length}function Zc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Nh={type:0,value:""},jh=/[a-zA-Z0-9_]/;function Lh(e){if(!e)return[[]];if(e==="/")return[[Nh]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(x){throw new Error(`ERR (${n})/"${m}": ${x}`)}let n=0,r=n;const o=[];let a;function l(){a&&o.push(a),a=[]}let u=0,f,m="",h="";function g(){m&&(n===0?a.push({type:0,value:m}):n===1||n===2||n===3?(a.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${m}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:m,regexp:h,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),m="")}function v(){m+=f}for(;u<e.length;){if(f=e[u++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(m&&g(),l()):f===":"?(g(),n=1):v();break;case 4:v(),n=r;break;case 1:f==="("?n=2:jh.test(f)?v():(g(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&u--);break;case 2:f===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+f:n=3:h+=f;break;case 3:g(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&u--,h="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${m}"`),g(),l(),o}function qh(e,t,n){const r=Mh(Lh(e.path),n),o=Ze(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Uh(e,t){const n=[],r=new Map;t=rl({strict:!1,end:!0,sensitive:!1},t);function o(g){return r.get(g)}function a(g,v,x){const I=!x,N=tl(g);N.aliasOf=x&&x.record;const Q=rl(t,g),V=[N];if("alias"in g){const F=typeof g.alias=="string"?[g.alias]:g.alias;for(const oe of F)V.push(tl(Ze({},N,{components:x?x.record.components:N.components,path:oe,aliasOf:x?x.record:N})))}let X,j;for(const F of V){const{path:oe}=F;if(v&&oe[0]!=="/"){const ge=v.record.path,Ae=ge[ge.length-1]==="/"?"":"/";F.path=v.record.path+(oe&&Ae+oe)}if(X=qh(F,v,Q),x?x.alias.push(X):(j=j||X,j!==X&&j.alias.push(X),I&&g.name&&!nl(X)&&l(g.name)),Vu(X)&&f(X),N.children){const ge=N.children;for(let Ae=0;Ae<ge.length;Ae++)a(ge[Ae],X,x&&x.children[Ae])}x=x||X}return j?()=>{l(j)}:hs}function l(g){if(qu(g)){const v=r.get(g);v&&(r.delete(g),n.splice(n.indexOf(v),1),v.children.forEach(l),v.alias.forEach(l))}else{const v=n.indexOf(g);v>-1&&(n.splice(v,1),g.record.name&&r.delete(g.record.name),g.children.forEach(l),g.alias.forEach(l))}}function u(){return n}function f(g){const v=Hh(g,n);n.splice(v,0,g),g.record.name&&!nl(g)&&r.set(g.record.name,g)}function m(g,v){let x,I={},N,Q;if("name"in g&&g.name){if(x=r.get(g.name),!x)throw Kr(1,{location:g});Q=x.record.name,I=Ze(el(v.params,x.keys.filter(j=>!j.optional).concat(x.parent?x.parent.keys.filter(j=>j.optional):[]).map(j=>j.name)),g.params&&el(g.params,x.keys.map(j=>j.name))),N=x.stringify(I)}else if(g.path!=null)N=g.path,x=n.find(j=>j.re.test(N)),x&&(I=x.parse(N),Q=x.record.name);else{if(x=v.name?r.get(v.name):n.find(j=>j.re.test(v.path)),!x)throw Kr(1,{location:g,currentLocation:v});Q=x.record.name,I=Ze({},v.params,g.params),N=x.stringify(I)}const V=[];let X=x;for(;X;)V.unshift(X.record),X=X.parent;return{name:Q,path:N,params:I,matched:V,meta:Vh(V)}}e.forEach(g=>a(g));function h(){n.length=0,r.clear()}return{addRoute:a,resolve:m,removeRoute:l,clearRoutes:h,getRoutes:u,getRecordMatcher:o}}function el(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function tl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Kh(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Kh(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function nl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Vh(e){return e.reduce((t,n)=>Ze(t,n.meta),{})}function rl(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Hh(e,t){let n=0,r=t.length;for(;n!==r;){const a=n+r>>1;Ku(e,t[a])<0?r=a:n=a+1}const o=Wh(e);return o&&(r=t.lastIndexOf(o,r-1)),r}function Wh(e){let t=e;for(;t=t.parent;)if(Vu(t)&&Ku(e,t)===0)return t}function Vu({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function zh(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const a=r[o].replace(Fu," "),l=a.indexOf("="),u=Es(l<0?a:a.slice(0,l)),f=l<0?null:Es(a.slice(l+1));if(u in t){let m=t[u];cn(m)||(m=t[u]=[m]),m.push(f)}else t[u]=f}return t}function sl(e){let t="";for(let n in e){const r=e[n];if(n=ph(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(cn(r)?r.map(a=>a&&ea(a)):[r&&ea(r)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+n,a!=null&&(t+="="+a))})}return t}function Qh(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=cn(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const Yh=Symbol(""),ol=Symbol(""),Vo=Symbol(""),Oa=Symbol(""),na=Symbol("");function rs(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Yn(e,t,n,r,o,a=l=>l()){const l=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((u,f)=>{const m=v=>{v===!1?f(Kr(4,{from:n,to:t})):v instanceof Error?f(v):$h(v)?f(Kr(2,{from:t,to:v})):(l&&r.enterCallbacks[o]===l&&typeof v=="function"&&l.push(v),u())},h=a(()=>e.call(r&&r.instances[o],t,n,m));let g=Promise.resolve(h);e.length<3&&(g=g.then(m)),g.catch(v=>f(v))})}function Fi(e,t,n,r,o=a=>a()){const a=[];for(const l of e)for(const u in l.components){let f=l.components[u];if(!(t!=="beforeRouteEnter"&&!l.instances[u]))if($u(f)){const h=(f.__vccOpts||f)[t];h&&a.push(Yn(h,n,r,l,u,o))}else{let m=f();a.push(()=>m.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${u}" at "${l.path}"`);const g=nh(h)?h.default:h;l.mods[u]=h,l.components[u]=g;const x=(g.__vccOpts||g)[t];return x&&Yn(x,n,r,l,u,o)()}))}}return a}function il(e){const t=Xt(Vo),n=Xt(Oa),r=st(()=>{const f=we(e.to);return t.resolve(f)}),o=st(()=>{const{matched:f}=r.value,{length:m}=f,h=f[m-1],g=n.matched;if(!h||!g.length)return-1;const v=g.findIndex(Ur.bind(null,h));if(v>-1)return v;const x=al(f[m-2]);return m>1&&al(h)===x&&g[g.length-1].path!==x?g.findIndex(Ur.bind(null,f[m-2])):v}),a=st(()=>o.value>-1&&em(n.params,r.value.params)),l=st(()=>o.value>-1&&o.value===n.matched.length-1&&ju(n.params,r.value.params));function u(f={}){if(Zh(f)){const m=t[we(e.replace)?"replace":"push"](we(e.to)).catch(hs);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>m),m}return Promise.resolve()}return{route:r,href:st(()=>r.value.href),isActive:a,isExactActive:l,navigate:u}}function Gh(e){return e.length===1?e[0]:e}const Jh=ot({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:il,setup(e,{slots:t}){const n=vr(il(e)),{options:r}=Xt(Vo),o=st(()=>({[cl(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[cl(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&Gh(t.default(n));return e.custom?a:Nr("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},a)}}}),Xh=Jh;function Zh(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function em(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!cn(o)||o.length!==r.length||r.some((a,l)=>a!==o[l]))return!1}return!0}function al(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const cl=(e,t,n)=>e??t??n,tm=ot({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Xt(na),o=st(()=>e.route||r.value),a=Xt(ol,0),l=st(()=>{let m=we(a);const{matched:h}=o.value;let g;for(;(g=h[m])&&!g.components;)m++;return m}),u=st(()=>o.value.matched[l.value]);fs(ol,st(()=>l.value+1)),fs(Yh,u),fs(na,o);const f=Ee();return Zt(()=>[f.value,u.value,e.name],([m,h,g],[v,x,I])=>{h&&(h.instances[g]=m,x&&x!==h&&m&&m===v&&(h.leaveGuards.size||(h.leaveGuards=x.leaveGuards),h.updateGuards.size||(h.updateGuards=x.updateGuards))),m&&h&&(!x||!Ur(h,x)||!v)&&(h.enterCallbacks[g]||[]).forEach(N=>N(m))},{flush:"post"}),()=>{const m=o.value,h=e.name,g=u.value,v=g&&g.components[h];if(!v)return ll(n.default,{Component:v,route:m});const x=g.props[h],I=x?x===!0?m.params:typeof x=="function"?x(m):x:null,Q=Nr(v,Ze({},I,t,{onVnodeUnmounted:V=>{V.component.isUnmounted&&(g.instances[h]=null)},ref:f}));return ll(n.default,{Component:Q,route:m})||Q}}});function ll(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const nm=tm;function rm(e){const t=Uh(e.routes,e),n=e.parseQuery||zh,r=e.stringifyQuery||sl,o=e.history,a=rs(),l=rs(),u=rs(),f=Yl(Vn);let m=Vn;$r&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=$i.bind(null,J=>""+J),g=$i.bind(null,mh),v=$i.bind(null,Es);function x(J,be){let W,ke;return qu(J)?(W=t.getRecordMatcher(J),ke=be):ke=J,t.addRoute(ke,W)}function I(J){const be=t.getRecordMatcher(J);be&&t.removeRoute(be)}function N(){return t.getRoutes().map(J=>J.record)}function Q(J){return!!t.getRecordMatcher(J)}function V(J,be){if(be=Ze({},be||f.value),typeof J=="string"){const B=Ti(n,J,be.path),G=t.resolve({path:B.path},be),te=o.createHref(B.fullPath);return Ze(B,G,{params:v(G.params),hash:Es(B.hash),redirectedFrom:void 0,href:te})}let W;if(J.path!=null)W=Ze({},J,{path:Ti(n,J.path,be.path).path});else{const B=Ze({},J.params);for(const G in B)B[G]==null&&delete B[G];W=Ze({},J,{params:g(B)}),be.params=g(be.params)}const ke=t.resolve(W,be),Ye=J.hash||"";ke.params=h(v(ke.params));const _=vh(r,Ze({},J,{hash:fh(Ye),path:ke.path})),A=o.createHref(_);return Ze({fullPath:_,hash:Ye,query:r===sl?Qh(J.query):J.query||{}},ke,{redirectedFrom:void 0,href:A})}function X(J){return typeof J=="string"?Ti(n,J,f.value.path):Ze({},J)}function j(J,be){if(m!==J)return Kr(8,{from:be,to:J})}function F(J){return Ae(J)}function oe(J){return F(Ze(X(J),{replace:!0}))}function ge(J){const be=J.matched[J.matched.length-1];if(be&&be.redirect){const{redirect:W}=be;let ke=typeof W=="function"?W(J):W;return typeof ke=="string"&&(ke=ke.includes("?")||ke.includes("#")?ke=X(ke):{path:ke},ke.params={}),Ze({query:J.query,hash:J.hash,params:ke.path!=null?{}:J.params},ke)}}function Ae(J,be){const W=m=V(J),ke=f.value,Ye=J.state,_=J.force,A=J.replace===!0,B=ge(W);if(B)return Ae(Ze(X(B),{state:typeof B=="object"?Ze({},Ye,B.state):Ye,force:_,replace:A}),be||W);const G=W;G.redirectedFrom=be;let te;return!_&&bh(r,ke,W)&&(te=Kr(16,{to:G,from:ke}),Ie(ke,ke,!0,!1)),(te?Promise.resolve(te):qe(G,ke)).catch(Z=>Sn(Z)?Sn(Z,2)?Z:L(Z):Y(Z,G,ke)).then(Z=>{if(Z){if(Sn(Z,2))return Ae(Ze({replace:A},X(Z.to),{state:typeof Z.to=="object"?Ze({},Ye,Z.to.state):Ye,force:_}),be||G)}else Z=Xe(G,ke,!0,A,Ye);return ut(G,ke,Z),Z})}function Se(J,be){const W=j(J,be);return W?Promise.reject(W):Promise.resolve()}function Ce(J){const be=Ht.values().next().value;return be&&typeof be.runWithContext=="function"?be.runWithContext(J):J()}function qe(J,be){let W;const[ke,Ye,_]=sm(J,be);W=Fi(ke.reverse(),"beforeRouteLeave",J,be);for(const B of ke)B.leaveGuards.forEach(G=>{W.push(Yn(G,J,be))});const A=Se.bind(null,J,be);return W.push(A),pt(W).then(()=>{W=[];for(const B of a.list())W.push(Yn(B,J,be));return W.push(A),pt(W)}).then(()=>{W=Fi(Ye,"beforeRouteUpdate",J,be);for(const B of Ye)B.updateGuards.forEach(G=>{W.push(Yn(G,J,be))});return W.push(A),pt(W)}).then(()=>{W=[];for(const B of _)if(B.beforeEnter)if(cn(B.beforeEnter))for(const G of B.beforeEnter)W.push(Yn(G,J,be));else W.push(Yn(B.beforeEnter,J,be));return W.push(A),pt(W)}).then(()=>(J.matched.forEach(B=>B.enterCallbacks={}),W=Fi(_,"beforeRouteEnter",J,be,Ce),W.push(A),pt(W))).then(()=>{W=[];for(const B of l.list())W.push(Yn(B,J,be));return W.push(A),pt(W)}).catch(B=>Sn(B,8)?B:Promise.reject(B))}function ut(J,be,W){u.list().forEach(ke=>Ce(()=>ke(J,be,W)))}function Xe(J,be,W,ke,Ye){const _=j(J,be);if(_)return _;const A=be===Vn,B=$r?history.state:{};W&&(ke||A?o.replace(J.fullPath,Ze({scroll:A&&B&&B.scroll},Ye)):o.push(J.fullPath,Ye)),f.value=J,Ie(J,be,W,A),L()}let ze;function wt(){ze||(ze=o.listen((J,be,W)=>{if(!Nt.listening)return;const ke=V(J),Ye=ge(ke);if(Ye){Ae(Ze(Ye,{replace:!0,force:!0}),ke).catch(hs);return}m=ke;const _=f.value;$r&&Sh(Yc(_.fullPath,W.delta),Ko()),qe(ke,_).catch(A=>Sn(A,12)?A:Sn(A,2)?(Ae(Ze(X(A.to),{force:!0}),ke).then(B=>{Sn(B,20)&&!W.delta&&W.type===As.pop&&o.go(-1,!1)}).catch(hs),Promise.reject()):(W.delta&&o.go(-W.delta,!1),Y(A,ke,_))).then(A=>{A=A||Xe(ke,_,!1),A&&(W.delta&&!Sn(A,8)?o.go(-W.delta,!1):W.type===As.pop&&Sn(A,20)&&o.go(-1,!1)),ut(ke,_,A)}).catch(hs)}))}let it=rs(),Fe=rs(),Oe;function Y(J,be,W){L(J);const ke=Fe.list();return ke.length?ke.forEach(Ye=>Ye(J,be,W)):console.error(J),Promise.reject(J)}function H(){return Oe&&f.value!==Vn?Promise.resolve():new Promise((J,be)=>{it.add([J,be])})}function L(J){return Oe||(Oe=!J,wt(),it.list().forEach(([be,W])=>J?W(J):be()),it.reset()),J}function Ie(J,be,W,ke){const{scrollBehavior:Ye}=e;if(!$r||!Ye)return Promise.resolve();const _=!W&&Ih(Yc(J.fullPath,0))||(ke||!W)&&history.state&&history.state.scroll||null;return an().then(()=>Ye(J,be,_)).then(A=>A&&Ch(A)).catch(A=>Y(A,J,be))}const ve=J=>o.go(J);let Ve;const Ht=new Set,Nt={currentRoute:f,listening:!0,addRoute:x,removeRoute:I,clearRoutes:t.clearRoutes,hasRoute:Q,getRoutes:N,resolve:V,options:e,push:F,replace:oe,go:ve,back:()=>ve(-1),forward:()=>ve(1),beforeEach:a.add,beforeResolve:l.add,afterEach:u.add,onError:Fe.add,isReady:H,install(J){const be=this;J.component("RouterLink",Xh),J.component("RouterView",nm),J.config.globalProperties.$router=be,Object.defineProperty(J.config.globalProperties,"$route",{enumerable:!0,get:()=>we(f)}),$r&&!Ve&&f.value===Vn&&(Ve=!0,F(o.location).catch(Ye=>{}));const W={};for(const Ye in Vn)Object.defineProperty(W,Ye,{get:()=>f.value[Ye],enumerable:!0});J.provide(Vo,be),J.provide(Oa,zl(W)),J.provide(na,f);const ke=J.unmount;Ht.add(J),J.unmount=function(){Ht.delete(J),Ht.size<1&&(m=Vn,ze&&ze(),ze=null,f.value=Vn,Ve=!1,Oe=!1),ke()}}};function pt(J){return J.reduce((be,W)=>be.then(()=>Ce(W)),Promise.resolve())}return Nt}function sm(e,t){const n=[],r=[],o=[],a=Math.max(t.matched.length,e.matched.length);for(let l=0;l<a;l++){const u=t.matched[l];u&&(e.matched.find(m=>Ur(m,u))?r.push(u):n.push(u));const f=e.matched[l];f&&(t.matched.find(m=>Ur(m,f))||o.push(f))}return[n,r,o]}function om(){return Xt(Vo)}function Hu(e){return Xt(Oa)}const im=["aria-label"],am={key:0},cm={key:1},lm=ot({__name:"ThemeSwitcher",setup(e){const t=Ee("light"),n=()=>{const r=t.value==="light"?"dark":"light";t.value=r,document.documentElement.setAttribute("data-theme",r),document.documentElement.setAttribute("data-bs-theme",r),localStorage.setItem("theme",r)};return er(()=>{const r=localStorage.getItem("theme"),o=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;let a="light";r?a=r:o&&(a="dark"),t.value=a,document.documentElement.setAttribute("data-theme",a),document.documentElement.setAttribute("data-bs-theme",a)}),(r,o)=>(U(),ee("button",{type:"button",class:"btn btn-outline-primary",onClick:n,"aria-label":`Switch to ${t.value==="light"?"dark":"light"} mode`},[t.value==="light"?(U(),ee("span",am,"  Dark ")):(U(),ee("span",cm,"  Light "))],8,im))}}),Mn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},um=Mn(lm,[["__scopeId","data-v-c333c158"]]),dm={class:"navbar navbar-expand-md navbar-light bg-body fixed-top border-bottom"},fm={class:"container-fluid"},pm=["aria-expanded"],hm={class:"navbar-nav me-auto"},mm={class:"nav-item"},ym={class:"nav-item"},gm={class:"nav-item"},vm={class:"nav-item"},bm={class:"d-flex"},_m=ot({__name:"Navigation",setup(e){const t=Hu(),n=st(()=>t.name==="decks"||t.name==="deck-detail"||t.name==="deck-import"),r=Ee(!1);return(o,a)=>{const l=jo("router-link");return U(),ee("nav",dm,[w("div",fm,[Ke(l,{to:"/",class:"navbar-brand"},{default:rt(()=>[...a[1]||(a[1]=[w("img",{style:{"max-width":"40px"},src:th,alt:"logo"},null,-1),zt(" MTG Collection Tracker ",-1)])]),_:1}),w("button",{class:"navbar-toggler",type:"button",onClick:a[0]||(a[0]=u=>r.value=!r.value),"aria-controls":"navbarNav","aria-expanded":r.value,"aria-label":"Toggle navigation"},[...a[2]||(a[2]=[w("span",{class:"navbar-toggler-icon"},null,-1)])],8,pm),w("div",{id:"navbarNav",class:Ct(["collapse navbar-collapse",{show:r.value}])},[w("ul",hm,[w("li",mm,[Ke(l,{to:"/",class:Ct(["nav-link",{active:we(t).name==="home"}])},{default:rt(()=>[...a[3]||(a[3]=[zt(" Dashboard ",-1)])]),_:1},8,["class"])]),w("li",ym,[Ke(l,{to:"/decks",class:Ct(["nav-link",{active:n.value}])},{default:rt(()=>[...a[4]||(a[4]=[zt(" Decks ",-1)])]),_:1},8,["class"])]),w("li",gm,[Ke(l,{to:"/cards",class:Ct(["nav-link",{active:we(t).name==="cards"}])},{default:rt(()=>[...a[5]||(a[5]=[zt(" Cards ",-1)])]),_:1},8,["class"])]),w("li",vm,[Ke(l,{to:"/import/cardmarket",class:Ct(["nav-link",{active:we(t).name==="cardmarket-import"}])},{default:rt(()=>[...a[6]||(a[6]=[zt(" Cardmarket Import ",-1)])]),_:1},8,["class"])])]),w("div",bm,[Ke(um)])],2)])])}}}),wm=Mn(_m,[["__scopeId","data-v-8877d044"]]),xm={class:"container-lg",style:{"padding-top":"calc(var(--app-navbar-h) + 1.5rem)","padding-bottom":"1.5rem"}},km=ot({__name:"App",setup(e){return(t,n)=>{const r=jo("router-view");return U(),ee(nt,null,[Ke(wm),w("main",xm,[Ke(r)])],64)}}});/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Wu;const Ho=e=>Wu=e,zu=Symbol();function ra(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ys;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ys||(ys={}));function Em(){const e=To(!0),t=e.run(()=>Ee({}));let n=[],r=[];const o=_a({install(a){Ho(o),o._a=a,a.provide(zu,o),a.config.globalProperties.$pinia=o,r.forEach(l=>n.push(l)),r=[]},use(a){return this._a?n.push(a):r.push(a),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const Qu=()=>{};function ul(e,t,n,r=Qu){e.push(t);const o=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),r())};return!n&&fa()&&Dl(o),o}function Or(e,...t){e.slice().forEach(n=>{n(...t)})}const Am=e=>e(),dl=Symbol(),Mi=Symbol();function sa(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];ra(o)&&ra(r)&&e.hasOwnProperty(n)&&!bt(r)&&!Jn(r)?e[n]=sa(o,r):e[n]=r}return e}const Cm=Symbol();function Sm(e){return!ra(e)||!Object.prototype.hasOwnProperty.call(e,Cm)}const{assign:Hn}=Object;function Im(e){return!!(bt(e)&&e.effect)}function Pm(e,t,n,r){const{state:o,actions:a,getters:l}=t,u=n.state.value[e];let f;function m(){u||(n.state.value[e]=o?o():{});const h=wa(n.state.value[e]);return Hn(h,a,Object.keys(l||{}).reduce((g,v)=>(g[v]=_a(st(()=>{Ho(n);const x=n._s.get(e);return l[v].call(x,x)})),g),{}))}return f=Yu(e,m,t,n,r,!0),f}function Yu(e,t,n={},r,o,a){let l;const u=Hn({actions:{}},n),f={deep:!0};let m,h,g=[],v=[],x;const I=r.state.value[e];!a&&!I&&(r.state.value[e]={}),Ee({});let N;function Q(Se){let Ce;m=h=!1,typeof Se=="function"?(Se(r.state.value[e]),Ce={type:ys.patchFunction,storeId:e,events:x}):(sa(r.state.value[e],Se),Ce={type:ys.patchObject,payload:Se,storeId:e,events:x});const qe=N=Symbol();an().then(()=>{N===qe&&(m=!0)}),h=!0,Or(g,Ce,r.state.value[e])}const V=a?function(){const{state:Ce}=n,qe=Ce?Ce():{};this.$patch(ut=>{Hn(ut,qe)})}:Qu;function X(){l.stop(),g=[],v=[],r._s.delete(e)}const j=(Se,Ce="")=>{if(dl in Se)return Se[Mi]=Ce,Se;const qe=function(){Ho(r);const ut=Array.from(arguments),Xe=[],ze=[];function wt(Oe){Xe.push(Oe)}function it(Oe){ze.push(Oe)}Or(v,{args:ut,name:qe[Mi],store:oe,after:wt,onError:it});let Fe;try{Fe=Se.apply(this&&this.$id===e?this:oe,ut)}catch(Oe){throw Or(ze,Oe),Oe}return Fe instanceof Promise?Fe.then(Oe=>(Or(Xe,Oe),Oe)).catch(Oe=>(Or(ze,Oe),Promise.reject(Oe))):(Or(Xe,Fe),Fe)};return qe[dl]=!0,qe[Mi]=Ce,qe},F={_p:r,$id:e,$onAction:ul.bind(null,v),$patch:Q,$reset:V,$subscribe(Se,Ce={}){const qe=ul(g,Se,Ce.detached,()=>ut()),ut=l.run(()=>Zt(()=>r.state.value[e],Xe=>{(Ce.flush==="sync"?h:m)&&Se({storeId:e,type:ys.direct,events:x},Xe)},Hn({},f,Ce)));return qe},$dispose:X},oe=vr(F);r._s.set(e,oe);const Ae=(r._a&&r._a.runWithContext||Am)(()=>r._e.run(()=>(l=To()).run(()=>t({action:j}))));for(const Se in Ae){const Ce=Ae[Se];if(bt(Ce)&&!Im(Ce)||Jn(Ce))a||(I&&Sm(Ce)&&(bt(Ce)?Ce.value=I[Se]:sa(Ce,I[Se])),r.state.value[e][Se]=Ce);else if(typeof Ce=="function"){const qe=j(Ce,Se);Ae[Se]=qe,u.actions[Se]=Ce}}return Hn(oe,Ae),Hn(Je(oe),Ae),Object.defineProperty(oe,"$state",{get:()=>r.state.value[e],set:Se=>{Q(Ce=>{Hn(Ce,Se)})}}),r._p.forEach(Se=>{Hn(oe,l.run(()=>Se({store:oe,app:r._a,pinia:r,options:u})))}),I&&a&&n.hydrate&&n.hydrate(oe.$state,I),m=!0,h=!0,oe}/*! #__NO_SIDE_EFFECTS__ */function Ra(e,t,n){let r;const o=typeof t=="function";r=o?n:t;function a(l,u){const f=Gf();return l=l||(f?Xt(zu,null):null),l&&Ho(l),l=Wu,l._s.has(e)||(o?Yu(e,t,r,l):Pm(e,r,l)),l._s.get(e)}return a.$id=e,a}var Om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mo={exports:{}},Dm=mo.exports,fl;function $m(){return fl||(fl=1,(function(e,t){(function(n,r){e.exports=r()})(Dm,function(){var n=function(s,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(c[p]=d[p])})(s,i)},r=function(){return(r=Object.assign||function(s){for(var i,c=1,d=arguments.length;c<d;c++)for(var p in i=arguments[c])Object.prototype.hasOwnProperty.call(i,p)&&(s[p]=i[p]);return s}).apply(this,arguments)};function o(s,i,c){for(var d,p=0,y=i.length;p<y;p++)!d&&p in i||((d=d||Array.prototype.slice.call(i,0,p))[p]=i[p]);return s.concat(d||Array.prototype.slice.call(i))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Om,l=Object.keys,u=Array.isArray;function f(s,i){return typeof i!="object"||l(i).forEach(function(c){s[c]=i[c]}),s}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var m=Object.getPrototypeOf,h={}.hasOwnProperty;function g(s,i){return h.call(s,i)}function v(s,i){typeof i=="function"&&(i=i(m(s))),(typeof Reflect>"u"?l:Reflect.ownKeys)(i).forEach(function(c){I(s,c,i[c])})}var x=Object.defineProperty;function I(s,i,c,d){x(s,i,f(c&&g(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},d))}function N(s){return{from:function(i){return s.prototype=Object.create(i.prototype),I(s.prototype,"constructor",s),{extend:v.bind(null,s.prototype)}}}}var Q=Object.getOwnPropertyDescriptor,V=[].slice;function X(s,i,c){return V.call(s,i,c)}function j(s,i){return i(s)}function F(s){if(!s)throw new Error("Assertion Failed")}function oe(s){a.setImmediate?setImmediate(s):setTimeout(s,0)}function ge(s,i){if(typeof i=="string"&&g(s,i))return s[i];if(!i)return s;if(typeof i!="string"){for(var c=[],d=0,p=i.length;d<p;++d){var y=ge(s,i[d]);c.push(y)}return c}var b=i.indexOf(".");if(b!==-1){var k=s[i.substr(0,b)];return k==null?void 0:ge(k,i.substr(b+1))}}function Ae(s,i,c){if(s&&i!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof i!="string"&&"length"in i){F(typeof c!="string"&&"length"in c);for(var d=0,p=i.length;d<p;++d)Ae(s,i[d],c[d])}else{var y,b,k=i.indexOf(".");k!==-1?(y=i.substr(0,k),(b=i.substr(k+1))===""?c===void 0?u(s)&&!isNaN(parseInt(y))?s.splice(y,1):delete s[y]:s[y]=c:Ae(k=!(k=s[y])||!g(s,y)?s[y]={}:k,b,c)):c===void 0?u(s)&&!isNaN(parseInt(i))?s.splice(i,1):delete s[i]:s[i]=c}}function Se(s){var i,c={};for(i in s)g(s,i)&&(c[i]=s[i]);return c}var Ce=[].concat;function qe(s){return Ce.apply([],s)}var je="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(qe([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(i){return i+s+"Array"})}))).filter(function(s){return a[s]}),ut=new Set(je.map(function(s){return a[s]})),Xe=null;function ze(s){return Xe=new WeakMap,s=(function i(c){if(!c||typeof c!="object")return c;var d=Xe.get(c);if(d)return d;if(u(c)){d=[],Xe.set(c,d);for(var p=0,y=c.length;p<y;++p)d.push(i(c[p]))}else if(ut.has(c.constructor))d=c;else{var b,k=m(c);for(b in d=k===Object.prototype?{}:Object.create(k),Xe.set(c,d),c)g(c,b)&&(d[b]=i(c[b]))}return d})(s),Xe=null,s}var wt={}.toString;function it(s){return wt.call(s).slice(8,-1)}var Fe=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Oe=typeof Fe=="symbol"?function(s){var i;return s!=null&&(i=s[Fe])&&i.apply(s)}:function(){return null};function Y(s,i){return i=s.indexOf(i),0<=i&&s.splice(i,1),0<=i}var H={};function L(s){var i,c,d,p;if(arguments.length===1){if(u(s))return s.slice();if(this===H&&typeof s=="string")return[s];if(p=Oe(s)){for(c=[];!(d=p.next()).done;)c.push(d.value);return c}if(s==null)return[s];if(typeof(i=s.length)!="number")return[s];for(c=new Array(i);i--;)c[i]=s[i];return c}for(i=arguments.length,c=new Array(i);i--;)c[i]=arguments[i];return c}var Ie=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},De=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],tn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(De),ve={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ve(s,i){this.name=s,this.message=i}function Ht(s,i){return s+". Errors: "+Object.keys(i).map(function(c){return i[c].toString()}).filter(function(c,d,p){return p.indexOf(c)===d}).join(`
`)}function Nt(s,i,c,d){this.failures=i,this.failedKeys=d,this.successCount=c,this.message=Ht(s,i)}function pt(s,i){this.name="BulkError",this.failures=Object.keys(i).map(function(c){return i[c]}),this.failuresByPos=i,this.message=Ht(s,this.failures)}N(Ve).from(Error).extend({toString:function(){return this.name+": "+this.message}}),N(Nt).from(Ve),N(pt).from(Ve);var J=tn.reduce(function(s,i){return s[i]=i+"Error",s},{}),be=Ve,W=tn.reduce(function(s,i){var c=i+"Error";function d(p,y){this.name=c,p?typeof p=="string"?(this.message="".concat(p).concat(y?`
 `+y:""),this.inner=y||null):typeof p=="object"&&(this.message="".concat(p.name," ").concat(p.message),this.inner=p):(this.message=ve[i]||c,this.inner=null)}return N(d).from(be),s[i]=d,s},{});W.Syntax=SyntaxError,W.Type=TypeError,W.Range=RangeError;var ke=De.reduce(function(s,i){return s[i+"Error"]=W[i],s},{}),Ye=tn.reduce(function(s,i){return["Syntax","Type","Range"].indexOf(i)===-1&&(s[i+"Error"]=W[i]),s},{});function _(){}function A(s){return s}function B(s,i){return s==null||s===A?i:function(c){return i(s(c))}}function G(s,i){return function(){s.apply(this,arguments),i.apply(this,arguments)}}function te(s,i){return s===_?i:function(){var c=s.apply(this,arguments);c!==void 0&&(arguments[0]=c);var d=this.onsuccess,p=this.onerror;this.onsuccess=null,this.onerror=null;var y=i.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?G(d,this.onsuccess):d),p&&(this.onerror=this.onerror?G(p,this.onerror):p),y!==void 0?y:c}}function Z(s,i){return s===_?i:function(){s.apply(this,arguments);var c=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,i.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?G(c,this.onsuccess):c),d&&(this.onerror=this.onerror?G(d,this.onerror):d)}}function fe(s,i){return s===_?i:function(c){var d=s.apply(this,arguments);f(c,d);var p=this.onsuccess,y=this.onerror;return this.onsuccess=null,this.onerror=null,c=i.apply(this,arguments),p&&(this.onsuccess=this.onsuccess?G(p,this.onsuccess):p),y&&(this.onerror=this.onerror?G(y,this.onerror):y),d===void 0?c===void 0?void 0:c:f(d,c)}}function ue(s,i){return s===_?i:function(){return i.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function ce(s,i){return s===_?i:function(){var c=s.apply(this,arguments);if(c&&typeof c.then=="function"){for(var d=this,p=arguments.length,y=new Array(p);p--;)y[p]=arguments[p];return c.then(function(){return i.apply(d,y)})}return i.apply(this,arguments)}}Ye.ModifyError=Nt,Ye.DexieError=Ve,Ye.BulkError=pt;var ne=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Re(s){ne=s}var pe={},Pe=100,je=typeof Promise>"u"?[]:(function(){var s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,m(s),s];var i=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[i,m(i),s]})(),De=je[0],tn=je[1],je=je[2],tn=tn&&tn.then,He=De&&De.constructor,Qe=!!je,_t=function(s,i){Bn.push([s,i]),jt&&(queueMicrotask(ud),jt=!1)},xt=!0,jt=!0,kt=[],ln=[],_r=A,ht={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:_,pgp:!1,env:{},finalize:_},_e=ht,Bn=[],un=0,Os=[];function me(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var i=this._PSD=_e;if(typeof s!="function"){if(s!==pe)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Qo(this,this._value))}this._state=null,this._value=null,++i.ref,(function c(d,p){try{p(function(y){if(d._state===null){if(y===d)throw new TypeError("A promise cannot be resolved with itself.");var b=d._lib&&wr();y&&typeof y.then=="function"?c(d,function(k,C){y instanceof me?y._then(k,C):y.then(k,C)}):(d._state=!0,d._value=y,Ba(d)),b&&xr()}},Qo.bind(null,d))}catch(y){Qo(d,y)}})(this,s)}var zo={get:function(){var s=_e,i=Ts;function c(d,p){var y=this,b=!s.global&&(s!==_e||i!==Ts),k=b&&!jn(),C=new me(function(P,R){Yo(y,new Ma(ja(d,s,b,k),ja(p,s,b,k),P,R,s))});return this._consoleTask&&(C._consoleTask=this._consoleTask),C}return c.prototype=pe,c},set:function(s){I(this,"then",s&&s.prototype===pe?zo:{get:function(){return s},set:zo.set})}};function Ma(s,i,c,d,p){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof i=="function"?i:null,this.resolve=c,this.reject=d,this.psd=p}function Qo(s,i){var c,d;ln.push(i),s._state===null&&(c=s._lib&&wr(),i=_r(i),s._state=!1,s._value=i,d=s,kt.some(function(p){return p._value===d._value})||kt.push(d),Ba(s),c&&xr())}function Ba(s){var i=s._listeners;s._listeners=[];for(var c=0,d=i.length;c<d;++c)Yo(s,i[c]);var p=s._PSD;--p.ref||p.finalize(),un===0&&(++un,_t(function(){--un==0&&Go()},[]))}function Yo(s,i){if(s._state!==null){var c=s._state?i.onFulfilled:i.onRejected;if(c===null)return(s._state?i.resolve:i.reject)(s._value);++i.psd.ref,++un,_t(ld,[c,s,i])}else s._listeners.push(i)}function ld(s,i,c){try{var d,p=i._value;!i._state&&ln.length&&(ln=[]),d=ne&&i._consoleTask?i._consoleTask.run(function(){return s(p)}):s(p),i._state||ln.indexOf(p)!==-1||(function(y){for(var b=kt.length;b;)if(kt[--b]._value===y._value)return kt.splice(b,1)})(i),c.resolve(d)}catch(y){c.reject(y)}finally{--un==0&&Go(),--c.psd.ref||c.psd.finalize()}}function ud(){nr(ht,function(){wr()&&xr()})}function wr(){var s=xt;return jt=xt=!1,s}function xr(){var s,i,c;do for(;0<Bn.length;)for(s=Bn,Bn=[],c=s.length,i=0;i<c;++i){var d=s[i];d[0].apply(null,d[1])}while(0<Bn.length);jt=xt=!0}function Go(){var s=kt;kt=[],s.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)});for(var i=Os.slice(0),c=i.length;c;)i[--c]()}function Rs(s){return new me(pe,!1,s)}function ft(s,i){var c=_e;return function(){var d=wr(),p=_e;try{return Ln(c,!0),s.apply(this,arguments)}catch(y){i&&i(y)}finally{Ln(p,!1),d&&xr()}}}v(me.prototype,{then:zo,_then:function(s,i){Yo(this,new Ma(null,null,s,i,_e))},catch:function(s){if(arguments.length===1)return this.then(null,s);var i=s,c=arguments[1];return typeof i=="function"?this.then(null,function(d){return(d instanceof i?c:Rs)(d)}):this.then(null,function(d){return(d&&d.name===i?c:Rs)(d)})},finally:function(s){return this.then(function(i){return me.resolve(s()).then(function(){return i})},function(i){return me.resolve(s()).then(function(){return Rs(i)})})},timeout:function(s,i){var c=this;return s<1/0?new me(function(d,p){var y=setTimeout(function(){return p(new W.Timeout(i))},s);c.then(d,p).finally(clearTimeout.bind(null,y))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&I(me.prototype,Symbol.toStringTag,"Dexie.Promise"),ht.env=Na(),v(me,{all:function(){var s=L.apply(null,arguments).map(Fs);return new me(function(i,c){s.length===0&&i([]);var d=s.length;s.forEach(function(p,y){return me.resolve(p).then(function(b){s[y]=b,--d||i(s)},c)})})},resolve:function(s){return s instanceof me?s:s&&typeof s.then=="function"?new me(function(i,c){s.then(i,c)}):new me(pe,!0,s)},reject:Rs,race:function(){var s=L.apply(null,arguments).map(Fs);return new me(function(i,c){s.map(function(d){return me.resolve(d).then(i,c)})})},PSD:{get:function(){return _e},set:function(s){return _e=s}},totalEchoes:{get:function(){return Ts}},newPSD:Nn,usePSD:nr,scheduler:{get:function(){return _t},set:function(s){_t=s}},rejectionMapper:{get:function(){return _r},set:function(s){_r=s}},follow:function(s,i){return new me(function(c,d){return Nn(function(p,y){var b=_e;b.unhandleds=[],b.onunhandled=y,b.finalize=G(function(){var k,C=this;k=function(){C.unhandleds.length===0?p():y(C.unhandleds[0])},Os.push(function P(){k(),Os.splice(Os.indexOf(P),1)}),++un,_t(function(){--un==0&&Go()},[])},b.finalize),s()},i,c,d)})}}),He&&(He.allSettled&&I(me,"allSettled",function(){var s=L.apply(null,arguments).map(Fs);return new me(function(i){s.length===0&&i([]);var c=s.length,d=new Array(c);s.forEach(function(p,y){return me.resolve(p).then(function(b){return d[y]={status:"fulfilled",value:b}},function(b){return d[y]={status:"rejected",reason:b}}).then(function(){return--c||i(d)})})})}),He.any&&typeof AggregateError<"u"&&I(me,"any",function(){var s=L.apply(null,arguments).map(Fs);return new me(function(i,c){s.length===0&&c(new AggregateError([]));var d=s.length,p=new Array(d);s.forEach(function(y,b){return me.resolve(y).then(function(k){return i(k)},function(k){p[b]=k,--d||c(new AggregateError(p))})})})}),He.withResolvers&&(me.withResolvers=He.withResolvers));var Et={awaits:0,echoes:0,id:0},dd=0,Ds=[],$s=0,Ts=0,fd=0;function Nn(s,i,c,d){var p=_e,y=Object.create(p);return y.parent=p,y.ref=0,y.global=!1,y.id=++fd,ht.env,y.env=Qe?{Promise:me,PromiseProp:{value:me,configurable:!0,writable:!0},all:me.all,race:me.race,allSettled:me.allSettled,any:me.any,resolve:me.resolve,reject:me.reject}:{},i&&f(y,i),++p.ref,y.finalize=function(){--this.parent.ref||this.parent.finalize()},d=nr(y,s,c,d),y.ref===0&&y.finalize(),d}function kr(){return Et.id||(Et.id=++dd),++Et.awaits,Et.echoes+=Pe,Et.id}function jn(){return!!Et.awaits&&(--Et.awaits==0&&(Et.id=0),Et.echoes=Et.awaits*Pe,!0)}function Fs(s){return Et.echoes&&s&&s.constructor===He?(kr(),s.then(function(i){return jn(),i},function(i){return jn(),gt(i)})):s}function pd(){var s=Ds[Ds.length-1];Ds.pop(),Ln(s,!1)}function Ln(s,i){var c,d=_e;(i?!Et.echoes||$s++&&s===_e:!$s||--$s&&s===_e)||queueMicrotask(i?(function(p){++Ts,Et.echoes&&--Et.echoes!=0||(Et.echoes=Et.awaits=Et.id=0),Ds.push(_e),Ln(p,!0)}).bind(null,s):pd),s!==_e&&(_e=s,d===ht&&(ht.env=Na()),Qe&&(c=ht.env.Promise,i=s.env,(d.global||s.global)&&(Object.defineProperty(a,"Promise",i.PromiseProp),c.all=i.all,c.race=i.race,c.resolve=i.resolve,c.reject=i.reject,i.allSettled&&(c.allSettled=i.allSettled),i.any&&(c.any=i.any))))}function Na(){var s=a.Promise;return Qe?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function nr(s,i,c,d,p){var y=_e;try{return Ln(s,!0),i(c,d,p)}finally{Ln(y,!1)}}function ja(s,i,c,d){return typeof s!="function"?s:function(){var p=_e;c&&kr(),Ln(i,!0);try{return s.apply(this,arguments)}finally{Ln(p,!1),d&&queueMicrotask(jn)}}}function Jo(s){Promise===He&&Et.echoes===0?$s===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+tn).indexOf("[native code]")===-1&&(kr=jn=_);var gt=me.reject,rr="",En="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",La="String expected.",Er=[],Ms="__dbnames",Xo="readonly",Zo="readwrite";function sr(s,i){return s?i?function(){return s.apply(this,arguments)&&i.apply(this,arguments)}:s:i}var qa={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Bs(s){return typeof s!="string"||/\./.test(s)?function(i){return i}:function(i){return i[s]===void 0&&s in i&&delete(i=ze(i))[s],i}}function Ua(){throw W.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Ue(s,i){try{var c=Ka(s),d=Ka(i);if(c!==d)return c==="Array"?1:d==="Array"?-1:c==="binary"?1:d==="binary"?-1:c==="string"?1:d==="string"?-1:c==="Date"?1:d!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return i<s?1:s<i?-1:0;case"binary":return(function(p,y){for(var b=p.length,k=y.length,C=b<k?b:k,P=0;P<C;++P)if(p[P]!==y[P])return p[P]<y[P]?-1:1;return b===k?0:b<k?-1:1})(Va(s),Va(i));case"Array":return(function(p,y){for(var b=p.length,k=y.length,C=b<k?b:k,P=0;P<C;++P){var R=Ue(p[P],y[P]);if(R!==0)return R}return b===k?0:b<k?-1:1})(s,i)}}catch{}return NaN}function Ka(s){var i=typeof s;return i!="object"?i:ArrayBuffer.isView(s)?"binary":(s=it(s),s==="ArrayBuffer"?"binary":s)}function Va(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function Ns(s,i,c){var d=s.schema.yProps;return d?(i&&0<c.numFailures&&(i=i.filter(function(p,y){return!c.failures[y]})),Promise.all(d.map(function(p){return p=p.updatesTable,i?s.db.table(p).where("k").anyOf(i).delete():s.db.table(p).clear()})).then(function(){return c})):c}var Ha=(dt.prototype._trans=function(s,i,c){var d=this._tx||_e.trans,p=this.name,y=ne&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function b(P,R,E){if(!E.schema[p])throw new W.NotFound("Table "+p+" not part of transaction");return i(E.idbtrans,E)}var k=wr();try{var C=d&&d.db._novip===this.db._novip?d===_e.trans?d._promise(s,b,c):Nn(function(){return d._promise(s,b,c)},{trans:d,transless:_e.transless||_e}):(function P(R,E,T,S){if(R.idbdb&&(R._state.openComplete||_e.letThrough||R._vip)){var O=R._createTransaction(E,T,R._dbSchema);try{O.create(),R._state.PR1398_maxLoop=3}catch($){return $.name===J.InvalidState&&R.isOpen()&&0<--R._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),R.close({disableAutoOpen:!1}),R.open().then(function(){return P(R,E,T,S)})):gt($)}return O._promise(E,function($,D){return Nn(function(){return _e.trans=O,S($,D,O)})}).then(function($){if(E==="readwrite")try{O.idbtrans.commit()}catch{}return E==="readonly"?$:O._completion.then(function(){return $})})}if(R._state.openComplete)return gt(new W.DatabaseClosed(R._state.dbOpenError));if(!R._state.isBeingOpened){if(!R._state.autoOpen)return gt(new W.DatabaseClosed);R.open().catch(_)}return R._state.dbReadyPromise.then(function(){return P(R,E,T,S)})})(this.db,s,[this.name],b);return y&&(C._consoleTask=y,C=C.catch(function(P){return console.trace(P),gt(P)})),C}finally{k&&xr()}},dt.prototype.get=function(s,i){var c=this;return s&&s.constructor===Object?this.where(s).first(i):s==null?gt(new W.Type("Invalid argument to Table.get()")):this._trans("readonly",function(d){return c.core.get({trans:d,key:s}).then(function(p){return c.hook.reading.fire(p)})}).then(i)},dt.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(u(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var i=l(s);if(i.length===1)return this.where(i[0]).equals(s[i[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(k){if(k.compound&&i.every(function(P){return 0<=k.keyPath.indexOf(P)})){for(var C=0;C<i.length;++C)if(i.indexOf(k.keyPath[C])===-1)return!1;return!0}return!1}).sort(function(k,C){return k.keyPath.length-C.keyPath.length})[0];if(c&&this.db._maxKey!==rr){var y=c.keyPath.slice(0,i.length);return this.where(y).equals(y.map(function(C){return s[C]}))}!c&&ne&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(i.join("+"),"]"));var d=this.schema.idxByName;function p(k,C){return Ue(k,C)===0}var b=i.reduce(function(E,C){var P=E[0],R=E[1],E=d[C],T=s[C];return[P||E,P||!E?sr(R,E&&E.multi?function(S){return S=ge(S,C),u(S)&&S.some(function(O){return p(T,O)})}:function(S){return p(T,ge(S,C))}):R]},[null,null]),y=b[0],b=b[1];return y?this.where(y.name).equals(s[y.keyPath]).filter(b):c?this.filter(b):this.where(i).equals("")},dt.prototype.filter=function(s){return this.toCollection().and(s)},dt.prototype.count=function(s){return this.toCollection().count(s)},dt.prototype.offset=function(s){return this.toCollection().offset(s)},dt.prototype.limit=function(s){return this.toCollection().limit(s)},dt.prototype.each=function(s){return this.toCollection().each(s)},dt.prototype.toArray=function(s){return this.toCollection().toArray(s)},dt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},dt.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,u(s)?"[".concat(s.join("+"),"]"):s))},dt.prototype.reverse=function(){return this.toCollection().reverse()},dt.prototype.mapToClass=function(s){var i,c=this.db,d=this.name;function p(){return i!==null&&i.apply(this,arguments)||this}(this.schema.mappedClass=s).prototype instanceof Ua&&((function(C,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function R(){this.constructor=C}n(C,P),C.prototype=P===null?Object.create(P):(R.prototype=P.prototype,new R)})(p,i=s),Object.defineProperty(p.prototype,"db",{get:function(){return c},enumerable:!1,configurable:!0}),p.prototype.table=function(){return d},s=p);for(var y=new Set,b=s.prototype;b;b=m(b))Object.getOwnPropertyNames(b).forEach(function(C){return y.add(C)});function k(C){if(!C)return C;var P,R=Object.create(s.prototype);for(P in C)if(!y.has(P))try{R[P]=C[P]}catch{}return R}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=k,this.hook("reading",k),s},dt.prototype.defineClass=function(){return this.mapToClass(function(s){f(this,s)})},dt.prototype.add=function(s,i){var c=this,d=this.schema.primKey,p=d.auto,y=d.keyPath,b=s;return y&&p&&(b=Bs(y)(s)),this._trans("readwrite",function(k){return c.core.mutate({trans:k,type:"add",keys:i!=null?[i]:null,values:[b]})}).then(function(k){return k.numFailures?me.reject(k.failures[0]):k.lastResult}).then(function(k){if(y)try{Ae(s,y,k)}catch{}return k})},dt.prototype.update=function(s,i){return typeof s!="object"||u(s)?this.where(":id").equals(s).modify(i):(s=ge(s,this.schema.primKey.keyPath),s===void 0?gt(new W.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(i))},dt.prototype.put=function(s,i){var c=this,d=this.schema.primKey,p=d.auto,y=d.keyPath,b=s;return y&&p&&(b=Bs(y)(s)),this._trans("readwrite",function(k){return c.core.mutate({trans:k,type:"put",values:[b],keys:i!=null?[i]:null})}).then(function(k){return k.numFailures?me.reject(k.failures[0]):k.lastResult}).then(function(k){if(y)try{Ae(s,y,k)}catch{}return k})},dt.prototype.delete=function(s){var i=this;return this._trans("readwrite",function(c){return i.core.mutate({trans:c,type:"delete",keys:[s]}).then(function(d){return Ns(i,[s],d)}).then(function(d){return d.numFailures?me.reject(d.failures[0]):void 0})})},dt.prototype.clear=function(){var s=this;return this._trans("readwrite",function(i){return s.core.mutate({trans:i,type:"deleteRange",range:qa}).then(function(c){return Ns(s,null,c)})}).then(function(i){return i.numFailures?me.reject(i.failures[0]):void 0})},dt.prototype.bulkGet=function(s){var i=this;return this._trans("readonly",function(c){return i.core.getMany({keys:s,trans:c}).then(function(d){return d.map(function(p){return i.hook.reading.fire(p)})})})},dt.prototype.bulkAdd=function(s,i,c){var d=this,p=Array.isArray(i)?i:void 0,y=(c=c||(p?void 0:i))?c.allKeys:void 0;return this._trans("readwrite",function(b){var P=d.schema.primKey,k=P.auto,P=P.keyPath;if(P&&p)throw new W.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(p&&p.length!==s.length)throw new W.InvalidArgument("Arguments objects and keys must have the same length");var C=s.length,P=P&&k?s.map(Bs(P)):s;return d.core.mutate({trans:b,type:"add",keys:p,values:P,wantResults:y}).then(function(O){var E=O.numFailures,T=O.results,S=O.lastResult,O=O.failures;if(E===0)return y?T:S;throw new pt("".concat(d.name,".bulkAdd(): ").concat(E," of ").concat(C," operations failed"),O)})})},dt.prototype.bulkPut=function(s,i,c){var d=this,p=Array.isArray(i)?i:void 0,y=(c=c||(p?void 0:i))?c.allKeys:void 0;return this._trans("readwrite",function(b){var P=d.schema.primKey,k=P.auto,P=P.keyPath;if(P&&p)throw new W.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(p&&p.length!==s.length)throw new W.InvalidArgument("Arguments objects and keys must have the same length");var C=s.length,P=P&&k?s.map(Bs(P)):s;return d.core.mutate({trans:b,type:"put",keys:p,values:P,wantResults:y}).then(function(O){var E=O.numFailures,T=O.results,S=O.lastResult,O=O.failures;if(E===0)return y?T:S;throw new pt("".concat(d.name,".bulkPut(): ").concat(E," of ").concat(C," operations failed"),O)})})},dt.prototype.bulkUpdate=function(s){var i=this,c=this.core,d=s.map(function(b){return b.key}),p=s.map(function(b){return b.changes}),y=[];return this._trans("readwrite",function(b){return c.getMany({trans:b,keys:d,cache:"clone"}).then(function(k){var C=[],P=[];s.forEach(function(E,T){var S=E.key,O=E.changes,$=k[T];if($){for(var D=0,M=Object.keys(O);D<M.length;D++){var q=M[D],K=O[q];if(q===i.schema.primKey.keyPath){if(Ue(K,S)!==0)throw new W.Constraint("Cannot update primary key in bulkUpdate()")}else Ae($,q,K)}y.push(T),C.push(S),P.push($)}});var R=C.length;return c.mutate({trans:b,type:"put",keys:C,values:P,updates:{keys:d,changeSpecs:p}}).then(function(E){var T=E.numFailures,S=E.failures;if(T===0)return R;for(var O=0,$=Object.keys(S);O<$.length;O++){var D,M=$[O],q=y[Number(M)];q!=null&&(D=S[M],delete S[M],S[q]=D)}throw new pt("".concat(i.name,".bulkUpdate(): ").concat(T," of ").concat(R," operations failed"),S)})})})},dt.prototype.bulkDelete=function(s){var i=this,c=s.length;return this._trans("readwrite",function(d){return i.core.mutate({trans:d,type:"delete",keys:s}).then(function(p){return Ns(i,s,p)})}).then(function(b){var p=b.numFailures,y=b.lastResult,b=b.failures;if(p===0)return y;throw new pt("".concat(i.name,".bulkDelete(): ").concat(p," of ").concat(c," operations failed"),b)})},dt);function dt(){}function Hr(s){function i(b,k){if(k){for(var C=arguments.length,P=new Array(C-1);--C;)P[C-1]=arguments[C];return c[b].subscribe.apply(null,P),s}if(typeof b=="string")return c[b]}var c={};i.addEventType=y;for(var d=1,p=arguments.length;d<p;++d)y(arguments[d]);return i;function y(b,k,C){if(typeof b!="object"){var P;k=k||ue;var R={subscribers:[],fire:C=C||_,subscribe:function(E){R.subscribers.indexOf(E)===-1&&(R.subscribers.push(E),R.fire=k(R.fire,E))},unsubscribe:function(E){R.subscribers=R.subscribers.filter(function(T){return T!==E}),R.fire=R.subscribers.reduce(k,C)}};return c[b]=i[b]=R}l(P=b).forEach(function(E){var T=P[E];if(u(T))y(E,P[E][0],P[E][1]);else{if(T!=="asap")throw new W.InvalidArgument("Invalid event config");var S=y(E,A,function(){for(var O=arguments.length,$=new Array(O);O--;)$[O]=arguments[O];S.subscribers.forEach(function(D){oe(function(){D.apply(null,$)})})})}})}}function Wr(s,i){return N(i).from({prototype:s}),i}function Ar(s,i){return!(s.filter||s.algorithm||s.or)&&(i?s.justLimit:!s.replayFilter)}function ei(s,i){s.filter=sr(s.filter,i)}function ti(s,i,c){var d=s.replayFilter;s.replayFilter=d?function(){return sr(d(),i())}:i,s.justLimit=c&&!d}function js(s,i){if(s.isPrimKey)return i.primaryKey;var c=i.getIndexByKeyPath(s.index);if(!c)throw new W.Schema("KeyPath "+s.index+" on object store "+i.name+" is not indexed");return c}function Wa(s,i,c){var d=js(s,i.schema);return i.openCursor({trans:c,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:d,range:s.range}})}function Ls(s,i,c,d){var p=s.replayFilter?sr(s.filter,s.replayFilter()):s.filter;if(s.or){var y={},b=function(k,C,P){var R,E;p&&!p(C,P,function(T){return C.stop(T)},function(T){return C.fail(T)})||((E=""+(R=C.primaryKey))=="[object ArrayBuffer]"&&(E=""+new Uint8Array(R)),g(y,E)||(y[E]=!0,i(k,C,P)))};return Promise.all([s.or._iterate(b,c),za(Wa(s,d,c),s.algorithm,b,!s.keysOnly&&s.valueMapper)])}return za(Wa(s,d,c),sr(s.algorithm,p),i,!s.keysOnly&&s.valueMapper)}function za(s,i,c,d){var p=ft(d?function(y,b,k){return c(d(y),b,k)}:c);return s.then(function(y){if(y)return y.start(function(){var b=function(){return y.continue()};i&&!i(y,function(k){return b=k},function(k){y.stop(k),b=_},function(k){y.fail(k),b=_})||p(y.value,y,function(k){return b=k}),b()})})}var zr=(Qa.prototype.execute=function(s){var i=this["@@propmod"];if(i.add!==void 0){var c=i.add;if(u(c))return o(o([],u(s)?s:[],!0),c).sort();if(typeof c=="number")return(Number(s)||0)+c;if(typeof c=="bigint")try{return BigInt(s)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(i.remove!==void 0){var d=i.remove;if(u(d))return u(s)?s.filter(function(p){return!d.includes(p)}).sort():[];if(typeof d=="number")return Number(s)-d;if(typeof d=="bigint")try{return BigInt(s)-d}catch{return BigInt(0)-d}throw new TypeError("Invalid subtrahend ".concat(d))}return c=(c=i.replacePrefix)===null||c===void 0?void 0:c[0],c&&typeof s=="string"&&s.startsWith(c)?i.replacePrefix[1]+s.substring(c.length):s},Qa);function Qa(s){this["@@propmod"]=s}var hd=(Ge.prototype._read=function(s,i){var c=this._ctx;return c.error?c.table._trans(null,gt.bind(null,c.error)):c.table._trans("readonly",s).then(i)},Ge.prototype._write=function(s){var i=this._ctx;return i.error?i.table._trans(null,gt.bind(null,i.error)):i.table._trans("readwrite",s,"locked")},Ge.prototype._addAlgorithm=function(s){var i=this._ctx;i.algorithm=sr(i.algorithm,s)},Ge.prototype._iterate=function(s,i){return Ls(this._ctx,s,i,this._ctx.table.core)},Ge.prototype.clone=function(s){var i=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return s&&f(c,s),i._ctx=c,i},Ge.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ge.prototype.each=function(s){var i=this._ctx;return this._read(function(c){return Ls(i,s,c,i.table.core)})},Ge.prototype.count=function(s){var i=this;return this._read(function(c){var d=i._ctx,p=d.table.core;if(Ar(d,!0))return p.count({trans:c,query:{index:js(d,p.schema),range:d.range}}).then(function(b){return Math.min(b,d.limit)});var y=0;return Ls(d,function(){return++y,!1},c,p).then(function(){return y})}).then(s)},Ge.prototype.sortBy=function(s,i){var c=s.split(".").reverse(),d=c[0],p=c.length-1;function y(C,P){return P?y(C[c[P]],P-1):C[d]}var b=this._ctx.dir==="next"?1:-1;function k(C,P){return Ue(y(C,p),y(P,p))*b}return this.toArray(function(C){return C.sort(k)}).then(i)},Ge.prototype.toArray=function(s){var i=this;return this._read(function(c){var d=i._ctx;if(d.dir==="next"&&Ar(d,!0)&&0<d.limit){var p=d.valueMapper,y=js(d,d.table.core.schema);return d.table.core.query({trans:c,limit:d.limit,values:!0,query:{index:y,range:d.range}}).then(function(k){return k=k.result,p?k.map(p):k})}var b=[];return Ls(d,function(k){return b.push(k)},c,d.table.core).then(function(){return b})},s)},Ge.prototype.offset=function(s){var i=this._ctx;return s<=0||(i.offset+=s,Ar(i)?ti(i,function(){var c=s;return function(d,p){return c===0||(c===1?--c:p(function(){d.advance(c),c=0}),!1)}}):ti(i,function(){var c=s;return function(){return--c<0}})),this},Ge.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),ti(this._ctx,function(){var i=s;return function(c,d,p){return--i<=0&&d(p),0<=i}},!0),this},Ge.prototype.until=function(s,i){return ei(this._ctx,function(c,d,p){return!s(c.value)||(d(p),i)}),this},Ge.prototype.first=function(s){return this.limit(1).toArray(function(i){return i[0]}).then(s)},Ge.prototype.last=function(s){return this.reverse().first(s)},Ge.prototype.filter=function(s){var i;return ei(this._ctx,function(c){return s(c.value)}),(i=this._ctx).isMatch=sr(i.isMatch,s),this},Ge.prototype.and=function(s){return this.filter(s)},Ge.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},Ge.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ge.prototype.desc=function(){return this.reverse()},Ge.prototype.eachKey=function(s){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(c,d){s(d.key,d)})},Ge.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},Ge.prototype.eachPrimaryKey=function(s){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(c,d){s(d.primaryKey,d)})},Ge.prototype.keys=function(s){var i=this._ctx;i.keysOnly=!i.isMatch;var c=[];return this.each(function(d,p){c.push(p.key)}).then(function(){return c}).then(s)},Ge.prototype.primaryKeys=function(s){var i=this._ctx;if(i.dir==="next"&&Ar(i,!0)&&0<i.limit)return this._read(function(d){var p=js(i,i.table.core.schema);return i.table.core.query({trans:d,values:!1,limit:i.limit,query:{index:p,range:i.range}})}).then(function(d){return d.result}).then(s);i.keysOnly=!i.isMatch;var c=[];return this.each(function(d,p){c.push(p.primaryKey)}).then(function(){return c}).then(s)},Ge.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},Ge.prototype.firstKey=function(s){return this.limit(1).keys(function(i){return i[0]}).then(s)},Ge.prototype.lastKey=function(s){return this.reverse().firstKey(s)},Ge.prototype.distinct=function(){var s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];if(!s||!s.multi)return this;var i={};return ei(this._ctx,function(p){var d=p.primaryKey.toString(),p=g(i,d);return i[d]=!0,!p}),this},Ge.prototype.modify=function(s){var i=this,c=this._ctx;return this._write(function(d){var p,y,b;b=typeof s=="function"?s:(p=l(s),y=p.length,function(M){for(var q=!1,K=0;K<y;++K){var z=p[K],re=s[z],le=ge(M,z);re instanceof zr?(Ae(M,z,re.execute(le)),q=!0):le!==re&&(Ae(M,z,re),q=!0)}return q});var k=c.table.core,E=k.schema.primaryKey,C=E.outbound,P=E.extractKey,R=200,E=i.db._options.modifyChunkSize;E&&(R=typeof E=="object"?E[k.name]||E["*"]||200:E);function T(M,z){var K=z.failures,z=z.numFailures;O+=M-z;for(var re=0,le=l(K);re<le.length;re++){var ie=le[re];S.push(K[ie])}}var S=[],O=0,$=[],D=s===Ya;return i.clone().primaryKeys().then(function(M){function q(z){var re=Math.min(R,M.length-z),le=M.slice(z,z+re);return(D?Promise.resolve([]):k.getMany({trans:d,keys:le,cache:"immutable"})).then(function(ie){var ae=[],he=[],de=C?[]:null,ye=D?le:[];if(!D)for(var Le=0;Le<re;++Le){var We=ie[Le],Be={value:ze(We),primKey:M[z+Le]};b.call(Be,Be.value,Be)!==!1&&(Be.value==null?ye.push(M[z+Le]):C||Ue(P(We),P(Be.value))===0?(he.push(Be.value),C&&de.push(M[z+Le])):(ye.push(M[z+Le]),ae.push(Be.value)))}return Promise.resolve(0<ae.length&&k.mutate({trans:d,type:"add",values:ae}).then(function(mt){for(var Me in mt.failures)ye.splice(parseInt(Me),1);T(ae.length,mt)})).then(function(){return(0<he.length||K&&typeof s=="object")&&k.mutate({trans:d,type:"put",keys:de,values:he,criteria:K,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<z}).then(function(mt){return T(he.length,mt)})}).then(function(){return(0<ye.length||K&&D)&&k.mutate({trans:d,type:"delete",keys:ye,criteria:K,isAdditionalChunk:0<z}).then(function(mt){return Ns(c.table,ye,mt)}).then(function(mt){return T(ye.length,mt)})}).then(function(){return M.length>z+re&&q(z+R)})})}var K=Ar(c)&&c.limit===1/0&&(typeof s!="function"||D)&&{index:c.index,range:c.range};return q(0).then(function(){if(0<S.length)throw new Nt("Error modifying one or more objects",S,O,$);return M.length})})})},Ge.prototype.delete=function(){var s=this._ctx,i=s.range;return!Ar(s)||s.table.schema.yProps||!s.isPrimKey&&i.type!==3?this.modify(Ya):this._write(function(c){var d=s.table.core.schema.primaryKey,p=i;return s.table.core.count({trans:c,query:{index:d,range:p}}).then(function(y){return s.table.core.mutate({trans:c,type:"deleteRange",range:p}).then(function(C){var k=C.failures,C=C.numFailures;if(C)throw new Nt("Could not delete some values",Object.keys(k).map(function(P){return k[P]}),y-C);return y-C})})})},Ge);function Ge(){}var Ya=function(s,i){return i.value=null};function md(s,i){return s<i?-1:s===i?0:1}function yd(s,i){return i<s?-1:s===i?0:1}function Yt(s,i,c){return s=s instanceof Ja?new s.Collection(s):s,s._ctx.error=new(c||TypeError)(i),s}function Cr(s){return new s.Collection(s,function(){return Ga("")}).limit(0)}function qs(s,i,c,d){var p,y,b,k,C,P,R,E=c.length;if(!c.every(function(O){return typeof O=="string"}))return Yt(s,La);function T(O){p=O==="next"?function(D){return D.toUpperCase()}:function(D){return D.toLowerCase()},y=O==="next"?function(D){return D.toLowerCase()}:function(D){return D.toUpperCase()},b=O==="next"?md:yd;var $=c.map(function(D){return{lower:y(D),upper:p(D)}}).sort(function(D,M){return b(D.lower,M.lower)});k=$.map(function(D){return D.upper}),C=$.map(function(D){return D.lower}),R=(P=O)==="next"?"":d}T("next"),s=new s.Collection(s,function(){return qn(k[0],C[E-1]+d)}),s._ondirectionchange=function(O){T(O)};var S=0;return s._addAlgorithm(function(O,$,D){var M=O.key;if(typeof M!="string")return!1;var q=y(M);if(i(q,C,S))return!0;for(var K=null,z=S;z<E;++z){var re=(function(le,ie,ae,he,de,ye){for(var Le=Math.min(le.length,he.length),We=-1,Be=0;Be<Le;++Be){var mt=ie[Be];if(mt!==he[Be])return de(le[Be],ae[Be])<0?le.substr(0,Be)+ae[Be]+ae.substr(Be+1):de(le[Be],he[Be])<0?le.substr(0,Be)+he[Be]+ae.substr(Be+1):0<=We?le.substr(0,We)+ie[We]+ae.substr(We+1):null;de(le[Be],mt)<0&&(We=Be)}return Le<he.length&&ye==="next"?le+ae.substr(le.length):Le<le.length&&ye==="prev"?le.substr(0,ae.length):We<0?null:le.substr(0,We)+he[We]+ae.substr(We+1)})(M,q,k[z],C[z],b,P);re===null&&K===null?S=z+1:(K===null||0<b(K,re))&&(K=re)}return $(K!==null?function(){O.continue(K+R)}:D),!1}),s}function qn(s,i,c,d){return{type:2,lower:s,upper:i,lowerOpen:c,upperOpen:d}}function Ga(s){return{type:1,lower:s,upper:s}}var Ja=(Object.defineProperty(At.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),At.prototype.between=function(s,i,c,d){c=c!==!1,d=d===!0;try{return 0<this._cmp(s,i)||this._cmp(s,i)===0&&(c||d)&&(!c||!d)?Cr(this):new this.Collection(this,function(){return qn(s,i,!c,!d)})}catch{return Yt(this,En)}},At.prototype.equals=function(s){return s==null?Yt(this,En):new this.Collection(this,function(){return Ga(s)})},At.prototype.above=function(s){return s==null?Yt(this,En):new this.Collection(this,function(){return qn(s,void 0,!0)})},At.prototype.aboveOrEqual=function(s){return s==null?Yt(this,En):new this.Collection(this,function(){return qn(s,void 0,!1)})},At.prototype.below=function(s){return s==null?Yt(this,En):new this.Collection(this,function(){return qn(void 0,s,!1,!0)})},At.prototype.belowOrEqual=function(s){return s==null?Yt(this,En):new this.Collection(this,function(){return qn(void 0,s)})},At.prototype.startsWith=function(s){return typeof s!="string"?Yt(this,La):this.between(s,s+rr,!0,!0)},At.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):qs(this,function(i,c){return i.indexOf(c[0])===0},[s],rr)},At.prototype.equalsIgnoreCase=function(s){return qs(this,function(i,c){return i===c[0]},[s],"")},At.prototype.anyOfIgnoreCase=function(){var s=L.apply(H,arguments);return s.length===0?Cr(this):qs(this,function(i,c){return c.indexOf(i)!==-1},s,"")},At.prototype.startsWithAnyOfIgnoreCase=function(){var s=L.apply(H,arguments);return s.length===0?Cr(this):qs(this,function(i,c){return c.some(function(d){return i.indexOf(d)===0})},s,rr)},At.prototype.anyOf=function(){var s=this,i=L.apply(H,arguments),c=this._cmp;try{i.sort(c)}catch{return Yt(this,En)}if(i.length===0)return Cr(this);var d=new this.Collection(this,function(){return qn(i[0],i[i.length-1])});d._ondirectionchange=function(y){c=y==="next"?s._ascending:s._descending,i.sort(c)};var p=0;return d._addAlgorithm(function(y,b,k){for(var C=y.key;0<c(C,i[p]);)if(++p===i.length)return b(k),!1;return c(C,i[p])===0||(b(function(){y.continue(i[p])}),!1)}),d},At.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},At.prototype.noneOf=function(){var s=L.apply(H,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return Yt(this,En)}var i=s.reduce(function(c,d){return c?c.concat([[c[c.length-1][1],d]]):[[-1/0,d]]},null);return i.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(i,{includeLowers:!1,includeUppers:!1})},At.prototype.inAnyRange=function(M,i){var c=this,d=this._cmp,p=this._ascending,y=this._descending,b=this._min,k=this._max;if(M.length===0)return Cr(this);if(!M.every(function(q){return q[0]!==void 0&&q[1]!==void 0&&p(q[0],q[1])<=0}))return Yt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",W.InvalidArgument);var C=!i||i.includeLowers!==!1,P=i&&i.includeUppers===!0,R,E=p;function T(q,K){return E(q[0],K[0])}try{(R=M.reduce(function(q,K){for(var z=0,re=q.length;z<re;++z){var le=q[z];if(d(K[0],le[1])<0&&0<d(K[1],le[0])){le[0]=b(le[0],K[0]),le[1]=k(le[1],K[1]);break}}return z===re&&q.push(K),q},[])).sort(T)}catch{return Yt(this,En)}var S=0,O=P?function(q){return 0<p(q,R[S][1])}:function(q){return 0<=p(q,R[S][1])},$=C?function(q){return 0<y(q,R[S][0])}:function(q){return 0<=y(q,R[S][0])},D=O,M=new this.Collection(this,function(){return qn(R[0][0],R[R.length-1][1],!C,!P)});return M._ondirectionchange=function(q){E=q==="next"?(D=O,p):(D=$,y),R.sort(T)},M._addAlgorithm(function(q,K,z){for(var re,le=q.key;D(le);)if(++S===R.length)return K(z),!1;return!O(re=le)&&!$(re)||(c._cmp(le,R[S][1])===0||c._cmp(le,R[S][0])===0||K(function(){E===p?q.continue(R[S][0]):q.continue(R[S][1])}),!1)}),M},At.prototype.startsWithAnyOf=function(){var s=L.apply(H,arguments);return s.every(function(i){return typeof i=="string"})?s.length===0?Cr(this):this.inAnyRange(s.map(function(i){return[i,i+rr]})):Yt(this,"startsWithAnyOf() only works with strings")},At);function At(){}function dn(s){return ft(function(i){return Qr(i),s(i.target.error),!1})}function Qr(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var Yr="storagemutated",ni="x-storagemutated-1",Un=Hr(null,Yr),gd=(fn.prototype._lock=function(){return F(!_e.global),++this._reculock,this._reculock!==1||_e.global||(_e.lockOwnerFor=this),this},fn.prototype._unlock=function(){if(F(!_e.global),--this._reculock==0)for(_e.global||(_e.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{nr(s[1],s[0])}catch{}}return this},fn.prototype._locked=function(){return this._reculock&&_e.lockOwnerFor!==this},fn.prototype.create=function(s){var i=this;if(!this.mode)return this;var c=this.db.idbdb,d=this.db._state.dbOpenError;if(F(!this.idbtrans),!s&&!c)switch(d&&d.name){case"DatabaseClosedError":throw new W.DatabaseClosed(d);case"MissingAPIError":throw new W.MissingAPI(d.message,d);default:throw new W.OpenFailed(d)}if(!this.active)throw new W.TransactionInactive;return F(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ft(function(p){Qr(p),i._reject(s.error)}),s.onabort=ft(function(p){Qr(p),i.active&&i._reject(new W.Abort(s.error)),i.active=!1,i.on("abort").fire(p)}),s.oncomplete=ft(function(){i.active=!1,i._resolve(),"mutatedParts"in s&&Un.storagemutated.fire(s.mutatedParts)}),this},fn.prototype._promise=function(s,i,c){var d=this;if(s==="readwrite"&&this.mode!=="readwrite")return gt(new W.ReadOnly("Transaction is readonly"));if(!this.active)return gt(new W.TransactionInactive);if(this._locked())return new me(function(y,b){d._blockedFuncs.push([function(){d._promise(s,i,c).then(y,b)},_e])});if(c)return Nn(function(){var y=new me(function(b,k){d._lock();var C=i(b,k,d);C&&C.then&&C.then(b,k)});return y.finally(function(){return d._unlock()}),y._lib=!0,y});var p=new me(function(y,b){var k=i(y,b,d);k&&k.then&&k.then(y,b)});return p._lib=!0,p},fn.prototype._root=function(){return this.parent?this.parent._root():this},fn.prototype.waitFor=function(s){var i,c=this._root(),d=me.resolve(s);c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return d}):(c._waitingFor=d,c._waitingQueue=[],i=c.idbtrans.objectStore(c.storeNames[0]),(function y(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(i.get(-1/0).onsuccess=y)})());var p=c._waitingFor;return new me(function(y,b){d.then(function(k){return c._waitingQueue.push(ft(y.bind(null,k)))},function(k){return c._waitingQueue.push(ft(b.bind(null,k)))}).finally(function(){c._waitingFor===p&&(c._waitingFor=null)})})},fn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new W.Abort))},fn.prototype.table=function(s){var i=this._memoizedTables||(this._memoizedTables={});if(g(i,s))return i[s];var c=this.schema[s];if(!c)throw new W.NotFound("Table "+s+" not part of transaction");return c=new this.db.Table(s,c,this),c.core=this.db.core.table(s),i[s]=c},fn);function fn(){}function ri(s,i,c,d,p,y,b,k){return{name:s,keyPath:i,unique:c,multi:d,auto:p,compound:y,src:(c&&!b?"&":"")+(d?"*":"")+(p?"++":"")+Xa(i),type:k}}function Xa(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function si(s,i,c){return{name:s,primKey:i,indexes:c,mappedClass:null,idxByName:(d=function(p){return[p.name,p]},c.reduce(function(p,y,b){return b=d(y,b),b&&(p[b[0]]=b[1]),p},{}))};var d}var Gr=function(s){try{return s.only([[]]),Gr=function(){return[[]]},[[]]}catch{return Gr=function(){return rr},rr}};function oi(s){return s==null?function(){}:typeof s=="string"?(i=s).split(".").length===1?function(c){return c[i]}:function(c){return ge(c,i)}:function(c){return ge(c,s)};var i}function Za(s){return[].slice.call(s)}var vd=0;function Jr(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function bd(s,i,C){function d(D){if(D.type===3)return null;if(D.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var S=D.lower,O=D.upper,$=D.lowerOpen,D=D.upperOpen;return S===void 0?O===void 0?null:i.upperBound(O,!!D):O===void 0?i.lowerBound(S,!!$):i.bound(S,O,!!$,!!D)}function p(T){var S,O=T.name;return{name:O,schema:T,mutate:function($){var D=$.trans,M=$.type,q=$.keys,K=$.values,z=$.range;return new Promise(function(re,le){re=ft(re);var ie=D.objectStore(O),ae=ie.keyPath==null,he=M==="put"||M==="add";if(!he&&M!=="delete"&&M!=="deleteRange")throw new Error("Invalid operation type: "+M);var de,ye=(q||K||{length:1}).length;if(q&&K&&q.length!==K.length)throw new Error("Given keys array must have same length as given values array.");if(ye===0)return re({numFailures:0,failures:{},results:[],lastResult:void 0});function Le(Lt){++mt,Qr(Lt)}var We=[],Be=[],mt=0;if(M==="deleteRange"){if(z.type===4)return re({numFailures:mt,failures:Be,results:[],lastResult:void 0});z.type===3?We.push(de=ie.clear()):We.push(de=ie.delete(d(z)))}else{var ae=he?ae?[K,q]:[K,null]:[q,null],Me=ae[0],Dt=ae[1];if(he)for(var $t=0;$t<ye;++$t)We.push(de=Dt&&Dt[$t]!==void 0?ie[M](Me[$t],Dt[$t]):ie[M](Me[$t])),de.onerror=Le;else for($t=0;$t<ye;++$t)We.push(de=ie[M](Me[$t])),de.onerror=Le}function Zs(Lt){Lt=Lt.target.result,We.forEach(function(ar,ki){return ar.error!=null&&(Be[ki]=ar.error)}),re({numFailures:mt,failures:Be,results:M==="delete"?q:We.map(function(ar){return ar.result}),lastResult:Lt})}de.onerror=function(Lt){Le(Lt),Zs(Lt)},de.onsuccess=Zs})},getMany:function($){var D=$.trans,M=$.keys;return new Promise(function(q,K){q=ft(q);for(var z,re=D.objectStore(O),le=M.length,ie=new Array(le),ae=0,he=0,de=function(We){We=We.target,ie[We._pos]=We.result,++he===ae&&q(ie)},ye=dn(K),Le=0;Le<le;++Le)M[Le]!=null&&((z=re.get(M[Le]))._pos=Le,z.onsuccess=de,z.onerror=ye,++ae);ae===0&&q(ie)})},get:function($){var D=$.trans,M=$.key;return new Promise(function(q,K){q=ft(q);var z=D.objectStore(O).get(M);z.onsuccess=function(re){return q(re.target.result)},z.onerror=dn(K)})},query:(S=P,function($){return new Promise(function(D,M){D=ft(D);var q,K,z,ae=$.trans,re=$.values,le=$.limit,de=$.query,ie=le===1/0?void 0:le,he=de.index,de=de.range,ae=ae.objectStore(O),he=he.isPrimaryKey?ae:ae.index(he.name),de=d(de);if(le===0)return D({result:[]});S?((ie=re?he.getAll(de,ie):he.getAllKeys(de,ie)).onsuccess=function(ye){return D({result:ye.target.result})},ie.onerror=dn(M)):(q=0,K=!re&&"openKeyCursor"in he?he.openKeyCursor(de):he.openCursor(de),z=[],K.onsuccess=function(ye){var Le=K.result;return Le?(z.push(re?Le.value:Le.primaryKey),++q===le?D({result:z}):void Le.continue()):D({result:z})},K.onerror=dn(M))})}),openCursor:function($){var D=$.trans,M=$.values,q=$.query,K=$.reverse,z=$.unique;return new Promise(function(re,le){re=ft(re);var he=q.index,ie=q.range,ae=D.objectStore(O),ae=he.isPrimaryKey?ae:ae.index(he.name),he=K?z?"prevunique":"prev":z?"nextunique":"next",de=!M&&"openKeyCursor"in ae?ae.openKeyCursor(d(ie),he):ae.openCursor(d(ie),he);de.onerror=dn(le),de.onsuccess=ft(function(ye){var Le,We,Be,mt,Me=de.result;Me?(Me.___id=++vd,Me.done=!1,Le=Me.continue.bind(Me),We=(We=Me.continuePrimaryKey)&&We.bind(Me),Be=Me.advance.bind(Me),mt=function(){throw new Error("Cursor not stopped")},Me.trans=D,Me.stop=Me.continue=Me.continuePrimaryKey=Me.advance=function(){throw new Error("Cursor not started")},Me.fail=ft(le),Me.next=function(){var Dt=this,$t=1;return this.start(function(){return $t--?Dt.continue():Dt.stop()}).then(function(){return Dt})},Me.start=function(Dt){function $t(){if(de.result)try{Dt()}catch(Lt){Me.fail(Lt)}else Me.done=!0,Me.start=function(){throw new Error("Cursor behind last entry")},Me.stop()}var Zs=new Promise(function(Lt,ar){Lt=ft(Lt),de.onerror=dn(ar),Me.fail=ar,Me.stop=function(ki){Me.stop=Me.continue=Me.continuePrimaryKey=Me.advance=mt,Lt(ki)}});return de.onsuccess=ft(function(Lt){de.onsuccess=$t,$t()}),Me.continue=Le,Me.continuePrimaryKey=We,Me.advance=Be,$t(),Zs},re(Me)):re(null)},le)})},count:function($){var D=$.query,M=$.trans,q=D.index,K=D.range;return new Promise(function(z,re){var le=M.objectStore(O),ie=q.isPrimaryKey?le:le.index(q.name),le=d(K),ie=le?ie.count(le):ie.count();ie.onsuccess=ft(function(ae){return z(ae.target.result)}),ie.onerror=dn(re)})}}}var y,b,k,R=(b=C,k=Za((y=s).objectStoreNames),{schema:{name:y.name,tables:k.map(function(T){return b.objectStore(T)}).map(function(T){var S=T.keyPath,D=T.autoIncrement,O=u(S),$={},D={name:T.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:S==null,compound:O,keyPath:S,autoIncrement:D,unique:!0,extractKey:oi(S)},indexes:Za(T.indexNames).map(function(M){return T.index(M)}).map(function(z){var q=z.name,K=z.unique,re=z.multiEntry,z=z.keyPath,re={name:q,compound:u(z),keyPath:z,unique:K,multiEntry:re,extractKey:oi(z)};return $[Jr(z)]=re}),getIndexByKeyPath:function(M){return $[Jr(M)]}};return $[":id"]=D.primaryKey,S!=null&&($[Jr(S)]=D.primaryKey),D})},hasGetAll:0<k.length&&"getAll"in b.objectStore(k[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),C=R.schema,P=R.hasGetAll,R=C.tables.map(p),E={};return R.forEach(function(T){return E[T.name]=T}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(T){if(!E[T])throw new Error("Table '".concat(T,"' not found"));return E[T]},MIN_KEY:-1/0,MAX_KEY:Gr(i),schema:C}}function _d(s,i,c,d){var p=c.IDBKeyRange;return c.indexedDB,{dbcore:(d=bd(i,p,d),s.dbcore.reduce(function(y,b){return b=b.create,r(r({},y),b(y))},d))}}function Us(s,d){var c=d.db,d=_d(s._middlewares,c,s._deps,d);s.core=d.dbcore,s.tables.forEach(function(p){var y=p.name;s.core.schema.tables.some(function(b){return b.name===y})&&(p.core=s.core.table(y),s[y]instanceof s.Table&&(s[y].core=p.core))})}function Ks(s,i,c,d){c.forEach(function(p){var y=d[p];i.forEach(function(b){var k=(function C(P,R){return Q(P,R)||(P=m(P))&&C(P,R)})(b,p);(!k||"value"in k&&k.value===void 0)&&(b===s.Transaction.prototype||b instanceof s.Transaction?I(b,p,{get:function(){return this.table(p)},set:function(C){x(this,p,{value:C,writable:!0,configurable:!0,enumerable:!0})}}):b[p]=new s.Table(p,y))})})}function ii(s,i){i.forEach(function(c){for(var d in c)c[d]instanceof s.Table&&delete c[d]})}function wd(s,i){return s._cfg.version-i._cfg.version}function xd(s,i,c,d){var p=s._dbSchema;c.objectStoreNames.contains("$meta")&&!p.$meta&&(p.$meta=si("$meta",tc("")[0],[]),s._storeNames.push("$meta"));var y=s._createTransaction("readwrite",s._storeNames,p);y.create(c),y._completion.catch(d);var b=y._reject.bind(y),k=_e.transless||_e;Nn(function(){return _e.trans=y,_e.transless=k,i!==0?(Us(s,c),P=i,((C=y).storeNames.includes("$meta")?C.table("$meta").get("version").then(function(R){return R??P}):me.resolve(P)).then(function(R){return T=R,S=y,O=c,$=[],R=(E=s)._versions,D=E._dbSchema=Hs(0,E.idbdb,O),(R=R.filter(function(M){return M._cfg.version>=T})).length!==0?(R.forEach(function(M){$.push(function(){var q=D,K=M._cfg.dbschema;Ws(E,q,O),Ws(E,K,O),D=E._dbSchema=K;var z=ai(q,K);z.add.forEach(function(he){ci(O,he[0],he[1].primKey,he[1].indexes)}),z.change.forEach(function(he){if(he.recreate)throw new W.Upgrade("Not yet support for changing primary key");var de=O.objectStore(he.name);he.add.forEach(function(ye){return Vs(de,ye)}),he.change.forEach(function(ye){de.deleteIndex(ye.name),Vs(de,ye)}),he.del.forEach(function(ye){return de.deleteIndex(ye)})});var re=M._cfg.contentUpgrade;if(re&&M._cfg.version>T){Us(E,O),S._memoizedTables={};var le=Se(K);z.del.forEach(function(he){le[he]=q[he]}),ii(E,[E.Transaction.prototype]),Ks(E,[E.Transaction.prototype],l(le),le),S.schema=le;var ie,ae=Ie(re);return ae&&kr(),z=me.follow(function(){var he;(ie=re(S))&&ae&&(he=jn.bind(null,null),ie.then(he,he))}),ie&&typeof ie.then=="function"?me.resolve(ie):z.then(function(){return ie})}}),$.push(function(q){var K,z,re=M._cfg.dbschema;K=re,z=q,[].slice.call(z.db.objectStoreNames).forEach(function(le){return K[le]==null&&z.db.deleteObjectStore(le)}),ii(E,[E.Transaction.prototype]),Ks(E,[E.Transaction.prototype],E._storeNames,E._dbSchema),S.schema=E._dbSchema}),$.push(function(q){E.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(E.idbdb.version/10)===M._cfg.version?(E.idbdb.deleteObjectStore("$meta"),delete E._dbSchema.$meta,E._storeNames=E._storeNames.filter(function(K){return K!=="$meta"})):q.objectStore("$meta").put(M._cfg.version,"version"))})}),(function M(){return $.length?me.resolve($.shift()(S.idbtrans)).then(M):me.resolve()})().then(function(){ec(D,O)})):me.resolve();var E,T,S,O,$,D}).catch(b)):(l(p).forEach(function(R){ci(c,R,p[R].primKey,p[R].indexes)}),Us(s,c),void me.follow(function(){return s.on.populate.fire(y)}).catch(b));var C,P})}function kd(s,i){ec(s._dbSchema,i),i.db.version%10!=0||i.objectStoreNames.contains("$meta")||i.db.createObjectStore("$meta").add(Math.ceil(i.db.version/10-1),"version");var c=Hs(0,s.idbdb,i);Ws(s,s._dbSchema,i);for(var d=0,p=ai(c,s._dbSchema).change;d<p.length;d++){var y=(function(b){if(b.change.length||b.recreate)return console.warn("Unable to patch indexes of table ".concat(b.name," because it has changes on the type of index or primary key.")),{value:void 0};var k=i.objectStore(b.name);b.add.forEach(function(C){ne&&console.debug("Dexie upgrade patch: Creating missing index ".concat(b.name,".").concat(C.src)),Vs(k,C)})})(p[d]);if(typeof y=="object")return y.value}}function ai(s,i){var c,d={del:[],add:[],change:[]};for(c in s)i[c]||d.del.push(c);for(c in i){var p=s[c],y=i[c];if(p){var b={name:c,def:y,recreate:!1,del:[],add:[],change:[]};if(""+(p.primKey.keyPath||"")!=""+(y.primKey.keyPath||"")||p.primKey.auto!==y.primKey.auto)b.recreate=!0,d.change.push(b);else{var k=p.idxByName,C=y.idxByName,P=void 0;for(P in k)C[P]||b.del.push(P);for(P in C){var R=k[P],E=C[P];R?R.src!==E.src&&b.change.push(E):b.add.push(E)}(0<b.del.length||0<b.add.length||0<b.change.length)&&d.change.push(b)}}else d.add.push([c,y])}return d}function ci(s,i,c,d){var p=s.db.createObjectStore(i,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return d.forEach(function(y){return Vs(p,y)}),p}function ec(s,i){l(s).forEach(function(c){i.db.objectStoreNames.contains(c)||(ne&&console.debug("Dexie: Creating missing table",c),ci(i,c,s[c].primKey,s[c].indexes))})}function Vs(s,i){s.createIndex(i.name,i.keyPath,{unique:i.unique,multiEntry:i.multi})}function Hs(s,i,c){var d={};return X(i.objectStoreNames,0).forEach(function(p){for(var y=c.objectStore(p),b=ri(Xa(P=y.keyPath),P||"",!0,!1,!!y.autoIncrement,P&&typeof P!="string",!0),k=[],C=0;C<y.indexNames.length;++C){var R=y.index(y.indexNames[C]),P=R.keyPath,R=ri(R.name,P,!!R.unique,!!R.multiEntry,!1,P&&typeof P!="string",!1);k.push(R)}d[p]=si(p,b,k)}),d}function Ws(s,i,c){for(var d=c.db.objectStoreNames,p=0;p<d.length;++p){var y=d[p],b=c.objectStore(y);s._hasGetAll="getAll"in b;for(var k=0;k<b.indexNames.length;++k){var C=b.indexNames[k],P=b.index(C).keyPath,R=typeof P=="string"?P:"["+X(P).join("+")+"]";!i[y]||(P=i[y].idxByName[R])&&(P.name=C,delete i[y].idxByName[R],i[y].idxByName[C]=P)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function tc(s){return s.split(",").map(function(i,c){var y=i.split(":"),d=(p=y[1])===null||p===void 0?void 0:p.trim(),p=(i=y[0].trim()).replace(/([&*]|\+\+)/g,""),y=/^\[/.test(p)?p.match(/^\[(.*)\]$/)[1].split("+"):p;return ri(p,y||null,/\&/.test(i),/\*/.test(i),/\+\+/.test(i),u(y),c===0,d)})}var Ed=(Sr.prototype._createTableSchema=si,Sr.prototype._parseIndexSyntax=tc,Sr.prototype._parseStoresSpec=function(s,i){var c=this;l(s).forEach(function(d){if(s[d]!==null){var p=c._parseIndexSyntax(s[d]),y=p.shift();if(!y)throw new W.Schema("Invalid schema for table "+d+": "+s[d]);if(y.unique=!0,y.multi)throw new W.Schema("Primary key cannot be multiEntry*");p.forEach(function(b){if(b.auto)throw new W.Schema("Only primary key can be marked as autoIncrement (++)");if(!b.keyPath)throw new W.Schema("Index must have a name and cannot be an empty string")}),p=c._createTableSchema(d,y,p),i[d]=p}})},Sr.prototype.stores=function(c){var i=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,c):c;var c=i._versions,d={},p={};return c.forEach(function(y){f(d,y._cfg.storesSource),p=y._cfg.dbschema={},y._parseStoresSpec(d,p)}),i._dbSchema=p,ii(i,[i._allTables,i,i.Transaction.prototype]),Ks(i,[i._allTables,i,i.Transaction.prototype,this._cfg.tables],l(p),p),i._storeNames=l(p),this},Sr.prototype.upgrade=function(s){return this._cfg.contentUpgrade=ce(this._cfg.contentUpgrade||_,s),this},Sr);function Sr(){}function li(s,i){var c=s._dbNamesDB;return c||(c=s._dbNamesDB=new An(Ms,{addons:[],indexedDB:s,IDBKeyRange:i})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function ui(s){return s&&typeof s.databases=="function"}function di(s){return Nn(function(){return _e.letThrough=!0,s()})}function fi(s){return!("from"in s)}var Rt=function(s,i){if(!this){var c=new Rt;return s&&"d"in s&&f(c,s),c}f(this,arguments.length?{d:1,from:s,to:1<arguments.length?i:s}:{d:0})};function Xr(s,i,c){var d=Ue(i,c);if(!isNaN(d)){if(0<d)throw RangeError();if(fi(s))return f(s,{from:i,to:c,d:1});var p=s.l,d=s.r;if(Ue(c,s.from)<0)return p?Xr(p,i,c):s.l={from:i,to:c,d:1,l:null,r:null},rc(s);if(0<Ue(i,s.to))return d?Xr(d,i,c):s.r={from:i,to:c,d:1,l:null,r:null},rc(s);Ue(i,s.from)<0&&(s.from=i,s.l=null,s.d=d?d.d+1:1),0<Ue(c,s.to)&&(s.to=c,s.r=null,s.d=s.l?s.l.d+1:1),c=!s.r,p&&!s.l&&Zr(s,p),d&&c&&Zr(s,d)}}function Zr(s,i){fi(i)||(function c(d,C){var y=C.from,b=C.to,k=C.l,C=C.r;Xr(d,y,b),k&&c(d,k),C&&c(d,C)})(s,i)}function nc(s,i){var c=zs(i),d=c.next();if(d.done)return!1;for(var p=d.value,y=zs(s),b=y.next(p.from),k=b.value;!d.done&&!b.done;){if(Ue(k.from,p.to)<=0&&0<=Ue(k.to,p.from))return!0;Ue(p.from,k.from)<0?p=(d=c.next(k.from)).value:k=(b=y.next(p.from)).value}return!1}function zs(s){var i=fi(s)?null:{s:0,n:s};return{next:function(c){for(var d=0<arguments.length;i;)switch(i.s){case 0:if(i.s=1,d)for(;i.n.l&&Ue(c,i.n.from)<0;)i={up:i,n:i.n.l,s:1};else for(;i.n.l;)i={up:i,n:i.n.l,s:1};case 1:if(i.s=2,!d||Ue(c,i.n.to)<=0)return{value:i.n,done:!1};case 2:if(i.n.r){i.s=3,i={up:i,n:i.n.r,s:0};continue}case 3:i=i.up}return{done:!0}}}}function rc(s){var i,c,d=(((i=s.r)===null||i===void 0?void 0:i.d)||0)-(((c=s.l)===null||c===void 0?void 0:c.d)||0),p=1<d?"r":d<-1?"l":"";p&&(i=p=="r"?"l":"r",c=r({},s),d=s[p],s.from=d.from,s.to=d.to,s[p]=d[p],c[p]=d[i],(s[i]=c).d=sc(c)),s.d=sc(s)}function sc(c){var i=c.r,c=c.l;return(i?c?Math.max(i.d,c.d):i.d:c?c.d:0)+1}function Qs(s,i){return l(i).forEach(function(c){s[c]?Zr(s[c],i[c]):s[c]=(function d(p){var y,b,k={};for(y in p)g(p,y)&&(b=p[y],k[y]=!b||typeof b!="object"||ut.has(b.constructor)?b:d(b));return k})(i[c])}),s}function pi(s,i){return s.all||i.all||Object.keys(s).some(function(c){return i[c]&&nc(i[c],s[c])})}v(Rt.prototype,((tn={add:function(s){return Zr(this,s),this},addKey:function(s){return Xr(this,s,s),this},addKeys:function(s){var i=this;return s.forEach(function(c){return Xr(i,c,c)}),this},hasKey:function(s){var i=zs(this).next(s).value;return i&&Ue(i.from,s)<=0&&0<=Ue(i.to,s)}})[Fe]=function(){return zs(this)},tn));var or={},hi={},mi=!1;function Ys(s){Qs(hi,s),mi||(mi=!0,setTimeout(function(){mi=!1,yi(hi,!(hi={}))},0))}function yi(s,i){i===void 0&&(i=!1);var c=new Set;if(s.all)for(var d=0,p=Object.values(or);d<p.length;d++)oc(b=p[d],s,c,i);else for(var y in s){var b,k=/^idb\:\/\/(.*)\/(.*)\//.exec(y);k&&(y=k[1],k=k[2],(b=or["idb://".concat(y,"/").concat(k)])&&oc(b,s,c,i))}c.forEach(function(C){return C()})}function oc(s,i,c,d){for(var p=[],y=0,b=Object.entries(s.queries.query);y<b.length;y++){for(var k=b[y],C=k[0],P=[],R=0,E=k[1];R<E.length;R++){var T=E[R];pi(i,T.obsSet)?T.subscribers.forEach(function(D){return c.add(D)}):d&&P.push(T)}d&&p.push([C,P])}if(d)for(var S=0,O=p;S<O.length;S++){var $=O[S],C=$[0],P=$[1];s.queries.query[C]=P}}function Ad(s){var i=s._state,c=s._deps.indexedDB;if(i.isBeingOpened||s.idbdb)return i.dbReadyPromise.then(function(){return i.dbOpenError?gt(i.dbOpenError):s});i.isBeingOpened=!0,i.dbOpenError=null,i.openComplete=!1;var d=i.openCanceller,p=Math.round(10*s.verno),y=!1;function b(){if(i.openCanceller!==d)throw new W.DatabaseClosed("db.open() was cancelled")}function k(){return new me(function(T,S){if(b(),!c)throw new W.MissingAPI;var O=s.name,$=i.autoSchema||!p?c.open(O):c.open(O,p);if(!$)throw new W.MissingAPI;$.onerror=dn(S),$.onblocked=ft(s._fireOnBlocked),$.onupgradeneeded=ft(function(D){var M;R=$.transaction,i.autoSchema&&!s._options.allowEmptyDB?($.onerror=Qr,R.abort(),$.result.close(),(M=c.deleteDatabase(O)).onsuccess=M.onerror=ft(function(){S(new W.NoSuchDatabase("Database ".concat(O," doesnt exist")))})):(R.onerror=dn(S),D=D.oldVersion>Math.pow(2,62)?0:D.oldVersion,E=D<1,s.idbdb=$.result,y&&kd(s,R),xd(s,D/10,R,S))},S),$.onsuccess=ft(function(){R=null;var D,M,q,K,z,re=s.idbdb=$.result,le=X(re.objectStoreNames);if(0<le.length)try{var ie=re.transaction((K=le).length===1?K[0]:K,"readonly");if(i.autoSchema)M=re,q=ie,(D=s).verno=M.version/10,q=D._dbSchema=Hs(0,M,q),D._storeNames=X(M.objectStoreNames,0),Ks(D,[D._allTables],l(q),q);else if(Ws(s,s._dbSchema,ie),((z=ai(Hs(0,(z=s).idbdb,ie),z._dbSchema)).add.length||z.change.some(function(ae){return ae.add.length||ae.change.length}))&&!y)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),re.close(),p=re.version+1,y=!0,T(k());Us(s,ie)}catch{}Er.push(s),re.onversionchange=ft(function(ae){i.vcFired=!0,s.on("versionchange").fire(ae)}),re.onclose=ft(function(ae){s.on("close").fire(ae)}),E&&(z=s._deps,ie=O,re=z.indexedDB,z=z.IDBKeyRange,ui(re)||ie===Ms||li(re,z).put({name:ie}).catch(_)),T()},S)}).catch(function(T){switch(T?.name){case"UnknownError":if(0<i.PR1398_maxLoop)return i.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),k();break;case"VersionError":if(0<p)return p=0,k()}return me.reject(T)})}var C,P=i.dbReadyResolve,R=null,E=!1;return me.race([d,(typeof navigator>"u"?me.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(T){function S(){return indexedDB.databases().finally(T)}C=setInterval(S,100),S()}).finally(function(){return clearInterval(C)}):Promise.resolve()).then(k)]).then(function(){return b(),i.onReadyBeingFired=[],me.resolve(di(function(){return s.on.ready.fire(s.vip)})).then(function T(){if(0<i.onReadyBeingFired.length){var S=i.onReadyBeingFired.reduce(ce,_);return i.onReadyBeingFired=[],me.resolve(di(function(){return S(s.vip)})).then(T)}})}).finally(function(){i.openCanceller===d&&(i.onReadyBeingFired=null,i.isBeingOpened=!1)}).catch(function(T){i.dbOpenError=T;try{R&&R.abort()}catch{}return d===i.openCanceller&&s._close(),gt(T)}).finally(function(){i.openComplete=!0,P()}).then(function(){var T;return E&&(T={},s.tables.forEach(function(S){S.schema.indexes.forEach(function(O){O.name&&(T["idb://".concat(s.name,"/").concat(S.name,"/").concat(O.name)]=new Rt(-1/0,[[[]]]))}),T["idb://".concat(s.name,"/").concat(S.name,"/")]=T["idb://".concat(s.name,"/").concat(S.name,"/:dels")]=new Rt(-1/0,[[[]]])}),Un(Yr).fire(T),yi(T,!0)),s})}function gi(s){function i(y){return s.next(y)}var c=p(i),d=p(function(y){return s.throw(y)});function p(y){return function(C){var k=y(C),C=k.value;return k.done?C:C&&typeof C.then=="function"?C.then(c,d):u(C)?Promise.all(C).then(c,d):c(C)}}return p(i)()}function Gs(s,i,c){for(var d=u(s)?s.slice():[s],p=0;p<c;++p)d.push(i);return d}var Cd={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return r(r({},s),{table:function(i){var c=s.table(i),d=c.schema,p={},y=[];function b(E,T,S){var O=Jr(E),$=p[O]=p[O]||[],D=E==null?0:typeof E=="string"?1:E.length,M=0<T,M=r(r({},S),{name:M?"".concat(O,"(virtual-from:").concat(S.name,")"):S.name,lowLevelIndex:S,isVirtual:M,keyTail:T,keyLength:D,extractKey:oi(E),unique:!M&&S.unique});return $.push(M),M.isPrimaryKey||y.push(M),1<D&&b(D===2?E[0]:E.slice(0,D-1),T+1,S),$.sort(function(q,K){return q.keyTail-K.keyTail}),M}i=b(d.primaryKey.keyPath,0,d.primaryKey),p[":id"]=[i];for(var k=0,C=d.indexes;k<C.length;k++){var P=C[k];b(P.keyPath,0,P)}function R(E){var T,S=E.query.index;return S.isVirtual?r(r({},E),{query:{index:S.lowLevelIndex,range:(T=E.query.range,S=S.keyTail,{type:T.type===1?2:T.type,lower:Gs(T.lower,T.lowerOpen?s.MAX_KEY:s.MIN_KEY,S),lowerOpen:!0,upper:Gs(T.upper,T.upperOpen?s.MIN_KEY:s.MAX_KEY,S),upperOpen:!0})}}):E}return r(r({},c),{schema:r(r({},d),{primaryKey:i,indexes:y,getIndexByKeyPath:function(E){return(E=p[Jr(E)])&&E[0]}}),count:function(E){return c.count(R(E))},query:function(E){return c.query(R(E))},openCursor:function(E){var T=E.query.index,S=T.keyTail,O=T.isVirtual,$=T.keyLength;return O?c.openCursor(R(E)).then(function(M){return M&&D(M)}):c.openCursor(E);function D(M){return Object.create(M,{continue:{value:function(q){q!=null?M.continue(Gs(q,E.reverse?s.MAX_KEY:s.MIN_KEY,S)):E.unique?M.continue(M.key.slice(0,$).concat(E.reverse?s.MIN_KEY:s.MAX_KEY,S)):M.continue()}},continuePrimaryKey:{value:function(q,K){M.continuePrimaryKey(Gs(q,s.MAX_KEY,S),K)}},primaryKey:{get:function(){return M.primaryKey}},key:{get:function(){var q=M.key;return $===1?q[0]:q.slice(0,$)}},value:{get:function(){return M.value}}})}}})}})}};function vi(s,i,c,d){return c=c||{},d=d||"",l(s).forEach(function(p){var y,b,k;g(i,p)?(y=s[p],b=i[p],typeof y=="object"&&typeof b=="object"&&y&&b?(k=it(y))!==it(b)?c[d+p]=i[p]:k==="Object"?vi(y,b,c,d+p+"."):y!==b&&(c[d+p]=i[p]):y!==b&&(c[d+p]=i[p])):c[d+p]=void 0}),l(i).forEach(function(p){g(s,p)||(c[d+p]=i[p])}),c}function bi(s,i){return i.type==="delete"?i.keys:i.keys||i.values.map(s.extractKey)}var Sd={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return r(r({},s),{table:function(i){var c=s.table(i),d=c.schema.primaryKey;return r(r({},c),{mutate:function(p){var y=_e.trans,b=y.table(i).hook,k=b.deleting,C=b.creating,P=b.updating;switch(p.type){case"add":if(C.fire===_)break;return y._promise("readwrite",function(){return R(p)},!0);case"put":if(C.fire===_&&P.fire===_)break;return y._promise("readwrite",function(){return R(p)},!0);case"delete":if(k.fire===_)break;return y._promise("readwrite",function(){return R(p)},!0);case"deleteRange":if(k.fire===_)break;return y._promise("readwrite",function(){return(function E(T,S,O){return c.query({trans:T,values:!1,query:{index:d,range:S},limit:O}).then(function($){var D=$.result;return R({type:"delete",keys:D,trans:T}).then(function(M){return 0<M.numFailures?Promise.reject(M.failures[0]):D.length<O?{failures:[],numFailures:0,lastResult:void 0}:E(T,r(r({},S),{lower:D[D.length-1],lowerOpen:!0}),O)})})})(p.trans,p.range,1e4)},!0)}return c.mutate(p);function R(E){var T,S,O,$=_e.trans,D=E.keys||bi(d,E);if(!D)throw new Error("Keys missing");return(E=E.type==="add"||E.type==="put"?r(r({},E),{keys:D}):r({},E)).type!=="delete"&&(E.values=o([],E.values)),E.keys&&(E.keys=o([],E.keys)),T=c,O=D,((S=E).type==="add"?Promise.resolve([]):T.getMany({trans:S.trans,keys:O,cache:"immutable"})).then(function(M){var q=D.map(function(K,z){var re,le,ie,ae=M[z],he={onerror:null,onsuccess:null};return E.type==="delete"?k.fire.call(he,K,ae,$):E.type==="add"||ae===void 0?(re=C.fire.call(he,K,E.values[z],$),K==null&&re!=null&&(E.keys[z]=K=re,d.outbound||Ae(E.values[z],d.keyPath,K))):(re=vi(ae,E.values[z]),(le=P.fire.call(he,re,K,ae,$))&&(ie=E.values[z],Object.keys(le).forEach(function(de){g(ie,de)?ie[de]=le[de]:Ae(ie,de,le[de])}))),he});return c.mutate(E).then(function(K){for(var z=K.failures,re=K.results,le=K.numFailures,K=K.lastResult,ie=0;ie<D.length;++ie){var ae=(re||D)[ie],he=q[ie];ae==null?he.onerror&&he.onerror(z[ie]):he.onsuccess&&he.onsuccess(E.type==="put"&&M[ie]?E.values[ie]:ae)}return{failures:z,results:re,numFailures:le,lastResult:K}}).catch(function(K){return q.forEach(function(z){return z.onerror&&z.onerror(K)}),Promise.reject(K)})})}}})}})}};function ic(s,i,c){try{if(!i||i.keys.length<s.length)return null;for(var d=[],p=0,y=0;p<i.keys.length&&y<s.length;++p)Ue(i.keys[p],s[y])===0&&(d.push(c?ze(i.values[p]):i.values[p]),++y);return d.length===s.length?d:null}catch{return null}}var Id={stack:"dbcore",level:-1,create:function(s){return{table:function(i){var c=s.table(i);return r(r({},c),{getMany:function(d){if(!d.cache)return c.getMany(d);var p=ic(d.keys,d.trans._cache,d.cache==="clone");return p?me.resolve(p):c.getMany(d).then(function(y){return d.trans._cache={keys:d.keys,values:d.cache==="clone"?ze(y):y},y})},mutate:function(d){return d.type!=="add"&&(d.trans._cache=null),c.mutate(d)}})}}}};function ac(s,i){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!i.schema.primaryKey.outbound}function cc(s,i){switch(s){case"query":return i.values&&!i.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Pd={stack:"dbcore",level:0,name:"Observability",create:function(s){var i=s.schema.name,c=new Rt(s.MIN_KEY,s.MAX_KEY);return r(r({},s),{transaction:function(d,p,y){if(_e.subscr&&p!=="readonly")throw new W.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(_e.querier));return s.transaction(d,p,y)},table:function(d){var p=s.table(d),y=p.schema,b=y.primaryKey,E=y.indexes,k=b.extractKey,C=b.outbound,P=b.autoIncrement&&E.filter(function(S){return S.compound&&S.keyPath.includes(b.keyPath)}),R=r(r({},p),{mutate:function(S){function O(de){return de="idb://".concat(i,"/").concat(d,"/").concat(de),K[de]||(K[de]=new Rt)}var $,D,M,q=S.trans,K=S.mutatedParts||(S.mutatedParts={}),z=O(""),re=O(":dels"),le=S.type,he=S.type==="deleteRange"?[S.range]:S.type==="delete"?[S.keys]:S.values.length<50?[bi(b,S).filter(function(de){return de}),S.values]:[],ie=he[0],ae=he[1],he=S.trans._cache;return u(ie)?(z.addKeys(ie),(he=le==="delete"||ie.length===ae.length?ic(ie,he):null)||re.addKeys(ie),(he||ae)&&($=O,D=he,M=ae,y.indexes.forEach(function(de){var ye=$(de.name||"");function Le(Be){return Be!=null?de.extractKey(Be):null}function We(Be){return de.multiEntry&&u(Be)?Be.forEach(function(mt){return ye.addKey(mt)}):ye.addKey(Be)}(D||M).forEach(function(Be,Dt){var Me=D&&Le(D[Dt]),Dt=M&&Le(M[Dt]);Ue(Me,Dt)!==0&&(Me!=null&&We(Me),Dt!=null&&We(Dt))})}))):ie?(ae={from:(ae=ie.lower)!==null&&ae!==void 0?ae:s.MIN_KEY,to:(ae=ie.upper)!==null&&ae!==void 0?ae:s.MAX_KEY},re.add(ae),z.add(ae)):(z.add(c),re.add(c),y.indexes.forEach(function(de){return O(de.name).add(c)})),p.mutate(S).then(function(de){return!ie||S.type!=="add"&&S.type!=="put"||(z.addKeys(de.results),P&&P.forEach(function(ye){for(var Le=S.values.map(function(Me){return ye.extractKey(Me)}),We=ye.keyPath.findIndex(function(Me){return Me===b.keyPath}),Be=0,mt=de.results.length;Be<mt;++Be)Le[Be][We]=de.results[Be];O(ye.name).addKeys(Le)})),q.mutatedParts=Qs(q.mutatedParts||{},K),de})}}),E=function(O){var $=O.query,O=$.index,$=$.range;return[O,new Rt((O=$.lower)!==null&&O!==void 0?O:s.MIN_KEY,($=$.upper)!==null&&$!==void 0?$:s.MAX_KEY)]},T={get:function(S){return[b,new Rt(S.key)]},getMany:function(S){return[b,new Rt().addKeys(S.keys)]},count:E,query:E,openCursor:E};return l(T).forEach(function(S){R[S]=function(O){var $=_e.subscr,D=!!$,M=ac(_e,p)&&cc(S,O)?O.obsSet={}:$;if(D){var q=function(ae){return ae="idb://".concat(i,"/").concat(d,"/").concat(ae),M[ae]||(M[ae]=new Rt)},K=q(""),z=q(":dels"),$=T[S](O),D=$[0],$=$[1];if((S==="query"&&D.isPrimaryKey&&!O.values?z:q(D.name||"")).add($),!D.isPrimaryKey){if(S!=="count"){var re=S==="query"&&C&&O.values&&p.query(r(r({},O),{values:!1}));return p[S].apply(this,arguments).then(function(ae){if(S==="query"){if(C&&O.values)return re.then(function(Le){return Le=Le.result,K.addKeys(Le),ae});var he=O.values?ae.result.map(k):ae.result;(O.values?K:z).addKeys(he)}else if(S==="openCursor"){var de=ae,ye=O.values;return de&&Object.create(de,{key:{get:function(){return z.addKey(de.primaryKey),de.key}},primaryKey:{get:function(){var Le=de.primaryKey;return z.addKey(Le),Le}},value:{get:function(){return ye&&K.addKey(de.primaryKey),de.value}}})}return ae})}z.add(c)}}return p[S].apply(this,arguments)}}),R}})}};function lc(s,i,c){if(c.numFailures===0)return i;if(i.type==="deleteRange")return null;var d=i.keys?i.keys.length:"values"in i&&i.values?i.values.length:1;return c.numFailures===d?null:(i=r({},i),u(i.keys)&&(i.keys=i.keys.filter(function(p,y){return!(y in c.failures)})),"values"in i&&u(i.values)&&(i.values=i.values.filter(function(p,y){return!(y in c.failures)})),i)}function _i(s,i){return c=s,((d=i).lower===void 0||(d.lowerOpen?0<Ue(c,d.lower):0<=Ue(c,d.lower)))&&(s=s,(i=i).upper===void 0||(i.upperOpen?Ue(s,i.upper)<0:Ue(s,i.upper)<=0));var c,d}function uc(s,i,T,d,p,y){if(!T||T.length===0)return s;var b=i.query.index,k=b.multiEntry,C=i.query.range,P=d.schema.primaryKey.extractKey,R=b.extractKey,E=(b.lowLevelIndex||b).extractKey,T=T.reduce(function(S,O){var $=S,D=[];if(O.type==="add"||O.type==="put")for(var M=new Rt,q=O.values.length-1;0<=q;--q){var K,z=O.values[q],re=P(z);M.hasKey(re)||(K=R(z),(k&&u(K)?K.some(function(de){return _i(de,C)}):_i(K,C))&&(M.addKey(re),D.push(z)))}switch(O.type){case"add":var le=new Rt().addKeys(i.values?S.map(function(ye){return P(ye)}):S),$=S.concat(i.values?D.filter(function(ye){return ye=P(ye),!le.hasKey(ye)&&(le.addKey(ye),!0)}):D.map(function(ye){return P(ye)}).filter(function(ye){return!le.hasKey(ye)&&(le.addKey(ye),!0)}));break;case"put":var ie=new Rt().addKeys(O.values.map(function(ye){return P(ye)}));$=S.filter(function(ye){return!ie.hasKey(i.values?P(ye):ye)}).concat(i.values?D:D.map(function(ye){return P(ye)}));break;case"delete":var ae=new Rt().addKeys(O.keys);$=S.filter(function(ye){return!ae.hasKey(i.values?P(ye):ye)});break;case"deleteRange":var he=O.range;$=S.filter(function(ye){return!_i(P(ye),he)})}return $},s);return T===s?s:(T.sort(function(S,O){return Ue(E(S),E(O))||Ue(P(S),P(O))}),i.limit&&i.limit<1/0&&(T.length>i.limit?T.length=i.limit:s.length===i.limit&&T.length<i.limit&&(p.dirty=!0)),y?Object.freeze(T):T)}function dc(s,i){return Ue(s.lower,i.lower)===0&&Ue(s.upper,i.upper)===0&&!!s.lowerOpen==!!i.lowerOpen&&!!s.upperOpen==!!i.upperOpen}function Od(s,i){return(function(c,d,p,y){if(c===void 0)return d!==void 0?-1:0;if(d===void 0)return 1;if((d=Ue(c,d))===0){if(p&&y)return 0;if(p)return 1;if(y)return-1}return d})(s.lower,i.lower,s.lowerOpen,i.lowerOpen)<=0&&0<=(function(c,d,p,y){if(c===void 0)return d!==void 0?1:0;if(d===void 0)return-1;if((d=Ue(c,d))===0){if(p&&y)return 0;if(p)return-1;if(y)return 1}return d})(s.upper,i.upper,s.upperOpen,i.upperOpen)}function Rd(s,i,c,d){s.subscribers.add(c),d.addEventListener("abort",function(){var p,y;s.subscribers.delete(c),s.subscribers.size===0&&(p=s,y=i,setTimeout(function(){p.subscribers.size===0&&Y(y,p)},3e3))})}var Dd={stack:"dbcore",level:0,name:"Cache",create:function(s){var i=s.schema.name;return r(r({},s),{transaction:function(c,d,p){var y,b,k=s.transaction(c,d,p);return d==="readwrite"&&(b=(y=new AbortController).signal,p=function(C){return function(){if(y.abort(),d==="readwrite"){for(var P=new Set,R=0,E=c;R<E.length;R++){var T=E[R],S=or["idb://".concat(i,"/").concat(T)];if(S){var O=s.table(T),$=S.optimisticOps.filter(function(ye){return ye.trans===k});if(k._explicit&&C&&k.mutatedParts)for(var D=0,M=Object.values(S.queries.query);D<M.length;D++)for(var q=0,K=(le=M[D]).slice();q<K.length;q++)pi((ie=K[q]).obsSet,k.mutatedParts)&&(Y(le,ie),ie.subscribers.forEach(function(ye){return P.add(ye)}));else if(0<$.length){S.optimisticOps=S.optimisticOps.filter(function(ye){return ye.trans!==k});for(var z=0,re=Object.values(S.queries.query);z<re.length;z++)for(var le,ie,ae,he=0,de=(le=re[z]).slice();he<de.length;he++)(ie=de[he]).res!=null&&k.mutatedParts&&(C&&!ie.dirty?(ae=Object.isFrozen(ie.res),ae=uc(ie.res,ie.req,$,O,ie,ae),ie.dirty?(Y(le,ie),ie.subscribers.forEach(function(ye){return P.add(ye)})):ae!==ie.res&&(ie.res=ae,ie.promise=me.resolve({result:ae}))):(ie.dirty&&Y(le,ie),ie.subscribers.forEach(function(ye){return P.add(ye)})))}}}P.forEach(function(ye){return ye()})}}},k.addEventListener("abort",p(!1),{signal:b}),k.addEventListener("error",p(!1),{signal:b}),k.addEventListener("complete",p(!0),{signal:b})),k},table:function(c){var d=s.table(c),p=d.schema.primaryKey;return r(r({},d),{mutate:function(y){var b=_e.trans;if(p.outbound||b.db._options.cache==="disabled"||b.explicit||b.idbtrans.mode!=="readwrite")return d.mutate(y);var k=or["idb://".concat(i,"/").concat(c)];return k?(b=d.mutate(y),y.type!=="add"&&y.type!=="put"||!(50<=y.values.length||bi(p,y).some(function(C){return C==null}))?(k.optimisticOps.push(y),y.mutatedParts&&Ys(y.mutatedParts),b.then(function(C){0<C.numFailures&&(Y(k.optimisticOps,y),(C=lc(0,y,C))&&k.optimisticOps.push(C),y.mutatedParts&&Ys(y.mutatedParts))}),b.catch(function(){Y(k.optimisticOps,y),y.mutatedParts&&Ys(y.mutatedParts)})):b.then(function(C){var P=lc(0,r(r({},y),{values:y.values.map(function(R,E){var T;return C.failures[E]?R:(R=(T=p.keyPath)!==null&&T!==void 0&&T.includes(".")?ze(R):r({},R),Ae(R,p.keyPath,C.results[E]),R)})}),C);k.optimisticOps.push(P),queueMicrotask(function(){return y.mutatedParts&&Ys(y.mutatedParts)})}),b):d.mutate(y)},query:function(y){if(!ac(_e,d)||!cc("query",y))return d.query(y);var b=((P=_e.trans)===null||P===void 0?void 0:P.db._options.cache)==="immutable",E=_e,k=E.requery,C=E.signal,P=(function(O,$,D,M){var q=or["idb://".concat(O,"/").concat($)];if(!q)return[];if(!($=q.queries[D]))return[null,!1,q,null];var K=$[(M.query?M.query.index.name:null)||""];if(!K)return[null,!1,q,null];switch(D){case"query":var z=K.find(function(re){return re.req.limit===M.limit&&re.req.values===M.values&&dc(re.req.query.range,M.query.range)});return z?[z,!0,q,K]:[K.find(function(re){return("limit"in re.req?re.req.limit:1/0)>=M.limit&&(!M.values||re.req.values)&&Od(re.req.query.range,M.query.range)}),!1,q,K];case"count":return z=K.find(function(re){return dc(re.req.query.range,M.query.range)}),[z,!!z,q,K]}})(i,c,"query",y),R=P[0],E=P[1],T=P[2],S=P[3];return R&&E?R.obsSet=y.obsSet:(E=d.query(y).then(function(O){var $=O.result;if(R&&(R.res=$),b){for(var D=0,M=$.length;D<M;++D)Object.freeze($[D]);Object.freeze($)}else O.result=ze($);return O}).catch(function(O){return S&&R&&Y(S,R),Promise.reject(O)}),R={obsSet:y.obsSet,promise:E,subscribers:new Set,type:"query",req:y,dirty:!1},S?S.push(R):(S=[R],(T=T||(or["idb://".concat(i,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[y.query.index.name||""]=S)),Rd(R,S,k,C),R.promise.then(function(O){return{result:uc(O.result,y,T?.optimisticOps,d,R,b)}})}})}})}};function Js(s,i){return new Proxy(s,{get:function(c,d,p){return d==="db"?i:Reflect.get(c,d,p)}})}var An=(vt.prototype.version=function(s){if(isNaN(s)||s<.1)throw new W.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new W.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var i=this._versions,c=i.filter(function(d){return d._cfg.version===s})[0];return c||(c=new this.Version(s),i.push(c),i.sort(wd),c.stores({}),this._state.autoSchema=!1,c)},vt.prototype._whenReady=function(s){var i=this;return this.idbdb&&(this._state.openComplete||_e.letThrough||this._vip)?s():new me(function(c,d){if(i._state.openComplete)return d(new W.DatabaseClosed(i._state.dbOpenError));if(!i._state.isBeingOpened){if(!i._state.autoOpen)return void d(new W.DatabaseClosed);i.open().catch(_)}i._state.dbReadyPromise.then(c,d)}).then(s)},vt.prototype.use=function(s){var i=s.stack,c=s.create,d=s.level,p=s.name;return p&&this.unuse({stack:i,name:p}),s=this._middlewares[i]||(this._middlewares[i]=[]),s.push({stack:i,create:c,level:d??10,name:p}),s.sort(function(y,b){return y.level-b.level}),this},vt.prototype.unuse=function(s){var i=s.stack,c=s.name,d=s.create;return i&&this._middlewares[i]&&(this._middlewares[i]=this._middlewares[i].filter(function(p){return d?p.create!==d:!!c&&p.name!==c})),this},vt.prototype.open=function(){var s=this;return nr(ht,function(){return Ad(s)})},vt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,i=Er.indexOf(this);if(0<=i&&Er.splice(i,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new me(function(c){s.dbReadyResolve=c}),s.openCanceller=new me(function(c,d){s.cancelOpen=d}))},vt.prototype.close=function(c){var i=(c===void 0?{disableAutoOpen:!0}:c).disableAutoOpen,c=this._state;i?(c.isBeingOpened&&c.cancelOpen(new W.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new W.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},vt.prototype.delete=function(s){var i=this;s===void 0&&(s={disableAutoOpen:!0});var c=0<arguments.length&&typeof arguments[0]!="object",d=this._state;return new me(function(p,y){function b(){i.close(s);var k=i._deps.indexedDB.deleteDatabase(i.name);k.onsuccess=ft(function(){var C,P,R;C=i._deps,P=i.name,R=C.indexedDB,C=C.IDBKeyRange,ui(R)||P===Ms||li(R,C).delete(P).catch(_),p()}),k.onerror=dn(y),k.onblocked=i._fireOnBlocked}if(c)throw new W.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(b):b()})},vt.prototype.backendDB=function(){return this.idbdb},vt.prototype.isOpen=function(){return this.idbdb!==null},vt.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},vt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},vt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(vt.prototype,"tables",{get:function(){var s=this;return l(this._allTables).map(function(i){return s._allTables[i]})},enumerable:!1,configurable:!0}),vt.prototype.transaction=function(){var s=(function(i,c,d){var p=arguments.length;if(p<2)throw new W.InvalidArgument("Too few arguments");for(var y=new Array(p-1);--p;)y[p-1]=arguments[p];return d=y.pop(),[i,qe(y),d]}).apply(this,arguments);return this._transaction.apply(this,s)},vt.prototype._transaction=function(s,i,c){var d=this,p=_e.trans;p&&p.db===this&&s.indexOf("!")===-1||(p=null);var y,b,k=s.indexOf("?")!==-1;s=s.replace("!","").replace("?","");try{if(b=i.map(function(P){if(P=P instanceof d.Table?P.name:P,typeof P!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return P}),s=="r"||s===Xo)y=Xo;else{if(s!="rw"&&s!=Zo)throw new W.InvalidArgument("Invalid transaction mode: "+s);y=Zo}if(p){if(p.mode===Xo&&y===Zo){if(!k)throw new W.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");p=null}p&&b.forEach(function(P){if(p&&p.storeNames.indexOf(P)===-1){if(!k)throw new W.SubTransaction("Table "+P+" not included in parent transaction.");p=null}}),k&&p&&!p.active&&(p=null)}}catch(P){return p?p._promise(null,function(R,E){E(P)}):gt(P)}var C=(function P(R,E,T,S,O){return me.resolve().then(function(){var $=_e.transless||_e,D=R._createTransaction(E,T,R._dbSchema,S);if(D.explicit=!0,$={trans:D,transless:$},S)D.idbtrans=S.idbtrans;else try{D.create(),D.idbtrans._explicit=!0,R._state.PR1398_maxLoop=3}catch(K){return K.name===J.InvalidState&&R.isOpen()&&0<--R._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),R.close({disableAutoOpen:!1}),R.open().then(function(){return P(R,E,T,null,O)})):gt(K)}var M,q=Ie(O);return q&&kr(),$=me.follow(function(){var K;(M=O.call(D,D))&&(q?(K=jn.bind(null,null),M.then(K,K)):typeof M.next=="function"&&typeof M.throw=="function"&&(M=gi(M)))},$),(M&&typeof M.then=="function"?me.resolve(M).then(function(K){return D.active?K:gt(new W.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):$.then(function(){return M})).then(function(K){return S&&D._resolve(),D._completion.then(function(){return K})}).catch(function(K){return D._reject(K),gt(K)})})}).bind(null,this,y,b,p,c);return p?p._promise(y,C,"lock"):_e.trans?nr(_e.transless,function(){return d._whenReady(C)}):this._whenReady(C)},vt.prototype.table=function(s){if(!g(this._allTables,s))throw new W.InvalidTable("Table ".concat(s," does not exist"));return this._allTables[s]},vt);function vt(s,i){var c=this;this._middlewares={},this.verno=0;var d=vt.dependencies;this._options=i=r({addons:vt.addons,autoOpen:!0,indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange,cache:"cloned"},i),this._deps={indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},d=i.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var p,y,b,k,C,P={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:_,dbReadyPromise:null,cancelOpen:_,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:i.autoOpen};P.dbReadyPromise=new me(function(E){P.dbReadyResolve=E}),P.openCanceller=new me(function(E,T){P.cancelOpen=T}),this._state=P,this.name=s,this.on=Hr(this,"populate","blocked","versionchange","close",{ready:[ce,_]}),this.once=function(E,T){var S=function(){for(var O=[],$=0;$<arguments.length;$++)O[$]=arguments[$];c.on(E).unsubscribe(S),T.apply(c,O)};return c.on(E,S)},this.on.ready.subscribe=j(this.on.ready.subscribe,function(E){return function(T,S){vt.vip(function(){var O,$=c._state;$.openComplete?($.dbOpenError||me.resolve().then(T),S&&E(T)):$.onReadyBeingFired?($.onReadyBeingFired.push(T),S&&E(T)):(E(T),O=c,S||E(function D(){O.on.ready.unsubscribe(T),O.on.ready.unsubscribe(D)}))})}}),this.Collection=(p=this,Wr(hd.prototype,function(M,D){this.db=p;var S=qa,O=null;if(D)try{S=D()}catch(q){O=q}var $=M._ctx,D=$.table,M=D.hook.reading.fire;this._ctx={table:D,index:$.index,isPrimKey:!$.index||D.schema.primKey.keyPath&&$.index===D.schema.primKey.name,range:S,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:O,or:$.or,valueMapper:M!==A?M:null}})),this.Table=(y=this,Wr(Ha.prototype,function(E,T,S){this.db=y,this._tx=S,this.name=E,this.schema=T,this.hook=y._allTables[E]?y._allTables[E].hook:Hr(null,{creating:[te,_],reading:[B,A],updating:[fe,_],deleting:[Z,_]})})),this.Transaction=(b=this,Wr(gd.prototype,function(E,T,S,O,$){var D=this;E!=="readonly"&&T.forEach(function(M){M=(M=S[M])===null||M===void 0?void 0:M.yProps,M&&(T=T.concat(M.map(function(q){return q.updatesTable})))}),this.db=b,this.mode=E,this.storeNames=T,this.schema=S,this.chromeTransactionDurability=O,this.idbtrans=null,this.on=Hr(this,"complete","error","abort"),this.parent=$||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new me(function(M,q){D._resolve=M,D._reject=q}),this._completion.then(function(){D.active=!1,D.on.complete.fire()},function(M){var q=D.active;return D.active=!1,D.on.error.fire(M),D.parent?D.parent._reject(M):q&&D.idbtrans&&D.idbtrans.abort(),gt(M)})})),this.Version=(k=this,Wr(Ed.prototype,function(E){this.db=k,this._cfg={version:E,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(C=this,Wr(Ja.prototype,function(E,T,S){if(this.db=C,this._ctx={table:E,index:T===":id"?null:T,or:S},this._cmp=this._ascending=Ue,this._descending=function(O,$){return Ue($,O)},this._max=function(O,$){return 0<Ue(O,$)?O:$},this._min=function(O,$){return Ue(O,$)<0?O:$},this._IDBKeyRange=C._deps.IDBKeyRange,!this._IDBKeyRange)throw new W.MissingAPI})),this.on("versionchange",function(E){0<E.newVersion?console.warn("Another connection wants to upgrade database '".concat(c.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(c.name,"'. Closing db now to resume the delete request.")),c.close({disableAutoOpen:!1})}),this.on("blocked",function(E){!E.newVersion||E.newVersion<E.oldVersion?console.warn("Dexie.delete('".concat(c.name,"') was blocked")):console.warn("Upgrade '".concat(c.name,"' blocked by other connection holding version ").concat(E.oldVersion/10))}),this._maxKey=Gr(i.IDBKeyRange),this._createTransaction=function(E,T,S,O){return new c.Transaction(E,T,S,c._options.chromeTransactionDurability,O)},this._fireOnBlocked=function(E){c.on("blocked").fire(E),Er.filter(function(T){return T.name===c.name&&T!==c&&!T._state.vcFired}).map(function(T){return T.on("versionchange").fire(E)})},this.use(Id),this.use(Dd),this.use(Pd),this.use(Cd),this.use(Sd);var R=new Proxy(this,{get:function(E,T,S){if(T==="_vip")return!0;if(T==="table")return function($){return Js(c.table($),R)};var O=Reflect.get(E,T,S);return O instanceof Ha?Js(O,R):T==="tables"?O.map(function($){return Js($,R)}):T==="_createTransaction"?function(){return Js(O.apply(this,arguments),R)}:O}});this.vip=R,d.forEach(function(E){return E(c)})}var Xs,tn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",$d=(wi.prototype.subscribe=function(s,i,c){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:i,complete:c})},wi.prototype[tn]=function(){return this},wi);function wi(s){this._subscribe=s}try{Xs={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Xs={indexedDB:null,IDBKeyRange:null}}function fc(s){var i,c=!1,d=new $d(function(p){var y=Ie(s),b,k=!1,C={},P={},R={get closed(){return k},unsubscribe:function(){k||(k=!0,b&&b.abort(),E&&Un.storagemutated.unsubscribe(S))}};p.start&&p.start(R);var E=!1,T=function(){return Jo(O)},S=function($){Qs(C,$),pi(P,C)&&T()},O=function(){var $,D,M;!k&&Xs.indexedDB&&(C={},$={},b&&b.abort(),b=new AbortController,M=(function(q){var K=wr();try{y&&kr();var z=Nn(s,q);return z=y?z.finally(jn):z}finally{K&&xr()}})(D={subscr:$,signal:b.signal,requery:T,querier:s,trans:null}),Promise.resolve(M).then(function(q){c=!0,i=q,k||D.signal.aborted||(C={},(function(K){for(var z in K)if(g(K,z))return;return 1})(P=$)||E||(Un(Yr,S),E=!0),Jo(function(){return!k&&p.next&&p.next(q)}))},function(q){c=!1,["DatabaseClosedError","AbortError"].includes(q?.name)||k||Jo(function(){k||p.error&&p.error(q)})}))};return setTimeout(T,0),R});return d.hasValue=function(){return c},d.getValue=function(){return i},d}var ir=An;function xi(s){var i=Kn;try{Kn=!0,Un.storagemutated.fire(s),yi(s,!0)}finally{Kn=i}}v(ir,r(r({},Ye),{delete:function(s){return new ir(s,{addons:[]}).delete()},exists:function(s){return new ir(s,{addons:[]}).open().then(function(i){return i.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return i=ir.dependencies,c=i.indexedDB,i=i.IDBKeyRange,(ui(c)?Promise.resolve(c.databases()).then(function(d){return d.map(function(p){return p.name}).filter(function(p){return p!==Ms})}):li(c,i).toCollection().primaryKeys()).then(s)}catch{return gt(new W.MissingAPI)}var i,c},defineClass:function(){return function(s){f(this,s)}},ignoreTransaction:function(s){return _e.trans?nr(_e.transless,s):s()},vip:di,async:function(s){return function(){try{var i=gi(s.apply(this,arguments));return i&&typeof i.then=="function"?i:me.resolve(i)}catch(c){return gt(c)}}},spawn:function(s,i,c){try{var d=gi(s.apply(c,i||[]));return d&&typeof d.then=="function"?d:me.resolve(d)}catch(p){return gt(p)}},currentTransaction:{get:function(){return _e.trans||null}},waitFor:function(s,i){return i=me.resolve(typeof s=="function"?ir.ignoreTransaction(s):s).timeout(i||6e4),_e.trans?_e.trans.waitFor(i):i},Promise:me,debug:{get:function(){return ne},set:function(s){Re(s)}},derive:N,extend:f,props:v,override:j,Events:Hr,on:Un,liveQuery:fc,extendObservabilitySet:Qs,getByKeyPath:ge,setByKeyPath:Ae,delByKeyPath:function(s,i){typeof i=="string"?Ae(s,i,void 0):"length"in i&&[].map.call(i,function(c){Ae(s,c,void 0)})},shallowClone:Se,deepClone:ze,getObjectDiff:vi,cmp:Ue,asap:oe,minKey:-1/0,addons:[],connections:Er,errnames:J,dependencies:Xs,cache:or,semVer:"4.2.0",version:"4.2.0".split(".").map(function(s){return parseInt(s)}).reduce(function(s,i,c){return s+i/Math.pow(10,2*c)})})),ir.maxKey=Gr(ir.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Un(Yr,function(s){Kn||(s=new CustomEvent(ni,{detail:s}),Kn=!0,dispatchEvent(s),Kn=!1)}),addEventListener(ni,function(s){s=s.detail,Kn||xi(s)}));var Ir,Kn=!1,pc=function(){};return typeof BroadcastChannel<"u"&&((pc=function(){(Ir=new BroadcastChannel(ni)).onmessage=function(s){return s.data&&xi(s.data)}})(),typeof Ir.unref=="function"&&Ir.unref(),Un(Yr,function(s){Kn||Ir.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!An.disableBfCache&&s.persisted){ne&&console.debug("Dexie: handling persisted pagehide"),Ir?.close();for(var i=0,c=Er;i<c.length;i++)c[i].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!An.disableBfCache&&s.persisted&&(ne&&console.debug("Dexie: handling persisted pageshow"),pc(),xi({all:new Rt(-1/0,[[]])}))})),me.rejectionMapper=function(s,i){return!s||s instanceof Ve||s instanceof TypeError||s instanceof SyntaxError||!s.name||!ke[s.name]?s:(i=new ke[s.name](i||s.message,s),"stack"in s&&I(i,"stack",{get:function(){return this.inner.stack}}),i)},Re(ne),r(An,Object.freeze({__proto__:null,Dexie:An,liveQuery:fc,Entity:Ua,cmp:Ue,PropModification:zr,replacePrefix:function(s,i){return new zr({replacePrefix:[s,i]})},add:function(s){return new zr({add:s})},remove:function(s){return new zr({remove:s})},default:An,RangeSet:Rt,mergeRanges:Zr,rangesOverlap:nc}),{default:An}),An})})(mo)),mo.exports}var Tm=$m();const oa=Rm(Tm),pl=Symbol.for("Dexie"),So=globalThis[pl]||(globalThis[pl]=oa);if(oa.semVer!==So.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${oa.semVer} and ${So.semVer}`);const{liveQuery:g0,mergeRanges:v0,rangesOverlap:b0,RangeSet:_0,cmp:w0,Entity:x0,PropModification:k0,replacePrefix:E0,add:A0,remove:C0,DexieYProvider:S0}=So;class Fm extends So{cards;card_lots;holdings;transactions;scans;decks;deck_cards;price_points;valuations;settings;scan_sale_links;constructor(){super("MtgTrackerDb"),this.version(1).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish",holdings:"id, cardId, acquisitionId, source, createdAt",transactions:"id, kind, cardId, source, externalRef, happenedAt",scans:"id, cardFingerprint, cardId, source, scannedAt",decks:"id, platform, name, importedAt",deck_cards:"[deckId+cardId], deckId, cardId",price_points:"id, cardId, provider, asOf",valuations:"id, asOf",settings:"k"}),this.version(2).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish, createdAt, updatedAt",holdings:"id, cardId, acquisitionId, source, createdAt, updatedAt",transactions:"id, kind, cardId, source, externalRef, happenedAt, createdAt, updatedAt",scans:"id, cardFingerprint, cardId, source, scannedAt, createdAt, updatedAt",decks:"id, platform, name, importedAt, createdAt, updatedAt",deck_cards:"[deckId+cardId], deckId, cardId, createdAt",price_points:"id, cardId, provider, asOf, createdAt",valuations:"id, asOf, createdAt",settings:"k, createdAt, updatedAt",scan_sale_links:"id, scanId, transactionId, matchedAt, createdAt"}).upgrade(async t=>{const n=new Date;await t.table("cards").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n}),await t.table("holdings").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n}),await t.table("transactions").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n}),await t.table("scans").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n}),await t.table("decks").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n}),await t.table("deck_cards").toCollection().modify(r=>{r.createdAt=r.createdAt||n}),await t.table("price_points").toCollection().modify(r=>{r.createdAt=r.createdAt||n}),await t.table("valuations").toCollection().modify(r=>{r.createdAt=r.createdAt||n}),await t.table("settings").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n})}),this.version(3).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish, createdAt, updatedAt",holdings:"id, cardId, acquisitionId, source, createdAt, updatedAt",transactions:"id, kind, cardId, source, externalRef, happenedAt, createdAt, updatedAt",scans:"id, cardFingerprint, cardId, source, scannedAt, createdAt, updatedAt",decks:"id, platform, name, importedAt, createdAt, updatedAt",deck_cards:"[deckId+cardId], deckId, cardId, createdAt",price_points:"id, cardId, provider, currency, asOf, createdAt, [cardId+asOf], [provider+asOf]",valuations:"id, asOf, createdAt, [asOf+createdAt]",settings:"k, createdAt, updatedAt",scan_sale_links:"id, scanId, transactionId, matchedAt, createdAt"}),this.version(4).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish, createdAt, updatedAt",card_lots:"id, cardId, acquisitionId, source, purchasedAt, disposedAt, createdAt, updatedAt, [cardId+purchasedAt], [acquisitionId+cardId]",holdings:"id, cardId, acquisitionId, source, createdAt, updatedAt",transactions:"id, kind, cardId, lotId, source, externalRef, happenedAt, relatedTransactionId, createdAt, updatedAt, [lotId+kind]",scans:"id, cardFingerprint, cardId, lotId, source, scannedAt, boosterPackId, createdAt, updatedAt, [lotId+scannedAt]",decks:"id, platform, name, importedAt, createdAt, updatedAt",deck_cards:"id, deckId, cardId, lotId, addedAt, removedAt, createdAt, [deckId+cardId], [lotId+addedAt]",price_points:"id, cardId, provider, currency, asOf, source, createdAt, [cardId+asOf], [provider+asOf]",valuations:"id, asOf, createdAt, [asOf+createdAt]",settings:"k, createdAt, updatedAt",scan_sale_links:"id, scanId, transactionId, quantity, matchedAt, createdAt"}).upgrade(async t=>{const n=new Date;await t.table("deck_cards").toCollection().modify(r=>{try{r.id||(r.id=`deckcard-${Date.now()}-${Math.random().toString(36).substr(2,9)}`),r.addedAt||(r.addedAt=r.createdAt||n),r.role||(r.role="main"),(!r.cardId||r.cardId==="")&&(r.cardId="unknown-card"),r.deckId||(r.deckId="unknown-deck"),typeof r.quantity!="number"&&(r.quantity=1),r.createdAt||(r.createdAt=n)}catch(o){console.error("Error upgrading deck card:",o,r);return}})}),this.version(5).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish, createdAt, updatedAt",card_lots:"id, cardId, acquisitionId, source, purchasedAt, disposedAt, createdAt, updatedAt, externalRef, [cardId+purchasedAt], [acquisitionId+cardId], [externalRef]",holdings:"id, cardId, acquisitionId, source, createdAt, updatedAt",transactions:"id, kind, cardId, lotId, source, externalRef, happenedAt, relatedTransactionId, createdAt, updatedAt, [lotId+kind]",scans:"id, cardFingerprint, cardId, lotId, source, scannedAt, boosterPackId, createdAt, updatedAt, [lotId+scannedAt]",decks:"id, platform, name, importedAt, createdAt, updatedAt",deck_cards:"id, deckId, cardId, lotId, addedAt, removedAt, createdAt, [deckId+cardId], [lotId+addedAt]",price_points:"id, cardId, provider, currency, asOf, source, createdAt, [cardId+asOf], [provider+asOf]",valuations:"id, asOf, createdAt, [asOf+createdAt]",settings:"k, createdAt, updatedAt",scan_sale_links:"id, scanId, transactionId, quantity, matchedAt, createdAt"})}}const xe=new Fm,gn={async add(e){return await xe.cards.add(e)},async getById(e){return await xe.cards.get(e)},async getAll(){return await xe.cards.toArray()},async update(e,t){return await xe.cards.update(e,t)},async delete(e){await xe.cards.delete(e)}},It={async add(e){return await xe.card_lots.add(e)},async getById(e){return await xe.card_lots.get(e)},async getAll(){return await xe.card_lots.toArray()},async getByCardId(e){return await xe.card_lots.where("cardId").equals(e).toArray()},async getByExternalRef(e){return await xe.card_lots.where("externalRef").equals(e).toArray()},async getActiveLotsByCardId(e){return await xe.card_lots.where("cardId").equals(e).and(t=>!t.disposedAt).toArray()},async update(e,t){return await xe.card_lots.update(e,t)},async delete(e){await xe.card_lots.delete(e)}},so={async add(e){return await xe.holdings.add(e)},async getById(e){return await xe.holdings.get(e)},async getAll(){return await xe.holdings.toArray()},async getByCardId(e){return await xe.holdings.where("cardId").equals(e).toArray()},async update(e,t){return await xe.holdings.update(e,t)},async delete(e){await xe.holdings.delete(e)}},yn={async add(e){return await xe.transactions.add(e)},async getById(e){return await xe.transactions.get(e)},async getAll(){return await xe.transactions.toArray()},async getByCardId(e){return await xe.transactions.where("cardId").equals(e).toArray()},async getByLotId(e){return await xe.transactions.where("lotId").equals(e).toArray()},async getByKind(e){return await xe.transactions.where("kind").equals(e).toArray()},async getBuyTransactionsByCardId(e){return await xe.transactions.where("cardId").equals(e).and(t=>t.kind==="BUY").toArray()},async getSellTransactionsByCardId(e){return await xe.transactions.where("cardId").equals(e).and(t=>t.kind==="SELL").toArray()},async update(e,t){return await xe.transactions.update(e,t)},async delete(e){await xe.transactions.delete(e)}},ia={async add(e){return await xe.price_points.add(e)},async getById(e){return await xe.price_points.get(e)},async getByCardId(e){return await xe.price_points.where("cardId").equals(e).toArray()},async update(e,t){return await xe.price_points.update(e,t)},async delete(e){await xe.price_points.delete(e)}},Bi={async set(e,t){const n={k:e,v:t,createdAt:new Date,updatedAt:new Date};return await xe.settings.put(n)},async get(e){return(await xe.settings.get(e))?.v},async getAll(){return await xe.settings.toArray()},async delete(e){await xe.settings.delete(e)}};class tt{cents;currency;constructor(t,n="EUR"){this.cents=Math.round(t),this.currency=n}static parse(t,n="EUR"){if(typeof t=="number")return new tt(t*100,n);const r=t.replace(/[$\s]/g,"").replace(",","."),o=parseFloat(r);return new tt(isNaN(o)?0:o*100,n)}getCents(){return this.cents}getDecimal(){return this.cents/100}getCurrency(){return this.currency}add(t){if(this.currency!==t.currency)throw new Error("Cannot add Money values with different currencies");return new tt(this.cents+t.cents,this.currency)}subtract(t){if(this.currency!==t.currency)throw new Error("Cannot subtract Money values with different currencies");return new tt(this.cents-t.cents,this.currency)}multiply(t){return new tt(this.cents*t,this.currency)}divide(t){return new tt(this.cents/t,this.currency)}format(t="de-DE"){return new Intl.NumberFormat(t,{style:"currency",currency:this.currency,minimumFractionDigits:2,maximumFractionDigits:2}).format(this.getDecimal())}isZero(){return this.cents===0}isPositive(){return this.cents>0}isNegative(){return this.cents<0}}const Da=Ra("cards",{state:()=>({cards:{},cardPrices:{},loading:!1,loadingPrices:!1,error:null}),getters:{getCardById:e=>t=>e.cards[t],getAllCards:e=>Object.values(e.cards),getCardsBySet:e=>t=>Object.values(e.cards).filter(n=>n.setCode===t),getCardPrice:e=>t=>e.cardPrices[t]||null},actions:{async loadCards(){this.loading=!0,this.error=null;try{const e=await gn.getAll();this.cards=e.reduce((t,n)=>(t[n.id]=n,t),{})}catch(e){this.error=e instanceof Error?e.message:"Failed to load cards",console.error("Error loading cards:",e)}finally{this.loading=!1}},async loadCardPrices(){this.loadingPrices=!0,this.error=null;try{const e=await xe.price_points.toArray(),t={},n={};e.forEach(r=>{n[r.cardId]||(n[r.cardId]=[]),n[r.cardId].push(r)}),Object.keys(n).forEach(r=>{const o=n[r];if(o.length>0){o.sort((l,u)=>u.asOf.getTime()-l.asOf.getTime());const a=o[0];t[r]=new tt(a.price,a.currency)}}),this.cardPrices=t}catch(e){this.error=e instanceof Error?e.message:"Failed to load card prices",console.error("Error loading card prices:",e)}finally{this.loadingPrices=!1}},async loadCardsAndPrices(){await Promise.all([this.loadCards(),this.loadCardPrices()])},async addCard(e){try{await gn.add(e),this.cards[e.id]=e}catch(t){throw this.error=t instanceof Error?t.message:"Failed to add card",console.error("Error adding card:",t),t}},async updateCard(e,t){try{await gn.update(e,t),this.cards[e]&&(this.cards[e]={...this.cards[e],...t})}catch(n){throw this.error=n instanceof Error?n.message:"Failed to update card",console.error("Error updating card:",n),n}},async removeCard(e){try{await gn.delete(e),delete this.cards[e],delete this.cardPrices[e]}catch(t){throw this.error=t instanceof Error?t.message:"Failed to remove card",console.error("Error removing card:",t),t}}}}),Mm=Ra("holdings",{state:()=>({holdings:{},loading:!1,error:null}),getters:{getHoldingById:e=>t=>e.holdings[t],getAllHoldings:e=>Object.values(e.holdings),getHoldingsByCardId:e=>t=>Object.values(e.holdings).filter(n=>n.cardId===t),getTotalQuantityByCardId:e=>t=>Object.values(e.holdings).filter(n=>n.cardId===t).reduce((n,r)=>n+r.quantity,0)},actions:{async loadHoldings(){this.loading=!0,this.error=null;try{const e=await so.getAll();this.holdings=e.reduce((t,n)=>(t[n.id]=n,t),{})}catch(e){this.error=e instanceof Error?e.message:"Failed to load holdings",console.error("Error loading holdings:",e)}finally{this.loading=!1}},async addHolding(e){try{await so.add(e),this.holdings[e.id]=e}catch(t){throw this.error=t instanceof Error?t.message:"Failed to add holding",console.error("Error adding holding:",t),t}},async updateHolding(e,t){try{await so.update(e,t),this.holdings[e]&&(this.holdings[e]={...this.holdings[e],...t})}catch(n){throw this.error=n instanceof Error?n.message:"Failed to update holding",console.error("Error updating holding:",n),n}},async removeHolding(e){try{await so.delete(e),delete this.holdings[e]}catch(t){throw this.error=t instanceof Error?t.message:"Failed to remove holding",console.error("Error removing holding:",t),t}}}}),Bm=Ra("transactions",{state:()=>({transactions:{},loading:!1,error:null}),getters:{getTransactionById:e=>t=>e.transactions[t],getAllTransactions:e=>Object.values(e.transactions),getTransactionsByCardId:e=>t=>Object.values(e.transactions).filter(n=>n.cardId===t),getTransactionsByKind:e=>t=>Object.values(e.transactions).filter(n=>n.kind===t),getTotalValueByKind:e=>t=>Object.values(e.transactions).filter(n=>n.kind===t).reduce((n,r)=>{const o=r.unitPrice*r.quantity,a=r.fees||0,l=r.shipping||0;return t==="BUY"?n+o+a+l:n+o-a-l},0)},actions:{async loadTransactions(){this.loading=!0,this.error=null;try{const e=await yn.getAll();this.transactions=e.reduce((t,n)=>(t[n.id]=n,t),{})}catch(e){this.error=e instanceof Error?e.message:"Failed to load transactions",console.error("Error loading transactions:",e)}finally{this.loading=!1}},async addTransaction(e){try{await yn.add(e),this.transactions[e.id]=e}catch(t){throw this.error=t instanceof Error?t.message:"Failed to add transaction",console.error("Error adding transaction:",t),t}},async updateTransaction(e,t){try{await yn.update(e,t),this.transactions[e]&&(this.transactions[e]={...this.transactions[e],...t})}catch(n){throw this.error=n instanceof Error?n.message:"Failed to update transaction",console.error("Error updating transaction:",n),n}},async removeTransaction(e){try{await yn.delete(e),delete this.transactions[e]}catch(t){throw this.error=t instanceof Error?t.message:"Failed to remove transaction",console.error("Error removing transaction:",t),t}}}});class oo{static async calculateLotValue(t){if(t.cardId){const n=await ia.getByCardId(t.cardId);if(n.length>0){n.sort((l,u)=>u.asOf.getTime()-l.asOf.getTime());const r=n[0],o=new tt(r.price,r.currency),a=t.disposedQuantity?t.quantity-t.disposedQuantity:t.quantity;return o.multiply(a)}}return new tt(0,"EUR")}static async calculateLotCostBasis(t){const n=new tt(t.unitCost,t.currency||"EUR"),r=t.disposedQuantity?t.quantity-t.disposedQuantity:t.quantity;return n.multiply(r)}static async calculateRealizedPnL(){const t=await yn.getByKind("SELL");let n=new tt(0,"EUR");for(const r of t){const o=new tt(r.unitPrice,r.currency).multiply(r.quantity);let a=new tt(0,"EUR");if(r.lotId){const m=await It.getById(r.lotId);m&&(a=new tt(m.unitCost,m.currency||"EUR").multiply(r.quantity))}else r.cardId&&(a=await this.calculateFIFOCostForCard(r.cardId,r.quantity));const l=new tt(r.fees,r.currency),u=new tt(r.shipping,r.currency),f=o.subtract(a).subtract(l).subtract(u);n=n.add(f)}return n}static async calculateFIFOCostForCard(t,n){const o=(await It.getByCardId(t)).filter(u=>!u.disposedAt||u.disposedQuantity&&u.disposedQuantity<u.quantity).sort((u,f)=>u.purchasedAt.getTime()-f.purchasedAt.getTime());let a=n,l=new tt(0,"EUR");for(const u of o){if(a<=0)break;const f=u.disposedQuantity?u.quantity-u.disposedQuantity:u.quantity,m=Math.min(a,f),g=new tt(u.unitCost,u.currency||"EUR").multiply(m);l=l.add(g),a-=m}return l}static async calculatePortfolioValue(){const t=await It.getAll();let n=new tt(0,"EUR");for(const r of t)if(!r.disposedAt||r.disposedQuantity&&r.disposedQuantity<r.quantity){const o=await this.calculateLotValue(r);n=n.add(o)}return n}static async calculateTotalCostBasis(){const t=await It.getAll();let n=new tt(0,"EUR");for(const r of t)if(!r.disposedAt||r.disposedQuantity&&r.disposedQuantity<r.quantity){const o=await this.calculateLotCostBasis(r);n=n.add(o)}return n}static async calculateUnrealizedPnL(){const t=await this.calculatePortfolioValue(),n=await this.calculateTotalCostBasis();return t.subtract(n)}static async getActiveLots(){return(await It.getAll()).filter(n=>!n.disposedAt||n.disposedQuantity&&n.disposedQuantity<n.quantity)}static async getOwnedQuantity(t){const n=await It.getByCardId(t);let r=0;for(const o of n)o.disposedAt?o.disposedQuantity&&o.disposedQuantity<o.quantity&&(r+=o.quantity-o.disposedQuantity):r+=o.quantity;return r}}class rn{static BASE_URL="https://api.scryfall.com";static lastRequestTime=0;static RATE_LIMIT_DELAY=100;static async enforceRateLimit(){const n=Date.now()-this.lastRequestTime;if(n<this.RATE_LIMIT_DELAY){const r=this.RATE_LIMIT_DELAY-n;await new Promise(o=>setTimeout(o,r))}this.lastRequestTime=Date.now()}static async getPriceById(t){try{await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/${t}`);if(!n.ok)return null;const o=(await n.json()).prices?.eur;return o?tt.parse(o,"EUR"):null}catch(n){return console.error("Error fetching price from Scryfall:",n),null}}static async getPriceBySetAndNumber(t,n){try{await this.enforceRateLimit();const r=await fetch(`${this.BASE_URL}/cards/${t}/${n}`);if(!r.ok)return null;const a=(await r.json()).prices?.eur;return a?tt.parse(a,"EUR"):null}catch(r){return console.error("Error fetching price from Scryfall:",r),null}}static async getImageUrlById(t){try{await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/${t}`);if(!n.ok)return null;const r=await n.json();return r.image_uris?.normal||r.image_uris?.large||r.image_uris?.small||null}catch(n){return console.error("Error fetching image from Scryfall:",n),null}}static async getImageUrlBySetAndNumber(t,n){try{await this.enforceRateLimit();const r=await fetch(`${this.BASE_URL}/cards/${t}/${n}`);if(!r.ok)return null;const o=await r.json();return o.image_uris?.normal||o.image_uris?.large||o.image_uris?.small||null}catch(r){return console.error("Error fetching image from Scryfall:",r),null}}static async getByCardmarketId(t){try{await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/cardmarket/${t}`);if(!n.ok){console.error(`Scryfall API error for cardmarket_id ${t}: ${n.status} ${n.statusText}`);try{const r=await n.text();console.error(`Scryfall API error details: ${r}`)}catch{console.error("Could not read error response body")}return null}return await n.json()}catch(n){return console.error("Error fetching card by Cardmarket ID from Scryfall:",n),null}}static async getByCardmarketIds(t){try{if(!t||t.length===0)return[];if(t.length===1){const o=await this.getByCardmarketId(t[0]);return o?[o]:[]}await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/collection`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifiers:t.map(o=>({cardmarket_id:o}))})});if(!n.ok){console.error(`Scryfall API error for batch cardmarket_ids: ${n.status} ${n.statusText}`);try{const o=await n.text();console.error(`Scryfall API error details: ${o}`)}catch{console.error("Could not read error response body")}return await this.getByCardmarketIdsIndividually(t)}return(await n.json()).data||[]}catch(n){return console.error("Error fetching cards by Cardmarket IDs from Scryfall:",n),await this.getByCardmarketIdsIndividually(t)}}static async getByCardmarketIdsIndividually(t){const n=[];for(const r of t){const o=await this.getByCardmarketId(r);o&&n.push(o)}return n}static async hydrateCard(t){try{if(t.scryfall_id){await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/${t.scryfall_id}`);if(n.ok)return await n.json()}if(t.setCode&&t.collectorNumber){await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/${t.setCode}/${t.collectorNumber}`);if(n.ok)return await n.json()}if(t.name&&t.setCode){await this.enforceRateLimit();let n=await fetch(`${this.BASE_URL}/cards/named?exact=${encodeURIComponent(t.name)}&set=${encodeURIComponent(t.setCode)}`);if(n.ok)return await n.json();if(t.version&&(await this.enforceRateLimit(),n=await fetch(`${this.BASE_URL}/cards/named?exact=${encodeURIComponent(t.name)}&set=${encodeURIComponent(t.setCode)}&include_variations=true`),n.ok))return await n.json();if(await this.enforceRateLimit(),n=await fetch(`${this.BASE_URL}/cards/named?fuzzy=${encodeURIComponent(t.name)}&set=${encodeURIComponent(t.setCode)}`),n.ok)return await n.json()}return null}catch(n){return console.error("Error hydrating card with Scryfall data:",n),null}}}class Nm{static async syncPrices(){try{const t=new Date,n=await gn.getAll();for(const r of n)try{const o=await rn.getPriceById(r.id);if(o){const a=t.toISOString().split("T")[0],u={id:`${r.id}:scryfall:${a}`,cardId:r.id,provider:"scryfall",currency:o.getCurrency(),price:o.getCents(),asOf:t,createdAt:t};await xe.price_points.put(u)}}catch(o){console.error(`Error syncing price for card ${r.id}:`,o)}}catch(t){throw console.error("Error syncing prices:",t),t}}static async syncPriceForCard(t){try{const n=new Date,r=await gn.getById(t);if(!r){console.warn(`Card with ID ${t} not found`);return}const o=await rn.getPriceById(r.id);if(o){const a=n.toISOString().split("T")[0],u={id:`${r.id}:scryfall:${a}`,cardId:r.id,provider:"scryfall",currency:o.getCurrency(),price:o.getCents(),asOf:n,createdAt:n};await xe.price_points.put(u)}}catch(n){throw console.error(`Error syncing price for card ${t}:`,n),n}}static async needsPriceUpdate(){try{const t=await xe.price_points.orderBy("asOf").last();if(!t)return!0;const n=new Date,r=new Date(t.asOf);return(n.getTime()-r.getTime())/(1e3*60*60)>=24}catch(t){return console.error("Error checking if price update is needed:",t),!0}}static async needsPriceUpdateForCard(t){try{const n=await ia.getByCardId(t);if(n.length===0)return!0;n.sort((u,f)=>f.asOf.getTime()-u.asOf.getTime());const r=n[0],o=new Date,a=new Date(r.asOf);return(o.getTime()-a.getTime())/(1e3*60*60)>=24}catch(n){return console.error(`Error checking if price update is needed for card ${t}:`,n),!0}}static async getLatestPriceForCard(t){try{const n=await ia.getByCardId(t);if(n.length===0)return null;n.sort((o,a)=>a.asOf.getTime()-o.asOf.getTime());const r=n[0];return{price:r.price,asOf:r.asOf}}catch(n){return console.error(`Error getting latest price for card ${t}:`,n),null}}}class os{static async needsPriceUpdate(){try{const t=await Bi.get("last_price_update_timestamp");if(!t)return!0;const n=Date.now(),r=new Date(t).getTime();return(n-r)/(1e3*60*60)>=24}catch(t){return console.error("Error checking if price update is needed:",t),!0}}static async schedulePriceUpdate(){try{await this.needsPriceUpdate()&&await this.updatePrices()}catch(t){throw console.error("Error scheduling price update:",t),t}}static async updatePrices(){try{await Nm.syncPrices();const t=new Date().toISOString();await Bi.set("last_price_update_timestamp",t),console.log(`Prices updated successfully at ${t}`)}catch(t){throw console.error("Error updating prices:",t),t}}static async getLastUpdateTime(){try{const t=await Bi.get("last_price_update_timestamp");return t?new Date(t):null}catch(t){return console.error("Error getting last update time:",t),null}}static async getNextUpdateTime(){try{const t=await this.getLastUpdateTime();return t?new Date(t.getTime()+1440*60*1e3):new Date}catch(t){return console.error("Error calculating next update time:",t),null}}}const hl=Ee(null),ml=Ee(null),ur=Ee(!1);function jm(){const e=o=>o?o.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",t=async()=>{try{hl.value=await os.getLastUpdateTime(),ml.value=await os.getNextUpdateTime()}catch(o){console.error("Error updating price info:",o)}};return{lastUpdate:hl,nextUpdate:ml,isUpdating:ur,formatDate:e,updatePriceInfo:t,checkAndScheduleUpdate:async()=>{if(!ur.value){ur.value=!0;try{await os.schedulePriceUpdate(),await t()}catch(o){console.error("Error scheduling price update:",o)}finally{ur.value=!1}}},forceUpdatePrices:async()=>{if(!ur.value){ur.value=!0;try{await os.updatePrices(),await t()}catch(o){throw console.error("Error updating prices:",o),o}finally{ur.value=!1}}}}}const Lm={class:"home"},qm={class:"price-update-info card mb-4"},Um={class:"card-body"},Km={class:"price-update-details"},Vm={class:"update-info"},Hm={class:"value"},Wm={class:"update-info"},zm={class:"value"},Qm={class:"update-actions"},Ym=["disabled"],Gm={class:"dashboard-stats row g-4"},Jm={class:"col-lg-3 col-md-6"},Xm={class:"card h-100 border"},Zm={class:"card-body"},ey={class:"stat-value"},ty={class:"col-lg-3 col-md-6"},ny={class:"card h-100 border"},ry={class:"card-body"},sy={class:"stat-value"},oy={class:"col-lg-3 col-md-6"},iy={class:"card h-100 border"},ay={class:"card-body"},cy={class:"col-lg-3 col-md-6"},ly={class:"card h-100 border"},uy={class:"card-body"},dy=ot({__name:"HomeView",setup(e){const t=Da(),n=Mm(),r=Bm(),{formatDate:o,checkAndScheduleUpdate:a,forceUpdatePrices:l,lastUpdate:u,nextUpdate:f,isUpdating:m}=jm(),h=Ee("0.00"),g=Ee("0.00"),v=Ee("0.00"),x=Ee("0.00"),I=V=>V.format("de-DE"),N=async()=>{try{await t.loadCards(),await n.loadHoldings(),await r.loadTransactions();const V=await oo.calculatePortfolioValue(),X=await oo.calculateTotalCostBasis(),j=await oo.calculateUnrealizedPnL(),F=await oo.calculateRealizedPnL();h.value=I(V),g.value=I(X),v.value=I(j),x.value=I(F)}catch(V){console.error("Error loading dashboard data:",V)}},Q=async()=>{try{await l(),await N(),alert("Prices refreshed successfully")}catch(V){console.error("Error refreshing prices:",V),alert("Failed to refresh prices: "+V.message)}};return er(async()=>{await a(),await N()}),(V,X)=>(U(),ee("div",Lm,[X[7]||(X[7]=w("h1",null,"MTG Collection Tracker",-1)),w("div",qm,[w("div",Um,[X[2]||(X[2]=w("h2",{class:"card-title"},"Price Updates",-1)),w("div",Km,[w("div",Vm,[X[0]||(X[0]=w("span",{class:"label"},"Last Update:",-1)),w("span",Hm,se(we(o)(we(u))),1)]),w("div",Wm,[X[1]||(X[1]=w("span",{class:"label"},"Next Update:",-1)),w("span",zm,se(we(o)(we(f))),1)])]),w("div",Qm,[w("button",{onClick:Q,class:"btn btn-primary",disabled:we(m)},se(we(m)?"Updating...":"Refresh Prices Now"),9,Ym)])])]),w("div",Gm,[w("div",Jm,[w("div",Xm,[w("div",Zm,[X[3]||(X[3]=w("h2",{class:"card-title"},"Portfolio Value",-1)),w("p",ey,se(h.value),1)])])]),w("div",ty,[w("div",ny,[w("div",ry,[X[4]||(X[4]=w("h2",{class:"card-title"},"Total Cost",-1)),w("p",sy,se(g.value),1)])])]),w("div",oy,[w("div",iy,[w("div",ay,[X[5]||(X[5]=w("h2",{class:"card-title"},"Unrealized P/L",-1)),w("p",{class:Ct(["stat-value",parseFloat(v.value)>=0?"positive":"negative"])},se(v.value),3)])])]),w("div",cy,[w("div",ly,[w("div",uy,[X[6]||(X[6]=w("h2",{class:"card-title"},"Realized P/L",-1)),w("p",{class:Ct(["stat-value",parseFloat(x.value)>=0?"positive":"negative"])},se(x.value),3)])])])])]))}}),fy=Mn(dy,[["__scopeId","data-v-1e962a3a"]]),Wt=e=>e.toLowerCase().normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"").replace(/[\s-]+/g," ").replace(/[:'"]/g,"").trim();function Lr(e){const t=new Map;for(const n of e)t.set(Wt(n.name),n);return{byName:t}}async function py(e){const t=e.trim(),n=Wt(t),r=await yl(),a=(await hy()).get(n);if(a)return console.log(`Set code resolved from alias: ${t} -> ${a}`),a;const l=r.byName.get(n);if(l)return console.log(`Set code resolved from exact match: ${t} -> ${l.code}`),await Gt(n,l.code),l.code;if(/^commander:\s*/i.test(t)&&/: extras$/i.test(t)){const m=t.replace(/^commander:\s*/i,"").replace(/: extras$/i,"").trim(),h=r.byName.get(Wt(`${m} Commander`));if(h)return console.log(`Set code resolved from commander + extras nested: ${t} -> ${h.code}`),await Gt(n,h.code),h.code;const g=r.byName.get(Wt(m));if(g)return console.log(`Set code resolved from commander + extras nested (base): ${t} -> ${g.code}`),await Gt(n,g.code),g.code}if(/^commander:\s*/i.test(t)){const m=t.replace(/^commander:\s*/i,"").trim(),h=r.byName.get(Wt(`${m} Commander`));if(h)return console.log(`Set code resolved from commander rewrite (commander): ${t} -> ${h.code}`),await Gt(n,h.code),h.code;const g=r.byName.get(Wt(m));if(g)return console.log(`Set code resolved from commander rewrite (base): ${t} -> ${g.code}`),await Gt(n,g.code),g.code}if(/: extras$/i.test(t)){const m=Wt(t.replace(/: extras$/i,"")),h=r.byName.get(m);if(h)return console.log(`Set code resolved from extras suffix: ${t} -> ${h.code}`),await Gt(n,h.code),h.code}if(/^universes beyond:\s*/i.test(t)){const m=t.replace(/^universes beyond:\s*/i,"").trim();if(/: extras$/i.test(m)){const g=Wt(m.replace(/: extras$/i,"")),v=r.byName.get(g);if(v)return console.log(`Set code resolved from universes beyond + extras: ${t} -> ${v.code}`),await Gt(n,v.code),v.code}const h=r.byName.get(Wt(m));if(h)return console.log(`Set code resolved from universes beyond: ${t} -> ${h.code}`),await Gt(n,h.code),h.code}if(/^magic: the gathering -\s*/i.test(t)){const m=t.replace(/^magic: the gathering -\s*/i,"").trim();if(/: extras$/i.test(m)){const g=Wt(m.replace(/: extras$/i,"")),v=r.byName.get(g);if(v)return console.log(`Set code resolved from magic: the gathering - extras: ${t} -> ${v.code}`),await Gt(n,v.code),v.code}const h=r.byName.get(Wt(m));if(h)return console.log(`Set code resolved from magic: the gathering -: ${t} -> ${h.code}`),await Gt(n,h.code),h.code}if(/^secret lair drop series:/i.test(t)){const m=t.replace(/^secret lair drop series:/i,"").trim();if(/: extras$/i.test(m)){const g=Wt(m.replace(/: extras$/i,"")),v=r.byName.get(g);if(v)return console.log(`Set code resolved from secret lair drop series + extras: ${t} -> ${v.code}`),await Gt(n,v.code),v.code}const h=r.byName.get(Wt(m));if(h)return console.log(`Set code resolved from secret lair drop series: ${t} -> ${h.code}`),await Gt(n,h.code),h.code}console.log(`Set code unresolved: ${t}`),await Gu();const f=(await yl()).byName.get(n);return f?(console.log(`Set code resolved from fresh exact match: ${t} -> ${f.code}`),f.code):(await Gt(n,null),null)}async function yl(){try{const e=Date.now()-6048e5,t=await xe.settings.get("scryfall_sets_cache");return t&&t.v&&t.v.fetchedAt>e?(console.log("Using cached Scryfall sets data"),Lr(t.v.sets)):(console.log("Refreshing Scryfall sets cache (no cache or old cache)"),await Gu())}catch(e){console.error("Error in getSetIndex:",e);try{const t=await xe.settings.get("scryfall_sets_cache");if(t&&t.v)return console.log("Using old cached Scryfall sets data due to error"),Lr(t.v.sets)}catch(t){console.error("Error accessing cached Scryfall sets data:",t)}return console.log("Returning empty Scryfall sets index"),Lr([])}}async function Gu(){try{console.log("Fetching Scryfall sets data...");const e=await fetch("https://api.scryfall.com/sets");if(!e.ok)throw new Error(`Failed to fetch sets: ${e.status} ${e.statusText}`);const n=(await e.json()).data||[];return console.log(`Fetched ${n.length} Scryfall sets`),await xe.settings.put({k:"scryfall_sets_cache",v:{sets:n,fetchedAt:Date.now()},createdAt:new Date,updatedAt:new Date}),Lr(n)}catch(e){console.error("Error refreshing Scryfall sets cache:",e);try{const t=await xe.settings.get("scryfall_sets_cache");if(t&&t.v)return console.log("Using old cached Scryfall sets data due to fetch error"),Lr(t.v.sets)}catch(t){console.error("Error accessing cached Scryfall sets data:",t)}return console.log("Returning empty Scryfall sets index due to errors"),Lr([])}}async function hy(){const e=new Map,t=await xe.settings.get("set_code_aliases");if(t&&t.v)for(const[n,r]of Object.entries(t.v))e.set(n,r);return e}async function Gt(e,t){try{const n=Wt(e),r=await xe.settings.get("set_code_aliases");let o={};r&&r.v&&(o={...r.v}),o[n]=t,await xe.settings.put({k:"set_code_aliases",v:o,createdAt:r?.createdAt||new Date,updatedAt:new Date})}catch(n){console.error("Error storing set code alias:",n)}}class pr{static async importCardmarketTransactions(t){try{const n=new Date;for(const r of t){const o=`cardmarket:${r.reference}:${r.lineNumber}`;if(await xe.transactions.where("externalRef").equals(o).first())continue;const l=tt.parse(r.amount,"EUR"),u={id:`tx-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,kind:l.isPositive()?"SELL":"BUY",quantity:1,unitPrice:l.getCents(),fees:0,shipping:0,currency:"EUR",source:"cardmarket",externalRef:o,happenedAt:new Date(r.date),createdAt:n,updatedAt:n};await yn.add(u)}}catch(n){throw console.error("Error importing Cardmarket transactions:",n),n}}static async importCardmarketOrders(t){try{const n=new Date;for(const r of t){const o=`cardmarket:order:${r.orderId}:${r.lineNumber}`;if(await xe.transactions.where("externalRef").equals(o).first())continue;const l=tt.parse(r.merchandiseValue,"EUR"),u=tt.parse(r.shipmentCosts,"EUR"),f=tt.parse(r.commission,"EUR"),m={id:`order-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,kind:r.direction==="sale"?"SELL":"BUY",quantity:parseInt(r.articleCount)||1,unitPrice:Math.round(l.getCents()/(parseInt(r.articleCount)||1)),fees:f.getCents(),shipping:u.getCents(),currency:"EUR",source:"cardmarket",externalRef:o,happenedAt:new Date(r.dateOfPurchase),createdAt:n,updatedAt:n};await yn.add(m)}}catch(n){throw console.error("Error importing Cardmarket orders:",n),n}}static async importCardmarketArticles(t){try{const n=new Date;for(const r of t){let o=null,a=null;if(r.productId){const v=r.productId.split(" | ").map(x=>x.trim());if(v.length===1)o=await rn.getByCardmarketId(v[0]),console.log(JSON.stringify({product_ids:v,resolved_via:"cardmarket_id",cardmarket_id:v[0],final_uri:`/cards/cardmarket/${v[0]}`}));else if(v.length>1){const x=await rn.getByCardmarketIds(v);x&&x.length>0&&(o=x[0],console.log(JSON.stringify({product_ids:v,resolved_via:"cardmarket_id",cardmarket_id:v[0],final_uri:"/cards/collection"})))}a=o?.id||null}const l=v=>{const x=[/-\s*(\d+[a-zA-Z]*)\s*-/i,/-\s*([IVXLCDM]+)\s*-/i,/\s+(\d+[a-zA-Z]*)\s*$/i,/\((\d+[a-zA-Z]*)\)/i];for(const I of x){const N=v.match(I);if(N)return N[1]}return""};if(!a){const v=await py(r.expansion);let x=r.name,I=null;const N=r.name.match(/^(.+?)\s*\((V\.\d+)\)$/i);N&&(x=N[1].trim(),I=N[2]);let Q=l(r.name);console.log(JSON.stringify({product_ids:r.productId?r.productId.split(" | ").map(V=>V.trim()):[],resolved_via:"set+cn",set_code:v,collector_number:Q,final_uri:v?`/cards/${v}/${Q}`:""})),o=await rn.hydrateCard({name:x,setCode:v||r.expansion,collectorNumber:Q,version:I}),a=o?.id||null,a||console.log(JSON.stringify({product_ids:r.productId?r.productId.split(" | ").map(V=>V.trim()):[],resolved_via:"none",set_code:null,collector_number:"",final_uri:"",name:r.name,expansion:r.expansion}))}const u=tt.parse(r.price,"EUR");if(a)if(await gn.getById(a))try{const x=n.toISOString().split("T")[0],I=`${a}:scryfall:${x}`;if(!await xe.price_points.get(I)){const Q=await rn.getPriceById(a);if(Q){const V={id:I,cardId:a,provider:"scryfall",currency:Q.getCurrency(),price:Q.getCents(),asOf:n,createdAt:n};await xe.price_points.put(V)}}}catch(x){console.error(`Error checking/updating price for existing card ${a}:`,x)}else{const x=o||await rn.hydrateCard({scryfall_id:a,name:r.name,setCode:r.expansion,collectorNumber:""}),I=await rn.getImageUrlById(a);let N=l(r.name);const Q={id:a,oracleId:x?.oracle_id||o?.oracle_id||"",name:r.name,set:x?.set_name||o?.set_name||r.expansion,setCode:x?.set||o?.set||r.expansion,number:x?.collector_number||o?.collector_number||N||"",lang:x?.lang||o?.lang||"en",finish:"nonfoil",imageUrl:I||"",createdAt:n,updatedAt:n};await gn.add(Q);try{const V=await rn.getPriceById(a);if(V){const X=n.toISOString().split("T")[0],F={id:`${a}:scryfall:${X}`,cardId:a,provider:"scryfall",currency:V.getCurrency(),price:V.getCents(),asOf:n,createdAt:n};await xe.price_points.put(F)}}catch(V){console.error(`Error fetching price for new card ${a}:`,V)}}let f;if(r.direction==="purchase"){const v=`cardmarket:lot:${r.shipmentId}:${r.lineNumber}`,x=await It.getByExternalRef(v);let I=null;if(x.length>0)I=x[0];else{const N=await It.getByCardId(a||"");for(const Q of N)if(!(await yn.getByLotId(Q.id)).some(j=>j.kind==="BUY")){I=Q;break}}if(I)await It.update(I.id,{unitCost:u.getCents(),source:"cardmarket",purchasedAt:new Date(r.dateOfPurchase),updatedAt:n}),f=I.id;else{const N=`lot-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Q={id:N,cardId:a||"",quantity:parseInt(r.amount)||1,unitCost:u.getCents(),condition:"",language:"",foil:!1,finish:"nonfoil",source:"cardmarket",currency:"EUR",externalRef:v,purchasedAt:new Date(r.dateOfPurchase),createdAt:n,updatedAt:n};await It.add(Q),f=N}}const m=`cardmarket:article:${r.shipmentId}:${r.lineNumber}`;if(await xe.transactions.where("externalRef").equals(m).first())continue;const g={id:`article-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,kind:r.direction==="sale"?"SELL":"BUY",cardId:a||void 0,lotId:f,quantity:parseInt(r.amount)||1,unitPrice:u.getCents(),fees:0,shipping:0,currency:"EUR",source:"cardmarket",externalRef:m,happenedAt:new Date(r.dateOfPurchase),createdAt:n,updatedAt:n};await yn.add(g)}}catch(n){throw console.error("Error importing Cardmarket articles:",n),n}}static async getOrCreateLotForPurchase(t,n,r,o){const a=new Date,l=await It.getByCardId(t);for(const m of l)if(!(await yn.getByLotId(m.id)).some(v=>v.kind==="BUY"))return await It.update(m.id,{unitCost:r,quantity:m.quantity+n,source:"cardmarket",purchasedAt:o,updatedAt:a}),m.id;const u=`lot-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,f={id:u,cardId:t,quantity:n,unitCost:r,condition:"NM",language:"en",foil:!1,finish:"nonfoil",source:"cardmarket",currency:"EUR",purchasedAt:o,createdAt:a,updatedAt:a};return await It.add(f),u}static async getLotForSale(t,n){const o=(await It.getByCardId(t)).filter(a=>!a.disposedAt||a.disposedQuantity&&a.disposedQuantity<a.quantity).sort((a,l)=>a.purchasedAt.getTime()-l.purchasedAt.getTime());for(const a of o){const l=a.disposedQuantity?a.quantity-a.disposedQuantity:a.quantity;if(l>=n)return{lotId:a.id,remainingQuantity:l-n}}return null}static async checkForExistingImports(t){const n=[];for(const r of t){const o=`cardmarket:article:${r.shipmentId}:${r.lineNumber}`,a=await xe.transactions.where("externalRef").equals(o).first();n.push({article:r,exists:!!a})}return n}}const my={class:"csv-import"},yy={class:"import-section"},gy={class:"mb-3"},vy={class:"mb-3"},by={class:"mb-3"},_y={class:"import-section"},wy={class:"mb-3"},xy=ot({__name:"CsvImportView",setup(e){const t=Ee(null),n=(u,f)=>{t.value={type:u,message:f},setTimeout(()=>{t.value=null},5e3)},r=async u=>{const f=u.target,m=f.files?.[0];if(m)try{const g=(await m.text()).split(`
`),v=g[0].split(";").map(I=>I.trim()),x=[];for(let I=1;I<g.length;I++){const N=g[I].trim();if(!N)continue;const Q=N.split(";"),V={};for(let X=0;X<v.length;X++){const j=v[X].toLowerCase(),F=Q[X]?Q[X].trim():"";switch(j){case"reference":case"referenz":case"transaktions-id":V.reference=F;break;case"date":case"datum":case"date paid":V.date=F;break;case"category":case"kategorie":V.category=F;break;case"type":case"typ":V.type=F;break;case"counterpart":case"gegenpartei":V.counterpart=F;break;case"amount":case"betrag":V.amount=F;break;case"closing balance (eur)":case"balance after":case"saldo danach (eur)":V.balanceAfter=F;break}}V.reference&&(V.currency="EUR",x.push(V))}await pr.importCardmarketTransactions(x),n("success",`Successfully imported ${x.length} transactions`),f.value=""}catch(h){console.error("Error importing transactions:",h),n("error","Failed to import transactions: "+h.message)}},o=async u=>{const f=u.target,m=f.files?.[0];if(m)try{const g=m.name.toLowerCase().includes("purchased")?"purchase":"sale",x=(await m.text()).split(`
`),I=x[0].split(";").map(Q=>Q.trim()),N=[];for(let Q=1;Q<x.length;Q++){const V=x[Q].trim();if(!V)continue;const X=V.split(";"),j={};for(let F=0;F<I.length;F++){const oe=I[F].toLowerCase(),ge=X[F]?X[F].trim():"";switch(oe){case"order id":case"orderid":case"bestellnummer":j.orderId=ge;break;case"date of purchase":case"date":case"date of payment":case"kaufdatum":case"zahlungsdatum":j.dateOfPurchase=ge;break;case"username":case"benutzername":j.username=ge;break;case"country":case"land":j.country=ge;break;case"city":case"stadt":j.city=ge;break;case"article count":case"items":case"anzahl artikel":j.articleCount=ge;break;case"merchandise value":case"warenwert":j.merchandiseValue=ge;break;case"shipment costs":case"versandkosten":j.shipmentCosts=ge;break;case"commission":case"trustee service fee":case"provision":j.commission=ge;break;case"total value":case"gesamtwert":j.totalValue=ge;break}}j.orderId&&(j.direction=g,j.currency="EUR",N.push(j))}await pr.importCardmarketOrders(N),n("success",`Successfully imported ${N.length} ${g} orders`),f.value=""}catch(h){console.error("Error importing orders:",h),n("error","Failed to import orders: "+h.message)}},a=async u=>{const f=u.target,m=f.files?.[0];if(m)try{const g=m.name.toLowerCase().includes("purchased")?"purchase":"sale",x=(await m.text()).split(`
`),I=x[0].split(";").map(Q=>Q.trim()),N=[];for(let Q=1;Q<x.length;Q++){const V=x[Q].trim();if(!V)continue;const X=V.split(";"),j={};for(let F=0;F<I.length;F++){const oe=I[F].toLowerCase(),ge=X[F]?X[F].trim():"";switch(oe){case"shipment nr.":case"shipment nr":case"shipment id":case"order id":case"bestellnummer":j.shipmentId=ge;break;case"date of purchase":case"date":j.dateOfPurchase=ge;break;case"product id":case"produkt id":j.productId=ge;break;case"article":case"artikel":case"localized product name":case"produktname":j.name=ge;break;case"expansion":case"erweiterung":j.expansion=ge;break;case"category":case"kategorie":j.category=ge;break;case"amount":case"anzahl":j.amount=ge;break;case"article value":case"price":case"preis":j.price=ge;break;case"total":j.total=ge;break;case"currency":j.currency=ge;break;case"comments":j.comments=ge;break}}j.shipmentId&&(j.direction=g,j.currency||(j.currency="EUR"),N.push(j))}await pr.importCardmarketArticles(N),n("success",`Successfully imported ${N.length} ${g} articles`),f.value=""}catch(h){console.error("Error importing articles:",h),n("error","Failed to import articles: "+h.message)}},l=async u=>{const f=u.target;f.files?.[0]&&(n("success","ManaBox import functionality would be implemented here"),f.value="")};return(u,f)=>(U(),ee("div",my,[f[8]||(f[8]=w("h1",null,"Import CSV Files",-1)),w("div",yy,[f[3]||(f[3]=w("h2",null,"Cardmarket Data",-1)),f[4]||(f[4]=w("p",null,"Import your Cardmarket transaction data to track your purchases and sales.",-1)),w("div",gy,[f[0]||(f[0]=w("label",{for:"transactions-csv",class:"form-label"}," Upload Transactions CSV ",-1)),w("input",{id:"transactions-csv",type:"file",accept:".csv",onChange:r,class:"form-control"},null,32)]),w("div",vy,[f[1]||(f[1]=w("label",{for:"orders-csv",class:"form-label"}," Upload Orders CSV ",-1)),w("input",{id:"orders-csv",type:"file",accept:".csv",onChange:o,class:"form-control"},null,32)]),w("div",by,[f[2]||(f[2]=w("label",{for:"articles-csv",class:"form-label"}," Upload Articles CSV ",-1)),w("input",{id:"articles-csv",type:"file",accept:".csv",onChange:a,class:"form-control"},null,32)])]),w("div",_y,[f[6]||(f[6]=w("h2",null,"ManaBox Scans",-1)),f[7]||(f[7]=w("p",null,"Import your ManaBox scan data to track your physical collection.",-1)),w("div",wy,[f[5]||(f[5]=w("label",{for:"manabox-csv",class:"form-label"}," Upload ManaBox CSV ",-1)),w("input",{id:"manabox-csv",type:"file",accept:".csv",onChange:l,class:"form-control"},null,32)])]),t.value?(U(),ee("div",{key:0,class:Ct(["status-message",t.value.type])},se(t.value.message),3)):$e("",!0)]))}}),ky=Mn(xy,[["__scopeId","data-v-a64310e9"]]);function Ey(e){return new Worker("/mtg-pwa/assets/cardmarketCsv-GHGAoa0o.js",{name:e?.name})}const Ay={class:"cardmarket-wizard"},Cy={class:"wizard-progress"},Sy={class:"step-number"},Iy={class:"step-label"},Py={class:"card"},Oy={class:"card-body"},Ry={class:"wizard-content"},Dy={key:0,class:"step-content"},$y={class:"file-upload-section"},Ty={class:"mb-3"},Fy={key:0,class:"files-info"},My={class:"file-list"},By={class:"file-name"},Ny={class:"file-type"},jy={class:"file-size"},Ly={key:0,class:"error-messages"},qy={key:1,class:"step-content"},Uy={key:0,class:"preview-stats"},Ky={class:"stat"},Vy={class:"stat-value"},Hy={class:"stat"},Wy={class:"stat-value"},zy={class:"stat"},Qy={class:"stat-value"},Yy={key:1,class:"preview-table-container"},Gy={class:"preview-table-wrapper"},Jy={class:"preview-table"},Xy={key:0},Zy={key:1},eg={key:2},tg={key:3},ng={key:4},rg={key:5},sg={key:6},og={key:7},ig={key:8},ag={key:9},cg={key:10},lg={key:11},ug={key:12},dg={key:13},fg={key:14},pg={key:0},hg={key:1},mg={key:2},yg={key:3},gg={key:4},vg={key:5},bg={key:6},_g={key:7},wg={key:8},xg={key:9},kg={key:10},Eg={key:11},Ag={key:12},Cg={key:13},Sg={key:14},Ig={key:0},Pg=["colspan"],Og={key:2,class:"invalid-rows-section"},Rg={class:"invalid-rows"},Dg={class:"row-number"},$g={class:"row-errors"},Tg={key:0,class:"more-rows"},Fg={key:2,class:"step-content"},Mg={key:0,class:"conflicts-section"},Bg={class:"conflicts-list"},Ng={class:"flex-grow-1"},jg={class:"fw-medium"},Lg={class:"small text-muted"},qg={key:1,class:"conflicts-section"},Ug={class:"conflicts-list"},Kg={class:"flex-grow-1"},Vg={class:"fw-medium"},Hg={class:"small text-muted"},Wg={key:3,class:"step-content"},zg={class:"summary-stats"},Qg={class:"stat"},Yg={class:"stat-value"},Gg={class:"stat"},Jg={class:"stat-value"},Xg={key:0,class:"stat"},Zg={class:"stat-value"},ev={class:"summary-details"},tv={class:"summary-grid"},nv={class:"summary-item"},rv={class:"summary-value"},sv={class:"summary-item"},ov={class:"summary-value"},iv={class:"summary-item"},av={class:"summary-value"},cv={class:"wizard-navigation pt-3"},lv=["disabled"],uv=["disabled"],dv=ot({__name:"CardmarketImportWizard",setup(e){const t=[{key:"upload",title:"Upload"},{key:"preview",title:"Preview"},{key:"conflicts",title:"Conflicts"},{key:"summary",title:"Summary"}],n=Ee(0),r=Ee([]),o=Ee({}),a=Ee({}),l=Ee({}),u=Ee(null),f=Ee(!1),m=Ee({}),h=Ee([]),g=Y=>{if(Y===0)return"0 Bytes";const H=1024,L=["Bytes","KB","MB","GB"],Ie=Math.floor(Math.log(Y)/Math.log(H));return parseFloat((Y/Math.pow(H,Ie)).toFixed(2))+" "+L[Ie]},v=Y=>new Intl.NumberFormat("en-EU",{style:"currency",currency:"EUR"}).format(Y/100),x=async Y=>{const L=Y.target.files;if(!(!L||L.length===0)){h.value=[],r.value=Array.from(L);try{for(const Ie of r.value){if(!Ie.name.endsWith(".csv")){h.value.push(`File ${Ie.name} is not a CSV file.`);continue}const ve=await Ie.text();o.value[Ie.name]=ve,a.value[Ie.name]=it(Ie.name)}await I()}catch(Ie){h.value.push("Failed to read the files: "+Ie.message)}}},I=async()=>{try{l.value={};for(const[Y,H]of Object.entries(o.value)){const L=a.value[Y];if(L==="unknown"){console.warn(`Skipping unknown file type: ${Y}`);continue}const Ie=new Ey;let ve="",Ve="sale";switch(L){case"transactions":ve="parseTransactions";break;case"sold-orders":ve="parseOrders",Ve="sale";break;case"purchased-orders":ve="parseOrders",Ve="purchase";break;case"sold-articles":ve="parseArticles",Ve="sale";break;case"purchased-articles":ve="parseArticles",Ve="purchase";break}Ie.postMessage({type:ve,data:H,direction:Ve});const Ht=await new Promise((Nt,pt)=>{Ie.onmessage=J=>{const{type:be,result:W,error:ke}=J.data;console.log("Worker response type:",be),ke?pt(new Error(ke)):Nt(W)},Ie.onerror=J=>{pt(J)}});l.value[L]=Ht,Ie.terminate()}await Fe()}catch(Y){h.value.push("Failed to parse CSV data: "+Y.message)}},N=st(()=>n.value===0?r.value.length>0&&h.value.length===0:!0),Q=async()=>{N.value&&(n.value===0&&await I(),n.value<t.length-1&&n.value++)},V=()=>{n.value>0&&n.value--},X=async()=>{if(!f.value){f.value=!0,u.value=null;try{for(const[Y,H]of Object.entries(l.value)){if(!H||H.length===0)continue;const L=ze(H,Y);switch(Y){case"transactions":await pr.importCardmarketTransactions(L);break;case"sold-orders":case"purchased-orders":await pr.importCardmarketOrders(L);break;case"sold-articles":case"purchased-articles":await pr.importCardmarketArticles(L);break}}u.value={type:"success",message:"Successfully imported all data"}}catch(Y){u.value={type:"error",message:"Failed to import data: "+Y.message}}finally{f.value=!1}}},j=Y=>ze(l.value[Y]||[],Y),F=Y=>ze(l.value[Y]||[],Y).filter(L=>Oe(Y,L)),oe=()=>Object.values(l.value).reduce((Y,H)=>Y+(H?.length||0),0),ge=()=>{let Y=0;for(const[H,L]of Object.entries(l.value))L&&(Y+=ze(L,H).length);return Y},Ae=Y=>{if(/^\d{2}\.\d{2}\.\d{4} \d{2}:\d{2}:\d{2}$/.test(Y)){const Ie=Y.split(" ")[0].split("."),ve=parseInt(Ie[0],10),Ve=parseInt(Ie[1],10)-1,Ht=parseInt(Ie[2],10),Nt=new Date(Ht,Ve,ve);return Nt.getFullYear()===Ht&&Nt.getMonth()===Ve&&Nt.getDate()===ve}if(/^\d{2}\.\d{2}\.\d{4}$/.test(Y)){const H=Y.split("."),L=parseInt(H[0],10),Ie=parseInt(H[1],10)-1,ve=parseInt(H[2],10),Ve=new Date(ve,Ie,L);return Ve.getFullYear()===ve&&Ve.getMonth()===Ie&&Ve.getDate()===L}if(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(Y)){const H=new Date(Y);return!isNaN(H.getTime())}if(/^\d{4}-\d{2}-\d{2}$/.test(Y)){const H=new Date(Y);return!isNaN(H.getTime())}return!1},Se=Y=>{const H=Y.replace(/[$\s]/g,"").replace(",",".");return!isNaN(parseFloat(H))},Ce=Y=>{const H=parseInt(Y,10);return!isNaN(H)&&H>0};function qe(Y){switch(Y){case"transactions":return"Transaction Summary";case"sold-orders":return"Sold Orders";case"purchased-orders":return"Purchased Orders";case"sold-articles":return"Sold Articles";case"purchased-articles":return"Purchased Articles";default:return"Unknown File Type"}}const ut=Y=>{switch(Y){case"transactions":return 5;case"sold-orders":case"purchased-orders":return 6;case"sold-articles":case"purchased-articles":return 8;default:return 5}},Xe=(Y,H)=>{const L=[];if(!Y.date&&!Y.dateOfPurchase)L.push("Date is required");else{const Ie=Y.date||Y.dateOfPurchase;Ae(Ie)||L.push("Invalid date format (expected DD.MM.YYYY or YYYY-MM-DD)")}return H.includes("articles")?(Y.name||L.push("Card name is required"),Y.expansion||L.push("Expansion/Set is required"),Y.price?Se(Y.price)||L.push("Invalid price format (expected numeric value)"):L.push("Price is required"),Y.amount?Ce(Y.amount)||L.push("Invalid quantity (expected positive integer)"):L.push("Quantity is required"),Y.shipmentId||L.push("Order ID is required")):H.includes("orders")?(Y.dateOfPurchase?Ae(Y.dateOfPurchase)||L.push("Invalid date format (expected DD.MM.YYYY or YYYY-MM-DD)"):L.push("Date is required"),Y.orderId||L.push("Order ID is required"),Y.articleCount?Ce(Y.articleCount)||L.push("Invalid article count (expected positive integer)"):L.push("Article count is required"),Y.merchandiseValue?Se(Y.merchandiseValue)||L.push("Invalid merchandise value format (expected numeric value)"):L.push("Merchandise value is required")):H==="transactions"&&(Y.reference||L.push("Reference is required"),Y.amount?Se(Y.amount)||L.push("Invalid amount format (expected numeric value)"):L.push("Amount is required"),Y.category||L.push("Category is required"),Y.type||L.push("Type is required")),L},ze=(Y,H="articles")=>Y.filter(L=>Xe(L,H).length===0),wt=(Y,H="articles")=>Y.map((L,Ie)=>({index:Ie,row:L,errors:Xe(L,H)})).filter(L=>L.errors.length>0),it=Y=>{const H=Y.toLowerCase();return H.includes("transaction")?"transactions":H.includes("sold orders")?"sold-orders":H.includes("purchased orders")?"purchased-orders":H.includes("sold articles")?"sold-articles":H.includes("purchased articles")?"purchased-articles":"unknown"},Fe=async()=>{try{m.value={};for(const[Y,H]of Object.entries(l.value))if(!(!H||H.length===0)&&Y.includes("articles")){const L=await pr.checkForExistingImports(H);for(const Ie of L){const ve=`${Y}:${Ie.article.shipmentId}:${Ie.article.lineNumber}`;m.value[ve]=Ie.exists}}}catch(Y){console.error("Error checking for existing imports:",Y)}},Oe=(Y,H)=>{const L=`${Y}:${H.shipmentId}:${H.lineNumber}`;return!!m.value[L]};return(Y,H)=>(U(),ee("div",Ay,[H[30]||(H[30]=w("h1",null,"Cardmarket Import Wizard",-1)),w("div",Cy,[(U(),ee(nt,null,Kt(t,(L,Ie)=>w("div",{key:L.key,class:Ct(["step",{active:n.value===Ie,completed:Ie<n.value}])},[w("div",Sy,se(Ie+1),1),w("div",Iy,se(L.title),1)],2)),64))]),w("div",Py,[w("div",Oy,[w("div",Ry,[n.value===0?(U(),ee("div",Dy,[H[2]||(H[2]=w("h2",null,"Upload CSV Files",-1)),H[3]||(H[3]=w("p",null,"Please select all Cardmarket CSV export files to import. You can select multiple files at once.",-1)),w("div",$y,[w("div",Ty,[H[0]||(H[0]=w("label",{for:"csv-files",class:"form-label"}," Choose CSV Files ",-1)),w("input",{id:"csv-files",type:"file",accept:".csv",multiple:"",onChange:x,class:"form-control"},null,32)]),r.value.length>0?(U(),ee("div",Fy,[H[1]||(H[1]=w("h3",null,"Uploaded Files",-1)),w("ul",My,[(U(!0),ee(nt,null,Kt(r.value,L=>(U(),ee("li",{key:L.name,class:"file-item"},[w("span",By,se(L.name),1),w("span",Ny,"("+se(it(L.name))+")",1),w("span",jy,"- "+se(g(L.size)),1)]))),128))])])):$e("",!0)]),h.value.length>0?(U(),ee("div",Ly,[(U(!0),ee(nt,null,Kt(h.value,L=>(U(),ee("div",{key:L,class:"error-message"},se(L),1))),128))])):$e("",!0)])):n.value===1?(U(),ee("div",qy,[H[11]||(H[11]=w("h2",null,"Preview Data",-1)),H[12]||(H[12]=w("p",null,"Review the data that will be imported. Check for any issues before proceeding.",-1)),(U(!0),ee(nt,null,Kt(a.value,(L,Ie)=>(U(),ee("div",{key:Ie,class:"file-preview"},[w("h3",null,se(qe(L)),1),l.value[L]&&l.value[L].length>0?(U(),ee("div",Uy,[w("div",Ky,[w("div",Vy,se(l.value[L].length),1),H[4]||(H[4]=w("div",{class:"stat-label"},"Total Rows",-1))]),w("div",Hy,[w("div",Wy,se(ze(l.value[L],L).length),1),H[5]||(H[5]=w("div",{class:"stat-label"},"Valid Rows",-1))]),w("div",zy,[w("div",Qy,se(wt(l.value[L],L).length),1),H[6]||(H[6]=w("div",{class:"stat-label"},"Invalid Rows",-1))])])):$e("",!0),l.value[L]&&l.value[L].length>0?(U(),ee("div",Yy,[H[8]||(H[8]=w("h4",null,"Valid Data Preview",-1)),w("div",Gy,[w("table",Jy,[w("thead",null,[w("tr",null,[L==="transactions"?(U(),ee("th",Xy,"Reference")):(U(),ee("th",Zy,"Line")),H[7]||(H[7]=w("th",null,"Date",-1)),L.includes("articles")?(U(),ee("th",eg,"Card Name")):$e("",!0),L.includes("articles")?(U(),ee("th",tg,"Expansion")):$e("",!0),L.includes("articles")?(U(),ee("th",ng,"Price")):$e("",!0),L.includes("articles")?(U(),ee("th",rg,"Quantity")):$e("",!0),L.includes("articles")?(U(),ee("th",sg,"Order ID")):$e("",!0),L.includes("articles")?(U(),ee("th",og,"Status")):$e("",!0),L.includes("orders")?(U(),ee("th",ig,"Order ID")):$e("",!0),L.includes("orders")?(U(),ee("th",ag,"Username")):$e("",!0),L.includes("orders")?(U(),ee("th",cg,"Article Count")):$e("",!0),L.includes("orders")?(U(),ee("th",lg,"Merchandise Value")):$e("",!0),L==="transactions"?(U(),ee("th",ug,"Category")):$e("",!0),L==="transactions"?(U(),ee("th",dg,"Type")):$e("",!0),L==="transactions"?(U(),ee("th",fg,"Amount")):$e("",!0)])]),w("tbody",null,[(U(!0),ee(nt,null,Kt(ze(l.value[L],L).slice(0,5),(ve,Ve)=>(U(),ee("tr",{key:Ve},[L==="transactions"?(U(),ee("td",pg,se(ve.reference),1)):(U(),ee("td",hg,se(ve.lineNumber),1)),w("td",null,se(ve.date||ve.dateOfPurchase),1),L.includes("articles")?(U(),ee("td",mg,se(ve.name),1)):$e("",!0),L.includes("articles")?(U(),ee("td",yg,se(ve.expansion),1)):$e("",!0),L.includes("articles")?(U(),ee("td",gg,se(v(parseFloat(ve.price.replace(/[$\s]/g,"").replace(",","."))*100)),1)):$e("",!0),L.includes("articles")?(U(),ee("td",vg,se(ve.amount),1)):$e("",!0),L.includes("articles")?(U(),ee("td",bg,se(ve.shipmentId),1)):$e("",!0),L.includes("articles")?(U(),ee("td",_g,[w("span",{class:Ct(Oe(L,ve)?"text-success":"text-primary")},se(Oe(L,ve)?"Already Imported":"New"),3)])):$e("",!0),L.includes("orders")?(U(),ee("td",wg,se(ve.orderId),1)):$e("",!0),L.includes("orders")?(U(),ee("td",xg,se(ve.username),1)):$e("",!0),L.includes("orders")?(U(),ee("td",kg,se(ve.articleCount),1)):$e("",!0),L.includes("orders")?(U(),ee("td",Eg,se(v(parseFloat(ve.merchandiseValue.replace(/[$\s]/g,"").replace(",","."))*100)),1)):$e("",!0),L==="transactions"?(U(),ee("td",Ag,se(ve.category),1)):$e("",!0),L==="transactions"?(U(),ee("td",Cg,se(ve.type),1)):$e("",!0),L==="transactions"?(U(),ee("td",Sg,se(v(parseFloat(ve.amount.replace(/[$\s]/g,"").replace(",","."))*100)),1)):$e("",!0)]))),128)),ze(l.value[L],L).length>5?(U(),ee("tr",Ig,[w("td",{colspan:ut(L),class:"more-rows-cell"}," ... and "+se(ze(l.value[L],L).length-5)+" more rows ",9,Pg)])):$e("",!0)])])])])):$e("",!0),wt(l.value[L],L).length>0?(U(),ee("div",Og,[H[9]||(H[9]=w("h4",null,"Invalid Rows",-1)),H[10]||(H[10]=w("p",null,"The following rows have issues and will be skipped:",-1)),w("div",Rg,[(U(!0),ee(nt,null,Kt(wt(l.value[L],L).slice(0,3),(ve,Ve)=>(U(),ee("div",{key:Ve,class:"invalid-row"},[w("div",Dg,"Row "+se(ve.row.lineNumber||ve.row.reference),1),w("div",$g,se(ve.errors.join(", ")),1)]))),128)),wt(l.value[L],L).length>3?(U(),ee("div",Tg," ... and "+se(wt(l.value[L],L).length-3)+" more rows ",1)):$e("",!0)])])):$e("",!0)]))),128))])):n.value===2?(U(),ee("div",Fg,[H[19]||(H[19]=w("h2",null,"Resolve Conflicts",-1)),H[20]||(H[20]=w("p",null,"Check for duplicate imports and resolve any conflicts.",-1)),(U(!0),ee(nt,null,Kt(a.value,(L,Ie)=>(U(),ee("div",{key:Ie,class:"file-conflicts"},[w("h3",null,se(qe(L)),1),L.includes("articles")&&F(L).length>0?(U(),ee("div",Mg,[H[14]||(H[14]=w("h4",null,"Already Imported Articles",-1)),H[15]||(H[15]=w("p",null,"The following articles have already been imported and will be skipped:",-1)),w("div",Bg,[(U(!0),ee(nt,null,Kt(F(L),(ve,Ve)=>(U(),ee("div",{key:Ve,class:"d-flex justify-content-between align-items-center p-2 bg-light rounded"},[w("div",Ng,[w("div",jg,se(ve.name),1),w("div",Lg,se(ve.expansion)+"  "+se(ve.amount)+"  "+se(v(parseFloat(ve.price.replace(/[$\s]/g,"").replace(",","."))*100))+"  Order #"+se(ve.shipmentId),1)]),H[13]||(H[13]=w("div",{class:"ms-3"},[w("span",{class:"text-success fw-medium"},"Already Imported")],-1))]))),128))])])):$e("",!0),L.includes("articles")&&j(L).length>0?(U(),ee("div",qg,[H[17]||(H[17]=w("h4",null,"New Articles to Import",-1)),H[18]||(H[18]=w("p",null,"The following articles will be imported:",-1)),w("div",Ug,[(U(!0),ee(nt,null,Kt(j(L).filter(ve=>!Oe(L,ve)),(ve,Ve)=>(U(),ee("div",{key:Ve,class:"d-flex justify-content-between align-items-center p-2 bg-light rounded"},[w("div",Kg,[w("div",Vg,se(ve.name),1),w("div",Hg,se(ve.expansion)+"  "+se(ve.amount)+"  "+se(v(parseFloat(ve.price.replace(/[$\s]/g,"").replace(",","."))*100))+"  Order #"+se(ve.shipmentId),1)]),H[16]||(H[16]=w("div",{class:"ms-3"},[w("span",{class:"text-primary fw-medium"},"New")],-1))]))),128))])])):$e("",!0)]))),128))])):n.value===3?(U(),ee("div",Wg,[H[28]||(H[28]=w("h2",null,"Import Summary",-1)),H[29]||(H[29]=w("p",null,"Review the import summary before finalizing.",-1)),(U(!0),ee(nt,null,Kt(a.value,(L,Ie)=>(U(),ee("div",{key:Ie,class:"file-summary"},[w("h3",null,se(qe(L)),1),w("div",zg,[w("div",Qg,[w("div",Yg,se(j(L).length),1),H[21]||(H[21]=w("div",{class:"stat-label"},"New Records",-1))]),w("div",Gg,[w("div",Jg,se(wt(l.value[L]||[],L).length),1),H[22]||(H[22]=w("div",{class:"stat-label"},"Invalid Rows",-1))]),L.includes("articles")?(U(),ee("div",Xg,[w("div",Zg,se(F(L).length),1),H[23]||(H[23]=w("div",{class:"stat-label"},"Already Imported",-1))])):$e("",!0)])]))),128)),w("div",ev,[H[27]||(H[27]=w("h3",null,"Import Details",-1)),w("div",tv,[w("div",nv,[H[24]||(H[24]=w("div",{class:"summary-label"},"Files Uploaded",-1)),w("div",rv,se(r.value.length),1)]),w("div",sv,[H[25]||(H[25]=w("div",{class:"summary-label"},"Total Rows Parsed",-1)),w("div",ov,se(oe()),1)]),w("div",iv,[H[26]||(H[26]=w("div",{class:"summary-label"},"Total Valid Rows",-1)),w("div",av,se(ge()),1)])])]),u.value?(U(),ee("div",{key:0,class:Ct(["import-status",u.value.type])},se(u.value.message),3)):$e("",!0)])):$e("",!0)])])]),w("div",cv,[n.value>0?(U(),ee("button",{key:0,onClick:V,class:"btn btn-secondary"}," Previous ")):$e("",!0),n.value<t.length-1?(U(),ee("button",{key:1,onClick:Q,class:"btn btn-primary",disabled:!N.value}," Next ",8,lv)):$e("",!0),n.value===t.length-1?(U(),ee("button",{key:2,onClick:X,class:"btn btn-primary",disabled:f.value},se(f.value?"Importing...":"Import Data"),9,uv)):$e("",!0)])]))}}),fv=Mn(dv,[["__scopeId","data-v-3d6364bb"]]);class pv{static normalizeFingerprint(t){return{name:t.name.trim().toLowerCase(),setCode:t.setCode.trim().toLowerCase(),collectorNumber:t.collectorNumber.trim().toLowerCase(),finish:t.finish.trim().toLowerCase(),language:t.language.trim().toLowerCase()}}static compareFingerprints(t,n){const r=this.normalizeFingerprint(t),o=this.normalizeFingerprint(n);return r.name===o.name&&r.setCode===o.setCode&&r.collectorNumber===o.collectorNumber&&r.finish===o.finish&&r.language===o.language}static async resolveFingerprint(t){try{const n=await rn.hydrateCard({name:t.name,setCode:t.setCode,collectorNumber:t.collectorNumber});return n&&n.id?n.id:null}catch(n){return console.error("Error resolving fingerprint:",n),null}}}const hv={class:"deck-import"},mv={class:"import-section"},yv={class:"mb-3"},gv={class:"mb-3"},vv=["disabled"],bv={key:0,class:"progress-container mb-4"},_v={class:"progress"},wv={class:"progress-text"},xv=ot({__name:"DeckImportView",setup(e){const t=Ee(""),n=Ee(""),r=Ee(!1),o=Ee(null),a=Ee(null),l=(f,m)=>{o.value={type:f,message:m},setTimeout(()=>{o.value=null},5e3)},u=async()=>{if(!t.value.trim()){l("error","Please enter a deck name");return}if(!n.value.trim()){l("error","Please paste your decklist");return}r.value=!0,a.value=0;try{const f=n.value.trim().split(`
`).filter(I=>I.trim()),m=f.length,h=I=>new Promise(N=>setTimeout(N,I)),g=`deck-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,v=new Date,x={id:g,platform:"csv",name:t.value.trim(),commander:"",url:"",importedAt:v,createdAt:v,updatedAt:v};await xe.decks.add(x);for(let I=0;I<f.length;I++){const N=f[I].trim();if(!N)continue;a.value=Math.round((I+1)/m*100),await h(0),console.log("Processing line:",N);const Q=N.match(/^(\d+)\s+(.+?)\s*\(([^)]+)\)\s*(\d+)(?:\s*\*F\*\s*)?$/i);if(Q){const[,V,X,j,F]=Q,oe=parseInt(V)||1;if(X&&j&&F){const ge={name:X.trim(),setCode:j.trim(),collectorNumber:F.trim(),finish:"nonfoil",language:"en"},Ae=await pv.resolveFingerprint(ge);if(Ae){if(!await gn.getById(Ae)){const it=await rn.hydrateCard({scryfall_id:Ae,name:X.trim(),setCode:j.trim(),collectorNumber:F.trim()}),Fe=it?.image_uris?.normal||it?.image_uris?.large||it?.image_uris?.small||"",Oe=new Date,Y={id:Ae,oracleId:it?.oracle_id||"",name:X.trim(),set:it?.set_name||j.trim(),setCode:j.trim(),number:F.trim(),lang:it?.lang||"en",finish:"nonfoil",imageUrl:Fe,createdAt:Oe,updatedAt:Oe};await gn.add(Y)}const wt=(await It.getByCardId(Ae)).reduce((it,Fe)=>{if(!Fe.disposedAt||Fe.disposedQuantity&&Fe.disposedQuantity<Fe.quantity){const Oe=Fe.disposedQuantity?Fe.quantity-Fe.disposedQuantity:Fe.quantity;return it+Oe}return it},0);if(wt<oe){const it=oe-wt,Fe=new Date,Y={id:`lot-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,cardId:Ae,quantity:it,unitCost:0,condition:"unknown",language:"en",foil:!1,finish:"nonfoil",source:"deck_import",currency:"EUR",purchasedAt:Fe,createdAt:Fe,updatedAt:Fe};await It.add(Y)}}let Se;const Ce=await It.getByCardId(Ae||"");if(Ce.length>0){for(const Xe of Ce)if((Xe.disposedQuantity?Xe.quantity-Xe.disposedQuantity:Xe.quantity)>=oe&&!Xe.disposedAt){Se=Xe.id;break}!Se&&Ce.length>0&&(Se=Ce[0].id)}const qe=new Date,ut={id:`deckcard-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,deckId:g||"unknown-deck",cardId:Ae||"unknown-card",lotId:Se,quantity:typeof oe=="number"&&oe>0?oe:1,role:"main",addedAt:qe,createdAt:qe};await xe.deck_cards.put(ut)}}}l("success",`Successfully imported deck: ${t.value}`),t.value="",n.value=""}catch(f){console.error("Error importing deck:",f),l("error","Failed to import deck: "+f.message)}finally{r.value=!1,a.value=null}};return(f,m)=>(U(),ee("div",hv,[m[7]||(m[7]=w("h1",null,"Import Deck",-1)),w("div",mv,[m[4]||(m[4]=w("h2",null,"Moxfield Deck Import",-1)),m[5]||(m[5]=w("p",null,"Copy and paste your decklist from Moxfield to track which cards you own and which you're missing.",-1)),w("div",yv,[m[2]||(m[2]=w("label",{for:"deck-name",class:"form-label"},"Deck Name",-1)),_s(w("input",{id:"deck-name","onUpdate:modelValue":m[0]||(m[0]=h=>t.value=h),type:"text",placeholder:"Enter a name for your deck",class:"form-control"},null,512),[[Zi,t.value]])]),w("div",gv,[m[3]||(m[3]=w("label",{for:"decklist",class:"form-label"},"Decklist",-1)),_s(w("textarea",{id:"decklist","onUpdate:modelValue":m[1]||(m[1]=h=>n.value=h),placeholder:`Paste your decklist here (e.g., 4 Lightning Bolt
2 Counterspell)`,rows:"10",class:"form-control"},null,512),[[Zi,n.value]])]),w("button",{onClick:u,disabled:r.value,class:"btn btn-primary mb-4"},se(r.value?"Importing...":"Import Deck"),9,vv),a.value!==null?(U(),ee("div",bv,[w("div",_v,[w("div",{class:"progress-bar",style:Vr({width:a.value+"%"})},null,4)]),w("div",wv,se(a.value)+"%",1)])):$e("",!0),m[6]||(m[6]=w("div",{class:"instructions"},[w("h3",null,"How to copy from Moxfield:"),w("ol",null,[w("li",null,"Open your deck on Moxfield.com"),w("li",null,'Click the "Export" button'),w("li",null,'Select "Text" format'),w("li",null,"Copy the text and paste it here")])],-1))]),o.value?(U(),ee("div",{key:0,class:Ct(["status-message",o.value.type])},se(o.value.message),3)):$e("",!0)]))}}),kv=Mn(xv,[["__scopeId","data-v-9ad190d9"]]),Ev={class:"decks-view"},Av={class:"header"},Cv={key:0,class:"loading"},Sv={key:1,class:"empty-state"},Iv={key:2,class:"row g-4"},Pv=["onClick"],Ov={class:"deck-info"},Rv={class:"platform"},Dv={class:"date"},$v={class:"card-count"},Tv=ot({__name:"DecksView",setup(e){const t=om(),n=Ee([]),r=Ee(!0),o=Ee({}),a=m=>new Date(m).toLocaleDateString(),l=m=>o.value[m]||0,u=m=>{t.push(`/decks/${m}`)},f=async()=>{try{const m=await xe.decks.toArray();n.value=m;for(const h of m){const g=await xe.deck_cards.where("deckId").equals(h.id).count();o.value[h.id]=g}}catch(m){console.error("Error loading decks:",m)}finally{r.value=!1}};return er(()=>{f()}),(m,h)=>{const g=jo("router-link");return U(),ee("div",Ev,[w("div",Av,[h[1]||(h[1]=w("h1",null,"Decks",-1)),Ke(g,{to:"/import/deck",class:"btn btn-primary"},{default:rt(()=>[...h[0]||(h[0]=[zt(" Import Deck ",-1)])]),_:1})]),r.value?(U(),ee("div",Cv," Loading decks... ")):n.value.length===0?(U(),ee("div",Sv,[h[3]||(h[3]=w("p",null,"You haven't imported any decks yet.",-1)),Ke(g,{to:"/import/deck",class:"btn btn-primary"},{default:rt(()=>[...h[2]||(h[2]=[zt(" Import Your First Deck ",-1)])]),_:1})])):(U(),ee("div",Iv,[(U(!0),ee(nt,null,Kt(n.value,v=>(U(),ee("div",{key:v.id,class:"col-lg-4 col-md-6"},[w("div",{class:"deck-card h-100",onClick:x=>u(v.id)},[w("h2",null,se(v.name),1),w("p",Ov,[w("span",Rv,se(v.platform),1),w("span",Dv,se(a(v.importedAt)),1)]),w("p",$v,se(l(v.id))+" cards",1)],8,Pv)]))),128))]))])}}}),Fv=Mn(Tv,[["__scopeId","data-v-a321a24f"]]);function Ju(e,t){const n=typeof e=="string"&&!t?`${e}Context`:t,r=Symbol(n);return[l=>{const u=Xt(r,l);if(u||u===null)return u;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(", ")}`:`\`${e}\``}`)},l=>(fs(r,l),l)]}function Xn(){let e=document.activeElement;if(e==null)return null;for(;e!=null&&e.shadowRoot!=null&&e.shadowRoot.activeElement!=null;)e=e.shadowRoot.activeElement;return e}function Xu(e,t,n){const r=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),r.dispatchEvent(o)}function $a(e){return e?e.flatMap(t=>t.type===nt?$a(t.children):[t]):[]}const[Mv,I0]=Ju("ConfigProvider");function Zu(e){return fa()?(Dl(e),!0):!1}function Bv(e){let t=!1,n;const r=To(!0);return(...o)=>(t||(n=r.run(()=>e(...o)),t=!0),n)}function Nv(e){let t=0,n,r;const o=()=>{t-=1,r&&t<=0&&(r.stop(),n=void 0,r=void 0)};return(...a)=>(t+=1,r||(r=To(!0),n=r.run(()=>e(...a))),Zu(o),n)}const br=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const jv=e=>typeof e<"u",Lv=Object.prototype.toString,qv=e=>Lv.call(e)==="[object Object]",gl=Uv();function Uv(){var e,t;return br&&((e=window?.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window?.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function Kv(e){return Fn()}function Ni(e){return Array.isArray(e)?e:[e]}function Vv(e,t){Kv()&&lu(e,t)}function Hv(e,t,n){return Zt(e,t,{...n,immediate:!0})}const Ta=br?window:void 0;function Wo(e){var t;const n=bn(e);return(t=n?.$el)!=null?t:n}function ed(...e){const t=[],n=()=>{t.forEach(u=>u()),t.length=0},r=(u,f,m,h)=>(u.addEventListener(f,m,h),()=>u.removeEventListener(f,m,h)),o=st(()=>{const u=Ni(bn(e[0])).filter(f=>f!=null);return u.every(f=>typeof f!="string")?u:void 0}),a=Hv(()=>{var u,f;return[(f=(u=o.value)==null?void 0:u.map(m=>Wo(m)))!=null?f:[Ta].filter(m=>m!=null),Ni(bn(o.value?e[1]:e[0])),Ni(we(o.value?e[2]:e[1])),bn(o.value?e[3]:e[2])]},([u,f,m,h])=>{if(n(),!u?.length||!f?.length||!m?.length)return;const g=qv(h)?{...h}:h;t.push(...u.flatMap(v=>f.flatMap(x=>m.map(I=>r(v,x,I,g)))))},{flush:"post"}),l=()=>{a(),n()};return Zu(n),l}function Wv(){const e=Yl(!1),t=Fn();return t&&er(()=>{e.value=!0},t),e}function zv(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function Qv(...e){let t,n,r={};e.length===3?(t=e[0],n=e[1],r=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:o=Ta,eventName:a="keydown",passive:l=!1,dedupe:u=!1}=r,f=zv(t);return ed(o,a,h=>{h.repeat&&bn(u)||f(h)&&n(h)},l)}function Yv(e){return JSON.parse(JSON.stringify(e))}function Gv(e,t,n,r={}){var o,a,l;const{clone:u=!1,passive:f=!1,eventName:m,deep:h=!1,defaultValue:g,shouldEmit:v}=r,x=Fn(),I=n||x?.emit||((o=x?.$emit)==null?void 0:o.bind(x))||((l=(a=x?.proxy)==null?void 0:a.$emit)==null?void 0:l.bind(x?.proxy));let N=m;N=N||`update:${t.toString()}`;const Q=j=>u?typeof u=="function"?u(j):Yv(j):j,V=()=>jv(e[t])?Q(e[t]):g,X=j=>{v?v(j)&&I(N,j):I(N,j)};if(f){const j=V(),F=Ee(j);let oe=!1;return Zt(()=>e[t],ge=>{oe||(oe=!0,F.value=Q(ge),an(()=>oe=!1))}),Zt(F,ge=>{!oe&&(ge!==e[t]||h)&&X(ge)},{deep:h}),F}else return st({get(){return V()},set(j){X(j)}})}function ji(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function aa(e,t,n=".",r){if(!ji(t))return aa(e,{},n,r);const o=Object.assign({},t);for(const a in e){if(a==="__proto__"||a==="constructor")continue;const l=e[a];l!=null&&(r&&r(o,a,l,n)||(Array.isArray(l)&&Array.isArray(o[a])?o[a]=[...l,...o[a]]:ji(l)&&ji(o[a])?o[a]=aa(l,o[a],(n?`${n}.`:"")+a.toString(),r):o[a]=l))}return o}function Jv(e){return(...t)=>t.reduce((n,r)=>aa(n,r,"",e),{})}const Xv=Jv(),Zv=Nv(()=>{const e=Ee(new Map),t=Ee(),n=st(()=>{for(const l of e.value.values())if(l)return!0;return!1}),r=Mv({scrollBody:Ee(!0)});let o=null;const a=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",gl&&o?.(),t.value=void 0};return Zt(n,(l,u)=>{if(!br)return;if(!l){u&&a();return}t.value===void 0&&(t.value=document.body.style.overflow);const f=window.innerWidth-document.documentElement.clientWidth,m={padding:f,margin:0},h=r.scrollBody?.value?typeof r.scrollBody.value=="object"?Xv({padding:r.scrollBody.value.padding===!0?f:r.scrollBody.value.padding,margin:r.scrollBody.value.margin===!0?f:r.scrollBody.value.margin},m):m:{padding:0,margin:0};f>0&&(document.body.style.paddingRight=typeof h.padding=="number"?`${h.padding}px`:String(h.padding),document.body.style.marginRight=typeof h.margin=="number"?`${h.margin}px`:String(h.margin),document.documentElement.style.setProperty("--scrollbar-width",`${f}px`),document.body.style.overflow="hidden"),gl&&(o=ed(document,"touchmove",g=>tb(g),{passive:!1})),an(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function eb(e){const t=Math.random().toString(36).substring(2,7),n=Zv();n.value.set(t,e);const r=st({get:()=>n.value.get(t)??!1,set:o=>n.value.set(t,o)});return Vv(()=>{n.value.delete(t)}),r}function td(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:td(n)}}function tb(e){const t=e||window.event,n=t.target;return n instanceof Element&&td(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}function Fa(e){const t=Fn(),n=t?.type.emits,r={};return n?.length||console.warn(`No emitted event found. Please check component: ${t?.type.__name}`),n?.forEach(o=>{r[lo(en(o))]=(...a)=>e(o,...a)}),r}function kn(){const e=Fn(),t=Ee(),n=st(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:Wo(t)),r=Object.assign({},e.exposed),o={};for(const l in e.props)Object.defineProperty(o,l,{enumerable:!0,configurable:!0,get:()=>e.props[l]});if(Object.keys(r).length>0)for(const l in r)Object.defineProperty(o,l,{enumerable:!0,configurable:!0,get:()=>r[l]});Object.defineProperty(o,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=o;function a(l){t.value=l,l&&(Object.defineProperty(o,"$el",{enumerable:!0,configurable:!0,get:()=>l instanceof Element?l:l.$el}),e.exposed=o)}return{forwardRef:a,currentRef:t,currentElement:n}}var nb=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Rr=new WeakMap,io=new WeakMap,ao={},Li=0,nd=function(e){return e&&(e.host||nd(e.parentNode))},rb=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=nd(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},sb=function(e,t,n,r){var o=rb(t,Array.isArray(e)?e:[e]);ao[n]||(ao[n]=new WeakMap);var a=ao[n],l=[],u=new Set,f=new Set(o),m=function(g){!g||u.has(g)||(u.add(g),m(g.parentNode))};o.forEach(m);var h=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(v){if(u.has(v))h(v);else try{var x=v.getAttribute(r),I=x!==null&&x!=="false",N=(Rr.get(v)||0)+1,Q=(a.get(v)||0)+1;Rr.set(v,N),a.set(v,Q),l.push(v),N===1&&I&&io.set(v,!0),Q===1&&v.setAttribute(n,"true"),I||v.setAttribute(r,"true")}catch(V){console.error("aria-hidden: cannot operate on ",v,V)}})};return h(t),u.clear(),Li++,function(){l.forEach(function(g){var v=Rr.get(g)-1,x=a.get(g)-1;Rr.set(g,v),a.set(g,x),v||(io.has(g)||g.removeAttribute(r),io.delete(g)),x||g.removeAttribute(n)}),Li--,Li||(Rr=new WeakMap,Rr=new WeakMap,io=new WeakMap,ao={})}},ob=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=nb(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),sb(r,o,n,"aria-hidden")):function(){return null}};function ib(e){let t;Zt(()=>Wo(e),n=>{n?t=ob(n):t&&t()}),No(()=>{t&&t()})}function vl(e,t="reka"){return`${t}-${If?.()}`}function ab(e,t){const n=Ee(e);function r(a){return t[n.value][a]??n.value}return{state:n,dispatch:a=>{n.value=r(a)}}}function cb(e,t){const n=Ee({}),r=Ee("none"),o=Ee(e),a=e.value?"mounted":"unmounted";let l;const u=t.value?.ownerDocument.defaultView??Ta,{state:f,dispatch:m}=ab(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),h=Q=>{if(br){const V=new CustomEvent(Q,{bubbles:!1,cancelable:!1});t.value?.dispatchEvent(V)}};Zt(e,async(Q,V)=>{const X=V!==Q;if(await an(),X){const j=r.value,F=co(t.value);Q?(m("MOUNT"),h("enter"),F==="none"&&h("after-enter")):F==="none"||F==="undefined"||n.value?.display==="none"?(m("UNMOUNT"),h("leave"),h("after-leave")):V&&j!==F?(m("ANIMATION_OUT"),h("leave")):(m("UNMOUNT"),h("after-leave"))}},{immediate:!0});const g=Q=>{const V=co(t.value),X=V.includes(Q.animationName),j=f.value==="mounted"?"enter":"leave";if(Q.target===t.value&&X&&(h(`after-${j}`),m("ANIMATION_END"),!o.value)){const F=t.value.style.animationFillMode;t.value.style.animationFillMode="forwards",l=u?.setTimeout(()=>{t.value?.style.animationFillMode==="forwards"&&(t.value.style.animationFillMode=F)})}Q.target===t.value&&V==="none"&&m("ANIMATION_END")},v=Q=>{Q.target===t.value&&(r.value=co(t.value))},x=Zt(t,(Q,V)=>{Q?(n.value=getComputedStyle(Q),Q.addEventListener("animationstart",v),Q.addEventListener("animationcancel",g),Q.addEventListener("animationend",g)):(m("ANIMATION_END"),l!==void 0&&u?.clearTimeout(l),V?.removeEventListener("animationstart",v),V?.removeEventListener("animationcancel",g),V?.removeEventListener("animationend",g))},{immediate:!0}),I=Zt(f,()=>{const Q=co(t.value);r.value=f.value==="mounted"?Q:"none"});return No(()=>{x(),I()}),{isPresent:st(()=>["mounted","unmountSuspended"].includes(f.value))}}function co(e){return e&&getComputedStyle(e).animationName||"none"}var rd=ot({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(e,{slots:t,expose:n}){const{present:r,forceMount:o}=wa(e),a=Ee(),{isPresent:l}=cb(r,a);n({present:l});let u=t.default({present:l.value});u=$a(u||[]);const f=Fn();if(u&&u?.length>1){const m=f?.parent?.type.name?`<${f.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${m}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}return()=>o.value||r.value||l.value?Nr(t.default({present:l.value})[0],{ref:m=>{const h=Wo(m);return typeof h?.hasAttribute>"u"||(h?.hasAttribute("data-reka-popper-content-wrapper")?a.value=h.firstElementChild:a.value=h),h}}):null}});const lb=ot({name:"PrimitiveSlot",inheritAttrs:!1,setup(e,{attrs:t,slots:n}){return()=>{if(!n.default)return null;const r=$a(n.default()),o=r.findIndex(f=>f.type!==wn);if(o===-1)return r;const a=r[o];delete a.props?.ref;const l=a.props?xn(t,a.props):t,u=yr({...a,props:{}},l);return r.length===1?u:(r[o]=u,r)}}}),ub=["area","img","input"],Ps=ot({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(e,{attrs:t,slots:n}){const r=e.asChild?"template":e.as;return typeof r=="string"&&ub.includes(r)?()=>Nr(r,t):r!=="template"?()=>Nr(e.as,t,{default:n.default}):()=>Nr(lb,t,{default:n.default})}}),[tr,db]=Ju("DialogRoot");var fb=ot({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:t}){const n=e,o=Gv(n,"open",t,{defaultValue:n.defaultOpen,passive:n.open===void 0}),a=Ee(),l=Ee(),{modal:u}=wa(n);return db({open:o,modal:u,openModal:()=>{o.value=!0},onOpenChange:f=>{o.value=f},onOpenToggle:()=>{o.value=!o.value},contentId:"",titleId:"",descriptionId:"",triggerElement:a,contentElement:l}),(f,m)=>Qt(f.$slots,"default",{open:we(o),close:()=>o.value=!1})}}),pb=fb,hb=ot({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e;kn();const n=tr();return(r,o)=>(U(),St(we(Ps),xn(t,{type:r.as==="button"?"button":void 0,onClick:o[0]||(o[0]=a=>we(n).onOpenChange(!1))}),{default:rt(()=>[Qt(r.$slots,"default")]),_:3},16,["type"]))}}),mb=hb;const yb="dismissableLayer.pointerDownOutside",gb="dismissableLayer.focusOutside";function sd(e,t){const n=t.closest("[data-dismissable-layer]"),r=e.dataset.dismissableLayer===""?e:e.querySelector("[data-dismissable-layer]"),o=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&(r===n||o.indexOf(r)<o.indexOf(n)))}function vb(e,t,n=!0){const r=t?.value?.ownerDocument??globalThis?.document,o=Ee(!1),a=Ee(()=>{});return qr(l=>{if(!br||!bn(n))return;const u=async m=>{const h=m.target;if(!(!t?.value||!h)){if(sd(t.value,h)){o.value=!1;return}if(m.target&&!o.value){let x=function(){Xu(yb,e,v)};var g=x;const v={originalEvent:m};m.pointerType==="touch"?(r.removeEventListener("click",a.value),a.value=x,r.addEventListener("click",a.value,{once:!0})):x()}else r.removeEventListener("click",a.value);o.value=!1}},f=window.setTimeout(()=>{r.addEventListener("pointerdown",u)},0);l(()=>{window.clearTimeout(f),r.removeEventListener("pointerdown",u),r.removeEventListener("click",a.value)})}),{onPointerDownCapture:()=>{bn(n)&&(o.value=!0)}}}function bb(e,t,n=!0){const r=t?.value?.ownerDocument??globalThis?.document,o=Ee(!1);return qr(a=>{if(!br||!bn(n))return;const l=async u=>{if(!t?.value)return;await an(),await an();const f=u.target;!t.value||!f||sd(t.value,f)||u.target&&!o.value&&Xu(gb,e,{originalEvent:u})};r.addEventListener("focusin",l),a(()=>r.removeEventListener("focusin",l))}),{onFocusCapture:()=>{bn(n)&&(o.value=!0)},onBlurCapture:()=>{bn(n)&&(o.value=!1)}}}const In=vr({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set});var _b=ot({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:t}){const n=e,r=t,{forwardRef:o,currentElement:a}=kn(),l=st(()=>a.value?.ownerDocument??globalThis.document),u=st(()=>In.layersRoot),f=st(()=>a.value?Array.from(u.value).indexOf(a.value):-1),m=st(()=>In.layersWithOutsidePointerEventsDisabled.size>0),h=st(()=>{const I=Array.from(u.value),[N]=[...In.layersWithOutsidePointerEventsDisabled].slice(-1),Q=I.indexOf(N);return f.value>=Q}),g=vb(async I=>{const N=[...In.branches].some(Q=>Q?.contains(I.target));!h.value||N||(r("pointerDownOutside",I),r("interactOutside",I),await an(),I.defaultPrevented||r("dismiss"))},a),v=bb(I=>{[...In.branches].some(Q=>Q?.contains(I.target))||(r("focusOutside",I),r("interactOutside",I),I.defaultPrevented||r("dismiss"))},a);Qv("Escape",I=>{f.value===u.value.size-1&&(r("escapeKeyDown",I),I.defaultPrevented||r("dismiss"))});let x;return qr(I=>{a.value&&(n.disableOutsidePointerEvents&&(In.layersWithOutsidePointerEventsDisabled.size===0&&(x=l.value.body.style.pointerEvents,l.value.body.style.pointerEvents="none"),In.layersWithOutsidePointerEventsDisabled.add(a.value)),u.value.add(a.value),I(()=>{n.disableOutsidePointerEvents&&In.layersWithOutsidePointerEventsDisabled.size===1&&(l.value.body.style.pointerEvents=x)}))}),qr(I=>{I(()=>{a.value&&(u.value.delete(a.value),In.layersWithOutsidePointerEventsDisabled.delete(a.value))})}),(I,N)=>(U(),St(we(Ps),{ref:we(o),"as-child":I.asChild,as:I.as,"data-dismissable-layer":"",style:Vr({pointerEvents:m.value?h.value?"auto":"none":void 0}),onFocusCapture:we(v).onFocusCapture,onBlurCapture:we(v).onBlurCapture,onPointerdownCapture:we(g).onPointerDownCapture},{default:rt(()=>[Qt(I.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),wb=_b;const xb=Bv(()=>Ee([]));function kb(){const e=xb();return{add(t){const n=e.value[0];t!==n&&n?.pause(),e.value=bl(e.value,t),e.value.unshift(t)},remove(t){e.value=bl(e.value,t),e.value[0]?.resume()}}}function bl(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Eb(e){return e.filter(t=>t.tagName!=="A")}const qi="focusScope.autoFocusOnMount",Ui="focusScope.autoFocusOnUnmount",_l={bubbles:!1,cancelable:!0};function Ab(e,{select:t=!1}={}){const n=Xn();for(const r of e)if(Wn(r,{select:t}),Xn()!==n)return!0}function Cb(e){const t=od(e),n=wl(t,e),r=wl(t.reverse(),e);return[n,r]}function od(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function wl(e,t){for(const n of e)if(!Sb(n,{upTo:t}))return n}function Sb(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ib(e){return e instanceof HTMLInputElement&&"select"in e}function Wn(e,{select:t=!1}={}){if(e&&e.focus){const n=Xn();e.focus({preventScroll:!0}),e!==n&&Ib(e)&&t&&e.select()}}var Pb=ot({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,r=t,{currentRef:o,currentElement:a}=kn(),l=Ee(null),u=kb(),f=vr({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});qr(h=>{if(!br)return;const g=a.value;if(!n.trapped)return;function v(Q){if(f.paused||!g)return;const V=Q.target;g.contains(V)?l.value=V:Wn(l.value,{select:!0})}function x(Q){if(f.paused||!g)return;const V=Q.relatedTarget;V!==null&&(g.contains(V)||Wn(l.value,{select:!0}))}function I(Q){g.contains(l.value)||Wn(g)}document.addEventListener("focusin",v),document.addEventListener("focusout",x);const N=new MutationObserver(I);g&&N.observe(g,{childList:!0,subtree:!0}),h(()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),N.disconnect()})}),qr(async h=>{const g=a.value;if(await an(),!g)return;u.add(f);const v=Xn();if(!g.contains(v)){const I=new CustomEvent(qi,_l);g.addEventListener(qi,N=>r("mountAutoFocus",N)),g.dispatchEvent(I),I.defaultPrevented||(Ab(Eb(od(g)),{select:!0}),Xn()===v&&Wn(g))}h(()=>{g.removeEventListener(qi,Q=>r("mountAutoFocus",Q));const I=new CustomEvent(Ui,_l),N=Q=>{r("unmountAutoFocus",Q)};g.addEventListener(Ui,N),g.dispatchEvent(I),setTimeout(()=>{I.defaultPrevented||Wn(v??document.body,{select:!0}),g.removeEventListener(Ui,N),u.remove(f)},0)})});function m(h){if(!n.loop&&!n.trapped||f.paused)return;const g=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,v=Xn();if(g&&v){const x=h.currentTarget,[I,N]=Cb(x);I&&N?!h.shiftKey&&v===N?(h.preventDefault(),n.loop&&Wn(I,{select:!0})):h.shiftKey&&v===I&&(h.preventDefault(),n.loop&&Wn(N,{select:!0})):v===x&&h.preventDefault()}}return(h,g)=>(U(),St(we(Ps),{ref_key:"currentRef",ref:o,tabindex:"-1","as-child":h.asChild,as:h.as,onKeydown:m},{default:rt(()=>[Qt(h.$slots,"default")]),_:3},8,["as-child","as"]))}}),Ob=Pb;function Rb(e){return e?"open":"closed"}var Db=ot({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,o=tr(),{forwardRef:a,currentElement:l}=kn();return o.titleId||=vl(void 0,"reka-dialog-title"),o.descriptionId||=vl(void 0,"reka-dialog-description"),er(()=>{o.contentElement=l,Xn()!==document.body&&(o.triggerElement.value=Xn())}),(u,f)=>(U(),St(we(Ob),{"as-child":"",loop:"",trapped:n.trapFocus,onMountAutoFocus:f[5]||(f[5]=m=>r("openAutoFocus",m)),onUnmountAutoFocus:f[6]||(f[6]=m=>r("closeAutoFocus",m))},{default:rt(()=>[Ke(we(wb),xn({id:we(o).contentId,ref:we(a),as:u.as,"as-child":u.asChild,"disable-outside-pointer-events":u.disableOutsidePointerEvents,role:"dialog","aria-describedby":we(o).descriptionId,"aria-labelledby":we(o).titleId,"data-state":we(Rb)(we(o).open.value)},u.$attrs,{onDismiss:f[0]||(f[0]=m=>we(o).onOpenChange(!1)),onEscapeKeyDown:f[1]||(f[1]=m=>r("escapeKeyDown",m)),onFocusOutside:f[2]||(f[2]=m=>r("focusOutside",m)),onInteractOutside:f[3]||(f[3]=m=>r("interactOutside",m)),onPointerDownOutside:f[4]||(f[4]=m=>r("pointerDownOutside",m))}),{default:rt(()=>[Qt(u.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),id=Db,$b=ot({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,o=tr(),a=Fa(r),{forwardRef:l,currentElement:u}=kn();return ib(u),(f,m)=>(U(),St(id,xn({...n,...we(a)},{ref:we(l),"trap-focus":we(o).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:m[0]||(m[0]=h=>{h.defaultPrevented||(h.preventDefault(),we(o).triggerElement.value?.focus())}),onPointerDownOutside:m[1]||(m[1]=h=>{const g=h.detail.originalEvent,v=g.button===0&&g.ctrlKey===!0;(g.button===2||v)&&h.preventDefault()}),onFocusOutside:m[2]||(m[2]=h=>{h.preventDefault()})}),{default:rt(()=>[Qt(f.$slots,"default")]),_:3},16,["trap-focus"]))}}),Tb=$b,Fb=ot({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,o=Fa(t);kn();const a=tr(),l=Ee(!1),u=Ee(!1);return(f,m)=>(U(),St(id,xn({...n,...we(o)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:m[0]||(m[0]=h=>{h.defaultPrevented||(l.value||we(a).triggerElement.value?.focus(),h.preventDefault()),l.value=!1,u.value=!1}),onInteractOutside:m[1]||(m[1]=h=>{h.defaultPrevented||(l.value=!0,h.detail.originalEvent.type==="pointerdown"&&(u.value=!0));const g=h.target;we(a).triggerElement.value?.contains(g)&&h.preventDefault(),h.detail.originalEvent.type==="focusin"&&u.value&&h.preventDefault()})}),{default:rt(()=>[Qt(f.$slots,"default")]),_:3},16))}}),Mb=Fb,Bb=ot({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,o=tr(),a=Fa(r),{forwardRef:l}=kn();return(u,f)=>(U(),St(we(rd),{present:u.forceMount||we(o).open.value},{default:rt(()=>[we(o).modal.value?(U(),St(Tb,xn({key:0,ref:we(l)},{...n,...we(a),...u.$attrs}),{default:rt(()=>[Qt(u.$slots,"default")]),_:3},16)):(U(),St(Mb,xn({key:1,ref:we(l)},{...n,...we(a),...u.$attrs}),{default:rt(()=>[Qt(u.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Nb=Bb,jb=ot({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=tr();return eb(!0),kn(),(n,r)=>(U(),St(we(Ps),{as:n.as,"as-child":n.asChild,"data-state":we(t).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:rt(()=>[Qt(n.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),Lb=jb,qb=ot({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=tr(),{forwardRef:n}=kn();return(r,o)=>we(t)?.modal.value?(U(),St(we(rd),{key:0,present:r.forceMount||we(t).open.value},{default:rt(()=>[Ke(Lb,xn(r.$attrs,{ref:we(n),as:r.as,"as-child":r.asChild}),{default:rt(()=>[Qt(r.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):$e("v-if",!0)}}),Ub=qb,Kb=ot({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=Wv();return(n,r)=>we(t)||n.forceMount?(U(),St(Cf,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[Qt(n.$slots,"default")],8,["to","disabled","defer"])):$e("v-if",!0)}}),Vb=Kb,Hb=ot({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(n,r)=>(U(),St(we(Vb),Ud(Iu(t)),{default:rt(()=>[Qt(n.$slots,"default")]),_:3},16))}}),Wb=Hb,zb=ot({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(e){const t=e,n=tr();return kn(),(r,o)=>(U(),St(we(Ps),xn(t,{id:we(n).titleId}),{default:rt(()=>[Qt(r.$slots,"default")]),_:3},16,["id"]))}}),Qb=zb;const Yb={class:"card-image-container position-relative overflow-hidden rounded",style:{"padding-bottom":"140%"}},Gb=["src","alt"],Jb={class:"card-body"},Xb={class:"card-title fs-6 fw-medium mb-1"},Zb={class:"card-text small text-muted mb-2"},e_={key:0,class:"d-flex justify-content-between small"},t_={class:"text-success fw-medium"},n_={key:1,class:"small text-muted fst-italic"},r_={class:"modal-dialog modal-dialog-centered modal-lg"},s_={class:"modal-content"},o_={class:"modal-header py-2"},i_={class:"modal-body py-3"},a_={class:"row g-3 align-items-start"},c_={class:"col-lg-5"},l_=["src","alt"],u_={class:"row row-cols-2 g-2 small mt-3 mb-0 meta-grid"},d_={class:"col text-end fw-semibold"},f_={class:"col text-end fw-semibold"},p_={class:"col text-end fw-semibold"},h_={class:"col text-end fw-semibold"},m_={class:"col-lg-7"},y_={class:"d-flex justify-content-between align-items-center mb-3"},g_={key:0,class:"h5 mb-0 text-success fw-bold"},v_={key:1,class:"small text-muted fst-italic"},b_={key:2,class:"small text-muted fst-italic"},__={key:0,class:"mb-3"},w_={class:"d-flex gap-3 small"},x_={class:"mt-2 border rounded-3 p-2 small",style:{"max-height":"30vh",overflow:"auto"}},k_={class:"row g-2 align-items-center"},E_={class:"col-6 col-md-3"},A_={class:"fw-medium"},C_={class:"col-6 col-md-3"},S_={class:"fw-medium"},I_={class:"col-6 col-md-3"},P_={class:"fw-medium"},O_={key:0,class:"col-6 col-md-3"},R_={class:"fw-medium"},D_={key:1},$_={class:"mt-2 small",style:{"max-height":"30vh",overflow:"auto"}},T_={class:"flex-grow-1"},F_={class:"fw-medium"},M_={class:"text-muted"},B_={class:"fw-semibold"},ad=ot({inheritAttrs:!0,__name:"CardComponent",props:{card:{}},setup(e){const t=e,n=Da(),r=Ee(!1),o=Ee(null),a=Ee(!1),l=Ee([]),u=Ee([]),f=Ee(!1),m=st(()=>u.value?[...u.value].sort((j,F)=>new Date(F.happenedAt).getTime()-new Date(j.happenedAt).getTime()):[]),h=st(()=>{const j=n.getCardPrice(t.card.id);return j||o.value}),g=st(()=>!l.value||l.value.length===0?0:l.value.reduce((j,F)=>{if(!F.disposedAt||F.disposedQuantity&&F.disposedQuantity<F.quantity){const oe=F.disposedQuantity?F.quantity-F.disposedQuantity:F.quantity;return j+oe}return j},0)),v=()=>{r.value=!0,V()},x=()=>{r.value=!1},I=j=>{j.target.src="https://placehold.co/200x280?text=Card+Image"},N=j=>new Date(j).toLocaleDateString(),Q=(j,F)=>new tt(j,F).format("de-DE"),V=async()=>{try{await X(),l.value=await xe.card_lots.where("cardId").equals(t.card.id).toArray(),u.value=await xe.transactions.where("cardId").equals(t.card.id).toArray()}catch(j){console.error("Error loading card details:",j)}},X=async()=>{a.value=!0;try{const j=await xe.price_points.where("cardId").equals(t.card.id).toArray();if(j.length>0){j.sort((oe,ge)=>ge.asOf.getTime()-oe.asOf.getTime());const F=j[0];o.value=new tt(F.price,F.currency)}}catch(j){console.error("Error loading current price:",j)}finally{a.value=!1}};return(j,F)=>(U(),ee(nt,null,[w("div",{class:"card h-100 card-item",onClick:v},[w("div",Yb,[w("img",{src:j.card.imageUrl||"https://placehold.co/200x280?text=Card+Image",alt:j.card.name,class:"card-img-top position-absolute top-0 start-0 w-100 h-100 object-fit-cover",onError:I},null,40,Gb)]),w("div",Jb,[w("h3",Xb,se(j.card.name),1),w("p",Zb,se(j.card.set)+" #"+se(j.card.number),1),h.value?(U(),ee("div",e_,[F[2]||(F[2]=w("span",{class:"text-muted"},"Current:",-1)),w("span",t_,se(h.value.format("de-DE")),1)])):a.value||we(n).loadingPrices?(U(),ee("div",n_," Loading... ")):$e("",!0)])]),Ke(we(pb),{open:r.value,"onUpdate:open":F[1]||(F[1]=oe=>r.value=oe)},{default:rt(()=>[Ke(we(Wb),null,{default:rt(()=>[Ke(we(Ub),{class:"modal-backdrop fade show",onClick:x}),Ke(we(Nb),{class:"modal d-block compact-modal",onPointerDownOutside:x,onEscapeKeyDown:x},{default:rt(()=>[w("div",r_,[w("div",s_,[w("div",o_,[Ke(we(Qb),{class:"modal-title h5 mb-0"},{default:rt(()=>[zt(se(j.card.name),1)]),_:1}),Ke(we(mb),{"as-child":""},{default:rt(()=>[...F[3]||(F[3]=[w("button",{type:"button",class:"btn-close","aria-label":"Close"},null,-1)])]),_:1})]),w("div",i_,[w("div",a_,[w("div",c_,[w("img",{src:j.card.imageUrl||"https://placehold.co/200x280?text=Card+Image",alt:j.card.name,onError:I,class:"w-100 h-100 rounded-4"},null,40,l_),w("dl",u_,[F[4]||(F[4]=w("dt",{class:"col text-muted"},"Set",-1)),w("dd",d_,se(j.card.set)+" ("+se(j.card.setCode)+")",1),F[5]||(F[5]=w("dt",{class:"col text-muted"},"Number",-1)),w("dd",f_,"#"+se(j.card.number),1),F[6]||(F[6]=w("dt",{class:"col text-muted"},"Language",-1)),w("dd",p_,se(j.card.lang),1),F[7]||(F[7]=w("dt",{class:"col text-muted"},"Finish",-1)),w("dd",h_,se(j.card.finish),1)])]),w("div",m_,[w("div",y_,[F[8]||(F[8]=w("h3",{class:"h6 mb-0"},"Current Price",-1)),o.value?(U(),ee("span",g_,se(o.value.format("de-DE")),1)):a.value?(U(),ee("span",v_,"Loading")):(U(),ee("span",b_,"Price unavailable"))]),l.value&&l.value.length?(U(),ee("div",__,[F[18]||(F[18]=w("h3",{class:"h6 mb-2"},"Your Collection",-1)),w("div",w_,[w("div",null,[F[9]||(F[9]=w("span",{class:"text-muted"},"Lots:",-1)),F[10]||(F[10]=zt()),w("strong",null,se(l.value.length),1)]),w("div",null,[F[11]||(F[11]=w("span",{class:"text-muted"},"Cards:",-1)),F[12]||(F[12]=zt()),w("strong",null,se(g.value),1)])]),l.value.length>2?(U(),ee("button",{key:0,class:"btn btn-link btn-sm p-0 mt-1",onClick:F[0]||(F[0]=oe=>f.value=!f.value)},se(f.value?"Hide details":"Show details"),1)):$e("",!0),_s(w("div",x_,[(U(!0),ee(nt,null,Kt(l.value,oe=>(U(),ee("div",{key:oe.id,class:"border rounded p-2 mb-2"},[w("div",k_,[w("div",E_,[F[13]||(F[13]=w("span",{class:"text-muted"},"Qty:",-1)),F[14]||(F[14]=zt()),w("span",A_,se(oe.quantity),1)]),w("div",C_,[F[15]||(F[15]=w("span",{class:"text-muted"},"Unit Cost:",-1)),w("span",S_,se(Q(oe.unitCost,oe.currency||"EUR")),1)]),w("div",I_,[F[16]||(F[16]=w("span",{class:"text-muted"},"Purchased:",-1)),w("span",P_,se(N(oe.purchasedAt)),1)]),oe.disposedQuantity?(U(),ee("div",O_,[F[17]||(F[17]=w("span",{class:"text-muted"},"Disposed:",-1)),w("span",R_,se(oe.disposedQuantity),1)])):$e("",!0)])]))),128))],512),[[Tp,f.value]])])):$e("",!0),u.value&&u.value.length?(U(),ee("div",D_,[F[19]||(F[19]=w("h3",{class:"h6 mb-2"},"Transaction History",-1)),w("div",$_,[(U(!0),ee(nt,null,Kt(m.value,oe=>(U(),ee("div",{key:oe.id,class:Ct(["tx-item d-flex align-items-center gap-2 p-2 mb-2 rounded border",{buy:/buy/i.test(oe.kind),sell:/sell/i.test(oe.kind)}])},[w("span",{class:Ct(["badge me-1",/buy/i.test(oe.kind)?"bg-success-subtle text-success-emphasis":"bg-danger-subtle text-danger-emphasis"])},se(oe.kind),3),w("div",T_,[w("div",F_,se(N(oe.happenedAt)),1),w("div",M_,"Qty: "+se(oe.quantity),1)]),w("div",B_,se(Q(oe.unitPrice,oe.currency)),1)],2))),128))])])):$e("",!0)])])])])])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),N_={class:"deck-detail-view"},j_={key:0,class:"loading"},L_={key:1,class:"deck-detail"},q_={class:"deck-header"},U_={class:"deck-meta"},K_={class:"platform"},V_={class:"date"},H_={class:"cards-section"},W_={key:0,class:"empty-state"},z_={key:1,class:"cards-grid"},Q_={key:2,class:"error"},Y_=ot({__name:"DeckDetailView",setup(e){const t=Hu(),n=Ee(null),r=Ee([]),o=Ee({}),a=Ee(!0),l=m=>new Date(m).toLocaleDateString(),u=m=>o.value[m]||{id:m,name:"Unknown Card",set:"Unknown Set",setCode:"???",number:"???",lang:"en",finish:"nonfoil",imageUrl:"https://placehold.co/200x280?text=Card+Image"},f=async()=>{try{const m=t.params.id,h=await xe.decks.get(m);if(!h)return;n.value=h;const g=await xe.deck_cards.where("deckId").equals(m).toArray();r.value=g;const v=g.map(x=>x.cardId).filter(x=>x);if(v.length>0){const x=await xe.cards.where("id").anyOf(v).toArray();o.value=Object.fromEntries(x.map(I=>[I.id,I]))}}catch(m){console.error("Error loading deck:",m)}finally{a.value=!1}};return er(()=>{f()}),(m,h)=>{const g=jo("router-link");return U(),ee("div",N_,[a.value?(U(),ee("div",j_," Loading deck... ")):n.value?(U(),ee("div",L_,[w("div",q_,[Ke(g,{to:"/decks",class:"back-link"},{default:rt(()=>[...h[0]||(h[0]=[zt("  Back to Decks ",-1)])]),_:1}),w("h1",null,se(n.value.name),1),w("p",U_,[w("span",K_,se(n.value.platform),1),w("span",V_,"Imported: "+se(l(n.value.importedAt)),1)])]),w("div",H_,[h[2]||(h[2]=w("h2",null,"Cards in Deck",-1)),r.value.length===0?(U(),ee("div",W_,[...h[1]||(h[1]=[w("p",null,"No cards found in this deck.",-1)])])):(U(),ee("div",z_,[(U(!0),ee(nt,null,Kt(r.value,v=>(U(),St(ad,{key:v.id,card:u(v.cardId)},null,8,["card"]))),128))]))])])):(U(),ee("div",Q_,[h[4]||(h[4]=w("p",null,"Deck not found.",-1)),Ke(g,{to:"/decks",class:"back-link"},{default:rt(()=>[...h[3]||(h[3]=[zt("  Back to Decks ",-1)])]),_:1})]))])}}}),G_=Mn(Y_,[["__scopeId","data-v-aee401d9"]]),J_={class:"cards-view"},X_={class:"header"},Z_={class:"controls"},e0={class:"search-box"},t0={class:"sort-controls"},n0={key:0,class:"loading"},r0={key:1,class:"empty-state"},s0={key:0},o0={key:1},i0={key:2,class:"row g-4"},a0=ot({__name:"CardsView",setup(e){const t=Da(),n=Ee(""),r=Ee("name"),o=Ee("asc"),a=st(()=>{const u=t.getAllCards;if(!n.value)return u;const f=n.value.toLowerCase();return u.filter(m=>m.name.toLowerCase().includes(f)||m.set.toLowerCase().includes(f)||m.number.includes(f))}),l=st(()=>{const u=[...a.value];return u.sort((f,m)=>{let h=0;switch(r.value){case"name":h=f.name.localeCompare(m.name);break;case"set":h=f.set.localeCompare(m.set);break;case"price":{const g=t.getCardPrice(f.id)?.getCents()??0,v=t.getCardPrice(m.id)?.getCents()??0;h=g-v}break;case"owned":h=0;break;default:h=f.name.localeCompare(m.name)}return o.value==="asc"?h:-h}),u});return er(()=>{t.loadCardsAndPrices()}),(u,f)=>(U(),ee("div",J_,[w("div",X_,[w("div",Z_,[w("div",e0,[_s(w("input",{"onUpdate:modelValue":f[0]||(f[0]=m=>n.value=m),type:"text",placeholder:"Search cards...",class:"form-control"},null,512),[[Zi,n.value]])]),w("div",t0,[_s(w("select",{"onUpdate:modelValue":f[1]||(f[1]=m=>r.value=m),class:"form-select"},[...f[3]||(f[3]=[w("option",{value:"name"},"Name",-1),w("option",{value:"set"},"Set",-1),w("option",{value:"price"},"Price",-1),w("option",{value:"owned"},"Owned Quantity",-1)])],512),[[Yp,r.value]]),w("button",{onClick:f[2]||(f[2]=m=>o.value=o.value==="asc"?"desc":"asc"),class:"btn btn-outline-primary"},se(o.value==="asc"?"":""),1)])])]),we(t).loading||we(t).loadingPrices?(U(),ee("div",n0," Loading cards and prices... ")):l.value.length===0?(U(),ee("div",r0,[n.value?(U(),ee("p",s0,"No cards match your search.")):(U(),ee("p",o0,"You don't have any cards in your collection yet."))])):(U(),ee("div",i0,[(U(!0),ee(nt,null,Kt(l.value,m=>(U(),ee("div",{key:m.id,class:"col-xl-2 col-lg-3 col-md-4 col-sm-6"},[Ke(ad,{card:m},null,8,["card"])]))),128))]))]))}}),c0=Mn(a0,[["__scopeId","data-v-c166bf67"]]),l0=[{path:"/mtg-pwa/",name:"home",component:fy},{path:"/mtg-pwa/import/csv",name:"csv-import",component:ky},{path:"/mtg-pwa/import/cardmarket",name:"cardmarket-import",component:fv},{path:"/mtg-pwa/import/deck",name:"deck-import",component:kv},{path:"/mtg-pwa/decks",name:"decks",component:Fv},{path:"/mtg-pwa/decks/:id",name:"deck-detail",component:G_,props:!0},{path:"/mtg-pwa/cards",name:"cards",component:c0}],u0=rm({history:Dh("/mtg-pwa/"),routes:l0}),d0="modulepreload",f0=function(e){return"/mtg-pwa/"+e},xl={},p0=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let m=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var l=m;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");o=m(n.map(h=>{if(h=f0(h),h in xl)return;xl[h]=!0;const g=h.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":d0,g||(x.as="script"),x.crossOrigin="",x.href=h,f&&x.setAttribute("nonce",f),document.head.appendChild(x),g)return new Promise((I,N)=>{x.addEventListener("load",I),x.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return o.then(u=>{for(const f of u||[])f.status==="rejected"&&a(f.reason);return t().catch(a)})};function h0(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:o,onRegisteredSW:a,onRegisterError:l}=e;let u,f;const m=async(g=!0)=>{await f};async function h(){if("serviceWorker"in navigator){if(u=await p0(async()=>{const{Workbox:g}=await import("./workbox-window.prod.es5-CwtvwXb3.js");return{Workbox:g}},[]).then(({Workbox:g})=>new g("/mtg-pwa/sw.js",{scope:"/mtg-pwa/",type:"classic"})).catch(g=>{l?.(g)}),!u)return;u.addEventListener("activated",g=>{(g.isUpdate||g.isExternal)&&window.location.reload()}),u.addEventListener("installed",g=>{g.isUpdate||r?.()}),u.register({immediate:t}).then(g=>{a?a("/mtg-pwa/sw.js",g):o?.(g)}).catch(g=>{l?.(g)})}}return f=h(),m}h0({immediate:!0,onRegistered(e){console.log("SW registered",e)},onRegisterError(e){console.error("SW registration error",e)}});const cd=Xp(km),m0=Em();cd.use(m0);async function y0(){try{await os.schedulePriceUpdate()}catch(e){console.error("Error initializing automatic price updates:",e)}cd.use(u0).mount("#app")}y0();
