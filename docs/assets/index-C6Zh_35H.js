(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}})();/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ei(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Ze={},pr=[],fn=()=>{},Sc=()=>!1,eo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ii=e=>e.startsWith("onUpdate:"),Ot=Object.assign,Pi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Cu=Object.prototype.hasOwnProperty,Qe=(e,t)=>Cu.call(e,t),Ie=Array.isArray,mr=e=>ns(e)==="[object Map]",to=e=>ns(e)==="[object Set]",Aa=e=>ns(e)==="[object Date]",De=e=>typeof e=="function",mt=e=>typeof e=="string",hn=e=>typeof e=="symbol",tt=e=>e!==null&&typeof e=="object",Ac=e=>(tt(e)||De(e))&&De(e.then)&&De(e.catch),Ec=Object.prototype.toString,ns=e=>Ec.call(e),Su=e=>ns(e).slice(8,-1),Ic=e=>ns(e)==="[object Object]",Oi=e=>mt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Fr=Ei(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),no=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},Au=/-(\w)/g,zt=no(e=>e.replace(Au,(t,n)=>n?n.toUpperCase():"")),Eu=/\B([A-Z])/g,er=no(e=>e.replace(Eu,"-$1").toLowerCase()),ro=no(e=>e.charAt(0).toUpperCase()+e.slice(1)),Go=no(e=>e?`on${ro(e)}`:""),Fn=(e,t)=>!Object.is(e,t),Bs=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Pc=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},Ls=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ea;const so=()=>Ea||(Ea=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function oo(e){if(Ie(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=mt(s)?Ru(s):oo(s);if(i)for(const c in i)t[c]=i[c]}return t}else if(mt(e)||tt(e))return e}const Iu=/;(?![^(]*\))/g,Pu=/:([^]+)/,Ou=/\/\*[^]*?\*\//g;function Ru(e){const t={};return e.replace(Ou,"").split(Iu).forEach(n=>{if(n){const s=n.split(Pu);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Mt(e){let t="";if(mt(e))t=e;else if(Ie(e))for(let n=0;n<e.length;n++){const s=Mt(e[n]);s&&(t+=s+" ")}else if(tt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const $u="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Tu=Ei($u);function Oc(e){return!!e||e===""}function Du(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=io(e[s],t[s]);return n}function io(e,t){if(e===t)return!0;let n=Aa(e),s=Aa(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=hn(e),s=hn(t),n||s)return e===t;if(n=Ie(e),s=Ie(t),n||s)return n&&s?Du(e,t):!1;if(n=tt(e),s=tt(t),n||s){if(!n||!s)return!1;const i=Object.keys(e).length,c=Object.keys(t).length;if(i!==c)return!1;for(const u in e){const f=e.hasOwnProperty(u),h=t.hasOwnProperty(u);if(f&&!h||!f&&h||!io(e[u],t[u]))return!1}}return String(e)===String(t)}function Bu(e,t){return e.findIndex(n=>io(n,t))}const Rc=e=>!!(e&&e.__v_isRef===!0),fe=e=>mt(e)?e:e==null?"":Ie(e)||tt(e)&&(e.toString===Ec||!De(e.toString))?Rc(e)?fe(e.value):JSON.stringify(e,$c,2):String(e),$c=(e,t)=>Rc(t)?$c(e,t.value):mr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i],c)=>(n[Jo(s,c)+" =>"]=i,n),{})}:to(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Jo(n))}:hn(t)?Jo(t):tt(t)&&!Ie(t)&&!Ic(t)?String(t):t,Jo=(e,t="")=>{var n;return hn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Et;class Tc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Et,!t&&Et&&(this.index=(Et.scopes||(Et.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Et;try{return Et=this,t()}finally{Et=n}}}on(){++this._on===1&&(this.prevScope=Et,Et=this)}off(){this._on>0&&--this._on===0&&(Et=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Dc(e){return new Tc(e)}function Bc(){return Et}function Mu(e,t=!1){Et&&Et.cleanups.push(e)}let et;const Xo=new WeakSet;class Mc{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Et&&Et.active&&Et.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Xo.has(this)&&(Xo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Fc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ia(this),Nc(this);const t=et,n=Jt;et=this,Jt=!0;try{return this.fn()}finally{Kc(this),et=t,Jt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ti(t);this.deps=this.depsTail=void 0,Ia(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Xo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ui(this)&&this.run()}get dirty(){return ui(this)}}let jc=0,Nr,Kr;function Fc(e,t=!1){if(e.flags|=8,t){e.next=Kr,Kr=e;return}e.next=Nr,Nr=e}function Ri(){jc++}function $i(){if(--jc>0)return;if(Kr){let t=Kr;for(Kr=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Nr;){let t=Nr;for(Nr=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function Nc(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Kc(e){let t,n=e.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Ti(s),ju(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}e.deps=t,e.depsTail=n}function ui(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Lc(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Lc(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Qr)||(e.globalVersion=Qr,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ui(e))))return;e.flags|=2;const t=e.dep,n=et,s=Jt;et=e,Jt=!0;try{Nc(e);const i=e.fn(e._value);(t.version===0||Fn(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{et=n,Jt=s,Kc(e),e.flags&=-3}}function Ti(e,t=!1){const{dep:n,prevSub:s,nextSub:i}=e;if(s&&(s.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let c=n.computed.deps;c;c=c.nextDep)Ti(c,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function ju(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Jt=!0;const qc=[];function xn(){qc.push(Jt),Jt=!1}function Cn(){const e=qc.pop();Jt=e===void 0?!0:e}function Ia(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=et;et=void 0;try{t()}finally{et=n}}}let Qr=0;class Fu{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Di{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!et||!Jt||et===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==et)n=this.activeLink=new Fu(et,this),et.deps?(n.prevDep=et.depsTail,et.depsTail.nextDep=n,et.depsTail=n):et.deps=et.depsTail=n,Uc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=et.depsTail,n.nextDep=void 0,et.depsTail.nextDep=n,et.depsTail=n,et.deps===n&&(et.deps=s)}return n}trigger(t){this.version++,Qr++,this.notify(t)}notify(t){Ri();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{$i()}}}function Uc(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Uc(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const qs=new WeakMap,Xn=Symbol(""),di=Symbol(""),Gr=Symbol("");function It(e,t,n){if(Jt&&et){let s=qs.get(e);s||qs.set(e,s=new Map);let i=s.get(n);i||(s.set(n,i=new Di),i.map=s,i.key=n),i.track()}}function wn(e,t,n,s,i,c){const u=qs.get(e);if(!u){Qr++;return}const f=h=>{h&&h.trigger()};if(Ri(),t==="clear")u.forEach(f);else{const h=Ie(e),y=h&&Oi(n);if(h&&n==="length"){const m=Number(s);u.forEach((g,_)=>{(_==="length"||_===Gr||!hn(_)&&_>=m)&&f(g)})}else switch((n!==void 0||u.has(void 0))&&f(u.get(n)),y&&f(u.get(Gr)),t){case"add":h?y&&f(u.get("length")):(f(u.get(Xn)),mr(e)&&f(u.get(di)));break;case"delete":h||(f(u.get(Xn)),mr(e)&&f(u.get(di)));break;case"set":mr(e)&&f(u.get(Xn));break}}$i()}function Nu(e,t){const n=qs.get(e);return n&&n.get(t)}function ur(e){const t=We(e);return t===e?t:(It(t,"iterate",Gr),Vt(e)?t:t.map(kt))}function ao(e){return It(e=We(e),"iterate",Gr),e}const Ku={__proto__:null,[Symbol.iterator](){return Zo(this,Symbol.iterator,kt)},concat(...e){return ur(this).concat(...e.map(t=>Ie(t)?ur(t):t))},entries(){return Zo(this,"entries",e=>(e[1]=kt(e[1]),e))},every(e,t){return vn(this,"every",e,t,void 0,arguments)},filter(e,t){return vn(this,"filter",e,t,n=>n.map(kt),arguments)},find(e,t){return vn(this,"find",e,t,kt,arguments)},findIndex(e,t){return vn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return vn(this,"findLast",e,t,kt,arguments)},findLastIndex(e,t){return vn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return vn(this,"forEach",e,t,void 0,arguments)},includes(...e){return ei(this,"includes",e)},indexOf(...e){return ei(this,"indexOf",e)},join(e){return ur(this).join(e)},lastIndexOf(...e){return ei(this,"lastIndexOf",e)},map(e,t){return vn(this,"map",e,t,void 0,arguments)},pop(){return Dr(this,"pop")},push(...e){return Dr(this,"push",e)},reduce(e,...t){return Pa(this,"reduce",e,t)},reduceRight(e,...t){return Pa(this,"reduceRight",e,t)},shift(){return Dr(this,"shift")},some(e,t){return vn(this,"some",e,t,void 0,arguments)},splice(...e){return Dr(this,"splice",e)},toReversed(){return ur(this).toReversed()},toSorted(e){return ur(this).toSorted(e)},toSpliced(...e){return ur(this).toSpliced(...e)},unshift(...e){return Dr(this,"unshift",e)},values(){return Zo(this,"values",kt)}};function Zo(e,t,n){const s=ao(e),i=s[t]();return s!==e&&!Vt(e)&&(i._next=i.next,i.next=()=>{const c=i._next();return c.value&&(c.value=n(c.value)),c}),i}const Lu=Array.prototype;function vn(e,t,n,s,i,c){const u=ao(e),f=u!==e&&!Vt(e),h=u[t];if(h!==Lu[t]){const g=h.apply(e,c);return f?kt(g):g}let y=n;u!==e&&(f?y=function(g,_){return n.call(this,kt(g),_,e)}:n.length>2&&(y=function(g,_){return n.call(this,g,_,e)}));const m=h.call(u,y,s);return f&&i?i(m):m}function Pa(e,t,n,s){const i=ao(e);let c=n;return i!==e&&(Vt(e)?n.length>3&&(c=function(u,f,h){return n.call(this,u,f,h,e)}):c=function(u,f,h){return n.call(this,u,kt(f),h,e)}),i[t](c,...s)}function ei(e,t,n){const s=We(e);It(s,"iterate",Gr);const i=s[t](...n);return(i===-1||i===!1)&&ji(n[0])?(n[0]=We(n[0]),s[t](...n)):i}function Dr(e,t,n=[]){xn(),Ri();const s=We(e)[t].apply(e,n);return $i(),Cn(),s}const qu=Ei("__proto__,__v_isRef,__isVue"),Vc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(hn));function Uu(e){hn(e)||(e=String(e));const t=We(this);return It(t,"has",e),t.hasOwnProperty(e)}class Hc{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,c=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return c;if(n==="__v_raw")return s===(i?c?Zu:Qc:c?Yc:Wc).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const u=Ie(t);if(!i){let h;if(u&&(h=Ku[n]))return h;if(n==="hasOwnProperty")return Uu}const f=Reflect.get(t,n,ft(t)?t:s);return(hn(n)?Vc.has(n):qu(n))||(i||It(t,"get",n),c)?f:ft(f)?u&&Oi(n)?f:f.value:tt(f)?i?Jc(f):rs(f):f}}class zc extends Hc{constructor(t=!1){super(!1,t)}set(t,n,s,i){let c=t[n];if(!this._isShallow){const h=Kn(c);if(!Vt(s)&&!Kn(s)&&(c=We(c),s=We(s)),!Ie(t)&&ft(c)&&!ft(s))return h||(c.value=s),!0}const u=Ie(t)&&Oi(n)?Number(n)<t.length:Qe(t,n),f=Reflect.set(t,n,s,ft(t)?t:i);return t===We(i)&&(u?Fn(s,c)&&wn(t,"set",n,s):wn(t,"add",n,s)),f}deleteProperty(t,n){const s=Qe(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&s&&wn(t,"delete",n,void 0),i}has(t,n){const s=Reflect.has(t,n);return(!hn(n)||!Vc.has(n))&&It(t,"has",n),s}ownKeys(t){return It(t,"iterate",Ie(t)?"length":Xn),Reflect.ownKeys(t)}}class Vu extends Hc{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Hu=new zc,zu=new Vu,Wu=new zc(!0);const fi=e=>e,Os=e=>Reflect.getPrototypeOf(e);function Yu(e,t,n){return function(...s){const i=this.__v_raw,c=We(i),u=mr(c),f=e==="entries"||e===Symbol.iterator&&u,h=e==="keys"&&u,y=i[e](...s),m=n?fi:t?Us:kt;return!t&&It(c,"iterate",h?di:Xn),{next(){const{value:g,done:_}=y.next();return _?{value:g,done:_}:{value:f?[m(g[0]),m(g[1])]:m(g),done:_}},[Symbol.iterator](){return this}}}}function Rs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Qu(e,t){const n={get(i){const c=this.__v_raw,u=We(c),f=We(i);e||(Fn(i,f)&&It(u,"get",i),It(u,"get",f));const{has:h}=Os(u),y=t?fi:e?Us:kt;if(h.call(u,i))return y(c.get(i));if(h.call(u,f))return y(c.get(f));c!==u&&c.get(i)},get size(){const i=this.__v_raw;return!e&&It(We(i),"iterate",Xn),i.size},has(i){const c=this.__v_raw,u=We(c),f=We(i);return e||(Fn(i,f)&&It(u,"has",i),It(u,"has",f)),i===f?c.has(i):c.has(i)||c.has(f)},forEach(i,c){const u=this,f=u.__v_raw,h=We(f),y=t?fi:e?Us:kt;return!e&&It(h,"iterate",Xn),f.forEach((m,g)=>i.call(c,y(m),y(g),u))}};return Ot(n,e?{add:Rs("add"),set:Rs("set"),delete:Rs("delete"),clear:Rs("clear")}:{add(i){!t&&!Vt(i)&&!Kn(i)&&(i=We(i));const c=We(this);return Os(c).has.call(c,i)||(c.add(i),wn(c,"add",i,i)),this},set(i,c){!t&&!Vt(c)&&!Kn(c)&&(c=We(c));const u=We(this),{has:f,get:h}=Os(u);let y=f.call(u,i);y||(i=We(i),y=f.call(u,i));const m=h.call(u,i);return u.set(i,c),y?Fn(c,m)&&wn(u,"set",i,c):wn(u,"add",i,c),this},delete(i){const c=We(this),{has:u,get:f}=Os(c);let h=u.call(c,i);h||(i=We(i),h=u.call(c,i)),f&&f.call(c,i);const y=c.delete(i);return h&&wn(c,"delete",i,void 0),y},clear(){const i=We(this),c=i.size!==0,u=i.clear();return c&&wn(i,"clear",void 0,void 0),u}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Yu(i,e,t)}),n}function Bi(e,t){const n=Qu(e,t);return(s,i,c)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(Qe(n,i)&&i in s?n:s,i,c)}const Gu={get:Bi(!1,!1)},Ju={get:Bi(!1,!0)},Xu={get:Bi(!0,!1)};const Wc=new WeakMap,Yc=new WeakMap,Qc=new WeakMap,Zu=new WeakMap;function ed(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function td(e){return e.__v_skip||!Object.isExtensible(e)?0:ed(Su(e))}function rs(e){return Kn(e)?e:Mi(e,!1,Hu,Gu,Wc)}function Gc(e){return Mi(e,!1,Wu,Ju,Yc)}function Jc(e){return Mi(e,!0,zu,Xu,Qc)}function Mi(e,t,n,s,i){if(!tt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const c=td(e);if(c===0)return e;const u=i.get(e);if(u)return u;const f=new Proxy(e,c===2?s:n);return i.set(e,f),f}function Nn(e){return Kn(e)?Nn(e.__v_raw):!!(e&&e.__v_isReactive)}function Kn(e){return!!(e&&e.__v_isReadonly)}function Vt(e){return!!(e&&e.__v_isShallow)}function ji(e){return e?!!e.__v_raw:!1}function We(e){const t=e&&e.__v_raw;return t?We(t):e}function Fi(e){return!Qe(e,"__v_skip")&&Object.isExtensible(e)&&Pc(e,"__v_skip",!0),e}const kt=e=>tt(e)?rs(e):e,Us=e=>tt(e)?Jc(e):e;function ft(e){return e?e.__v_isRef===!0:!1}function je(e){return Xc(e,!1)}function nd(e){return Xc(e,!0)}function Xc(e,t){return ft(e)?e:new rd(e,t)}class rd{constructor(t,n){this.dep=new Di,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:We(t),this._value=n?t:kt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Vt(t)||Kn(t);t=s?t:We(t),Fn(t,n)&&(this._rawValue=t,this._value=s?t:kt(t),this.dep.trigger())}}function yr(e){return ft(e)?e.value:e}const sd={get:(e,t,n)=>t==="__v_raw"?e:yr(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return ft(i)&&!ft(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function Zc(e){return Nn(e)?e:new Proxy(e,sd)}function od(e){const t=Ie(e)?new Array(e.length):{};for(const n in e)t[n]=ad(e,n);return t}class id{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Nu(We(this._object),this._key)}}function ad(e,t,n){const s=e[t];return ft(s)?s:new id(e,t,n)}class cd{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Di(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Qr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&et!==this)return Fc(this,!0),!0}get value(){const t=this.dep.track();return Lc(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ld(e,t,n=!1){let s,i;return De(e)?s=e:(s=e.get,i=e.set),new cd(s,i,n)}const $s={},Vs=new WeakMap;let Gn;function ud(e,t=!1,n=Gn){if(n){let s=Vs.get(n);s||Vs.set(n,s=[]),s.push(e)}}function dd(e,t,n=Ze){const{immediate:s,deep:i,once:c,scheduler:u,augmentJob:f,call:h}=n,y=te=>i?te:Vt(te)||i===!1||i===0?kn(te,1):kn(te);let m,g,_,I,q=!1,j=!1;if(ft(e)?(g=()=>e.value,q=Vt(e)):Nn(e)?(g=()=>y(e),q=!0):Ie(e)?(j=!0,q=e.some(te=>Nn(te)||Vt(te)),g=()=>e.map(te=>{if(ft(te))return te.value;if(Nn(te))return y(te);if(De(te))return h?h(te,2):te()})):De(e)?t?g=h?()=>h(e,2):e:g=()=>{if(_){xn();try{_()}finally{Cn()}}const te=Gn;Gn=m;try{return h?h(e,3,[I]):e(I)}finally{Gn=te}}:g=fn,t&&i){const te=g,xe=i===!0?1/0:i;g=()=>kn(te(),xe)}const V=Bc(),Z=()=>{m.stop(),V&&V.active&&Pi(V.effects,m)};if(c&&t){const te=t;t=(...xe)=>{te(...xe),Z()}}let re=j?new Array(e.length).fill($s):$s;const X=te=>{if(!(!(m.flags&1)||!m.dirty&&!te))if(t){const xe=m.run();if(i||q||(j?xe.some((ke,Ce)=>Fn(ke,re[Ce])):Fn(xe,re))){_&&_();const ke=Gn;Gn=m;try{const Ce=[xe,re===$s?void 0:j&&re[0]===$s?[]:re,I];re=xe,h?h(t,3,Ce):t(...Ce)}finally{Gn=ke}}}else m.run()};return f&&f(X),m=new Mc(g),m.scheduler=u?()=>u(X,!1):X,I=te=>ud(te,!1,m),_=m.onStop=()=>{const te=Vs.get(m);if(te){if(h)h(te,4);else for(const xe of te)xe();Vs.delete(m)}},t?s?X(!0):re=m.run():u?u(X.bind(null,!0),!0):m.run(),Z.pause=m.pause.bind(m),Z.resume=m.resume.bind(m),Z.stop=Z,Z}function kn(e,t=1/0,n){if(t<=0||!tt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,ft(e))kn(e.value,t,n);else if(Ie(e))for(let s=0;s<e.length;s++)kn(e[s],t,n);else if(to(e)||mr(e))e.forEach(s=>{kn(s,t,n)});else if(Ic(e)){for(const s in e)kn(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&kn(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ss(e,t,n,s){try{return s?e(...s):e()}catch(i){co(i,t,n)}}function pn(e,t,n,s){if(De(e)){const i=ss(e,t,n,s);return i&&Ac(i)&&i.catch(c=>{co(c,t,n)}),i}if(Ie(e)){const i=[];for(let c=0;c<e.length;c++)i.push(pn(e[c],t,n,s));return i}}function co(e,t,n,s=!0){const i=t?t.vnode:null,{errorHandler:c,throwUnhandledErrorInProduction:u}=t&&t.appContext.config||Ze;if(t){let f=t.parent;const h=t.proxy,y=`https://vuejs.org/error-reference/#runtime-${n}`;for(;f;){const m=f.ec;if(m){for(let g=0;g<m.length;g++)if(m[g](e,h,y)===!1)return}f=f.parent}if(c){xn(),ss(c,null,10,[e,h,y]),Cn();return}}fd(e,n,i,s,u)}function fd(e,t,n,s=!0,i=!1){if(i)throw e;console.error(e)}const Dt=[];let sn=-1;const gr=[];let Bn=null,fr=0;const el=Promise.resolve();let Hs=null;function lo(e){const t=Hs||el;return e?t.then(this?e.bind(this):e):t}function hd(e){let t=sn+1,n=Dt.length;for(;t<n;){const s=t+n>>>1,i=Dt[s],c=Jr(i);c<e||c===e&&i.flags&2?t=s+1:n=s}return t}function Ni(e){if(!(e.flags&1)){const t=Jr(e),n=Dt[Dt.length-1];!n||!(e.flags&2)&&t>=Jr(n)?Dt.push(e):Dt.splice(hd(t),0,e),e.flags|=1,tl()}}function tl(){Hs||(Hs=el.then(rl))}function pd(e){Ie(e)?gr.push(...e):Bn&&e.id===-1?Bn.splice(fr+1,0,e):e.flags&1||(gr.push(e),e.flags|=1),tl()}function Oa(e,t,n=sn+1){for(;n<Dt.length;n++){const s=Dt[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Dt.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function nl(e){if(gr.length){const t=[...new Set(gr)].sort((n,s)=>Jr(n)-Jr(s));if(gr.length=0,Bn){Bn.push(...t);return}for(Bn=t,fr=0;fr<Bn.length;fr++){const n=Bn[fr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Bn=null,fr=0}}const Jr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function rl(e){try{for(sn=0;sn<Dt.length;sn++){const t=Dt[sn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ss(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;sn<Dt.length;sn++){const t=Dt[sn];t&&(t.flags&=-2)}sn=-1,Dt.length=0,nl(),Hs=null,(Dt.length||gr.length)&&rl()}}let Lt=null,sl=null;function zs(e){const t=Lt;return Lt=e,sl=e&&e.type.__scopeId||null,t}function an(e,t=Lt,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&Ka(-1);const c=zs(t);let u;try{u=e(...i)}finally{zs(c),s._d&&Ka(1)}return u};return s._n=!0,s._c=!0,s._d=!0,s}function Ws(e,t){if(Lt===null)return e;const n=mo(Lt),s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[c,u,f,h=Ze]=t[i];c&&(De(c)&&(c={mounted:c,updated:c}),c.deep&&kn(u),s.push({dir:c,instance:n,value:u,oldValue:void 0,arg:f,modifiers:h}))}return e}function Yn(e,t,n,s){const i=e.dirs,c=t&&t.dirs;for(let u=0;u<i.length;u++){const f=i[u];c&&(f.oldValue=c[u].value);let h=f.dir[s];h&&(xn(),pn(h,n,8,[e.el,f,e,t]),Cn())}}const md=Symbol("_vte"),yd=e=>e.__isTeleport,gd=Symbol("_leaveCb");function Ki(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ki(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Wt(e,t){return De(e)?Ot({name:e.name},t,{setup:e}):e}function ol(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Lr(e,t,n,s,i=!1){if(Ie(e)){e.forEach((q,j)=>Lr(q,t&&(Ie(t)?t[j]:t),n,s,i));return}if(qr(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Lr(e,t,n,s.component.subTree);return}const c=s.shapeFlag&4?mo(s.component):s.el,u=i?null:c,{i:f,r:h}=e,y=t&&t.r,m=f.refs===Ze?f.refs={}:f.refs,g=f.setupState,_=We(g),I=g===Ze?Sc:q=>Qe(_,q);if(y!=null&&y!==h){if(mt(y))m[y]=null,I(y)&&(g[y]=null);else if(ft(y)){y.value=null;const q=t;q.k&&(m[q.k]=null)}}if(De(h))ss(h,f,12,[u,m]);else{const q=mt(h),j=ft(h);if(q||j){const V=()=>{if(e.f){const Z=q?I(h)?g[h]:m[h]:h.value;if(i)Ie(Z)&&Pi(Z,c);else if(Ie(Z))Z.includes(c)||Z.push(c);else if(q)m[h]=[c],I(h)&&(g[h]=m[h]);else{const re=[c];h.value=re,e.k&&(m[e.k]=re)}}else q?(m[h]=u,I(h)&&(g[h]=u)):j&&(h.value=u,e.k&&(m[e.k]=u))};u?(V.id=-1,Nt(V,n)):V()}}}so().requestIdleCallback;so().cancelIdleCallback;const qr=e=>!!e.type.__asyncLoader,il=e=>e.type.__isKeepAlive;function vd(e,t){al(e,"a",t)}function bd(e,t){al(e,"da",t)}function al(e,t,n=Pt){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(uo(t,s,n),n){let i=n.parent;for(;i&&i.parent;)il(i.parent.vnode)&&_d(s,t,n,i),i=i.parent}}function _d(e,t,n,s){const i=uo(t,e,s,!0);cl(()=>{Pi(s[t],i)},n)}function uo(e,t,n=Pt,s=!1){if(n){const i=n[e]||(n[e]=[]),c=t.__weh||(t.__weh=(...u)=>{xn();const f=os(n),h=pn(t,n,e,u);return f(),Cn(),h});return s?i.unshift(c):i.push(c),c}}const Sn=e=>(t,n=Pt)=>{(!Zr||e==="sp")&&uo(e,(...s)=>t(...s),n)},wd=Sn("bm"),Cr=Sn("m"),kd=Sn("bu"),xd=Sn("u"),Cd=Sn("bum"),cl=Sn("um"),Sd=Sn("sp"),Ad=Sn("rtg"),Ed=Sn("rtc");function Id(e,t=Pt){uo("ec",e,t)}const Pd="components";function fo(e,t){return Rd(Pd,e,!0,t)||e}const Od=Symbol.for("v-ndc");function Rd(e,t,n=!0,s=!1){const i=Lt||Pt;if(i){const c=i.type;{const f=_f(c,!1);if(f&&(f===t||f===zt(t)||f===ro(zt(t))))return c}const u=Ra(i[e]||c[e],t)||Ra(i.appContext[e],t);return!u&&s?c:u}}function Ra(e,t){return e&&(e[t]||e[zt(t)]||e[ro(zt(t))])}function Kt(e,t,n,s){let i;const c=n,u=Ie(e);if(u||mt(e)){const f=u&&Nn(e);let h=!1,y=!1;f&&(h=!Vt(e),y=Kn(e),e=ao(e)),i=new Array(e.length);for(let m=0,g=e.length;m<g;m++)i[m]=t(h?y?Us(kt(e[m])):kt(e[m]):e[m],m,void 0,c)}else if(typeof e=="number"){i=new Array(e);for(let f=0;f<e;f++)i[f]=t(f+1,f,void 0,c)}else if(tt(e))if(e[Symbol.iterator])i=Array.from(e,(f,h)=>t(f,h,void 0,c));else{const f=Object.keys(e);i=new Array(f.length);for(let h=0,y=f.length;h<y;h++){const m=f[h];i[h]=t(e[m],m,h,c)}}else i=[];return i}const hi=e=>e?Pl(e)?mo(e):hi(e.parent):null,Ur=Ot(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>hi(e.parent),$root:e=>hi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ul(e),$forceUpdate:e=>e.f||(e.f=()=>{Ni(e.update)}),$nextTick:e=>e.n||(e.n=lo.bind(e.proxy)),$watch:e=>Zd.bind(e)}),ti=(e,t)=>e!==Ze&&!e.__isScriptSetup&&Qe(e,t),$d={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:c,accessCache:u,type:f,appContext:h}=e;let y;if(t[0]!=="$"){const I=u[t];if(I!==void 0)switch(I){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return c[t]}else{if(ti(s,t))return u[t]=1,s[t];if(i!==Ze&&Qe(i,t))return u[t]=2,i[t];if((y=e.propsOptions[0])&&Qe(y,t))return u[t]=3,c[t];if(n!==Ze&&Qe(n,t))return u[t]=4,n[t];pi&&(u[t]=0)}}const m=Ur[t];let g,_;if(m)return t==="$attrs"&&It(e.attrs,"get",""),m(e);if((g=f.__cssModules)&&(g=g[t]))return g;if(n!==Ze&&Qe(n,t))return u[t]=4,n[t];if(_=h.config.globalProperties,Qe(_,t))return _[t]},set({_:e},t,n){const{data:s,setupState:i,ctx:c}=e;return ti(i,t)?(i[t]=n,!0):s!==Ze&&Qe(s,t)?(s[t]=n,!0):Qe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(c[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,propsOptions:c,type:u}},f){let h,y;return!!(n[f]||e!==Ze&&f[0]!=="$"&&Qe(e,f)||ti(t,f)||(h=c[0])&&Qe(h,f)||Qe(s,f)||Qe(Ur,f)||Qe(i.config.globalProperties,f)||(y=u.__cssModules)&&y[f])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Qe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function $a(e){return Ie(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let pi=!0;function Td(e){const t=ul(e),n=e.proxy,s=e.ctx;pi=!1,t.beforeCreate&&Ta(t.beforeCreate,e,"bc");const{data:i,computed:c,methods:u,watch:f,provide:h,inject:y,created:m,beforeMount:g,mounted:_,beforeUpdate:I,updated:q,activated:j,deactivated:V,beforeDestroy:Z,beforeUnmount:re,destroyed:X,unmounted:te,render:xe,renderTracked:ke,renderTriggered:Ce,errorCaptured:Pe,serverPrefetch:Oe,expose:Ve,inheritAttrs:Je,components:Ne,directives:Xe,filters:ie}=t;if(y&&Dd(y,s,null),u)for(const oe in u){const ue=u[oe];De(ue)&&(s[oe]=ue.bind(n))}if(i){const oe=i.call(n,n);tt(oe)&&(e.data=rs(oe))}if(pi=!0,c)for(const oe in c){const ue=c[oe],qe=De(ue)?ue.bind(n,n):De(ue.get)?ue.get.bind(n,n):fn,ot=!De(ue)&&De(ue.set)?ue.set.bind(n):fn,ht=xt({get:qe,set:ot});Object.defineProperty(s,oe,{enumerable:!0,configurable:!0,get:()=>ht.value,set:yt=>ht.value=yt})}if(f)for(const oe in f)ll(f[oe],s,n,oe);if(h){const oe=De(h)?h.call(n):h;Reflect.ownKeys(oe).forEach(ue=>{Ms(ue,oe[ue])})}m&&Ta(m,e,"c");function M(oe,ue){Ie(ue)?ue.forEach(qe=>oe(qe.bind(n))):ue&&oe(ue.bind(n))}if(M(wd,g),M(Cr,_),M(kd,I),M(xd,q),M(vd,j),M(bd,V),M(Id,Pe),M(Ed,ke),M(Ad,Ce),M(Cd,re),M(cl,te),M(Sd,Oe),Ie(Ve))if(Ve.length){const oe=e.exposed||(e.exposed={});Ve.forEach(ue=>{Object.defineProperty(oe,ue,{get:()=>n[ue],set:qe=>n[ue]=qe,enumerable:!0})})}else e.exposed||(e.exposed={});xe&&e.render===fn&&(e.render=xe),Je!=null&&(e.inheritAttrs=Je),Ne&&(e.components=Ne),Xe&&(e.directives=Xe),Oe&&ol(e)}function Dd(e,t,n=fn){Ie(e)&&(e=mi(e));for(const s in e){const i=e[s];let c;tt(i)?"default"in i?c=Ht(i.from||s,i.default,!0):c=Ht(i.from||s):c=Ht(i),ft(c)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>c.value,set:u=>c.value=u}):t[s]=c}}function Ta(e,t,n){pn(Ie(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function ll(e,t,n,s){let i=s.includes(".")?xl(n,s):()=>n[s];if(mt(e)){const c=t[e];De(c)&&Vr(i,c)}else if(De(e))Vr(i,e.bind(n));else if(tt(e))if(Ie(e))e.forEach(c=>ll(c,t,n,s));else{const c=De(e.handler)?e.handler.bind(n):t[e.handler];De(c)&&Vr(i,c,e)}}function ul(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:c,config:{optionMergeStrategies:u}}=e.appContext,f=c.get(t);let h;return f?h=f:!i.length&&!n&&!s?h=t:(h={},i.length&&i.forEach(y=>Ys(h,y,u,!0)),Ys(h,t,u)),tt(t)&&c.set(t,h),h}function Ys(e,t,n,s=!1){const{mixins:i,extends:c}=t;c&&Ys(e,c,n,!0),i&&i.forEach(u=>Ys(e,u,n,!0));for(const u in t)if(!(s&&u==="expose")){const f=Bd[u]||n&&n[u];e[u]=f?f(e[u],t[u]):t[u]}return e}const Bd={data:Da,props:Ba,emits:Ba,methods:jr,computed:jr,beforeCreate:Tt,created:Tt,beforeMount:Tt,mounted:Tt,beforeUpdate:Tt,updated:Tt,beforeDestroy:Tt,beforeUnmount:Tt,destroyed:Tt,unmounted:Tt,activated:Tt,deactivated:Tt,errorCaptured:Tt,serverPrefetch:Tt,components:jr,directives:jr,watch:jd,provide:Da,inject:Md};function Da(e,t){return t?e?function(){return Ot(De(e)?e.call(this,this):e,De(t)?t.call(this,this):t)}:t:e}function Md(e,t){return jr(mi(e),mi(t))}function mi(e){if(Ie(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Tt(e,t){return e?[...new Set([].concat(e,t))]:t}function jr(e,t){return e?Ot(Object.create(null),e,t):t}function Ba(e,t){return e?Ie(e)&&Ie(t)?[...new Set([...e,...t])]:Ot(Object.create(null),$a(e),$a(t??{})):t}function jd(e,t){if(!e)return t;if(!t)return e;const n=Ot(Object.create(null),e);for(const s in t)n[s]=Tt(e[s],t[s]);return n}function dl(){return{app:null,config:{isNativeTag:Sc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Fd=0;function Nd(e,t){return function(s,i=null){De(s)||(s=Ot({},s)),i!=null&&!tt(i)&&(i=null);const c=dl(),u=new WeakSet,f=[];let h=!1;const y=c.app={_uid:Fd++,_component:s,_props:i,_container:null,_context:c,_instance:null,version:kf,get config(){return c.config},set config(m){},use(m,...g){return u.has(m)||(m&&De(m.install)?(u.add(m),m.install(y,...g)):De(m)&&(u.add(m),m(y,...g))),y},mixin(m){return c.mixins.includes(m)||c.mixins.push(m),y},component(m,g){return g?(c.components[m]=g,y):c.components[m]},directive(m,g){return g?(c.directives[m]=g,y):c.directives[m]},mount(m,g,_){if(!h){const I=y._ceVNode||rt(s,i);return I.appContext=c,_===!0?_="svg":_===!1&&(_=void 0),e(I,m,_),h=!0,y._container=m,m.__vue_app__=y,mo(I.component)}},onUnmount(m){f.push(m)},unmount(){h&&(pn(f,y._instance,16),e(null,y._container),delete y._container.__vue_app__)},provide(m,g){return c.provides[m]=g,y},runWithContext(m){const g=Zn;Zn=y;try{return m()}finally{Zn=g}}};return y}}let Zn=null;function Ms(e,t){if(Pt){let n=Pt.provides;const s=Pt.parent&&Pt.parent.provides;s===n&&(n=Pt.provides=Object.create(s)),n[e]=t}}function Ht(e,t,n=!1){const s=Il();if(s||Zn){let i=Zn?Zn._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&De(t)?t.call(s&&s.proxy):t}}function Kd(){return!!(Il()||Zn)}const fl={},hl=()=>Object.create(fl),pl=e=>Object.getPrototypeOf(e)===fl;function Ld(e,t,n,s=!1){const i={},c=hl();e.propsDefaults=Object.create(null),ml(e,t,i,c);for(const u in e.propsOptions[0])u in i||(i[u]=void 0);n?e.props=s?i:Gc(i):e.type.props?e.props=i:e.props=c,e.attrs=c}function qd(e,t,n,s){const{props:i,attrs:c,vnode:{patchFlag:u}}=e,f=We(i),[h]=e.propsOptions;let y=!1;if((s||u>0)&&!(u&16)){if(u&8){const m=e.vnode.dynamicProps;for(let g=0;g<m.length;g++){let _=m[g];if(ho(e.emitsOptions,_))continue;const I=t[_];if(h)if(Qe(c,_))I!==c[_]&&(c[_]=I,y=!0);else{const q=zt(_);i[q]=yi(h,f,q,I,e,!1)}else I!==c[_]&&(c[_]=I,y=!0)}}}else{ml(e,t,i,c)&&(y=!0);let m;for(const g in f)(!t||!Qe(t,g)&&((m=er(g))===g||!Qe(t,m)))&&(h?n&&(n[g]!==void 0||n[m]!==void 0)&&(i[g]=yi(h,f,g,void 0,e,!0)):delete i[g]);if(c!==f)for(const g in c)(!t||!Qe(t,g))&&(delete c[g],y=!0)}y&&wn(e.attrs,"set","")}function ml(e,t,n,s){const[i,c]=e.propsOptions;let u=!1,f;if(t)for(let h in t){if(Fr(h))continue;const y=t[h];let m;i&&Qe(i,m=zt(h))?!c||!c.includes(m)?n[m]=y:(f||(f={}))[m]=y:ho(e.emitsOptions,h)||(!(h in s)||y!==s[h])&&(s[h]=y,u=!0)}if(c){const h=We(n),y=f||Ze;for(let m=0;m<c.length;m++){const g=c[m];n[g]=yi(i,h,g,y[g],e,!Qe(y,g))}}return u}function yi(e,t,n,s,i,c){const u=e[n];if(u!=null){const f=Qe(u,"default");if(f&&s===void 0){const h=u.default;if(u.type!==Function&&!u.skipFactory&&De(h)){const{propsDefaults:y}=i;if(n in y)s=y[n];else{const m=os(i);s=y[n]=h.call(null,t),m()}}else s=h;i.ce&&i.ce._setProp(n,s)}u[0]&&(c&&!f?s=!1:u[1]&&(s===""||s===er(n))&&(s=!0))}return s}const Ud=new WeakMap;function yl(e,t,n=!1){const s=n?Ud:t.propsCache,i=s.get(e);if(i)return i;const c=e.props,u={},f=[];let h=!1;if(!De(e)){const m=g=>{h=!0;const[_,I]=yl(g,t,!0);Ot(u,_),I&&f.push(...I)};!n&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!c&&!h)return tt(e)&&s.set(e,pr),pr;if(Ie(c))for(let m=0;m<c.length;m++){const g=zt(c[m]);Ma(g)&&(u[g]=Ze)}else if(c)for(const m in c){const g=zt(m);if(Ma(g)){const _=c[m],I=u[g]=Ie(_)||De(_)?{type:_}:Ot({},_),q=I.type;let j=!1,V=!0;if(Ie(q))for(let Z=0;Z<q.length;++Z){const re=q[Z],X=De(re)&&re.name;if(X==="Boolean"){j=!0;break}else X==="String"&&(V=!1)}else j=De(q)&&q.name==="Boolean";I[0]=j,I[1]=V,(j||Qe(I,"default"))&&f.push(g)}}const y=[u,f];return tt(e)&&s.set(e,y),y}function Ma(e){return e[0]!=="$"&&!Fr(e)}const Li=e=>e==="_"||e==="_ctx"||e==="$stable",qi=e=>Ie(e)?e.map(on):[on(e)],Vd=(e,t,n)=>{if(t._n)return t;const s=an((...i)=>qi(t(...i)),n);return s._c=!1,s},gl=(e,t,n)=>{const s=e._ctx;for(const i in e){if(Li(i))continue;const c=e[i];if(De(c))t[i]=Vd(i,c,s);else if(c!=null){const u=qi(c);t[i]=()=>u}}},vl=(e,t)=>{const n=qi(t);e.slots.default=()=>n},bl=(e,t,n)=>{for(const s in t)(n||!Li(s))&&(e[s]=t[s])},Hd=(e,t,n)=>{const s=e.slots=hl();if(e.vnode.shapeFlag&32){const i=t._;i?(bl(s,t,n),n&&Pc(s,"_",i,!0)):gl(t,s)}else t&&vl(e,t)},zd=(e,t,n)=>{const{vnode:s,slots:i}=e;let c=!0,u=Ze;if(s.shapeFlag&32){const f=t._;f?n&&f===1?c=!1:bl(i,t,n):(c=!t.$stable,gl(t,i)),u=t}else t&&(vl(e,t),u={default:1});if(c)for(const f in i)!Li(f)&&u[f]==null&&delete i[f]},Nt=af;function Wd(e){return Yd(e)}function Yd(e,t){const n=so();n.__VUE__=!0;const{insert:s,remove:i,patchProp:c,createElement:u,createText:f,createComment:h,setText:y,setElementText:m,parentNode:g,nextSibling:_,setScopeId:I=fn,insertStaticContent:q}=e,j=(b,x,B,U=null,Y=null,W=null,he=void 0,le=null,ae=!!x.dynamicChildren)=>{if(b===x)return;b&&!Br(b,x)&&(U=z(b),yt(b,Y,W,!0),b=null),x.patchFlag===-2&&(ae=!1,x.dynamicChildren=null);const{type:G,ref:Ae,shapeFlag:pe}=x;switch(G){case po:V(b,x,B,U);break;case Ln:Z(b,x,B,U);break;case js:b==null&&re(x,B,U,he);break;case it:Ne(b,x,B,U,Y,W,he,le,ae);break;default:pe&1?xe(b,x,B,U,Y,W,he,le,ae):pe&6?Xe(b,x,B,U,Y,W,he,le,ae):(pe&64||pe&128)&&G.process(b,x,B,U,Y,W,he,le,ae,_e)}Ae!=null&&Y?Lr(Ae,b&&b.ref,W,x||b,!x):Ae==null&&b&&b.ref!=null&&Lr(b.ref,null,W,b,!0)},V=(b,x,B,U)=>{if(b==null)s(x.el=f(x.children),B,U);else{const Y=x.el=b.el;x.children!==b.children&&y(Y,x.children)}},Z=(b,x,B,U)=>{b==null?s(x.el=h(x.children||""),B,U):x.el=b.el},re=(b,x,B,U)=>{[b.el,b.anchor]=q(b.children,x,B,U,b.el,b.anchor)},X=({el:b,anchor:x},B,U)=>{let Y;for(;b&&b!==x;)Y=_(b),s(b,B,U),b=Y;s(x,B,U)},te=({el:b,anchor:x})=>{let B;for(;b&&b!==x;)B=_(b),i(b),b=B;i(x)},xe=(b,x,B,U,Y,W,he,le,ae)=>{x.type==="svg"?he="svg":x.type==="math"&&(he="mathml"),b==null?ke(x,B,U,Y,W,he,le,ae):Oe(b,x,Y,W,he,le,ae)},ke=(b,x,B,U,Y,W,he,le)=>{let ae,G;const{props:Ae,shapeFlag:pe,transition:Se,dirs:Ee}=b;if(ae=b.el=u(b.type,W,Ae&&Ae.is,Ae),pe&8?m(ae,b.children):pe&16&&Pe(b.children,ae,null,U,Y,ni(b,W),he,le),Ee&&Yn(b,null,U,"created"),Ce(ae,b,b.scopeId,he,U),Ae){for(const Ke in Ae)Ke!=="value"&&!Fr(Ke)&&c(ae,Ke,null,Ae[Ke],W,U);"value"in Ae&&c(ae,"value",null,Ae.value,W),(G=Ae.onVnodeBeforeMount)&&rn(G,U,b)}Ee&&Yn(b,null,U,"beforeMount");const Be=Qd(Y,Se);Be&&Se.beforeEnter(ae),s(ae,x,B),((G=Ae&&Ae.onVnodeMounted)||Be||Ee)&&Nt(()=>{G&&rn(G,U,b),Be&&Se.enter(ae),Ee&&Yn(b,null,U,"mounted")},Y)},Ce=(b,x,B,U,Y)=>{if(B&&I(b,B),U)for(let W=0;W<U.length;W++)I(b,U[W]);if(Y){let W=Y.subTree;if(x===W||Sl(W.type)&&(W.ssContent===x||W.ssFallback===x)){const he=Y.vnode;Ce(b,he,he.scopeId,he.slotScopeIds,Y.parent)}}},Pe=(b,x,B,U,Y,W,he,le,ae=0)=>{for(let G=ae;G<b.length;G++){const Ae=b[G]=le?Mn(b[G]):on(b[G]);j(null,Ae,x,B,U,Y,W,he,le)}},Oe=(b,x,B,U,Y,W,he)=>{const le=x.el=b.el;let{patchFlag:ae,dynamicChildren:G,dirs:Ae}=x;ae|=b.patchFlag&16;const pe=b.props||Ze,Se=x.props||Ze;let Ee;if(B&&Qn(B,!1),(Ee=Se.onVnodeBeforeUpdate)&&rn(Ee,B,x,b),Ae&&Yn(x,b,B,"beforeUpdate"),B&&Qn(B,!0),(pe.innerHTML&&Se.innerHTML==null||pe.textContent&&Se.textContent==null)&&m(le,""),G?Ve(b.dynamicChildren,G,le,B,U,ni(x,Y),W):he||ue(b,x,le,null,B,U,ni(x,Y),W,!1),ae>0){if(ae&16)Je(le,pe,Se,B,Y);else if(ae&2&&pe.class!==Se.class&&c(le,"class",null,Se.class,Y),ae&4&&c(le,"style",pe.style,Se.style,Y),ae&8){const Be=x.dynamicProps;for(let Ke=0;Ke<Be.length;Ke++){const Ue=Be[Ke],pt=pe[Ue],gt=Se[Ue];(gt!==pt||Ue==="value")&&c(le,Ue,pt,gt,Y,B)}}ae&1&&b.children!==x.children&&m(le,x.children)}else!he&&G==null&&Je(le,pe,Se,B,Y);((Ee=Se.onVnodeUpdated)||Ae)&&Nt(()=>{Ee&&rn(Ee,B,x,b),Ae&&Yn(x,b,B,"updated")},U)},Ve=(b,x,B,U,Y,W,he)=>{for(let le=0;le<x.length;le++){const ae=b[le],G=x[le],Ae=ae.el&&(ae.type===it||!Br(ae,G)||ae.shapeFlag&198)?g(ae.el):B;j(ae,G,Ae,null,U,Y,W,he,!0)}},Je=(b,x,B,U,Y)=>{if(x!==B){if(x!==Ze)for(const W in x)!Fr(W)&&!(W in B)&&c(b,W,x[W],null,Y,U);for(const W in B){if(Fr(W))continue;const he=B[W],le=x[W];he!==le&&W!=="value"&&c(b,W,le,he,Y,U)}"value"in B&&c(b,"value",x.value,B.value,Y)}},Ne=(b,x,B,U,Y,W,he,le,ae)=>{const G=x.el=b?b.el:f(""),Ae=x.anchor=b?b.anchor:f("");let{patchFlag:pe,dynamicChildren:Se,slotScopeIds:Ee}=x;Ee&&(le=le?le.concat(Ee):Ee),b==null?(s(G,B,U),s(Ae,B,U),Pe(x.children||[],B,Ae,Y,W,he,le,ae)):pe>0&&pe&64&&Se&&b.dynamicChildren?(Ve(b.dynamicChildren,Se,B,Y,W,he,le),(x.key!=null||Y&&x===Y.subTree)&&_l(b,x,!0)):ue(b,x,B,Ae,Y,W,he,le,ae)},Xe=(b,x,B,U,Y,W,he,le,ae)=>{x.slotScopeIds=le,b==null?x.shapeFlag&512?Y.ctx.activate(x,B,U,he,ae):ie(x,B,U,Y,W,he,ae):H(b,x,ae)},ie=(b,x,B,U,Y,W,he)=>{const le=b.component=mf(b,U,Y);if(il(b)&&(le.ctx.renderer=_e),yf(le,!1,he),le.asyncDep){if(Y&&Y.registerDep(le,M,he),!b.el){const ae=le.subTree=rt(Ln);Z(null,ae,x,B),b.placeholder=ae.el}}else M(le,b,x,B,Y,W,he)},H=(b,x,B)=>{const U=x.component=b.component;if(sf(b,x,B))if(U.asyncDep&&!U.asyncResolved){oe(U,x,B);return}else U.next=x,U.update();else x.el=b.el,U.vnode=x},M=(b,x,B,U,Y,W,he)=>{const le=()=>{if(b.isMounted){let{next:pe,bu:Se,u:Ee,parent:Be,vnode:Ke}=b;{const vt=wl(b);if(vt){pe&&(pe.el=Ke.el,oe(b,pe,he)),vt.asyncDep.then(()=>{b.isUnmounted||le()});return}}let Ue=pe,pt;Qn(b,!1),pe?(pe.el=Ke.el,oe(b,pe,he)):pe=Ke,Se&&Bs(Se),(pt=pe.props&&pe.props.onVnodeBeforeUpdate)&&rn(pt,Be,pe,Ke),Qn(b,!0);const gt=Fa(b),Rt=b.subTree;b.subTree=gt,j(Rt,gt,g(Rt.el),z(Rt),b,Y,W),pe.el=gt.el,Ue===null&&of(b,gt.el),Ee&&Nt(Ee,Y),(pt=pe.props&&pe.props.onVnodeUpdated)&&Nt(()=>rn(pt,Be,pe,Ke),Y)}else{let pe;const{el:Se,props:Ee}=x,{bm:Be,m:Ke,parent:Ue,root:pt,type:gt}=b,Rt=qr(x);Qn(b,!1),Be&&Bs(Be),!Rt&&(pe=Ee&&Ee.onVnodeBeforeMount)&&rn(pe,Ue,x),Qn(b,!0);{pt.ce&&pt.ce._def.shadowRoot!==!1&&pt.ce._injectChildStyle(gt);const vt=b.subTree=Fa(b);j(null,vt,B,U,b,Y,W),x.el=vt.el}if(Ke&&Nt(Ke,Y),!Rt&&(pe=Ee&&Ee.onVnodeMounted)){const vt=x;Nt(()=>rn(pe,Ue,vt),Y)}(x.shapeFlag&256||Ue&&qr(Ue.vnode)&&Ue.vnode.shapeFlag&256)&&b.a&&Nt(b.a,Y),b.isMounted=!0,x=B=U=null}};b.scope.on();const ae=b.effect=new Mc(le);b.scope.off();const G=b.update=ae.run.bind(ae),Ae=b.job=ae.runIfDirty.bind(ae);Ae.i=b,Ae.id=b.uid,ae.scheduler=()=>Ni(Ae),Qn(b,!0),G()},oe=(b,x,B)=>{x.component=b;const U=b.vnode.props;b.vnode=x,b.next=null,qd(b,x.props,U,B),zd(b,x.children,B),xn(),Oa(b),Cn()},ue=(b,x,B,U,Y,W,he,le,ae=!1)=>{const G=b&&b.children,Ae=b?b.shapeFlag:0,pe=x.children,{patchFlag:Se,shapeFlag:Ee}=x;if(Se>0){if(Se&128){ot(G,pe,B,U,Y,W,he,le,ae);return}else if(Se&256){qe(G,pe,B,U,Y,W,he,le,ae);return}}Ee&8?(Ae&16&&at(G,Y,W),pe!==G&&m(B,pe)):Ae&16?Ee&16?ot(G,pe,B,U,Y,W,he,le,ae):at(G,Y,W,!0):(Ae&8&&m(B,""),Ee&16&&Pe(pe,B,U,Y,W,he,le,ae))},qe=(b,x,B,U,Y,W,he,le,ae)=>{b=b||pr,x=x||pr;const G=b.length,Ae=x.length,pe=Math.min(G,Ae);let Se;for(Se=0;Se<pe;Se++){const Ee=x[Se]=ae?Mn(x[Se]):on(x[Se]);j(b[Se],Ee,B,null,Y,W,he,le,ae)}G>Ae?at(b,Y,W,!0,!1,pe):Pe(x,B,U,Y,W,he,le,ae,pe)},ot=(b,x,B,U,Y,W,he,le,ae)=>{let G=0;const Ae=x.length;let pe=b.length-1,Se=Ae-1;for(;G<=pe&&G<=Se;){const Ee=b[G],Be=x[G]=ae?Mn(x[G]):on(x[G]);if(Br(Ee,Be))j(Ee,Be,B,null,Y,W,he,le,ae);else break;G++}for(;G<=pe&&G<=Se;){const Ee=b[pe],Be=x[Se]=ae?Mn(x[Se]):on(x[Se]);if(Br(Ee,Be))j(Ee,Be,B,null,Y,W,he,le,ae);else break;pe--,Se--}if(G>pe){if(G<=Se){const Ee=Se+1,Be=Ee<Ae?x[Ee].el:U;for(;G<=Se;)j(null,x[G]=ae?Mn(x[G]):on(x[G]),B,Be,Y,W,he,le,ae),G++}}else if(G>Se)for(;G<=pe;)yt(b[G],Y,W,!0),G++;else{const Ee=G,Be=G,Ke=new Map;for(G=Be;G<=Se;G++){const ct=x[G]=ae?Mn(x[G]):on(x[G]);ct.key!=null&&Ke.set(ct.key,G)}let Ue,pt=0;const gt=Se-Be+1;let Rt=!1,vt=0;const Zt=new Array(gt);for(G=0;G<gt;G++)Zt[G]=0;for(G=Ee;G<=pe;G++){const ct=b[G];if(pt>=gt){yt(ct,Y,W,!0);continue}let ve;if(ct.key!=null)ve=Ke.get(ct.key);else for(Ue=Be;Ue<=Se;Ue++)if(Zt[Ue-Be]===0&&Br(ct,x[Ue])){ve=Ue;break}ve===void 0?yt(ct,Y,W,!0):(Zt[ve-Be]=G+1,ve>=vt?vt=ve:Rt=!0,j(ct,x[ve],B,null,Y,W,he,le,ae),pt++)}const tr=Rt?Gd(Zt):pr;for(Ue=tr.length-1,G=gt-1;G>=0;G--){const ct=Be+G,ve=x[ct],An=x[ct+1],en=ct+1<Ae?An.el||An.placeholder:U;Zt[G]===0?j(null,ve,B,en,Y,W,he,le,ae):Rt&&(Ue<0||G!==tr[Ue]?ht(ve,B,en,2):Ue--)}}},ht=(b,x,B,U,Y=null)=>{const{el:W,type:he,transition:le,children:ae,shapeFlag:G}=b;if(G&6){ht(b.component.subTree,x,B,U);return}if(G&128){b.suspense.move(x,B,U);return}if(G&64){he.move(b,x,B,_e);return}if(he===it){s(W,x,B);for(let pe=0;pe<ae.length;pe++)ht(ae[pe],x,B,U);s(b.anchor,x,B);return}if(he===js){X(b,x,B);return}if(U!==2&&G&1&&le)if(U===0)le.beforeEnter(W),s(W,x,B),Nt(()=>le.enter(W),Y);else{const{leave:pe,delayLeave:Se,afterLeave:Ee}=le,Be=()=>{b.ctx.isUnmounted?i(W):s(W,x,B)},Ke=()=>{W._isLeaving&&W[gd](!0),pe(W,()=>{Be(),Ee&&Ee()})};Se?Se(W,Be,Ke):Ke()}else s(W,x,B)},yt=(b,x,B,U=!1,Y=!1)=>{const{type:W,props:he,ref:le,children:ae,dynamicChildren:G,shapeFlag:Ae,patchFlag:pe,dirs:Se,cacheIndex:Ee}=b;if(pe===-2&&(Y=!1),le!=null&&(xn(),Lr(le,null,B,b,!0),Cn()),Ee!=null&&(x.renderCache[Ee]=void 0),Ae&256){x.ctx.deactivate(b);return}const Be=Ae&1&&Se,Ke=!qr(b);let Ue;if(Ke&&(Ue=he&&he.onVnodeBeforeUnmount)&&rn(Ue,x,b),Ae&6)Qt(b.component,B,U);else{if(Ae&128){b.suspense.unmount(B,U);return}Be&&Yn(b,null,x,"beforeUnmount"),Ae&64?b.type.remove(b,x,B,_e,U):G&&!G.hasOnce&&(W!==it||pe>0&&pe&64)?at(G,x,B,!1,!0):(W===it&&pe&384||!Y&&Ae&16)&&at(ae,x,B),U&&wt(b)}(Ke&&(Ue=he&&he.onVnodeUnmounted)||Be)&&Nt(()=>{Ue&&rn(Ue,x,b),Be&&Yn(b,null,x,"unmounted")},B)},wt=b=>{const{type:x,el:B,anchor:U,transition:Y}=b;if(x===it){Yt(B,U);return}if(x===js){te(b);return}const W=()=>{i(B),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(b.shapeFlag&1&&Y&&!Y.persisted){const{leave:he,delayLeave:le}=Y,ae=()=>he(B,W);le?le(b.el,W,ae):ae()}else W()},Yt=(b,x)=>{let B;for(;b!==x;)B=_(b),i(b),b=B;i(x)},Qt=(b,x,B)=>{const{bum:U,scope:Y,job:W,subTree:he,um:le,m:ae,a:G}=b;ja(ae),ja(G),U&&Bs(U),Y.stop(),W&&(W.flags|=8,yt(he,b,x,B)),le&&Nt(le,x),Nt(()=>{b.isUnmounted=!0},x)},at=(b,x,B,U=!1,Y=!1,W=0)=>{for(let he=W;he<b.length;he++)yt(b[he],x,B,U,Y)},z=b=>{if(b.shapeFlag&6)return z(b.component.subTree);if(b.shapeFlag&128)return b.suspense.next();const x=_(b.anchor||b.el),B=x&&x[md];return B?_(B):x};let be=!1;const L=(b,x,B)=>{b==null?x._vnode&&yt(x._vnode,null,null,!0):j(x._vnode||null,b,x,null,null,null,B),x._vnode=b,be||(be=!0,Oa(),nl(),be=!1)},_e={p:j,um:yt,m:ht,r:wt,mt:ie,mc:Pe,pc:ue,pbc:Ve,n:z,o:e};return{render:L,hydrate:void 0,createApp:Nd(L)}}function ni({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Qn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Qd(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function _l(e,t,n=!1){const s=e.children,i=t.children;if(Ie(s)&&Ie(i))for(let c=0;c<s.length;c++){const u=s[c];let f=i[c];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=i[c]=Mn(i[c]),f.el=u.el),!n&&f.patchFlag!==-2&&_l(u,f)),f.type===po&&f.patchFlag!==-1&&(f.el=u.el),f.type===Ln&&!f.el&&(f.el=u.el)}}function Gd(e){const t=e.slice(),n=[0];let s,i,c,u,f;const h=e.length;for(s=0;s<h;s++){const y=e[s];if(y!==0){if(i=n[n.length-1],e[i]<y){t[s]=i,n.push(s);continue}for(c=0,u=n.length-1;c<u;)f=c+u>>1,e[n[f]]<y?c=f+1:u=f;y<e[n[c]]&&(c>0&&(t[s]=n[c-1]),n[c]=s)}}for(c=n.length,u=n[c-1];c-- >0;)n[c]=u,u=t[u];return n}function wl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:wl(t)}function ja(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Jd=Symbol.for("v-scx"),Xd=()=>Ht(Jd);function Vr(e,t,n){return kl(e,t,n)}function kl(e,t,n=Ze){const{immediate:s,deep:i,flush:c,once:u}=n,f=Ot({},n),h=t&&s||!t&&c!=="post";let y;if(Zr){if(c==="sync"){const I=Xd();y=I.__watcherHandles||(I.__watcherHandles=[])}else if(!h){const I=()=>{};return I.stop=fn,I.resume=fn,I.pause=fn,I}}const m=Pt;f.call=(I,q,j)=>pn(I,m,q,j);let g=!1;c==="post"?f.scheduler=I=>{Nt(I,m&&m.suspense)}:c!=="sync"&&(g=!0,f.scheduler=(I,q)=>{q?I():Ni(I)}),f.augmentJob=I=>{t&&(I.flags|=4),g&&(I.flags|=2,m&&(I.id=m.uid,I.i=m))};const _=dd(e,t,f);return Zr&&(y?y.push(_):h&&_()),_}function Zd(e,t,n){const s=this.proxy,i=mt(e)?e.includes(".")?xl(s,e):()=>s[e]:e.bind(s,s);let c;De(t)?c=t:(c=t.handler,n=t);const u=os(this),f=kl(i,c.bind(s),n);return u(),f}function xl(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const ef=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${zt(t)}Modifiers`]||e[`${er(t)}Modifiers`];function tf(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Ze;let i=n;const c=t.startsWith("update:"),u=c&&ef(s,t.slice(7));u&&(u.trim&&(i=n.map(m=>mt(m)?m.trim():m)),u.number&&(i=n.map(Ls)));let f,h=s[f=Go(t)]||s[f=Go(zt(t))];!h&&c&&(h=s[f=Go(er(t))]),h&&pn(h,e,6,i);const y=s[f+"Once"];if(y){if(!e.emitted)e.emitted={};else if(e.emitted[f])return;e.emitted[f]=!0,pn(y,e,6,i)}}function Cl(e,t,n=!1){const s=t.emitsCache,i=s.get(e);if(i!==void 0)return i;const c=e.emits;let u={},f=!1;if(!De(e)){const h=y=>{const m=Cl(y,t,!0);m&&(f=!0,Ot(u,m))};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}return!c&&!f?(tt(e)&&s.set(e,null),null):(Ie(c)?c.forEach(h=>u[h]=null):Ot(u,c),tt(e)&&s.set(e,u),u)}function ho(e,t){return!e||!eo(t)?!1:(t=t.slice(2).replace(/Once$/,""),Qe(e,t[0].toLowerCase()+t.slice(1))||Qe(e,er(t))||Qe(e,t))}function Fa(e){const{type:t,vnode:n,proxy:s,withProxy:i,propsOptions:[c],slots:u,attrs:f,emit:h,render:y,renderCache:m,props:g,data:_,setupState:I,ctx:q,inheritAttrs:j}=e,V=zs(e);let Z,re;try{if(n.shapeFlag&4){const te=i||s,xe=te;Z=on(y.call(xe,te,m,g,I,_,q)),re=f}else{const te=t;Z=on(te.length>1?te(g,{attrs:f,slots:u,emit:h}):te(g,null)),re=t.props?f:nf(f)}}catch(te){Hr.length=0,co(te,e,1),Z=rt(Ln)}let X=Z;if(re&&j!==!1){const te=Object.keys(re),{shapeFlag:xe}=X;te.length&&xe&7&&(c&&te.some(Ii)&&(re=rf(re,c)),X=wr(X,re,!1,!0))}return n.dirs&&(X=wr(X,null,!1,!0),X.dirs=X.dirs?X.dirs.concat(n.dirs):n.dirs),n.transition&&Ki(X,n.transition),Z=X,zs(V),Z}const nf=e=>{let t;for(const n in e)(n==="class"||n==="style"||eo(n))&&((t||(t={}))[n]=e[n]);return t},rf=(e,t)=>{const n={};for(const s in e)(!Ii(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function sf(e,t,n){const{props:s,children:i,component:c}=e,{props:u,children:f,patchFlag:h}=t,y=c.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&h>=0){if(h&1024)return!0;if(h&16)return s?Na(s,u,y):!!u;if(h&8){const m=t.dynamicProps;for(let g=0;g<m.length;g++){const _=m[g];if(u[_]!==s[_]&&!ho(y,_))return!0}}}else return(i||f)&&(!f||!f.$stable)?!0:s===u?!1:s?u?Na(s,u,y):!0:!!u;return!1}function Na(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const c=s[i];if(t[c]!==e[c]&&!ho(n,c))return!0}return!1}function of({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Sl=e=>e.__isSuspense;function af(e,t){t&&t.pendingBranch?Ie(e)?t.effects.push(...e):t.effects.push(e):pd(e)}const it=Symbol.for("v-fgt"),po=Symbol.for("v-txt"),Ln=Symbol.for("v-cmt"),js=Symbol.for("v-stc"),Hr=[];let qt=null;function Q(e=!1){Hr.push(qt=e?null:[])}function cf(){Hr.pop(),qt=Hr[Hr.length-1]||null}let Xr=1;function Ka(e,t=!1){Xr+=e,e<0&&qt&&t&&(qt.hasOnce=!0)}function Al(e){return e.dynamicChildren=Xr>0?qt||pr:null,cf(),Xr>0&&qt&&qt.push(e),e}function J(e,t,n,s,i,c){return Al(C(e,t,n,s,i,c,!0))}function Ui(e,t,n,s,i){return Al(rt(e,t,n,s,i,!0))}function Qs(e){return e?e.__v_isVNode===!0:!1}function Br(e,t){return e.type===t.type&&e.key===t.key}const El=({key:e})=>e??null,Fs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?mt(e)||ft(e)||De(e)?{i:Lt,r:e,k:t,f:!!n}:e:null);function C(e,t=null,n=null,s=0,i=null,c=e===it?0:1,u=!1,f=!1){const h={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&El(t),ref:t&&Fs(t),scopeId:sl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Lt};return f?(Vi(h,n),c&128&&e.normalize(h)):n&&(h.shapeFlag|=mt(n)?8:16),Xr>0&&!u&&qt&&(h.patchFlag>0||c&6)&&h.patchFlag!==32&&qt.push(h),h}const rt=lf;function lf(e,t=null,n=null,s=0,i=null,c=!1){if((!e||e===Od)&&(e=Ln),Qs(e)){const f=wr(e,t,!0);return n&&Vi(f,n),Xr>0&&!c&&qt&&(f.shapeFlag&6?qt[qt.indexOf(e)]=f:qt.push(f)),f.patchFlag=-2,f}if(wf(e)&&(e=e.__vccOpts),t){t=uf(t);let{class:f,style:h}=t;f&&!mt(f)&&(t.class=Mt(f)),tt(h)&&(ji(h)&&!Ie(h)&&(h=Ot({},h)),t.style=oo(h))}const u=mt(e)?1:Sl(e)?128:yd(e)?64:tt(e)?4:De(e)?2:0;return C(e,t,n,s,i,u,c,!0)}function uf(e){return e?ji(e)||pl(e)?Ot({},e):e:null}function wr(e,t,n=!1,s=!1){const{props:i,ref:c,patchFlag:u,children:f,transition:h}=e,y=t?ff(i||{},t):i,m={__v_isVNode:!0,__v_skip:!0,type:e.type,props:y,key:y&&El(y),ref:t&&t.ref?n&&c?Ie(c)?c.concat(Fs(t)):[c,Fs(t)]:Fs(t):c,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:f,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==it?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:h,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&wr(e.ssContent),ssFallback:e.ssFallback&&wr(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return h&&s&&Ki(m,h.clone(m)),m}function cn(e=" ",t=0){return rt(po,null,e,t)}function df(e,t){const n=rt(js,null,e);return n.staticCount=t,n}function Te(e="",t=!1){return t?(Q(),Ui(Ln,null,e)):rt(Ln,null,e)}function on(e){return e==null||typeof e=="boolean"?rt(Ln):Ie(e)?rt(it,null,e.slice()):Qs(e)?Mn(e):rt(po,null,String(e))}function Mn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:wr(e)}function Vi(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Ie(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),Vi(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!pl(t)?t._ctx=Lt:i===3&&Lt&&(Lt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else De(t)?(t={default:t,_ctx:Lt},n=32):(t=String(t),s&64?(n=16,t=[cn(t)]):n=8);e.children=t,e.shapeFlag|=n}function ff(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=Mt([t.class,s.class]));else if(i==="style")t.style=oo([t.style,s.style]);else if(eo(i)){const c=t[i],u=s[i];u&&c!==u&&!(Ie(c)&&c.includes(u))&&(t[i]=c?[].concat(c,u):u)}else i!==""&&(t[i]=s[i])}return t}function rn(e,t,n,s=null){pn(e,t,7,[n,s])}const hf=dl();let pf=0;function mf(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||hf,c={uid:pf++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Tc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yl(s,i),emitsOptions:Cl(s,i),emit:null,emitted:null,propsDefaults:Ze,inheritAttrs:s.inheritAttrs,ctx:Ze,data:Ze,props:Ze,attrs:Ze,slots:Ze,refs:Ze,setupState:Ze,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return c.ctx={_:c},c.root=t?t.root:c,c.emit=tf.bind(null,c),e.ce&&e.ce(c),c}let Pt=null;const Il=()=>Pt||Lt;let Gs,gi;{const e=so(),t=(n,s)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(s),c=>{i.length>1?i.forEach(u=>u(c)):i[0](c)}};Gs=t("__VUE_INSTANCE_SETTERS__",n=>Pt=n),gi=t("__VUE_SSR_SETTERS__",n=>Zr=n)}const os=e=>{const t=Pt;return Gs(e),e.scope.on(),()=>{e.scope.off(),Gs(t)}},La=()=>{Pt&&Pt.scope.off(),Gs(null)};function Pl(e){return e.vnode.shapeFlag&4}let Zr=!1;function yf(e,t=!1,n=!1){t&&gi(t);const{props:s,children:i}=e.vnode,c=Pl(e);Ld(e,s,c,t),Hd(e,i,n||t);const u=c?gf(e,t):void 0;return t&&gi(!1),u}function gf(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,$d);const{setup:s}=n;if(s){xn();const i=e.setupContext=s.length>1?bf(e):null,c=os(e),u=ss(s,e,0,[e.props,i]),f=Ac(u);if(Cn(),c(),(f||e.sp)&&!qr(e)&&ol(e),f){if(u.then(La,La),t)return u.then(h=>{qa(e,h)}).catch(h=>{co(h,e,0)});e.asyncDep=u}else qa(e,u)}else Ol(e)}function qa(e,t,n){De(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:tt(t)&&(e.setupState=Zc(t)),Ol(e)}function Ol(e,t,n){const s=e.type;e.render||(e.render=s.render||fn);{const i=os(e);xn();try{Td(e)}finally{Cn(),i()}}}const vf={get(e,t){return It(e,"get",""),e[t]}};function bf(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,vf),slots:e.slots,emit:e.emit,expose:t}}function mo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Zc(Fi(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ur)return Ur[n](e)},has(t,n){return n in t||n in Ur}})):e.proxy}function _f(e,t=!0){return De(e)?e.displayName||e.name:e.name||t&&e.__name}function wf(e){return De(e)&&"__vccOpts"in e}const xt=(e,t)=>ld(e,t,Zr);function Rl(e,t,n){const s=arguments.length;return s===2?tt(t)&&!Ie(t)?Qs(t)?rt(e,null,[t]):rt(e,t):rt(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Qs(n)&&(n=[n]),rt(e,t,n))}const kf="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vi;const Ua=typeof window<"u"&&window.trustedTypes;if(Ua)try{vi=Ua.createPolicy("vue",{createHTML:e=>e})}catch{}const $l=vi?e=>vi.createHTML(e):e=>e,xf="http://www.w3.org/2000/svg",Cf="http://www.w3.org/1998/Math/MathML",_n=typeof document<"u"?document:null,Va=_n&&_n.createElement("template"),Sf={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t==="svg"?_n.createElementNS(xf,e):t==="mathml"?_n.createElementNS(Cf,e):n?_n.createElement(e,{is:n}):_n.createElement(e);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>_n.createTextNode(e),createComment:e=>_n.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_n.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,c){const u=n?n.previousSibling:t.lastChild;if(i&&(i===c||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===c||!(i=i.nextSibling)););else{Va.innerHTML=$l(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const f=Va.content;if(s==="svg"||s==="mathml"){const h=f.firstChild;for(;h.firstChild;)f.appendChild(h.firstChild);f.removeChild(h)}t.insertBefore(f,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Af=Symbol("_vtc");function Ef(e,t,n){const s=e[Af];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ha=Symbol("_vod"),If=Symbol("_vsh"),Pf=Symbol(""),Of=/(^|;)\s*display\s*:/;function Rf(e,t,n){const s=e.style,i=mt(n);let c=!1;if(n&&!i){if(t)if(mt(t))for(const u of t.split(";")){const f=u.slice(0,u.indexOf(":")).trim();n[f]==null&&Ns(s,f,"")}else for(const u in t)n[u]==null&&Ns(s,u,"");for(const u in n)u==="display"&&(c=!0),Ns(s,u,n[u])}else if(i){if(t!==n){const u=s[Pf];u&&(n+=";"+u),s.cssText=n,c=Of.test(n)}}else t&&e.removeAttribute("style");Ha in e&&(e[Ha]=c?s.display:"",e[If]&&(s.display="none"))}const za=/\s*!important$/;function Ns(e,t,n){if(Ie(n))n.forEach(s=>Ns(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=$f(e,t);za.test(n)?e.setProperty(er(s),n.replace(za,""),"important"):e[s]=n}}const Wa=["Webkit","Moz","ms"],ri={};function $f(e,t){const n=ri[t];if(n)return n;let s=zt(t);if(s!=="filter"&&s in e)return ri[t]=s;s=ro(s);for(let i=0;i<Wa.length;i++){const c=Wa[i]+s;if(c in e)return ri[t]=c}return t}const Ya="http://www.w3.org/1999/xlink";function Qa(e,t,n,s,i,c=Tu(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Ya,t.slice(6,t.length)):e.setAttributeNS(Ya,t,n):n==null||c&&!Oc(n)?e.removeAttribute(t):e.setAttribute(t,c?"":hn(n)?String(n):n)}function Ga(e,t,n,s,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?$l(n):n);return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){const f=c==="OPTION"?e.getAttribute("value")||"":e.value,h=n==null?e.type==="checkbox"?"on":"":String(n);(f!==h||!("_value"in e))&&(e.value=h),n==null&&e.removeAttribute(t),e._value=n;return}let u=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=Oc(n):n==null&&f==="string"?(n="",u=!0):f==="number"&&(n=0,u=!0)}try{e[t]=n}catch{}u&&e.removeAttribute(i||t)}function Jn(e,t,n,s){e.addEventListener(t,n,s)}function Tf(e,t,n,s){e.removeEventListener(t,n,s)}const Ja=Symbol("_vei");function Df(e,t,n,s,i=null){const c=e[Ja]||(e[Ja]={}),u=c[t];if(s&&u)u.value=s;else{const[f,h]=Bf(t);if(s){const y=c[t]=Ff(s,i);Jn(e,f,y,h)}else u&&(Tf(e,f,u,h),c[t]=void 0)}}const Xa=/(?:Once|Passive|Capture)$/;function Bf(e){let t;if(Xa.test(e)){t={};let s;for(;s=e.match(Xa);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):er(e.slice(2)),t]}let si=0;const Mf=Promise.resolve(),jf=()=>si||(Mf.then(()=>si=0),si=Date.now());function Ff(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;pn(Nf(s,n.value),t,5,[s])};return n.value=e,n.attached=jf(),n}function Nf(e,t){if(Ie(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const Za=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Kf=(e,t,n,s,i,c)=>{const u=i==="svg";t==="class"?Ef(e,s,u):t==="style"?Rf(e,n,s):eo(t)?Ii(t)||Df(e,t,n,s,c):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Lf(e,t,s,u))?(Ga(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Qa(e,t,s,u,c,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!mt(s))?Ga(e,zt(t),s,c,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Qa(e,t,s,u))};function Lf(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Za(t)&&De(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Za(t)&&mt(n)?!1:t in e}const Js=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ie(t)?n=>Bs(t,n):t};function qf(e){e.target.composing=!0}function ec(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vr=Symbol("_assign"),bi={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e[vr]=Js(i);const c=s||i.props&&i.props.type==="number";Jn(e,t?"change":"input",u=>{if(u.target.composing)return;let f=e.value;n&&(f=f.trim()),c&&(f=Ls(f)),e[vr](f)}),n&&Jn(e,"change",()=>{e.value=e.value.trim()}),t||(Jn(e,"compositionstart",qf),Jn(e,"compositionend",ec),Jn(e,"change",ec))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:i,number:c}},u){if(e[vr]=Js(u),e.composing)return;const f=(c||e.type==="number")&&!/^0\d/.test(e.value)?Ls(e.value):e.value,h=t??"";f!==h&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||i&&e.value.trim()===h)||(e.value=h))}},Uf={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const i=to(t);Jn(e,"change",()=>{const c=Array.prototype.filter.call(e.options,u=>u.selected).map(u=>n?Ls(Xs(u)):Xs(u));e[vr](e.multiple?i?new Set(c):c:c[0]),e._assigning=!0,lo(()=>{e._assigning=!1})}),e[vr]=Js(s)},mounted(e,{value:t}){tc(e,t)},beforeUpdate(e,t,n){e[vr]=Js(n)},updated(e,{value:t}){e._assigning||tc(e,t)}};function tc(e,t){const n=e.multiple,s=Ie(t);if(!(n&&!s&&!to(t))){for(let i=0,c=e.options.length;i<c;i++){const u=e.options[i],f=Xs(u);if(n)if(s){const h=typeof f;h==="string"||h==="number"?u.selected=t.some(y=>String(y)===String(f)):u.selected=Bu(t,f)>-1}else u.selected=t.has(f);else if(io(Xs(u),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Xs(e){return"_value"in e?e._value:e.value}const Vf=["ctrl","shift","alt","meta"],Hf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Vf.some(n=>e[`${n}Key`]&&!t.includes(n))},zf=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=((i,...c)=>{for(let u=0;u<t.length;u++){const f=Hf[t[u]];if(f&&f(i,t))return}return e(i,...c)}))},Wf=Ot({patchProp:Kf},Sf);let nc;function Yf(){return nc||(nc=Wd(Wf))}const Qf=((...e)=>{const t=Yf().createApp(...e),{mount:n}=t;return t.mount=s=>{const i=Jf(s);if(!i)return;const c=t._component;!De(c)&&!c.render&&!c.template&&(c.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const u=n(i,!1,Gf(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),u},t});function Gf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Jf(e){return mt(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const hr=typeof document<"u";function Tl(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Xf(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Tl(e.default)}const Ye=Object.assign;function oi(e,t){const n={};for(const s in t){const i=t[s];n[s]=Xt(i)?i.map(e):e(i)}return n}const zr=()=>{},Xt=Array.isArray,Dl=/#/g,Zf=/&/g,eh=/\//g,th=/=/g,nh=/\?/g,Bl=/\+/g,rh=/%5B/g,sh=/%5D/g,Ml=/%5E/g,oh=/%60/g,jl=/%7B/g,ih=/%7C/g,Fl=/%7D/g,ah=/%20/g;function Hi(e){return encodeURI(""+e).replace(ih,"|").replace(rh,"[").replace(sh,"]")}function ch(e){return Hi(e).replace(jl,"{").replace(Fl,"}").replace(Ml,"^")}function _i(e){return Hi(e).replace(Bl,"%2B").replace(ah,"+").replace(Dl,"%23").replace(Zf,"%26").replace(oh,"`").replace(jl,"{").replace(Fl,"}").replace(Ml,"^")}function lh(e){return _i(e).replace(th,"%3D")}function uh(e){return Hi(e).replace(Dl,"%23").replace(nh,"%3F")}function dh(e){return e==null?"":uh(e).replace(eh,"%2F")}function es(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const fh=/\/$/,hh=e=>e.replace(fh,"");function ii(e,t,n="/"){let s,i={},c="",u="";const f=t.indexOf("#");let h=t.indexOf("?");return f<h&&f>=0&&(h=-1),h>-1&&(s=t.slice(0,h),c=t.slice(h+1,f>-1?f:t.length),i=e(c)),f>-1&&(s=s||t.slice(0,f),u=t.slice(f,t.length)),s=gh(s??t,n),{fullPath:s+(c&&"?")+c+u,path:s,query:i,hash:es(u)}}function ph(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function rc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function mh(e,t,n){const s=t.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&kr(t.matched[s],n.matched[i])&&Nl(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function kr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Nl(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!yh(e[n],t[n]))return!1;return!0}function yh(e,t){return Xt(e)?sc(e,t):Xt(t)?sc(t,e):e===t}function sc(e,t){return Xt(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function gh(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let c=n.length-1,u,f;for(u=0;u<s.length;u++)if(f=s[u],f!==".")if(f==="..")c>1&&c--;else break;return n.slice(0,c).join("/")+"/"+s.slice(u).join("/")}const Tn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ts;(function(e){e.pop="pop",e.push="push"})(ts||(ts={}));var Wr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Wr||(Wr={}));function vh(e){if(!e)if(hr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),hh(e)}const bh=/^[^#]+#/;function _h(e,t){return e.replace(bh,"#")+t}function wh(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const yo=()=>({left:window.scrollX,top:window.scrollY});function kh(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=wh(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function oc(e,t){return(history.state?history.state.position-t:-1)+e}const wi=new Map;function xh(e,t){wi.set(e,t)}function Ch(e){const t=wi.get(e);return wi.delete(e),t}let Sh=()=>location.protocol+"//"+location.host;function Kl(e,t){const{pathname:n,search:s,hash:i}=t,c=e.indexOf("#");if(c>-1){let f=i.includes(e.slice(c))?e.slice(c).length:1,h=i.slice(f);return h[0]!=="/"&&(h="/"+h),rc(h,"")}return rc(n,e)+s+i}function Ah(e,t,n,s){let i=[],c=[],u=null;const f=({state:_})=>{const I=Kl(e,location),q=n.value,j=t.value;let V=0;if(_){if(n.value=I,t.value=_,u&&u===q){u=null;return}V=j?_.position-j.position:0}else s(I);i.forEach(Z=>{Z(n.value,q,{delta:V,type:ts.pop,direction:V?V>0?Wr.forward:Wr.back:Wr.unknown})})};function h(){u=n.value}function y(_){i.push(_);const I=()=>{const q=i.indexOf(_);q>-1&&i.splice(q,1)};return c.push(I),I}function m(){const{history:_}=window;_.state&&_.replaceState(Ye({},_.state,{scroll:yo()}),"")}function g(){for(const _ of c)_();c=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",m)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",m,{passive:!0}),{pauseListeners:h,listen:y,destroy:g}}function ic(e,t,n,s=!1,i=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:i?yo():null}}function Eh(e){const{history:t,location:n}=window,s={value:Kl(e,n)},i={value:t.state};i.value||c(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function c(h,y,m){const g=e.indexOf("#"),_=g>-1?(n.host&&document.querySelector("base")?e:e.slice(g))+h:Sh()+e+h;try{t[m?"replaceState":"pushState"](y,"",_),i.value=y}catch(I){console.error(I),n[m?"replace":"assign"](_)}}function u(h,y){const m=Ye({},t.state,ic(i.value.back,h,i.value.forward,!0),y,{position:i.value.position});c(h,m,!0),s.value=h}function f(h,y){const m=Ye({},i.value,t.state,{forward:h,scroll:yo()});c(m.current,m,!0);const g=Ye({},ic(s.value,h,null),{position:m.position+1},y);c(h,g,!1),s.value=h}return{location:s,state:i,push:f,replace:u}}function Ih(e){e=vh(e);const t=Eh(e),n=Ah(e,t.state,t.location,t.replace);function s(c,u=!0){u||n.pauseListeners(),history.go(c)}const i=Ye({location:"",base:e,go:s,createHref:_h.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function Ph(e){return typeof e=="string"||e&&typeof e=="object"}function Ll(e){return typeof e=="string"||typeof e=="symbol"}const ql=Symbol("");var ac;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ac||(ac={}));function xr(e,t){return Ye(new Error,{type:e,[ql]:!0},t)}function bn(e,t){return e instanceof Error&&ql in e&&(t==null||!!(e.type&t))}const cc="[^/]+?",Oh={sensitive:!1,strict:!1,start:!0,end:!0},Rh=/[.+*?^${}()[\]/\\]/g;function $h(e,t){const n=Ye({},Oh,t),s=[];let i=n.start?"^":"";const c=[];for(const y of e){const m=y.length?[]:[90];n.strict&&!y.length&&(i+="/");for(let g=0;g<y.length;g++){const _=y[g];let I=40+(n.sensitive?.25:0);if(_.type===0)g||(i+="/"),i+=_.value.replace(Rh,"\\$&"),I+=40;else if(_.type===1){const{value:q,repeatable:j,optional:V,regexp:Z}=_;c.push({name:q,repeatable:j,optional:V});const re=Z||cc;if(re!==cc){I+=10;try{new RegExp(`(${re})`)}catch(te){throw new Error(`Invalid custom RegExp for param "${q}" (${re}): `+te.message)}}let X=j?`((?:${re})(?:/(?:${re}))*)`:`(${re})`;g||(X=V&&y.length<2?`(?:/${X})`:"/"+X),V&&(X+="?"),i+=X,I+=20,V&&(I+=-8),j&&(I+=-20),re===".*"&&(I+=-50)}m.push(I)}s.push(m)}if(n.strict&&n.end){const y=s.length-1;s[y][s[y].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const u=new RegExp(i,n.sensitive?"":"i");function f(y){const m=y.match(u),g={};if(!m)return null;for(let _=1;_<m.length;_++){const I=m[_]||"",q=c[_-1];g[q.name]=I&&q.repeatable?I.split("/"):I}return g}function h(y){let m="",g=!1;for(const _ of e){(!g||!m.endsWith("/"))&&(m+="/"),g=!1;for(const I of _)if(I.type===0)m+=I.value;else if(I.type===1){const{value:q,repeatable:j,optional:V}=I,Z=q in y?y[q]:"";if(Xt(Z)&&!j)throw new Error(`Provided param "${q}" is an array but it is not repeatable (* or + modifiers)`);const re=Xt(Z)?Z.join("/"):Z;if(!re)if(V)_.length<2&&(m.endsWith("/")?m=m.slice(0,-1):g=!0);else throw new Error(`Missing required param "${q}"`);m+=re}}return m||"/"}return{re:u,score:s,keys:c,parse:f,stringify:h}}function Th(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Ul(e,t){let n=0;const s=e.score,i=t.score;for(;n<s.length&&n<i.length;){const c=Th(s[n],i[n]);if(c)return c;n++}if(Math.abs(i.length-s.length)===1){if(lc(s))return 1;if(lc(i))return-1}return i.length-s.length}function lc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Dh={type:0,value:""},Bh=/[a-zA-Z0-9_]/;function Mh(e){if(!e)return[[]];if(e==="/")return[[Dh]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(I){throw new Error(`ERR (${n})/"${y}": ${I}`)}let n=0,s=n;const i=[];let c;function u(){c&&i.push(c),c=[]}let f=0,h,y="",m="";function g(){y&&(n===0?c.push({type:0,value:y}):n===1||n===2||n===3?(c.length>1&&(h==="*"||h==="+")&&t(`A repeatable param (${y}) must be alone in its segment. eg: '/:ids+.`),c.push({type:1,value:y,regexp:m,repeatable:h==="*"||h==="+",optional:h==="*"||h==="?"})):t("Invalid state to consume buffer"),y="")}function _(){y+=h}for(;f<e.length;){if(h=e[f++],h==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:h==="/"?(y&&g(),u()):h===":"?(g(),n=1):_();break;case 4:_(),n=s;break;case 1:h==="("?n=2:Bh.test(h)?_():(g(),n=0,h!=="*"&&h!=="?"&&h!=="+"&&f--);break;case 2:h===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+h:n=3:m+=h;break;case 3:g(),n=0,h!=="*"&&h!=="?"&&h!=="+"&&f--,m="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${y}"`),g(),u(),i}function jh(e,t,n){const s=$h(Mh(e.path),n),i=Ye(s,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Fh(e,t){const n=[],s=new Map;t=hc({strict:!1,end:!0,sensitive:!1},t);function i(g){return s.get(g)}function c(g,_,I){const q=!I,j=dc(g);j.aliasOf=I&&I.record;const V=hc(t,g),Z=[j];if("alias"in g){const te=typeof g.alias=="string"?[g.alias]:g.alias;for(const xe of te)Z.push(dc(Ye({},j,{components:I?I.record.components:j.components,path:xe,aliasOf:I?I.record:j})))}let re,X;for(const te of Z){const{path:xe}=te;if(_&&xe[0]!=="/"){const ke=_.record.path,Ce=ke[ke.length-1]==="/"?"":"/";te.path=_.record.path+(xe&&Ce+xe)}if(re=jh(te,_,V),I?I.alias.push(re):(X=X||re,X!==re&&X.alias.push(re),q&&g.name&&!fc(re)&&u(g.name)),Vl(re)&&h(re),j.children){const ke=j.children;for(let Ce=0;Ce<ke.length;Ce++)c(ke[Ce],re,I&&I.children[Ce])}I=I||re}return X?()=>{u(X)}:zr}function u(g){if(Ll(g)){const _=s.get(g);_&&(s.delete(g),n.splice(n.indexOf(_),1),_.children.forEach(u),_.alias.forEach(u))}else{const _=n.indexOf(g);_>-1&&(n.splice(_,1),g.record.name&&s.delete(g.record.name),g.children.forEach(u),g.alias.forEach(u))}}function f(){return n}function h(g){const _=Lh(g,n);n.splice(_,0,g),g.record.name&&!fc(g)&&s.set(g.record.name,g)}function y(g,_){let I,q={},j,V;if("name"in g&&g.name){if(I=s.get(g.name),!I)throw xr(1,{location:g});V=I.record.name,q=Ye(uc(_.params,I.keys.filter(X=>!X.optional).concat(I.parent?I.parent.keys.filter(X=>X.optional):[]).map(X=>X.name)),g.params&&uc(g.params,I.keys.map(X=>X.name))),j=I.stringify(q)}else if(g.path!=null)j=g.path,I=n.find(X=>X.re.test(j)),I&&(q=I.parse(j),V=I.record.name);else{if(I=_.name?s.get(_.name):n.find(X=>X.re.test(_.path)),!I)throw xr(1,{location:g,currentLocation:_});V=I.record.name,q=Ye({},_.params,g.params),j=I.stringify(q)}const Z=[];let re=I;for(;re;)Z.unshift(re.record),re=re.parent;return{name:V,path:j,params:q,matched:Z,meta:Kh(Z)}}e.forEach(g=>c(g));function m(){n.length=0,s.clear()}return{addRoute:c,resolve:y,removeRoute:u,clearRoutes:m,getRoutes:f,getRecordMatcher:i}}function uc(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function dc(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Nh(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Nh(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function fc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Kh(e){return e.reduce((t,n)=>Ye(t,n.meta),{})}function hc(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Lh(e,t){let n=0,s=t.length;for(;n!==s;){const c=n+s>>1;Ul(e,t[c])<0?s=c:n=c+1}const i=qh(e);return i&&(s=t.lastIndexOf(i,s-1)),s}function qh(e){let t=e;for(;t=t.parent;)if(Vl(t)&&Ul(e,t)===0)return t}function Vl({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Uh(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<s.length;++i){const c=s[i].replace(Bl," "),u=c.indexOf("="),f=es(u<0?c:c.slice(0,u)),h=u<0?null:es(c.slice(u+1));if(f in t){let y=t[f];Xt(y)||(y=t[f]=[y]),y.push(h)}else t[f]=h}return t}function pc(e){let t="";for(let n in e){const s=e[n];if(n=lh(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Xt(s)?s.map(c=>c&&_i(c)):[s&&_i(s)]).forEach(c=>{c!==void 0&&(t+=(t.length?"&":"")+n,c!=null&&(t+="="+c))})}return t}function Vh(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Xt(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return t}const Hh=Symbol(""),mc=Symbol(""),go=Symbol(""),zi=Symbol(""),ki=Symbol("");function Mr(){let e=[];function t(s){return e.push(s),()=>{const i=e.indexOf(s);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function jn(e,t,n,s,i,c=u=>u()){const u=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((f,h)=>{const y=_=>{_===!1?h(xr(4,{from:n,to:t})):_ instanceof Error?h(_):Ph(_)?h(xr(2,{from:t,to:_})):(u&&s.enterCallbacks[i]===u&&typeof _=="function"&&u.push(_),f())},m=c(()=>e.call(s&&s.instances[i],t,n,y));let g=Promise.resolve(m);e.length<3&&(g=g.then(y)),g.catch(_=>h(_))})}function ai(e,t,n,s,i=c=>c()){const c=[];for(const u of e)for(const f in u.components){let h=u.components[f];if(!(t!=="beforeRouteEnter"&&!u.instances[f]))if(Tl(h)){const m=(h.__vccOpts||h)[t];m&&c.push(jn(m,n,s,u,f,i))}else{let y=h();c.push(()=>y.then(m=>{if(!m)throw new Error(`Couldn't resolve component "${f}" at "${u.path}"`);const g=Xf(m)?m.default:m;u.mods[f]=m,u.components[f]=g;const I=(g.__vccOpts||g)[t];return I&&jn(I,n,s,u,f,i)()}))}}return c}function yc(e){const t=Ht(go),n=Ht(zi),s=xt(()=>{const h=yr(e.to);return t.resolve(h)}),i=xt(()=>{const{matched:h}=s.value,{length:y}=h,m=h[y-1],g=n.matched;if(!m||!g.length)return-1;const _=g.findIndex(kr.bind(null,m));if(_>-1)return _;const I=gc(h[y-2]);return y>1&&gc(m)===I&&g[g.length-1].path!==I?g.findIndex(kr.bind(null,h[y-2])):_}),c=xt(()=>i.value>-1&&Gh(n.params,s.value.params)),u=xt(()=>i.value>-1&&i.value===n.matched.length-1&&Nl(n.params,s.value.params));function f(h={}){if(Qh(h)){const y=t[yr(e.replace)?"replace":"push"](yr(e.to)).catch(zr);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>y),y}return Promise.resolve()}return{route:s,href:xt(()=>s.value.href),isActive:c,isExactActive:u,navigate:f}}function zh(e){return e.length===1?e[0]:e}const Wh=Wt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:yc,setup(e,{slots:t}){const n=rs(yc(e)),{options:s}=Ht(go),i=xt(()=>({[vc(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[vc(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const c=t.default&&zh(t.default(n));return e.custom?c:Rl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},c)}}}),Yh=Wh;function Qh(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Gh(e,t){for(const n in t){const s=t[n],i=e[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Xt(i)||i.length!==s.length||s.some((c,u)=>c!==i[u]))return!1}return!0}function gc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const vc=(e,t,n)=>e??t??n,Jh=Wt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=Ht(ki),i=xt(()=>e.route||s.value),c=Ht(mc,0),u=xt(()=>{let y=yr(c);const{matched:m}=i.value;let g;for(;(g=m[y])&&!g.components;)y++;return y}),f=xt(()=>i.value.matched[u.value]);Ms(mc,xt(()=>u.value+1)),Ms(Hh,f),Ms(ki,i);const h=je();return Vr(()=>[h.value,f.value,e.name],([y,m,g],[_,I,q])=>{m&&(m.instances[g]=y,I&&I!==m&&y&&y===_&&(m.leaveGuards.size||(m.leaveGuards=I.leaveGuards),m.updateGuards.size||(m.updateGuards=I.updateGuards))),y&&m&&(!I||!kr(m,I)||!_)&&(m.enterCallbacks[g]||[]).forEach(j=>j(y))},{flush:"post"}),()=>{const y=i.value,m=e.name,g=f.value,_=g&&g.components[m];if(!_)return bc(n.default,{Component:_,route:y});const I=g.props[m],q=I?I===!0?y.params:typeof I=="function"?I(y):I:null,V=Rl(_,Ye({},q,t,{onVnodeUnmounted:Z=>{Z.component.isUnmounted&&(g.instances[m]=null)},ref:h}));return bc(n.default,{Component:V,route:y})||V}}});function bc(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Xh=Jh;function Zh(e){const t=Fh(e.routes,e),n=e.parseQuery||Uh,s=e.stringifyQuery||pc,i=e.history,c=Mr(),u=Mr(),f=Mr(),h=nd(Tn);let y=Tn;hr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=oi.bind(null,z=>""+z),g=oi.bind(null,dh),_=oi.bind(null,es);function I(z,be){let L,_e;return Ll(z)?(L=t.getRecordMatcher(z),_e=be):_e=z,t.addRoute(_e,L)}function q(z){const be=t.getRecordMatcher(z);be&&t.removeRoute(be)}function j(){return t.getRoutes().map(z=>z.record)}function V(z){return!!t.getRecordMatcher(z)}function Z(z,be){if(be=Ye({},be||h.value),typeof z=="string"){const B=ii(n,z,be.path),U=t.resolve({path:B.path},be),Y=i.createHref(B.fullPath);return Ye(B,U,{params:_(U.params),hash:es(B.hash),redirectedFrom:void 0,href:Y})}let L;if(z.path!=null)L=Ye({},z,{path:ii(n,z.path,be.path).path});else{const B=Ye({},z.params);for(const U in B)B[U]==null&&delete B[U];L=Ye({},z,{params:g(B)}),be.params=g(be.params)}const _e=t.resolve(L,be),He=z.hash||"";_e.params=m(_(_e.params));const b=ph(s,Ye({},z,{hash:ch(He),path:_e.path})),x=i.createHref(b);return Ye({fullPath:b,hash:He,query:s===pc?Vh(z.query):z.query||{}},_e,{redirectedFrom:void 0,href:x})}function re(z){return typeof z=="string"?ii(n,z,h.value.path):Ye({},z)}function X(z,be){if(y!==z)return xr(8,{from:be,to:z})}function te(z){return Ce(z)}function xe(z){return te(Ye(re(z),{replace:!0}))}function ke(z){const be=z.matched[z.matched.length-1];if(be&&be.redirect){const{redirect:L}=be;let _e=typeof L=="function"?L(z):L;return typeof _e=="string"&&(_e=_e.includes("?")||_e.includes("#")?_e=re(_e):{path:_e},_e.params={}),Ye({query:z.query,hash:z.hash,params:_e.path!=null?{}:z.params},_e)}}function Ce(z,be){const L=y=Z(z),_e=h.value,He=z.state,b=z.force,x=z.replace===!0,B=ke(L);if(B)return Ce(Ye(re(B),{state:typeof B=="object"?Ye({},He,B.state):He,force:b,replace:x}),be||L);const U=L;U.redirectedFrom=be;let Y;return!b&&mh(s,_e,L)&&(Y=xr(16,{to:U,from:_e}),ht(_e,_e,!0,!1)),(Y?Promise.resolve(Y):Ve(U,_e)).catch(W=>bn(W)?bn(W,2)?W:ot(W):ue(W,U,_e)).then(W=>{if(W){if(bn(W,2))return Ce(Ye({replace:x},re(W.to),{state:typeof W.to=="object"?Ye({},He,W.to.state):He,force:b}),be||U)}else W=Ne(U,_e,!0,x,He);return Je(U,_e,W),W})}function Pe(z,be){const L=X(z,be);return L?Promise.reject(L):Promise.resolve()}function Oe(z){const be=Yt.values().next().value;return be&&typeof be.runWithContext=="function"?be.runWithContext(z):z()}function Ve(z,be){let L;const[_e,He,b]=ep(z,be);L=ai(_e.reverse(),"beforeRouteLeave",z,be);for(const B of _e)B.leaveGuards.forEach(U=>{L.push(jn(U,z,be))});const x=Pe.bind(null,z,be);return L.push(x),at(L).then(()=>{L=[];for(const B of c.list())L.push(jn(B,z,be));return L.push(x),at(L)}).then(()=>{L=ai(He,"beforeRouteUpdate",z,be);for(const B of He)B.updateGuards.forEach(U=>{L.push(jn(U,z,be))});return L.push(x),at(L)}).then(()=>{L=[];for(const B of b)if(B.beforeEnter)if(Xt(B.beforeEnter))for(const U of B.beforeEnter)L.push(jn(U,z,be));else L.push(jn(B.beforeEnter,z,be));return L.push(x),at(L)}).then(()=>(z.matched.forEach(B=>B.enterCallbacks={}),L=ai(b,"beforeRouteEnter",z,be,Oe),L.push(x),at(L))).then(()=>{L=[];for(const B of u.list())L.push(jn(B,z,be));return L.push(x),at(L)}).catch(B=>bn(B,8)?B:Promise.reject(B))}function Je(z,be,L){f.list().forEach(_e=>Oe(()=>_e(z,be,L)))}function Ne(z,be,L,_e,He){const b=X(z,be);if(b)return b;const x=be===Tn,B=hr?history.state:{};L&&(_e||x?i.replace(z.fullPath,Ye({scroll:x&&B&&B.scroll},He)):i.push(z.fullPath,He)),h.value=z,ht(z,be,L,x),ot()}let Xe;function ie(){Xe||(Xe=i.listen((z,be,L)=>{if(!Qt.listening)return;const _e=Z(z),He=ke(_e);if(He){Ce(Ye(He,{replace:!0,force:!0}),_e).catch(zr);return}y=_e;const b=h.value;hr&&xh(oc(b.fullPath,L.delta),yo()),Ve(_e,b).catch(x=>bn(x,12)?x:bn(x,2)?(Ce(Ye(re(x.to),{force:!0}),_e).then(B=>{bn(B,20)&&!L.delta&&L.type===ts.pop&&i.go(-1,!1)}).catch(zr),Promise.reject()):(L.delta&&i.go(-L.delta,!1),ue(x,_e,b))).then(x=>{x=x||Ne(_e,b,!1),x&&(L.delta&&!bn(x,8)?i.go(-L.delta,!1):L.type===ts.pop&&bn(x,20)&&i.go(-1,!1)),Je(_e,b,x)}).catch(zr)}))}let H=Mr(),M=Mr(),oe;function ue(z,be,L){ot(z);const _e=M.list();return _e.length?_e.forEach(He=>He(z,be,L)):console.error(z),Promise.reject(z)}function qe(){return oe&&h.value!==Tn?Promise.resolve():new Promise((z,be)=>{H.add([z,be])})}function ot(z){return oe||(oe=!z,ie(),H.list().forEach(([be,L])=>z?L(z):be()),H.reset()),z}function ht(z,be,L,_e){const{scrollBehavior:He}=e;if(!hr||!He)return Promise.resolve();const b=!L&&Ch(oc(z.fullPath,0))||(_e||!L)&&history.state&&history.state.scroll||null;return lo().then(()=>He(z,be,b)).then(x=>x&&kh(x)).catch(x=>ue(x,z,be))}const yt=z=>i.go(z);let wt;const Yt=new Set,Qt={currentRoute:h,listening:!0,addRoute:I,removeRoute:q,clearRoutes:t.clearRoutes,hasRoute:V,getRoutes:j,resolve:Z,options:e,push:te,replace:xe,go:yt,back:()=>yt(-1),forward:()=>yt(1),beforeEach:c.add,beforeResolve:u.add,afterEach:f.add,onError:M.add,isReady:qe,install(z){const be=this;z.component("RouterLink",Yh),z.component("RouterView",Xh),z.config.globalProperties.$router=be,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>yr(h)}),hr&&!wt&&h.value===Tn&&(wt=!0,te(i.location).catch(He=>{}));const L={};for(const He in Tn)Object.defineProperty(L,He,{get:()=>h.value[He],enumerable:!0});z.provide(go,be),z.provide(zi,Gc(L)),z.provide(ki,h);const _e=z.unmount;Yt.add(z),z.unmount=function(){Yt.delete(z),Yt.size<1&&(y=Tn,Xe&&Xe(),Xe=null,h.value=Tn,wt=!1,oe=!1),_e()}}};function at(z){return z.reduce((be,L)=>be.then(()=>Oe(L)),Promise.resolve())}return Qt}function ep(e,t){const n=[],s=[],i=[],c=Math.max(t.matched.length,e.matched.length);for(let u=0;u<c;u++){const f=t.matched[u];f&&(e.matched.find(y=>kr(y,f))?s.push(f):n.push(f));const h=e.matched[u];h&&(t.matched.find(y=>kr(y,h))||i.push(h))}return[n,s,i]}function tp(){return Ht(go)}function Hl(e){return Ht(zi)}const np={class:"main-nav"},rp={class:"nav-container"},sp={class:"nav-links"},op=Wt({__name:"Navigation",setup(e){const t=Hl(),n=xt(()=>t.name==="decks"||t.name==="deck-detail"||t.name==="deck-import");return(s,i)=>{const c=fo("router-link");return Q(),J("nav",np,[C("div",rp,[rt(c,{to:"/",class:"nav-logo"},{default:an(()=>[...i[0]||(i[0]=[cn(" MTG Tracker ",-1)])]),_:1}),C("ul",sp,[C("li",null,[rt(c,{to:"/",class:Mt(["nav-link",{active:s.$route.name==="home"}])},{default:an(()=>[...i[1]||(i[1]=[cn(" Dashboard ",-1)])]),_:1},8,["class"])]),C("li",null,[rt(c,{to:"/decks",class:Mt(["nav-link",{active:n.value}])},{default:an(()=>[...i[2]||(i[2]=[cn(" Decks ",-1)])]),_:1},8,["class"])]),C("li",null,[rt(c,{to:"/cards",class:Mt(["nav-link",{active:s.$route.name==="cards"}])},{default:an(()=>[...i[3]||(i[3]=[cn(" Cards ",-1)])]),_:1},8,["class"])]),C("li",null,[rt(c,{to:"/import/cardmarket",class:Mt(["nav-link",{active:s.$route.name==="cardmarket-import"}])},{default:an(()=>[...i[4]||(i[4]=[cn(" Cardmarket Import ",-1)])]),_:1},8,["class"])])])])])}}}),mn=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n},ip=mn(op,[["__scopeId","data-v-70754c58"]]),ap={id:"app"},cp=Wt({__name:"App",setup(e){return(t,n)=>{const s=fo("router-view");return Q(),J("div",ap,[rt(ip),C("main",null,[rt(s)])])}}}),lp=mn(cp,[["__scopeId","data-v-1e784859"]]);/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let zl;const vo=e=>zl=e,Wl=Symbol();function xi(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Yr;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Yr||(Yr={}));function up(){const e=Dc(!0),t=e.run(()=>je({}));let n=[],s=[];const i=Fi({install(c){vo(i),i._a=c,c.provide(Wl,i),c.config.globalProperties.$pinia=i,s.forEach(u=>n.push(u)),s=[]},use(c){return this._a?n.push(c):s.push(c),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const Yl=()=>{};function _c(e,t,n,s=Yl){e.push(t);const i=()=>{const c=e.indexOf(t);c>-1&&(e.splice(c,1),s())};return!n&&Bc()&&Mu(i),i}function dr(e,...t){e.slice().forEach(n=>{n(...t)})}const dp=e=>e(),wc=Symbol(),ci=Symbol();function Ci(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,s)=>e.set(s,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],i=e[n];xi(i)&&xi(s)&&e.hasOwnProperty(n)&&!ft(s)&&!Nn(s)?e[n]=Ci(i,s):e[n]=s}return e}const fp=Symbol();function hp(e){return!xi(e)||!Object.prototype.hasOwnProperty.call(e,fp)}const{assign:Dn}=Object;function pp(e){return!!(ft(e)&&e.effect)}function mp(e,t,n,s){const{state:i,actions:c,getters:u}=t,f=n.state.value[e];let h;function y(){f||(n.state.value[e]=i?i():{});const m=od(n.state.value[e]);return Dn(m,c,Object.keys(u||{}).reduce((g,_)=>(g[_]=Fi(xt(()=>{vo(n);const I=n._s.get(e);return u[_].call(I,I)})),g),{}))}return h=Ql(e,y,t,n,s,!0),h}function Ql(e,t,n={},s,i,c){let u;const f=Dn({actions:{}},n),h={deep:!0};let y,m,g=[],_=[],I;const q=s.state.value[e];!c&&!q&&(s.state.value[e]={}),je({});let j;function V(Pe){let Oe;y=m=!1,typeof Pe=="function"?(Pe(s.state.value[e]),Oe={type:Yr.patchFunction,storeId:e,events:I}):(Ci(s.state.value[e],Pe),Oe={type:Yr.patchObject,payload:Pe,storeId:e,events:I});const Ve=j=Symbol();lo().then(()=>{j===Ve&&(y=!0)}),m=!0,dr(g,Oe,s.state.value[e])}const Z=c?function(){const{state:Oe}=n,Ve=Oe?Oe():{};this.$patch(Je=>{Dn(Je,Ve)})}:Yl;function re(){u.stop(),g=[],_=[],s._s.delete(e)}const X=(Pe,Oe="")=>{if(wc in Pe)return Pe[ci]=Oe,Pe;const Ve=function(){vo(s);const Je=Array.from(arguments),Ne=[],Xe=[];function ie(oe){Ne.push(oe)}function H(oe){Xe.push(oe)}dr(_,{args:Je,name:Ve[ci],store:xe,after:ie,onError:H});let M;try{M=Pe.apply(this&&this.$id===e?this:xe,Je)}catch(oe){throw dr(Xe,oe),oe}return M instanceof Promise?M.then(oe=>(dr(Ne,oe),oe)).catch(oe=>(dr(Xe,oe),Promise.reject(oe))):(dr(Ne,M),M)};return Ve[wc]=!0,Ve[ci]=Oe,Ve},te={_p:s,$id:e,$onAction:_c.bind(null,_),$patch:V,$reset:Z,$subscribe(Pe,Oe={}){const Ve=_c(g,Pe,Oe.detached,()=>Je()),Je=u.run(()=>Vr(()=>s.state.value[e],Ne=>{(Oe.flush==="sync"?m:y)&&Pe({storeId:e,type:Yr.direct,events:I},Ne)},Dn({},h,Oe)));return Ve},$dispose:re},xe=rs(te);s._s.set(e,xe);const Ce=(s._a&&s._a.runWithContext||dp)(()=>s._e.run(()=>(u=Dc()).run(()=>t({action:X}))));for(const Pe in Ce){const Oe=Ce[Pe];if(ft(Oe)&&!pp(Oe)||Nn(Oe))c||(q&&hp(Oe)&&(ft(Oe)?Oe.value=q[Pe]:Ci(Oe,q[Pe])),s.state.value[e][Pe]=Oe);else if(typeof Oe=="function"){const Ve=X(Oe,Pe);Ce[Pe]=Ve,f.actions[Pe]=Oe}}return Dn(xe,Ce),Dn(We(xe),Ce),Object.defineProperty(xe,"$state",{get:()=>s.state.value[e],set:Pe=>{V(Oe=>{Dn(Oe,Pe)})}}),s._p.forEach(Pe=>{Dn(xe,u.run(()=>Pe({store:xe,app:s._a,pinia:s,options:f})))}),q&&c&&n.hydrate&&n.hydrate(xe.$state,q),y=!0,m=!0,xe}/*! #__NO_SIDE_EFFECTS__ */function Wi(e,t,n){let s;const i=typeof t=="function";s=i?n:t;function c(u,f){const h=Kd();return u=u||(h?Ht(Wl,null):null),u&&vo(u),u=zl,u._s.has(e)||(i?Ql(e,t,s,u):mp(e,s,u)),u._s.get(e)}return c.$id=e,c}var yp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ks={exports:{}},vp=Ks.exports,kc;function bp(){return kc||(kc=1,(function(e,t){(function(n,s){e.exports=s()})(vp,function(){var n=function(r,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(a[d]=l[d])})(r,o)},s=function(){return(s=Object.assign||function(r){for(var o,a=1,l=arguments.length;a<l;a++)for(var d in o=arguments[a])Object.prototype.hasOwnProperty.call(o,d)&&(r[d]=o[d]);return r}).apply(this,arguments)};function i(r,o,a){for(var l,d=0,p=o.length;d<p;d++)!l&&d in o||((l=l||Array.prototype.slice.call(o,0,d))[d]=o[d]);return r.concat(l||Array.prototype.slice.call(o))}var c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:yp,u=Object.keys,f=Array.isArray;function h(r,o){return typeof o!="object"||u(o).forEach(function(a){r[a]=o[a]}),r}typeof Promise>"u"||c.Promise||(c.Promise=Promise);var y=Object.getPrototypeOf,m={}.hasOwnProperty;function g(r,o){return m.call(r,o)}function _(r,o){typeof o=="function"&&(o=o(y(r))),(typeof Reflect>"u"?u:Reflect.ownKeys)(o).forEach(function(a){q(r,a,o[a])})}var I=Object.defineProperty;function q(r,o,a,l){I(r,o,h(a&&g(a,"get")&&typeof a.get=="function"?{get:a.get,set:a.set,configurable:!0}:{value:a,configurable:!0,writable:!0},l))}function j(r){return{from:function(o){return r.prototype=Object.create(o.prototype),q(r.prototype,"constructor",r),{extend:_.bind(null,r.prototype)}}}}var V=Object.getOwnPropertyDescriptor,Z=[].slice;function re(r,o,a){return Z.call(r,o,a)}function X(r,o){return o(r)}function te(r){if(!r)throw new Error("Assertion Failed")}function xe(r){c.setImmediate?setImmediate(r):setTimeout(r,0)}function ke(r,o){if(typeof o=="string"&&g(r,o))return r[o];if(!o)return r;if(typeof o!="string"){for(var a=[],l=0,d=o.length;l<d;++l){var p=ke(r,o[l]);a.push(p)}return a}var v=o.indexOf(".");if(v!==-1){var w=r[o.substr(0,v)];return w==null?void 0:ke(w,o.substr(v+1))}}function Ce(r,o,a){if(r&&o!==void 0&&!("isFrozen"in Object&&Object.isFrozen(r)))if(typeof o!="string"&&"length"in o){te(typeof a!="string"&&"length"in a);for(var l=0,d=o.length;l<d;++l)Ce(r,o[l],a[l])}else{var p,v,w=o.indexOf(".");w!==-1?(p=o.substr(0,w),(v=o.substr(w+1))===""?a===void 0?f(r)&&!isNaN(parseInt(p))?r.splice(p,1):delete r[p]:r[p]=a:Ce(w=!(w=r[p])||!g(r,p)?r[p]={}:w,v,a)):a===void 0?f(r)&&!isNaN(parseInt(o))?r.splice(o,1):delete r[o]:r[o]=a}}function Pe(r){var o,a={};for(o in r)g(r,o)&&(a[o]=r[o]);return a}var Oe=[].concat;function Ve(r){return Oe.apply([],r)}var Be="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ve([8,16,32,64].map(function(r){return["Int","Uint","Float"].map(function(o){return o+r+"Array"})}))).filter(function(r){return c[r]}),Je=new Set(Be.map(function(r){return c[r]})),Ne=null;function Xe(r){return Ne=new WeakMap,r=(function o(a){if(!a||typeof a!="object")return a;var l=Ne.get(a);if(l)return l;if(f(a)){l=[],Ne.set(a,l);for(var d=0,p=a.length;d<p;++d)l.push(o(a[d]))}else if(Je.has(a.constructor))l=a;else{var v,w=y(a);for(v in l=w===Object.prototype?{}:Object.create(w),Ne.set(a,l),a)g(a,v)&&(l[v]=o(a[v]))}return l})(r),Ne=null,r}var ie={}.toString;function H(r){return ie.call(r).slice(8,-1)}var M=typeof Symbol<"u"?Symbol.iterator:"@@iterator",oe=typeof M=="symbol"?function(r){var o;return r!=null&&(o=r[M])&&o.apply(r)}:function(){return null};function ue(r,o){return o=r.indexOf(o),0<=o&&r.splice(o,1),0<=o}var qe={};function ot(r){var o,a,l,d;if(arguments.length===1){if(f(r))return r.slice();if(this===qe&&typeof r=="string")return[r];if(d=oe(r)){for(a=[];!(l=d.next()).done;)a.push(l.value);return a}if(r==null)return[r];if(typeof(o=r.length)!="number")return[r];for(a=new Array(o);o--;)a[o]=r[o];return a}for(o=arguments.length,a=new Array(o);o--;)a[o]=arguments[o];return a}var ht=typeof Symbol<"u"?function(r){return r[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ee=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ut=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ee),yt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function wt(r,o){this.name=r,this.message=o}function Yt(r,o){return r+". Errors: "+Object.keys(o).map(function(a){return o[a].toString()}).filter(function(a,l,d){return d.indexOf(a)===l}).join(`
`)}function Qt(r,o,a,l){this.failures=o,this.failedKeys=l,this.successCount=a,this.message=Yt(r,o)}function at(r,o){this.name="BulkError",this.failures=Object.keys(o).map(function(a){return o[a]}),this.failuresByPos=o,this.message=Yt(r,this.failures)}j(wt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),j(Qt).from(wt),j(at).from(wt);var z=Ut.reduce(function(r,o){return r[o]=o+"Error",r},{}),be=wt,L=Ut.reduce(function(r,o){var a=o+"Error";function l(d,p){this.name=a,d?typeof d=="string"?(this.message="".concat(d).concat(p?`
 `+p:""),this.inner=p||null):typeof d=="object"&&(this.message="".concat(d.name," ").concat(d.message),this.inner=d):(this.message=yt[o]||a,this.inner=null)}return j(l).from(be),r[o]=l,r},{});L.Syntax=SyntaxError,L.Type=TypeError,L.Range=RangeError;var _e=Ee.reduce(function(r,o){return r[o+"Error"]=L[o],r},{}),He=Ut.reduce(function(r,o){return["Syntax","Type","Range"].indexOf(o)===-1&&(r[o+"Error"]=L[o]),r},{});function b(){}function x(r){return r}function B(r,o){return r==null||r===x?o:function(a){return o(r(a))}}function U(r,o){return function(){r.apply(this,arguments),o.apply(this,arguments)}}function Y(r,o){return r===b?o:function(){var a=r.apply(this,arguments);a!==void 0&&(arguments[0]=a);var l=this.onsuccess,d=this.onerror;this.onsuccess=null,this.onerror=null;var p=o.apply(this,arguments);return l&&(this.onsuccess=this.onsuccess?U(l,this.onsuccess):l),d&&(this.onerror=this.onerror?U(d,this.onerror):d),p!==void 0?p:a}}function W(r,o){return r===b?o:function(){r.apply(this,arguments);var a=this.onsuccess,l=this.onerror;this.onsuccess=this.onerror=null,o.apply(this,arguments),a&&(this.onsuccess=this.onsuccess?U(a,this.onsuccess):a),l&&(this.onerror=this.onerror?U(l,this.onerror):l)}}function he(r,o){return r===b?o:function(a){var l=r.apply(this,arguments);h(a,l);var d=this.onsuccess,p=this.onerror;return this.onsuccess=null,this.onerror=null,a=o.apply(this,arguments),d&&(this.onsuccess=this.onsuccess?U(d,this.onsuccess):d),p&&(this.onerror=this.onerror?U(p,this.onerror):p),l===void 0?a===void 0?void 0:a:h(l,a)}}function le(r,o){return r===b?o:function(){return o.apply(this,arguments)!==!1&&r.apply(this,arguments)}}function ae(r,o){return r===b?o:function(){var a=r.apply(this,arguments);if(a&&typeof a.then=="function"){for(var l=this,d=arguments.length,p=new Array(d);d--;)p[d]=arguments[d];return a.then(function(){return o.apply(l,p)})}return o.apply(this,arguments)}}He.ModifyError=Qt,He.DexieError=wt,He.BulkError=at;var G=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ae(r){G=r}var pe={},Se=100,Be=typeof Promise>"u"?[]:(function(){var r=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[r,y(r),r];var o=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[o,y(o),r]})(),Ee=Be[0],Ut=Be[1],Be=Be[2],Ut=Ut&&Ut.then,Ke=Ee&&Ee.constructor,Ue=!!Be,pt=function(r,o){An.push([r,o]),Rt&&(queueMicrotask(eu),Rt=!1)},gt=!0,Rt=!0,vt=[],Zt=[],tr=x,ct={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:b,pgp:!1,env:{},finalize:b},ve=ct,An=[],en=0,is=[];function ye(r){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var o=this._PSD=ve;if(typeof r!="function"){if(r!==pe)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&_o(this,this._value))}this._state=null,this._value=null,++o.ref,(function a(l,d){try{d(function(p){if(l._state===null){if(p===l)throw new TypeError("A promise cannot be resolved with itself.");var v=l._lib&&nr();p&&typeof p.then=="function"?a(l,function(w,S){p instanceof ye?p._then(w,S):p.then(w,S)}):(l._state=!0,l._value=p,Qi(l)),v&&rr()}},_o.bind(null,l))}catch(p){_o(l,p)}})(this,r)}var bo={get:function(){var r=ve,o=us;function a(l,d){var p=this,v=!r.global&&(r!==ve||o!==us),w=v&&!In(),S=new ye(function(E,O){wo(p,new Yi(Ji(l,r,v,w),Ji(d,r,v,w),E,O,r))});return this._consoleTask&&(S._consoleTask=this._consoleTask),S}return a.prototype=pe,a},set:function(r){q(this,"then",r&&r.prototype===pe?bo:{get:function(){return r},set:bo.set})}};function Yi(r,o,a,l,d){this.onFulfilled=typeof r=="function"?r:null,this.onRejected=typeof o=="function"?o:null,this.resolve=a,this.reject=l,this.psd=d}function _o(r,o){var a,l;Zt.push(o),r._state===null&&(a=r._lib&&nr(),o=tr(o),r._state=!1,r._value=o,l=r,vt.some(function(d){return d._value===l._value})||vt.push(l),Qi(r),a&&rr())}function Qi(r){var o=r._listeners;r._listeners=[];for(var a=0,l=o.length;a<l;++a)wo(r,o[a]);var d=r._PSD;--d.ref||d.finalize(),en===0&&(++en,pt(function(){--en==0&&ko()},[]))}function wo(r,o){if(r._state!==null){var a=r._state?o.onFulfilled:o.onRejected;if(a===null)return(r._state?o.resolve:o.reject)(r._value);++o.psd.ref,++en,pt(Zl,[a,r,o])}else r._listeners.push(o)}function Zl(r,o,a){try{var l,d=o._value;!o._state&&Zt.length&&(Zt=[]),l=G&&o._consoleTask?o._consoleTask.run(function(){return r(d)}):r(d),o._state||Zt.indexOf(d)!==-1||(function(p){for(var v=vt.length;v;)if(vt[--v]._value===p._value)return vt.splice(v,1)})(o),a.resolve(l)}catch(p){a.reject(p)}finally{--en==0&&ko(),--a.psd.ref||a.psd.finalize()}}function eu(){qn(ct,function(){nr()&&rr()})}function nr(){var r=gt;return Rt=gt=!1,r}function rr(){var r,o,a;do for(;0<An.length;)for(r=An,An=[],a=r.length,o=0;o<a;++o){var l=r[o];l[0].apply(null,l[1])}while(0<An.length);Rt=gt=!0}function ko(){var r=vt;vt=[],r.forEach(function(l){l._PSD.onunhandled.call(null,l._value,l)});for(var o=is.slice(0),a=o.length;a;)o[--a]()}function as(r){return new ye(pe,!1,r)}function st(r,o){var a=ve;return function(){var l=nr(),d=ve;try{return Pn(a,!0),r.apply(this,arguments)}catch(p){o&&o(p)}finally{Pn(d,!1),l&&rr()}}}_(ye.prototype,{then:bo,_then:function(r,o){wo(this,new Yi(null,null,r,o,ve))},catch:function(r){if(arguments.length===1)return this.then(null,r);var o=r,a=arguments[1];return typeof o=="function"?this.then(null,function(l){return(l instanceof o?a:as)(l)}):this.then(null,function(l){return(l&&l.name===o?a:as)(l)})},finally:function(r){return this.then(function(o){return ye.resolve(r()).then(function(){return o})},function(o){return ye.resolve(r()).then(function(){return as(o)})})},timeout:function(r,o){var a=this;return r<1/0?new ye(function(l,d){var p=setTimeout(function(){return d(new L.Timeout(o))},r);a.then(l,d).finally(clearTimeout.bind(null,p))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&q(ye.prototype,Symbol.toStringTag,"Dexie.Promise"),ct.env=Gi(),_(ye,{all:function(){var r=ot.apply(null,arguments).map(ds);return new ye(function(o,a){r.length===0&&o([]);var l=r.length;r.forEach(function(d,p){return ye.resolve(d).then(function(v){r[p]=v,--l||o(r)},a)})})},resolve:function(r){return r instanceof ye?r:r&&typeof r.then=="function"?new ye(function(o,a){r.then(o,a)}):new ye(pe,!0,r)},reject:as,race:function(){var r=ot.apply(null,arguments).map(ds);return new ye(function(o,a){r.map(function(l){return ye.resolve(l).then(o,a)})})},PSD:{get:function(){return ve},set:function(r){return ve=r}},totalEchoes:{get:function(){return us}},newPSD:En,usePSD:qn,scheduler:{get:function(){return pt},set:function(r){pt=r}},rejectionMapper:{get:function(){return tr},set:function(r){tr=r}},follow:function(r,o){return new ye(function(a,l){return En(function(d,p){var v=ve;v.unhandleds=[],v.onunhandled=p,v.finalize=U(function(){var w,S=this;w=function(){S.unhandleds.length===0?d():p(S.unhandleds[0])},is.push(function E(){w(),is.splice(is.indexOf(E),1)}),++en,pt(function(){--en==0&&ko()},[])},v.finalize),r()},o,a,l)})}}),Ke&&(Ke.allSettled&&q(ye,"allSettled",function(){var r=ot.apply(null,arguments).map(ds);return new ye(function(o){r.length===0&&o([]);var a=r.length,l=new Array(a);r.forEach(function(d,p){return ye.resolve(d).then(function(v){return l[p]={status:"fulfilled",value:v}},function(v){return l[p]={status:"rejected",reason:v}}).then(function(){return--a||o(l)})})})}),Ke.any&&typeof AggregateError<"u"&&q(ye,"any",function(){var r=ot.apply(null,arguments).map(ds);return new ye(function(o,a){r.length===0&&a(new AggregateError([]));var l=r.length,d=new Array(l);r.forEach(function(p,v){return ye.resolve(p).then(function(w){return o(w)},function(w){d[v]=w,--l||a(new AggregateError(d))})})})}),Ke.withResolvers&&(ye.withResolvers=Ke.withResolvers));var bt={awaits:0,echoes:0,id:0},tu=0,cs=[],ls=0,us=0,nu=0;function En(r,o,a,l){var d=ve,p=Object.create(d);return p.parent=d,p.ref=0,p.global=!1,p.id=++nu,ct.env,p.env=Ue?{Promise:ye,PromiseProp:{value:ye,configurable:!0,writable:!0},all:ye.all,race:ye.race,allSettled:ye.allSettled,any:ye.any,resolve:ye.resolve,reject:ye.reject}:{},o&&h(p,o),++d.ref,p.finalize=function(){--this.parent.ref||this.parent.finalize()},l=qn(p,r,a,l),p.ref===0&&p.finalize(),l}function sr(){return bt.id||(bt.id=++tu),++bt.awaits,bt.echoes+=Se,bt.id}function In(){return!!bt.awaits&&(--bt.awaits==0&&(bt.id=0),bt.echoes=bt.awaits*Se,!0)}function ds(r){return bt.echoes&&r&&r.constructor===Ke?(sr(),r.then(function(o){return In(),o},function(o){return In(),ut(o)})):r}function ru(){var r=cs[cs.length-1];cs.pop(),Pn(r,!1)}function Pn(r,o){var a,l=ve;(o?!bt.echoes||ls++&&r===ve:!ls||--ls&&r===ve)||queueMicrotask(o?(function(d){++us,bt.echoes&&--bt.echoes!=0||(bt.echoes=bt.awaits=bt.id=0),cs.push(ve),Pn(d,!0)}).bind(null,r):ru),r!==ve&&(ve=r,l===ct&&(ct.env=Gi()),Ue&&(a=ct.env.Promise,o=r.env,(l.global||r.global)&&(Object.defineProperty(c,"Promise",o.PromiseProp),a.all=o.all,a.race=o.race,a.resolve=o.resolve,a.reject=o.reject,o.allSettled&&(a.allSettled=o.allSettled),o.any&&(a.any=o.any))))}function Gi(){var r=c.Promise;return Ue?{Promise:r,PromiseProp:Object.getOwnPropertyDescriptor(c,"Promise"),all:r.all,race:r.race,allSettled:r.allSettled,any:r.any,resolve:r.resolve,reject:r.reject}:{}}function qn(r,o,a,l,d){var p=ve;try{return Pn(r,!0),o(a,l,d)}finally{Pn(p,!1)}}function Ji(r,o,a,l){return typeof r!="function"?r:function(){var d=ve;a&&sr(),Pn(o,!0);try{return r.apply(this,arguments)}finally{Pn(d,!1),l&&queueMicrotask(In)}}}function xo(r){Promise===Ke&&bt.echoes===0?ls===0?r():enqueueNativeMicroTask(r):setTimeout(r,0)}(""+Ut).indexOf("[native code]")===-1&&(sr=In=b);var ut=ye.reject,Un="",yn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Xi="String expected.",or=[],fs="__dbnames",Co="readonly",So="readwrite";function Vn(r,o){return r?o?function(){return r.apply(this,arguments)&&o.apply(this,arguments)}:r:o}var Zi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function hs(r){return typeof r!="string"||/\./.test(r)?function(o){return o}:function(o){return o[r]===void 0&&r in o&&delete(o=Xe(o))[r],o}}function ea(){throw L.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Fe(r,o){try{var a=ta(r),l=ta(o);if(a!==l)return a==="Array"?1:l==="Array"?-1:a==="binary"?1:l==="binary"?-1:a==="string"?1:l==="string"?-1:a==="Date"?1:l!=="Date"?NaN:-1;switch(a){case"number":case"Date":case"string":return o<r?1:r<o?-1:0;case"binary":return(function(d,p){for(var v=d.length,w=p.length,S=v<w?v:w,E=0;E<S;++E)if(d[E]!==p[E])return d[E]<p[E]?-1:1;return v===w?0:v<w?-1:1})(na(r),na(o));case"Array":return(function(d,p){for(var v=d.length,w=p.length,S=v<w?v:w,E=0;E<S;++E){var O=Fe(d[E],p[E]);if(O!==0)return O}return v===w?0:v<w?-1:1})(r,o)}}catch{}return NaN}function ta(r){var o=typeof r;return o!="object"?o:ArrayBuffer.isView(r)?"binary":(r=H(r),r==="ArrayBuffer"?"binary":r)}function na(r){return r instanceof Uint8Array?r:ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r)}function ps(r,o,a){var l=r.schema.yProps;return l?(o&&0<a.numFailures&&(o=o.filter(function(d,p){return!a.failures[p]})),Promise.all(l.map(function(d){return d=d.updatesTable,o?r.db.table(d).where("k").anyOf(o).delete():r.db.table(d).clear()})).then(function(){return a})):a}var ra=(nt.prototype._trans=function(r,o,a){var l=this._tx||ve.trans,d=this.name,p=G&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(r==="readonly"?"read":"write"," ").concat(this.name));function v(E,O,k){if(!k.schema[d])throw new L.NotFound("Table "+d+" not part of transaction");return o(k.idbtrans,k)}var w=nr();try{var S=l&&l.db._novip===this.db._novip?l===ve.trans?l._promise(r,v,a):En(function(){return l._promise(r,v,a)},{trans:l,transless:ve.transless||ve}):(function E(O,k,T,A){if(O.idbdb&&(O._state.openComplete||ve.letThrough||O._vip)){var P=O._createTransaction(k,T,O._dbSchema);try{P.create(),O._state.PR1398_maxLoop=3}catch($){return $.name===z.InvalidState&&O.isOpen()&&0<--O._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),O.close({disableAutoOpen:!1}),O.open().then(function(){return E(O,k,T,A)})):ut($)}return P._promise(k,function($,R){return En(function(){return ve.trans=P,A($,R,P)})}).then(function($){if(k==="readwrite")try{P.idbtrans.commit()}catch{}return k==="readonly"?$:P._completion.then(function(){return $})})}if(O._state.openComplete)return ut(new L.DatabaseClosed(O._state.dbOpenError));if(!O._state.isBeingOpened){if(!O._state.autoOpen)return ut(new L.DatabaseClosed);O.open().catch(b)}return O._state.dbReadyPromise.then(function(){return E(O,k,T,A)})})(this.db,r,[this.name],v);return p&&(S._consoleTask=p,S=S.catch(function(E){return console.trace(E),ut(E)})),S}finally{w&&rr()}},nt.prototype.get=function(r,o){var a=this;return r&&r.constructor===Object?this.where(r).first(o):r==null?ut(new L.Type("Invalid argument to Table.get()")):this._trans("readonly",function(l){return a.core.get({trans:l,key:r}).then(function(d){return a.hook.reading.fire(d)})}).then(o)},nt.prototype.where=function(r){if(typeof r=="string")return new this.db.WhereClause(this,r);if(f(r))return new this.db.WhereClause(this,"[".concat(r.join("+"),"]"));var o=u(r);if(o.length===1)return this.where(o[0]).equals(r[o[0]]);var a=this.schema.indexes.concat(this.schema.primKey).filter(function(w){if(w.compound&&o.every(function(E){return 0<=w.keyPath.indexOf(E)})){for(var S=0;S<o.length;++S)if(o.indexOf(w.keyPath[S])===-1)return!1;return!0}return!1}).sort(function(w,S){return w.keyPath.length-S.keyPath.length})[0];if(a&&this.db._maxKey!==Un){var p=a.keyPath.slice(0,o.length);return this.where(p).equals(p.map(function(S){return r[S]}))}!a&&G&&console.warn("The query ".concat(JSON.stringify(r)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(o.join("+"),"]"));var l=this.schema.idxByName;function d(w,S){return Fe(w,S)===0}var v=o.reduce(function(k,S){var E=k[0],O=k[1],k=l[S],T=r[S];return[E||k,E||!k?Vn(O,k&&k.multi?function(A){return A=ke(A,S),f(A)&&A.some(function(P){return d(T,P)})}:function(A){return d(T,ke(A,S))}):O]},[null,null]),p=v[0],v=v[1];return p?this.where(p.name).equals(r[p.keyPath]).filter(v):a?this.filter(v):this.where(o).equals("")},nt.prototype.filter=function(r){return this.toCollection().and(r)},nt.prototype.count=function(r){return this.toCollection().count(r)},nt.prototype.offset=function(r){return this.toCollection().offset(r)},nt.prototype.limit=function(r){return this.toCollection().limit(r)},nt.prototype.each=function(r){return this.toCollection().each(r)},nt.prototype.toArray=function(r){return this.toCollection().toArray(r)},nt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},nt.prototype.orderBy=function(r){return new this.db.Collection(new this.db.WhereClause(this,f(r)?"[".concat(r.join("+"),"]"):r))},nt.prototype.reverse=function(){return this.toCollection().reverse()},nt.prototype.mapToClass=function(r){var o,a=this.db,l=this.name;function d(){return o!==null&&o.apply(this,arguments)||this}(this.schema.mappedClass=r).prototype instanceof ea&&((function(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function O(){this.constructor=S}n(S,E),S.prototype=E===null?Object.create(E):(O.prototype=E.prototype,new O)})(d,o=r),Object.defineProperty(d.prototype,"db",{get:function(){return a},enumerable:!1,configurable:!0}),d.prototype.table=function(){return l},r=d);for(var p=new Set,v=r.prototype;v;v=y(v))Object.getOwnPropertyNames(v).forEach(function(S){return p.add(S)});function w(S){if(!S)return S;var E,O=Object.create(r.prototype);for(E in S)if(!p.has(E))try{O[E]=S[E]}catch{}return O}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=w,this.hook("reading",w),r},nt.prototype.defineClass=function(){return this.mapToClass(function(r){h(this,r)})},nt.prototype.add=function(r,o){var a=this,l=this.schema.primKey,d=l.auto,p=l.keyPath,v=r;return p&&d&&(v=hs(p)(r)),this._trans("readwrite",function(w){return a.core.mutate({trans:w,type:"add",keys:o!=null?[o]:null,values:[v]})}).then(function(w){return w.numFailures?ye.reject(w.failures[0]):w.lastResult}).then(function(w){if(p)try{Ce(r,p,w)}catch{}return w})},nt.prototype.update=function(r,o){return typeof r!="object"||f(r)?this.where(":id").equals(r).modify(o):(r=ke(r,this.schema.primKey.keyPath),r===void 0?ut(new L.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(r).modify(o))},nt.prototype.put=function(r,o){var a=this,l=this.schema.primKey,d=l.auto,p=l.keyPath,v=r;return p&&d&&(v=hs(p)(r)),this._trans("readwrite",function(w){return a.core.mutate({trans:w,type:"put",values:[v],keys:o!=null?[o]:null})}).then(function(w){return w.numFailures?ye.reject(w.failures[0]):w.lastResult}).then(function(w){if(p)try{Ce(r,p,w)}catch{}return w})},nt.prototype.delete=function(r){var o=this;return this._trans("readwrite",function(a){return o.core.mutate({trans:a,type:"delete",keys:[r]}).then(function(l){return ps(o,[r],l)}).then(function(l){return l.numFailures?ye.reject(l.failures[0]):void 0})})},nt.prototype.clear=function(){var r=this;return this._trans("readwrite",function(o){return r.core.mutate({trans:o,type:"deleteRange",range:Zi}).then(function(a){return ps(r,null,a)})}).then(function(o){return o.numFailures?ye.reject(o.failures[0]):void 0})},nt.prototype.bulkGet=function(r){var o=this;return this._trans("readonly",function(a){return o.core.getMany({keys:r,trans:a}).then(function(l){return l.map(function(d){return o.hook.reading.fire(d)})})})},nt.prototype.bulkAdd=function(r,o,a){var l=this,d=Array.isArray(o)?o:void 0,p=(a=a||(d?void 0:o))?a.allKeys:void 0;return this._trans("readwrite",function(v){var E=l.schema.primKey,w=E.auto,E=E.keyPath;if(E&&d)throw new L.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(d&&d.length!==r.length)throw new L.InvalidArgument("Arguments objects and keys must have the same length");var S=r.length,E=E&&w?r.map(hs(E)):r;return l.core.mutate({trans:v,type:"add",keys:d,values:E,wantResults:p}).then(function(P){var k=P.numFailures,T=P.results,A=P.lastResult,P=P.failures;if(k===0)return p?T:A;throw new at("".concat(l.name,".bulkAdd(): ").concat(k," of ").concat(S," operations failed"),P)})})},nt.prototype.bulkPut=function(r,o,a){var l=this,d=Array.isArray(o)?o:void 0,p=(a=a||(d?void 0:o))?a.allKeys:void 0;return this._trans("readwrite",function(v){var E=l.schema.primKey,w=E.auto,E=E.keyPath;if(E&&d)throw new L.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(d&&d.length!==r.length)throw new L.InvalidArgument("Arguments objects and keys must have the same length");var S=r.length,E=E&&w?r.map(hs(E)):r;return l.core.mutate({trans:v,type:"put",keys:d,values:E,wantResults:p}).then(function(P){var k=P.numFailures,T=P.results,A=P.lastResult,P=P.failures;if(k===0)return p?T:A;throw new at("".concat(l.name,".bulkPut(): ").concat(k," of ").concat(S," operations failed"),P)})})},nt.prototype.bulkUpdate=function(r){var o=this,a=this.core,l=r.map(function(v){return v.key}),d=r.map(function(v){return v.changes}),p=[];return this._trans("readwrite",function(v){return a.getMany({trans:v,keys:l,cache:"clone"}).then(function(w){var S=[],E=[];r.forEach(function(k,T){var A=k.key,P=k.changes,$=w[T];if($){for(var R=0,D=Object.keys(P);R<D.length;R++){var F=D[R],N=P[F];if(F===o.schema.primKey.keyPath){if(Fe(N,A)!==0)throw new L.Constraint("Cannot update primary key in bulkUpdate()")}else Ce($,F,N)}p.push(T),S.push(A),E.push($)}});var O=S.length;return a.mutate({trans:v,type:"put",keys:S,values:E,updates:{keys:l,changeSpecs:d}}).then(function(k){var T=k.numFailures,A=k.failures;if(T===0)return O;for(var P=0,$=Object.keys(A);P<$.length;P++){var R,D=$[P],F=p[Number(D)];F!=null&&(R=A[D],delete A[D],A[F]=R)}throw new at("".concat(o.name,".bulkUpdate(): ").concat(T," of ").concat(O," operations failed"),A)})})})},nt.prototype.bulkDelete=function(r){var o=this,a=r.length;return this._trans("readwrite",function(l){return o.core.mutate({trans:l,type:"delete",keys:r}).then(function(d){return ps(o,r,d)})}).then(function(v){var d=v.numFailures,p=v.lastResult,v=v.failures;if(d===0)return p;throw new at("".concat(o.name,".bulkDelete(): ").concat(d," of ").concat(a," operations failed"),v)})},nt);function nt(){}function Sr(r){function o(v,w){if(w){for(var S=arguments.length,E=new Array(S-1);--S;)E[S-1]=arguments[S];return a[v].subscribe.apply(null,E),r}if(typeof v=="string")return a[v]}var a={};o.addEventType=p;for(var l=1,d=arguments.length;l<d;++l)p(arguments[l]);return o;function p(v,w,S){if(typeof v!="object"){var E;w=w||le;var O={subscribers:[],fire:S=S||b,subscribe:function(k){O.subscribers.indexOf(k)===-1&&(O.subscribers.push(k),O.fire=w(O.fire,k))},unsubscribe:function(k){O.subscribers=O.subscribers.filter(function(T){return T!==k}),O.fire=O.subscribers.reduce(w,S)}};return a[v]=o[v]=O}u(E=v).forEach(function(k){var T=E[k];if(f(T))p(k,E[k][0],E[k][1]);else{if(T!=="asap")throw new L.InvalidArgument("Invalid event config");var A=p(k,x,function(){for(var P=arguments.length,$=new Array(P);P--;)$[P]=arguments[P];A.subscribers.forEach(function(R){xe(function(){R.apply(null,$)})})})}})}}function Ar(r,o){return j(o).from({prototype:r}),o}function ir(r,o){return!(r.filter||r.algorithm||r.or)&&(o?r.justLimit:!r.replayFilter)}function Ao(r,o){r.filter=Vn(r.filter,o)}function Eo(r,o,a){var l=r.replayFilter;r.replayFilter=l?function(){return Vn(l(),o())}:o,r.justLimit=a&&!l}function ms(r,o){if(r.isPrimKey)return o.primaryKey;var a=o.getIndexByKeyPath(r.index);if(!a)throw new L.Schema("KeyPath "+r.index+" on object store "+o.name+" is not indexed");return a}function sa(r,o,a){var l=ms(r,o.schema);return o.openCursor({trans:a,values:!r.keysOnly,reverse:r.dir==="prev",unique:!!r.unique,query:{index:l,range:r.range}})}function ys(r,o,a,l){var d=r.replayFilter?Vn(r.filter,r.replayFilter()):r.filter;if(r.or){var p={},v=function(w,S,E){var O,k;d&&!d(S,E,function(T){return S.stop(T)},function(T){return S.fail(T)})||((k=""+(O=S.primaryKey))=="[object ArrayBuffer]"&&(k=""+new Uint8Array(O)),g(p,k)||(p[k]=!0,o(w,S,E)))};return Promise.all([r.or._iterate(v,a),oa(sa(r,l,a),r.algorithm,v,!r.keysOnly&&r.valueMapper)])}return oa(sa(r,l,a),Vn(r.algorithm,d),o,!r.keysOnly&&r.valueMapper)}function oa(r,o,a,l){var d=st(l?function(p,v,w){return a(l(p),v,w)}:a);return r.then(function(p){if(p)return p.start(function(){var v=function(){return p.continue()};o&&!o(p,function(w){return v=w},function(w){p.stop(w),v=b},function(w){p.fail(w),v=b})||d(p.value,p,function(w){return v=w}),v()})})}var Er=(ia.prototype.execute=function(r){var o=this["@@propmod"];if(o.add!==void 0){var a=o.add;if(f(a))return i(i([],f(r)?r:[],!0),a).sort();if(typeof a=="number")return(Number(r)||0)+a;if(typeof a=="bigint")try{return BigInt(r)+a}catch{return BigInt(0)+a}throw new TypeError("Invalid term ".concat(a))}if(o.remove!==void 0){var l=o.remove;if(f(l))return f(r)?r.filter(function(d){return!l.includes(d)}).sort():[];if(typeof l=="number")return Number(r)-l;if(typeof l=="bigint")try{return BigInt(r)-l}catch{return BigInt(0)-l}throw new TypeError("Invalid subtrahend ".concat(l))}return a=(a=o.replacePrefix)===null||a===void 0?void 0:a[0],a&&typeof r=="string"&&r.startsWith(a)?o.replacePrefix[1]+r.substring(a.length):r},ia);function ia(r){this["@@propmod"]=r}var su=(ze.prototype._read=function(r,o){var a=this._ctx;return a.error?a.table._trans(null,ut.bind(null,a.error)):a.table._trans("readonly",r).then(o)},ze.prototype._write=function(r){var o=this._ctx;return o.error?o.table._trans(null,ut.bind(null,o.error)):o.table._trans("readwrite",r,"locked")},ze.prototype._addAlgorithm=function(r){var o=this._ctx;o.algorithm=Vn(o.algorithm,r)},ze.prototype._iterate=function(r,o){return ys(this._ctx,r,o,this._ctx.table.core)},ze.prototype.clone=function(r){var o=Object.create(this.constructor.prototype),a=Object.create(this._ctx);return r&&h(a,r),o._ctx=a,o},ze.prototype.raw=function(){return this._ctx.valueMapper=null,this},ze.prototype.each=function(r){var o=this._ctx;return this._read(function(a){return ys(o,r,a,o.table.core)})},ze.prototype.count=function(r){var o=this;return this._read(function(a){var l=o._ctx,d=l.table.core;if(ir(l,!0))return d.count({trans:a,query:{index:ms(l,d.schema),range:l.range}}).then(function(v){return Math.min(v,l.limit)});var p=0;return ys(l,function(){return++p,!1},a,d).then(function(){return p})}).then(r)},ze.prototype.sortBy=function(r,o){var a=r.split(".").reverse(),l=a[0],d=a.length-1;function p(S,E){return E?p(S[a[E]],E-1):S[l]}var v=this._ctx.dir==="next"?1:-1;function w(S,E){return Fe(p(S,d),p(E,d))*v}return this.toArray(function(S){return S.sort(w)}).then(o)},ze.prototype.toArray=function(r){var o=this;return this._read(function(a){var l=o._ctx;if(l.dir==="next"&&ir(l,!0)&&0<l.limit){var d=l.valueMapper,p=ms(l,l.table.core.schema);return l.table.core.query({trans:a,limit:l.limit,values:!0,query:{index:p,range:l.range}}).then(function(w){return w=w.result,d?w.map(d):w})}var v=[];return ys(l,function(w){return v.push(w)},a,l.table.core).then(function(){return v})},r)},ze.prototype.offset=function(r){var o=this._ctx;return r<=0||(o.offset+=r,ir(o)?Eo(o,function(){var a=r;return function(l,d){return a===0||(a===1?--a:d(function(){l.advance(a),a=0}),!1)}}):Eo(o,function(){var a=r;return function(){return--a<0}})),this},ze.prototype.limit=function(r){return this._ctx.limit=Math.min(this._ctx.limit,r),Eo(this._ctx,function(){var o=r;return function(a,l,d){return--o<=0&&l(d),0<=o}},!0),this},ze.prototype.until=function(r,o){return Ao(this._ctx,function(a,l,d){return!r(a.value)||(l(d),o)}),this},ze.prototype.first=function(r){return this.limit(1).toArray(function(o){return o[0]}).then(r)},ze.prototype.last=function(r){return this.reverse().first(r)},ze.prototype.filter=function(r){var o;return Ao(this._ctx,function(a){return r(a.value)}),(o=this._ctx).isMatch=Vn(o.isMatch,r),this},ze.prototype.and=function(r){return this.filter(r)},ze.prototype.or=function(r){return new this.db.WhereClause(this._ctx.table,r,this)},ze.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ze.prototype.desc=function(){return this.reverse()},ze.prototype.eachKey=function(r){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(a,l){r(l.key,l)})},ze.prototype.eachUniqueKey=function(r){return this._ctx.unique="unique",this.eachKey(r)},ze.prototype.eachPrimaryKey=function(r){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(a,l){r(l.primaryKey,l)})},ze.prototype.keys=function(r){var o=this._ctx;o.keysOnly=!o.isMatch;var a=[];return this.each(function(l,d){a.push(d.key)}).then(function(){return a}).then(r)},ze.prototype.primaryKeys=function(r){var o=this._ctx;if(o.dir==="next"&&ir(o,!0)&&0<o.limit)return this._read(function(l){var d=ms(o,o.table.core.schema);return o.table.core.query({trans:l,values:!1,limit:o.limit,query:{index:d,range:o.range}})}).then(function(l){return l.result}).then(r);o.keysOnly=!o.isMatch;var a=[];return this.each(function(l,d){a.push(d.primaryKey)}).then(function(){return a}).then(r)},ze.prototype.uniqueKeys=function(r){return this._ctx.unique="unique",this.keys(r)},ze.prototype.firstKey=function(r){return this.limit(1).keys(function(o){return o[0]}).then(r)},ze.prototype.lastKey=function(r){return this.reverse().firstKey(r)},ze.prototype.distinct=function(){var r=this._ctx,r=r.index&&r.table.schema.idxByName[r.index];if(!r||!r.multi)return this;var o={};return Ao(this._ctx,function(d){var l=d.primaryKey.toString(),d=g(o,l);return o[l]=!0,!d}),this},ze.prototype.modify=function(r){var o=this,a=this._ctx;return this._write(function(l){var d,p,v;v=typeof r=="function"?r:(d=u(r),p=d.length,function(D){for(var F=!1,N=0;N<p;++N){var K=d[N],ee=r[K],ce=ke(D,K);ee instanceof Er?(Ce(D,K,ee.execute(ce)),F=!0):ce!==ee&&(Ce(D,K,ee),F=!0)}return F});var w=a.table.core,k=w.schema.primaryKey,S=k.outbound,E=k.extractKey,O=200,k=o.db._options.modifyChunkSize;k&&(O=typeof k=="object"?k[w.name]||k["*"]||200:k);function T(D,K){var N=K.failures,K=K.numFailures;P+=D-K;for(var ee=0,ce=u(N);ee<ce.length;ee++){var ne=ce[ee];A.push(N[ne])}}var A=[],P=0,$=[],R=r===aa;return o.clone().primaryKeys().then(function(D){function F(K){var ee=Math.min(O,D.length-K),ce=D.slice(K,K+ee);return(R?Promise.resolve([]):w.getMany({trans:l,keys:ce,cache:"immutable"})).then(function(ne){var se=[],me=[],de=S?[]:null,ge=R?ce:[];if(!R)for(var Me=0;Me<ee;++Me){var Le=ne[Me],$e={value:Xe(Le),primKey:D[K+Me]};v.call($e,$e.value,$e)!==!1&&($e.value==null?ge.push(D[K+Me]):S||Fe(E(Le),E($e.value))===0?(me.push($e.value),S&&de.push(D[K+Me])):(ge.push(D[K+Me]),se.push($e.value)))}return Promise.resolve(0<se.length&&w.mutate({trans:l,type:"add",values:se}).then(function(lt){for(var Re in lt.failures)ge.splice(parseInt(Re),1);T(se.length,lt)})).then(function(){return(0<me.length||N&&typeof r=="object")&&w.mutate({trans:l,type:"put",keys:de,values:me,criteria:N,changeSpec:typeof r!="function"&&r,isAdditionalChunk:0<K}).then(function(lt){return T(me.length,lt)})}).then(function(){return(0<ge.length||N&&R)&&w.mutate({trans:l,type:"delete",keys:ge,criteria:N,isAdditionalChunk:0<K}).then(function(lt){return ps(a.table,ge,lt)}).then(function(lt){return T(ge.length,lt)})}).then(function(){return D.length>K+ee&&F(K+O)})})}var N=ir(a)&&a.limit===1/0&&(typeof r!="function"||R)&&{index:a.index,range:a.range};return F(0).then(function(){if(0<A.length)throw new Qt("Error modifying one or more objects",A,P,$);return D.length})})})},ze.prototype.delete=function(){var r=this._ctx,o=r.range;return!ir(r)||r.table.schema.yProps||!r.isPrimKey&&o.type!==3?this.modify(aa):this._write(function(a){var l=r.table.core.schema.primaryKey,d=o;return r.table.core.count({trans:a,query:{index:l,range:d}}).then(function(p){return r.table.core.mutate({trans:a,type:"deleteRange",range:d}).then(function(S){var w=S.failures,S=S.numFailures;if(S)throw new Qt("Could not delete some values",Object.keys(w).map(function(E){return w[E]}),p-S);return p-S})})})},ze);function ze(){}var aa=function(r,o){return o.value=null};function ou(r,o){return r<o?-1:r===o?0:1}function iu(r,o){return o<r?-1:r===o?0:1}function jt(r,o,a){return r=r instanceof la?new r.Collection(r):r,r._ctx.error=new(a||TypeError)(o),r}function ar(r){return new r.Collection(r,function(){return ca("")}).limit(0)}function gs(r,o,a,l){var d,p,v,w,S,E,O,k=a.length;if(!a.every(function(P){return typeof P=="string"}))return jt(r,Xi);function T(P){d=P==="next"?function(R){return R.toUpperCase()}:function(R){return R.toLowerCase()},p=P==="next"?function(R){return R.toLowerCase()}:function(R){return R.toUpperCase()},v=P==="next"?ou:iu;var $=a.map(function(R){return{lower:p(R),upper:d(R)}}).sort(function(R,D){return v(R.lower,D.lower)});w=$.map(function(R){return R.upper}),S=$.map(function(R){return R.lower}),O=(E=P)==="next"?"":l}T("next"),r=new r.Collection(r,function(){return On(w[0],S[k-1]+l)}),r._ondirectionchange=function(P){T(P)};var A=0;return r._addAlgorithm(function(P,$,R){var D=P.key;if(typeof D!="string")return!1;var F=p(D);if(o(F,S,A))return!0;for(var N=null,K=A;K<k;++K){var ee=(function(ce,ne,se,me,de,ge){for(var Me=Math.min(ce.length,me.length),Le=-1,$e=0;$e<Me;++$e){var lt=ne[$e];if(lt!==me[$e])return de(ce[$e],se[$e])<0?ce.substr(0,$e)+se[$e]+se.substr($e+1):de(ce[$e],me[$e])<0?ce.substr(0,$e)+me[$e]+se.substr($e+1):0<=Le?ce.substr(0,Le)+ne[Le]+se.substr(Le+1):null;de(ce[$e],lt)<0&&(Le=$e)}return Me<me.length&&ge==="next"?ce+se.substr(ce.length):Me<ce.length&&ge==="prev"?ce.substr(0,se.length):Le<0?null:ce.substr(0,Le)+me[Le]+se.substr(Le+1)})(D,F,w[K],S[K],v,E);ee===null&&N===null?A=K+1:(N===null||0<v(N,ee))&&(N=ee)}return $(N!==null?function(){P.continue(N+O)}:R),!1}),r}function On(r,o,a,l){return{type:2,lower:r,upper:o,lowerOpen:a,upperOpen:l}}function ca(r){return{type:1,lower:r,upper:r}}var la=(Object.defineProperty(_t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),_t.prototype.between=function(r,o,a,l){a=a!==!1,l=l===!0;try{return 0<this._cmp(r,o)||this._cmp(r,o)===0&&(a||l)&&(!a||!l)?ar(this):new this.Collection(this,function(){return On(r,o,!a,!l)})}catch{return jt(this,yn)}},_t.prototype.equals=function(r){return r==null?jt(this,yn):new this.Collection(this,function(){return ca(r)})},_t.prototype.above=function(r){return r==null?jt(this,yn):new this.Collection(this,function(){return On(r,void 0,!0)})},_t.prototype.aboveOrEqual=function(r){return r==null?jt(this,yn):new this.Collection(this,function(){return On(r,void 0,!1)})},_t.prototype.below=function(r){return r==null?jt(this,yn):new this.Collection(this,function(){return On(void 0,r,!1,!0)})},_t.prototype.belowOrEqual=function(r){return r==null?jt(this,yn):new this.Collection(this,function(){return On(void 0,r)})},_t.prototype.startsWith=function(r){return typeof r!="string"?jt(this,Xi):this.between(r,r+Un,!0,!0)},_t.prototype.startsWithIgnoreCase=function(r){return r===""?this.startsWith(r):gs(this,function(o,a){return o.indexOf(a[0])===0},[r],Un)},_t.prototype.equalsIgnoreCase=function(r){return gs(this,function(o,a){return o===a[0]},[r],"")},_t.prototype.anyOfIgnoreCase=function(){var r=ot.apply(qe,arguments);return r.length===0?ar(this):gs(this,function(o,a){return a.indexOf(o)!==-1},r,"")},_t.prototype.startsWithAnyOfIgnoreCase=function(){var r=ot.apply(qe,arguments);return r.length===0?ar(this):gs(this,function(o,a){return a.some(function(l){return o.indexOf(l)===0})},r,Un)},_t.prototype.anyOf=function(){var r=this,o=ot.apply(qe,arguments),a=this._cmp;try{o.sort(a)}catch{return jt(this,yn)}if(o.length===0)return ar(this);var l=new this.Collection(this,function(){return On(o[0],o[o.length-1])});l._ondirectionchange=function(p){a=p==="next"?r._ascending:r._descending,o.sort(a)};var d=0;return l._addAlgorithm(function(p,v,w){for(var S=p.key;0<a(S,o[d]);)if(++d===o.length)return v(w),!1;return a(S,o[d])===0||(v(function(){p.continue(o[d])}),!1)}),l},_t.prototype.notEqual=function(r){return this.inAnyRange([[-1/0,r],[r,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},_t.prototype.noneOf=function(){var r=ot.apply(qe,arguments);if(r.length===0)return new this.Collection(this);try{r.sort(this._ascending)}catch{return jt(this,yn)}var o=r.reduce(function(a,l){return a?a.concat([[a[a.length-1][1],l]]):[[-1/0,l]]},null);return o.push([r[r.length-1],this.db._maxKey]),this.inAnyRange(o,{includeLowers:!1,includeUppers:!1})},_t.prototype.inAnyRange=function(D,o){var a=this,l=this._cmp,d=this._ascending,p=this._descending,v=this._min,w=this._max;if(D.length===0)return ar(this);if(!D.every(function(F){return F[0]!==void 0&&F[1]!==void 0&&d(F[0],F[1])<=0}))return jt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",L.InvalidArgument);var S=!o||o.includeLowers!==!1,E=o&&o.includeUppers===!0,O,k=d;function T(F,N){return k(F[0],N[0])}try{(O=D.reduce(function(F,N){for(var K=0,ee=F.length;K<ee;++K){var ce=F[K];if(l(N[0],ce[1])<0&&0<l(N[1],ce[0])){ce[0]=v(ce[0],N[0]),ce[1]=w(ce[1],N[1]);break}}return K===ee&&F.push(N),F},[])).sort(T)}catch{return jt(this,yn)}var A=0,P=E?function(F){return 0<d(F,O[A][1])}:function(F){return 0<=d(F,O[A][1])},$=S?function(F){return 0<p(F,O[A][0])}:function(F){return 0<=p(F,O[A][0])},R=P,D=new this.Collection(this,function(){return On(O[0][0],O[O.length-1][1],!S,!E)});return D._ondirectionchange=function(F){k=F==="next"?(R=P,d):(R=$,p),O.sort(T)},D._addAlgorithm(function(F,N,K){for(var ee,ce=F.key;R(ce);)if(++A===O.length)return N(K),!1;return!P(ee=ce)&&!$(ee)||(a._cmp(ce,O[A][1])===0||a._cmp(ce,O[A][0])===0||N(function(){k===d?F.continue(O[A][0]):F.continue(O[A][1])}),!1)}),D},_t.prototype.startsWithAnyOf=function(){var r=ot.apply(qe,arguments);return r.every(function(o){return typeof o=="string"})?r.length===0?ar(this):this.inAnyRange(r.map(function(o){return[o,o+Un]})):jt(this,"startsWithAnyOf() only works with strings")},_t);function _t(){}function tn(r){return st(function(o){return Ir(o),r(o.target.error),!1})}function Ir(r){r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault()}var Pr="storagemutated",Io="x-storagemutated-1",Rn=Sr(null,Pr),au=(nn.prototype._lock=function(){return te(!ve.global),++this._reculock,this._reculock!==1||ve.global||(ve.lockOwnerFor=this),this},nn.prototype._unlock=function(){if(te(!ve.global),--this._reculock==0)for(ve.global||(ve.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var r=this._blockedFuncs.shift();try{qn(r[1],r[0])}catch{}}return this},nn.prototype._locked=function(){return this._reculock&&ve.lockOwnerFor!==this},nn.prototype.create=function(r){var o=this;if(!this.mode)return this;var a=this.db.idbdb,l=this.db._state.dbOpenError;if(te(!this.idbtrans),!r&&!a)switch(l&&l.name){case"DatabaseClosedError":throw new L.DatabaseClosed(l);case"MissingAPIError":throw new L.MissingAPI(l.message,l);default:throw new L.OpenFailed(l)}if(!this.active)throw new L.TransactionInactive;return te(this._completion._state===null),(r=this.idbtrans=r||(this.db.core||a).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=st(function(d){Ir(d),o._reject(r.error)}),r.onabort=st(function(d){Ir(d),o.active&&o._reject(new L.Abort(r.error)),o.active=!1,o.on("abort").fire(d)}),r.oncomplete=st(function(){o.active=!1,o._resolve(),"mutatedParts"in r&&Rn.storagemutated.fire(r.mutatedParts)}),this},nn.prototype._promise=function(r,o,a){var l=this;if(r==="readwrite"&&this.mode!=="readwrite")return ut(new L.ReadOnly("Transaction is readonly"));if(!this.active)return ut(new L.TransactionInactive);if(this._locked())return new ye(function(p,v){l._blockedFuncs.push([function(){l._promise(r,o,a).then(p,v)},ve])});if(a)return En(function(){var p=new ye(function(v,w){l._lock();var S=o(v,w,l);S&&S.then&&S.then(v,w)});return p.finally(function(){return l._unlock()}),p._lib=!0,p});var d=new ye(function(p,v){var w=o(p,v,l);w&&w.then&&w.then(p,v)});return d._lib=!0,d},nn.prototype._root=function(){return this.parent?this.parent._root():this},nn.prototype.waitFor=function(r){var o,a=this._root(),l=ye.resolve(r);a._waitingFor?a._waitingFor=a._waitingFor.then(function(){return l}):(a._waitingFor=l,a._waitingQueue=[],o=a.idbtrans.objectStore(a.storeNames[0]),(function p(){for(++a._spinCount;a._waitingQueue.length;)a._waitingQueue.shift()();a._waitingFor&&(o.get(-1/0).onsuccess=p)})());var d=a._waitingFor;return new ye(function(p,v){l.then(function(w){return a._waitingQueue.push(st(p.bind(null,w)))},function(w){return a._waitingQueue.push(st(v.bind(null,w)))}).finally(function(){a._waitingFor===d&&(a._waitingFor=null)})})},nn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new L.Abort))},nn.prototype.table=function(r){var o=this._memoizedTables||(this._memoizedTables={});if(g(o,r))return o[r];var a=this.schema[r];if(!a)throw new L.NotFound("Table "+r+" not part of transaction");return a=new this.db.Table(r,a,this),a.core=this.db.core.table(r),o[r]=a},nn);function nn(){}function Po(r,o,a,l,d,p,v,w){return{name:r,keyPath:o,unique:a,multi:l,auto:d,compound:p,src:(a&&!v?"&":"")+(l?"*":"")+(d?"++":"")+ua(o),type:w}}function ua(r){return typeof r=="string"?r:r?"["+[].join.call(r,"+")+"]":""}function Oo(r,o,a){return{name:r,primKey:o,indexes:a,mappedClass:null,idxByName:(l=function(d){return[d.name,d]},a.reduce(function(d,p,v){return v=l(p,v),v&&(d[v[0]]=v[1]),d},{}))};var l}var Or=function(r){try{return r.only([[]]),Or=function(){return[[]]},[[]]}catch{return Or=function(){return Un},Un}};function Ro(r){return r==null?function(){}:typeof r=="string"?(o=r).split(".").length===1?function(a){return a[o]}:function(a){return ke(a,o)}:function(a){return ke(a,r)};var o}function da(r){return[].slice.call(r)}var cu=0;function Rr(r){return r==null?":id":typeof r=="string"?r:"[".concat(r.join("+"),"]")}function lu(r,o,S){function l(R){if(R.type===3)return null;if(R.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var A=R.lower,P=R.upper,$=R.lowerOpen,R=R.upperOpen;return A===void 0?P===void 0?null:o.upperBound(P,!!R):P===void 0?o.lowerBound(A,!!$):o.bound(A,P,!!$,!!R)}function d(T){var A,P=T.name;return{name:P,schema:T,mutate:function($){var R=$.trans,D=$.type,F=$.keys,N=$.values,K=$.range;return new Promise(function(ee,ce){ee=st(ee);var ne=R.objectStore(P),se=ne.keyPath==null,me=D==="put"||D==="add";if(!me&&D!=="delete"&&D!=="deleteRange")throw new Error("Invalid operation type: "+D);var de,ge=(F||N||{length:1}).length;if(F&&N&&F.length!==N.length)throw new Error("Given keys array must have same length as given values array.");if(ge===0)return ee({numFailures:0,failures:{},results:[],lastResult:void 0});function Me($t){++lt,Ir($t)}var Le=[],$e=[],lt=0;if(D==="deleteRange"){if(K.type===4)return ee({numFailures:lt,failures:$e,results:[],lastResult:void 0});K.type===3?Le.push(de=ne.clear()):Le.push(de=ne.delete(l(K)))}else{var se=me?se?[N,F]:[N,null]:[F,null],Re=se[0],St=se[1];if(me)for(var At=0;At<ge;++At)Le.push(de=St&&St[At]!==void 0?ne[D](Re[At],St[At]):ne[D](Re[At])),de.onerror=Me;else for(At=0;At<ge;++At)Le.push(de=ne[D](Re[At])),de.onerror=Me}function Ps($t){$t=$t.target.result,Le.forEach(function(Wn,Qo){return Wn.error!=null&&($e[Qo]=Wn.error)}),ee({numFailures:lt,failures:$e,results:D==="delete"?F:Le.map(function(Wn){return Wn.result}),lastResult:$t})}de.onerror=function($t){Me($t),Ps($t)},de.onsuccess=Ps})},getMany:function($){var R=$.trans,D=$.keys;return new Promise(function(F,N){F=st(F);for(var K,ee=R.objectStore(P),ce=D.length,ne=new Array(ce),se=0,me=0,de=function(Le){Le=Le.target,ne[Le._pos]=Le.result,++me===se&&F(ne)},ge=tn(N),Me=0;Me<ce;++Me)D[Me]!=null&&((K=ee.get(D[Me]))._pos=Me,K.onsuccess=de,K.onerror=ge,++se);se===0&&F(ne)})},get:function($){var R=$.trans,D=$.key;return new Promise(function(F,N){F=st(F);var K=R.objectStore(P).get(D);K.onsuccess=function(ee){return F(ee.target.result)},K.onerror=tn(N)})},query:(A=E,function($){return new Promise(function(R,D){R=st(R);var F,N,K,se=$.trans,ee=$.values,ce=$.limit,de=$.query,ne=ce===1/0?void 0:ce,me=de.index,de=de.range,se=se.objectStore(P),me=me.isPrimaryKey?se:se.index(me.name),de=l(de);if(ce===0)return R({result:[]});A?((ne=ee?me.getAll(de,ne):me.getAllKeys(de,ne)).onsuccess=function(ge){return R({result:ge.target.result})},ne.onerror=tn(D)):(F=0,N=!ee&&"openKeyCursor"in me?me.openKeyCursor(de):me.openCursor(de),K=[],N.onsuccess=function(ge){var Me=N.result;return Me?(K.push(ee?Me.value:Me.primaryKey),++F===ce?R({result:K}):void Me.continue()):R({result:K})},N.onerror=tn(D))})}),openCursor:function($){var R=$.trans,D=$.values,F=$.query,N=$.reverse,K=$.unique;return new Promise(function(ee,ce){ee=st(ee);var me=F.index,ne=F.range,se=R.objectStore(P),se=me.isPrimaryKey?se:se.index(me.name),me=N?K?"prevunique":"prev":K?"nextunique":"next",de=!D&&"openKeyCursor"in se?se.openKeyCursor(l(ne),me):se.openCursor(l(ne),me);de.onerror=tn(ce),de.onsuccess=st(function(ge){var Me,Le,$e,lt,Re=de.result;Re?(Re.___id=++cu,Re.done=!1,Me=Re.continue.bind(Re),Le=(Le=Re.continuePrimaryKey)&&Le.bind(Re),$e=Re.advance.bind(Re),lt=function(){throw new Error("Cursor not stopped")},Re.trans=R,Re.stop=Re.continue=Re.continuePrimaryKey=Re.advance=function(){throw new Error("Cursor not started")},Re.fail=st(ce),Re.next=function(){var St=this,At=1;return this.start(function(){return At--?St.continue():St.stop()}).then(function(){return St})},Re.start=function(St){function At(){if(de.result)try{St()}catch($t){Re.fail($t)}else Re.done=!0,Re.start=function(){throw new Error("Cursor behind last entry")},Re.stop()}var Ps=new Promise(function($t,Wn){$t=st($t),de.onerror=tn(Wn),Re.fail=Wn,Re.stop=function(Qo){Re.stop=Re.continue=Re.continuePrimaryKey=Re.advance=lt,$t(Qo)}});return de.onsuccess=st(function($t){de.onsuccess=At,At()}),Re.continue=Me,Re.continuePrimaryKey=Le,Re.advance=$e,At(),Ps},ee(Re)):ee(null)},ce)})},count:function($){var R=$.query,D=$.trans,F=R.index,N=R.range;return new Promise(function(K,ee){var ce=D.objectStore(P),ne=F.isPrimaryKey?ce:ce.index(F.name),ce=l(N),ne=ce?ne.count(ce):ne.count();ne.onsuccess=st(function(se){return K(se.target.result)}),ne.onerror=tn(ee)})}}}var p,v,w,O=(v=S,w=da((p=r).objectStoreNames),{schema:{name:p.name,tables:w.map(function(T){return v.objectStore(T)}).map(function(T){var A=T.keyPath,R=T.autoIncrement,P=f(A),$={},R={name:T.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:A==null,compound:P,keyPath:A,autoIncrement:R,unique:!0,extractKey:Ro(A)},indexes:da(T.indexNames).map(function(D){return T.index(D)}).map(function(K){var F=K.name,N=K.unique,ee=K.multiEntry,K=K.keyPath,ee={name:F,compound:f(K),keyPath:K,unique:N,multiEntry:ee,extractKey:Ro(K)};return $[Rr(K)]=ee}),getIndexByKeyPath:function(D){return $[Rr(D)]}};return $[":id"]=R.primaryKey,A!=null&&($[Rr(A)]=R.primaryKey),R})},hasGetAll:0<w.length&&"getAll"in v.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),S=O.schema,E=O.hasGetAll,O=S.tables.map(d),k={};return O.forEach(function(T){return k[T.name]=T}),{stack:"dbcore",transaction:r.transaction.bind(r),table:function(T){if(!k[T])throw new Error("Table '".concat(T,"' not found"));return k[T]},MIN_KEY:-1/0,MAX_KEY:Or(o),schema:S}}function uu(r,o,a,l){var d=a.IDBKeyRange;return a.indexedDB,{dbcore:(l=lu(o,d,l),r.dbcore.reduce(function(p,v){return v=v.create,s(s({},p),v(p))},l))}}function vs(r,l){var a=l.db,l=uu(r._middlewares,a,r._deps,l);r.core=l.dbcore,r.tables.forEach(function(d){var p=d.name;r.core.schema.tables.some(function(v){return v.name===p})&&(d.core=r.core.table(p),r[p]instanceof r.Table&&(r[p].core=d.core))})}function bs(r,o,a,l){a.forEach(function(d){var p=l[d];o.forEach(function(v){var w=(function S(E,O){return V(E,O)||(E=y(E))&&S(E,O)})(v,d);(!w||"value"in w&&w.value===void 0)&&(v===r.Transaction.prototype||v instanceof r.Transaction?q(v,d,{get:function(){return this.table(d)},set:function(S){I(this,d,{value:S,writable:!0,configurable:!0,enumerable:!0})}}):v[d]=new r.Table(d,p))})})}function $o(r,o){o.forEach(function(a){for(var l in a)a[l]instanceof r.Table&&delete a[l]})}function du(r,o){return r._cfg.version-o._cfg.version}function fu(r,o,a,l){var d=r._dbSchema;a.objectStoreNames.contains("$meta")&&!d.$meta&&(d.$meta=Oo("$meta",ha("")[0],[]),r._storeNames.push("$meta"));var p=r._createTransaction("readwrite",r._storeNames,d);p.create(a),p._completion.catch(l);var v=p._reject.bind(p),w=ve.transless||ve;En(function(){return ve.trans=p,ve.transless=w,o!==0?(vs(r,a),E=o,((S=p).storeNames.includes("$meta")?S.table("$meta").get("version").then(function(O){return O??E}):ye.resolve(E)).then(function(O){return T=O,A=p,P=a,$=[],O=(k=r)._versions,R=k._dbSchema=ws(0,k.idbdb,P),(O=O.filter(function(D){return D._cfg.version>=T})).length!==0?(O.forEach(function(D){$.push(function(){var F=R,N=D._cfg.dbschema;ks(k,F,P),ks(k,N,P),R=k._dbSchema=N;var K=To(F,N);K.add.forEach(function(me){Do(P,me[0],me[1].primKey,me[1].indexes)}),K.change.forEach(function(me){if(me.recreate)throw new L.Upgrade("Not yet support for changing primary key");var de=P.objectStore(me.name);me.add.forEach(function(ge){return _s(de,ge)}),me.change.forEach(function(ge){de.deleteIndex(ge.name),_s(de,ge)}),me.del.forEach(function(ge){return de.deleteIndex(ge)})});var ee=D._cfg.contentUpgrade;if(ee&&D._cfg.version>T){vs(k,P),A._memoizedTables={};var ce=Pe(N);K.del.forEach(function(me){ce[me]=F[me]}),$o(k,[k.Transaction.prototype]),bs(k,[k.Transaction.prototype],u(ce),ce),A.schema=ce;var ne,se=ht(ee);return se&&sr(),K=ye.follow(function(){var me;(ne=ee(A))&&se&&(me=In.bind(null,null),ne.then(me,me))}),ne&&typeof ne.then=="function"?ye.resolve(ne):K.then(function(){return ne})}}),$.push(function(F){var N,K,ee=D._cfg.dbschema;N=ee,K=F,[].slice.call(K.db.objectStoreNames).forEach(function(ce){return N[ce]==null&&K.db.deleteObjectStore(ce)}),$o(k,[k.Transaction.prototype]),bs(k,[k.Transaction.prototype],k._storeNames,k._dbSchema),A.schema=k._dbSchema}),$.push(function(F){k.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(k.idbdb.version/10)===D._cfg.version?(k.idbdb.deleteObjectStore("$meta"),delete k._dbSchema.$meta,k._storeNames=k._storeNames.filter(function(N){return N!=="$meta"})):F.objectStore("$meta").put(D._cfg.version,"version"))})}),(function D(){return $.length?ye.resolve($.shift()(A.idbtrans)).then(D):ye.resolve()})().then(function(){fa(R,P)})):ye.resolve();var k,T,A,P,$,R}).catch(v)):(u(d).forEach(function(O){Do(a,O,d[O].primKey,d[O].indexes)}),vs(r,a),void ye.follow(function(){return r.on.populate.fire(p)}).catch(v));var S,E})}function hu(r,o){fa(r._dbSchema,o),o.db.version%10!=0||o.objectStoreNames.contains("$meta")||o.db.createObjectStore("$meta").add(Math.ceil(o.db.version/10-1),"version");var a=ws(0,r.idbdb,o);ks(r,r._dbSchema,o);for(var l=0,d=To(a,r._dbSchema).change;l<d.length;l++){var p=(function(v){if(v.change.length||v.recreate)return console.warn("Unable to patch indexes of table ".concat(v.name," because it has changes on the type of index or primary key.")),{value:void 0};var w=o.objectStore(v.name);v.add.forEach(function(S){G&&console.debug("Dexie upgrade patch: Creating missing index ".concat(v.name,".").concat(S.src)),_s(w,S)})})(d[l]);if(typeof p=="object")return p.value}}function To(r,o){var a,l={del:[],add:[],change:[]};for(a in r)o[a]||l.del.push(a);for(a in o){var d=r[a],p=o[a];if(d){var v={name:a,def:p,recreate:!1,del:[],add:[],change:[]};if(""+(d.primKey.keyPath||"")!=""+(p.primKey.keyPath||"")||d.primKey.auto!==p.primKey.auto)v.recreate=!0,l.change.push(v);else{var w=d.idxByName,S=p.idxByName,E=void 0;for(E in w)S[E]||v.del.push(E);for(E in S){var O=w[E],k=S[E];O?O.src!==k.src&&v.change.push(k):v.add.push(k)}(0<v.del.length||0<v.add.length||0<v.change.length)&&l.change.push(v)}}else l.add.push([a,p])}return l}function Do(r,o,a,l){var d=r.db.createObjectStore(o,a.keyPath?{keyPath:a.keyPath,autoIncrement:a.auto}:{autoIncrement:a.auto});return l.forEach(function(p){return _s(d,p)}),d}function fa(r,o){u(r).forEach(function(a){o.db.objectStoreNames.contains(a)||(G&&console.debug("Dexie: Creating missing table",a),Do(o,a,r[a].primKey,r[a].indexes))})}function _s(r,o){r.createIndex(o.name,o.keyPath,{unique:o.unique,multiEntry:o.multi})}function ws(r,o,a){var l={};return re(o.objectStoreNames,0).forEach(function(d){for(var p=a.objectStore(d),v=Po(ua(E=p.keyPath),E||"",!0,!1,!!p.autoIncrement,E&&typeof E!="string",!0),w=[],S=0;S<p.indexNames.length;++S){var O=p.index(p.indexNames[S]),E=O.keyPath,O=Po(O.name,E,!!O.unique,!!O.multiEntry,!1,E&&typeof E!="string",!1);w.push(O)}l[d]=Oo(d,v,w)}),l}function ks(r,o,a){for(var l=a.db.objectStoreNames,d=0;d<l.length;++d){var p=l[d],v=a.objectStore(p);r._hasGetAll="getAll"in v;for(var w=0;w<v.indexNames.length;++w){var S=v.indexNames[w],E=v.index(S).keyPath,O=typeof E=="string"?E:"["+re(E).join("+")+"]";!o[p]||(E=o[p].idxByName[O])&&(E.name=S,delete o[p].idxByName[O],o[p].idxByName[S]=E)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&c.WorkerGlobalScope&&c instanceof c.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function ha(r){return r.split(",").map(function(o,a){var p=o.split(":"),l=(d=p[1])===null||d===void 0?void 0:d.trim(),d=(o=p[0].trim()).replace(/([&*]|\+\+)/g,""),p=/^\[/.test(d)?d.match(/^\[(.*)\]$/)[1].split("+"):d;return Po(d,p||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),f(p),a===0,l)})}var pu=(cr.prototype._createTableSchema=Oo,cr.prototype._parseIndexSyntax=ha,cr.prototype._parseStoresSpec=function(r,o){var a=this;u(r).forEach(function(l){if(r[l]!==null){var d=a._parseIndexSyntax(r[l]),p=d.shift();if(!p)throw new L.Schema("Invalid schema for table "+l+": "+r[l]);if(p.unique=!0,p.multi)throw new L.Schema("Primary key cannot be multiEntry*");d.forEach(function(v){if(v.auto)throw new L.Schema("Only primary key can be marked as autoIncrement (++)");if(!v.keyPath)throw new L.Schema("Index must have a name and cannot be an empty string")}),d=a._createTableSchema(l,p,d),o[l]=d}})},cr.prototype.stores=function(a){var o=this.db;this._cfg.storesSource=this._cfg.storesSource?h(this._cfg.storesSource,a):a;var a=o._versions,l={},d={};return a.forEach(function(p){h(l,p._cfg.storesSource),d=p._cfg.dbschema={},p._parseStoresSpec(l,d)}),o._dbSchema=d,$o(o,[o._allTables,o,o.Transaction.prototype]),bs(o,[o._allTables,o,o.Transaction.prototype,this._cfg.tables],u(d),d),o._storeNames=u(d),this},cr.prototype.upgrade=function(r){return this._cfg.contentUpgrade=ae(this._cfg.contentUpgrade||b,r),this},cr);function cr(){}function Bo(r,o){var a=r._dbNamesDB;return a||(a=r._dbNamesDB=new gn(fs,{addons:[],indexedDB:r,IDBKeyRange:o})).version(1).stores({dbnames:"name"}),a.table("dbnames")}function Mo(r){return r&&typeof r.databases=="function"}function jo(r){return En(function(){return ve.letThrough=!0,r()})}function Fo(r){return!("from"in r)}var Ct=function(r,o){if(!this){var a=new Ct;return r&&"d"in r&&h(a,r),a}h(this,arguments.length?{d:1,from:r,to:1<arguments.length?o:r}:{d:0})};function $r(r,o,a){var l=Fe(o,a);if(!isNaN(l)){if(0<l)throw RangeError();if(Fo(r))return h(r,{from:o,to:a,d:1});var d=r.l,l=r.r;if(Fe(a,r.from)<0)return d?$r(d,o,a):r.l={from:o,to:a,d:1,l:null,r:null},ma(r);if(0<Fe(o,r.to))return l?$r(l,o,a):r.r={from:o,to:a,d:1,l:null,r:null},ma(r);Fe(o,r.from)<0&&(r.from=o,r.l=null,r.d=l?l.d+1:1),0<Fe(a,r.to)&&(r.to=a,r.r=null,r.d=r.l?r.l.d+1:1),a=!r.r,d&&!r.l&&Tr(r,d),l&&a&&Tr(r,l)}}function Tr(r,o){Fo(o)||(function a(l,S){var p=S.from,v=S.to,w=S.l,S=S.r;$r(l,p,v),w&&a(l,w),S&&a(l,S)})(r,o)}function pa(r,o){var a=xs(o),l=a.next();if(l.done)return!1;for(var d=l.value,p=xs(r),v=p.next(d.from),w=v.value;!l.done&&!v.done;){if(Fe(w.from,d.to)<=0&&0<=Fe(w.to,d.from))return!0;Fe(d.from,w.from)<0?d=(l=a.next(w.from)).value:w=(v=p.next(d.from)).value}return!1}function xs(r){var o=Fo(r)?null:{s:0,n:r};return{next:function(a){for(var l=0<arguments.length;o;)switch(o.s){case 0:if(o.s=1,l)for(;o.n.l&&Fe(a,o.n.from)<0;)o={up:o,n:o.n.l,s:1};else for(;o.n.l;)o={up:o,n:o.n.l,s:1};case 1:if(o.s=2,!l||Fe(a,o.n.to)<=0)return{value:o.n,done:!1};case 2:if(o.n.r){o.s=3,o={up:o,n:o.n.r,s:0};continue}case 3:o=o.up}return{done:!0}}}}function ma(r){var o,a,l=(((o=r.r)===null||o===void 0?void 0:o.d)||0)-(((a=r.l)===null||a===void 0?void 0:a.d)||0),d=1<l?"r":l<-1?"l":"";d&&(o=d=="r"?"l":"r",a=s({},r),l=r[d],r.from=l.from,r.to=l.to,r[d]=l[d],a[d]=l[o],(r[o]=a).d=ya(a)),r.d=ya(r)}function ya(a){var o=a.r,a=a.l;return(o?a?Math.max(o.d,a.d):o.d:a?a.d:0)+1}function Cs(r,o){return u(o).forEach(function(a){r[a]?Tr(r[a],o[a]):r[a]=(function l(d){var p,v,w={};for(p in d)g(d,p)&&(v=d[p],w[p]=!v||typeof v!="object"||Je.has(v.constructor)?v:l(v));return w})(o[a])}),r}function No(r,o){return r.all||o.all||Object.keys(r).some(function(a){return o[a]&&pa(o[a],r[a])})}_(Ct.prototype,((Ut={add:function(r){return Tr(this,r),this},addKey:function(r){return $r(this,r,r),this},addKeys:function(r){var o=this;return r.forEach(function(a){return $r(o,a,a)}),this},hasKey:function(r){var o=xs(this).next(r).value;return o&&Fe(o.from,r)<=0&&0<=Fe(o.to,r)}})[M]=function(){return xs(this)},Ut));var Hn={},Ko={},Lo=!1;function Ss(r){Cs(Ko,r),Lo||(Lo=!0,setTimeout(function(){Lo=!1,qo(Ko,!(Ko={}))},0))}function qo(r,o){o===void 0&&(o=!1);var a=new Set;if(r.all)for(var l=0,d=Object.values(Hn);l<d.length;l++)ga(v=d[l],r,a,o);else for(var p in r){var v,w=/^idb\:\/\/(.*)\/(.*)\//.exec(p);w&&(p=w[1],w=w[2],(v=Hn["idb://".concat(p,"/").concat(w)])&&ga(v,r,a,o))}a.forEach(function(S){return S()})}function ga(r,o,a,l){for(var d=[],p=0,v=Object.entries(r.queries.query);p<v.length;p++){for(var w=v[p],S=w[0],E=[],O=0,k=w[1];O<k.length;O++){var T=k[O];No(o,T.obsSet)?T.subscribers.forEach(function(R){return a.add(R)}):l&&E.push(T)}l&&d.push([S,E])}if(l)for(var A=0,P=d;A<P.length;A++){var $=P[A],S=$[0],E=$[1];r.queries.query[S]=E}}function mu(r){var o=r._state,a=r._deps.indexedDB;if(o.isBeingOpened||r.idbdb)return o.dbReadyPromise.then(function(){return o.dbOpenError?ut(o.dbOpenError):r});o.isBeingOpened=!0,o.dbOpenError=null,o.openComplete=!1;var l=o.openCanceller,d=Math.round(10*r.verno),p=!1;function v(){if(o.openCanceller!==l)throw new L.DatabaseClosed("db.open() was cancelled")}function w(){return new ye(function(T,A){if(v(),!a)throw new L.MissingAPI;var P=r.name,$=o.autoSchema||!d?a.open(P):a.open(P,d);if(!$)throw new L.MissingAPI;$.onerror=tn(A),$.onblocked=st(r._fireOnBlocked),$.onupgradeneeded=st(function(R){var D;O=$.transaction,o.autoSchema&&!r._options.allowEmptyDB?($.onerror=Ir,O.abort(),$.result.close(),(D=a.deleteDatabase(P)).onsuccess=D.onerror=st(function(){A(new L.NoSuchDatabase("Database ".concat(P," doesnt exist")))})):(O.onerror=tn(A),R=R.oldVersion>Math.pow(2,62)?0:R.oldVersion,k=R<1,r.idbdb=$.result,p&&hu(r,O),fu(r,R/10,O,A))},A),$.onsuccess=st(function(){O=null;var R,D,F,N,K,ee=r.idbdb=$.result,ce=re(ee.objectStoreNames);if(0<ce.length)try{var ne=ee.transaction((N=ce).length===1?N[0]:N,"readonly");if(o.autoSchema)D=ee,F=ne,(R=r).verno=D.version/10,F=R._dbSchema=ws(0,D,F),R._storeNames=re(D.objectStoreNames,0),bs(R,[R._allTables],u(F),F);else if(ks(r,r._dbSchema,ne),((K=To(ws(0,(K=r).idbdb,ne),K._dbSchema)).add.length||K.change.some(function(se){return se.add.length||se.change.length}))&&!p)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ee.close(),d=ee.version+1,p=!0,T(w());vs(r,ne)}catch{}or.push(r),ee.onversionchange=st(function(se){o.vcFired=!0,r.on("versionchange").fire(se)}),ee.onclose=st(function(se){r.on("close").fire(se)}),k&&(K=r._deps,ne=P,ee=K.indexedDB,K=K.IDBKeyRange,Mo(ee)||ne===fs||Bo(ee,K).put({name:ne}).catch(b)),T()},A)}).catch(function(T){switch(T?.name){case"UnknownError":if(0<o.PR1398_maxLoop)return o.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),w();break;case"VersionError":if(0<d)return d=0,w()}return ye.reject(T)})}var S,E=o.dbReadyResolve,O=null,k=!1;return ye.race([l,(typeof navigator>"u"?ye.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(T){function A(){return indexedDB.databases().finally(T)}S=setInterval(A,100),A()}).finally(function(){return clearInterval(S)}):Promise.resolve()).then(w)]).then(function(){return v(),o.onReadyBeingFired=[],ye.resolve(jo(function(){return r.on.ready.fire(r.vip)})).then(function T(){if(0<o.onReadyBeingFired.length){var A=o.onReadyBeingFired.reduce(ae,b);return o.onReadyBeingFired=[],ye.resolve(jo(function(){return A(r.vip)})).then(T)}})}).finally(function(){o.openCanceller===l&&(o.onReadyBeingFired=null,o.isBeingOpened=!1)}).catch(function(T){o.dbOpenError=T;try{O&&O.abort()}catch{}return l===o.openCanceller&&r._close(),ut(T)}).finally(function(){o.openComplete=!0,E()}).then(function(){var T;return k&&(T={},r.tables.forEach(function(A){A.schema.indexes.forEach(function(P){P.name&&(T["idb://".concat(r.name,"/").concat(A.name,"/").concat(P.name)]=new Ct(-1/0,[[[]]]))}),T["idb://".concat(r.name,"/").concat(A.name,"/")]=T["idb://".concat(r.name,"/").concat(A.name,"/:dels")]=new Ct(-1/0,[[[]]])}),Rn(Pr).fire(T),qo(T,!0)),r})}function Uo(r){function o(p){return r.next(p)}var a=d(o),l=d(function(p){return r.throw(p)});function d(p){return function(S){var w=p(S),S=w.value;return w.done?S:S&&typeof S.then=="function"?S.then(a,l):f(S)?Promise.all(S).then(a,l):a(S)}}return d(o)()}function As(r,o,a){for(var l=f(r)?r.slice():[r],d=0;d<a;++d)l.push(o);return l}var yu={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(r){return s(s({},r),{table:function(o){var a=r.table(o),l=a.schema,d={},p=[];function v(k,T,A){var P=Rr(k),$=d[P]=d[P]||[],R=k==null?0:typeof k=="string"?1:k.length,D=0<T,D=s(s({},A),{name:D?"".concat(P,"(virtual-from:").concat(A.name,")"):A.name,lowLevelIndex:A,isVirtual:D,keyTail:T,keyLength:R,extractKey:Ro(k),unique:!D&&A.unique});return $.push(D),D.isPrimaryKey||p.push(D),1<R&&v(R===2?k[0]:k.slice(0,R-1),T+1,A),$.sort(function(F,N){return F.keyTail-N.keyTail}),D}o=v(l.primaryKey.keyPath,0,l.primaryKey),d[":id"]=[o];for(var w=0,S=l.indexes;w<S.length;w++){var E=S[w];v(E.keyPath,0,E)}function O(k){var T,A=k.query.index;return A.isVirtual?s(s({},k),{query:{index:A.lowLevelIndex,range:(T=k.query.range,A=A.keyTail,{type:T.type===1?2:T.type,lower:As(T.lower,T.lowerOpen?r.MAX_KEY:r.MIN_KEY,A),lowerOpen:!0,upper:As(T.upper,T.upperOpen?r.MIN_KEY:r.MAX_KEY,A),upperOpen:!0})}}):k}return s(s({},a),{schema:s(s({},l),{primaryKey:o,indexes:p,getIndexByKeyPath:function(k){return(k=d[Rr(k)])&&k[0]}}),count:function(k){return a.count(O(k))},query:function(k){return a.query(O(k))},openCursor:function(k){var T=k.query.index,A=T.keyTail,P=T.isVirtual,$=T.keyLength;return P?a.openCursor(O(k)).then(function(D){return D&&R(D)}):a.openCursor(k);function R(D){return Object.create(D,{continue:{value:function(F){F!=null?D.continue(As(F,k.reverse?r.MAX_KEY:r.MIN_KEY,A)):k.unique?D.continue(D.key.slice(0,$).concat(k.reverse?r.MIN_KEY:r.MAX_KEY,A)):D.continue()}},continuePrimaryKey:{value:function(F,N){D.continuePrimaryKey(As(F,r.MAX_KEY,A),N)}},primaryKey:{get:function(){return D.primaryKey}},key:{get:function(){var F=D.key;return $===1?F[0]:F.slice(0,$)}},value:{get:function(){return D.value}}})}}})}})}};function Vo(r,o,a,l){return a=a||{},l=l||"",u(r).forEach(function(d){var p,v,w;g(o,d)?(p=r[d],v=o[d],typeof p=="object"&&typeof v=="object"&&p&&v?(w=H(p))!==H(v)?a[l+d]=o[d]:w==="Object"?Vo(p,v,a,l+d+"."):p!==v&&(a[l+d]=o[d]):p!==v&&(a[l+d]=o[d])):a[l+d]=void 0}),u(o).forEach(function(d){g(r,d)||(a[l+d]=o[d])}),a}function Ho(r,o){return o.type==="delete"?o.keys:o.keys||o.values.map(r.extractKey)}var gu={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(r){return s(s({},r),{table:function(o){var a=r.table(o),l=a.schema.primaryKey;return s(s({},a),{mutate:function(d){var p=ve.trans,v=p.table(o).hook,w=v.deleting,S=v.creating,E=v.updating;switch(d.type){case"add":if(S.fire===b)break;return p._promise("readwrite",function(){return O(d)},!0);case"put":if(S.fire===b&&E.fire===b)break;return p._promise("readwrite",function(){return O(d)},!0);case"delete":if(w.fire===b)break;return p._promise("readwrite",function(){return O(d)},!0);case"deleteRange":if(w.fire===b)break;return p._promise("readwrite",function(){return(function k(T,A,P){return a.query({trans:T,values:!1,query:{index:l,range:A},limit:P}).then(function($){var R=$.result;return O({type:"delete",keys:R,trans:T}).then(function(D){return 0<D.numFailures?Promise.reject(D.failures[0]):R.length<P?{failures:[],numFailures:0,lastResult:void 0}:k(T,s(s({},A),{lower:R[R.length-1],lowerOpen:!0}),P)})})})(d.trans,d.range,1e4)},!0)}return a.mutate(d);function O(k){var T,A,P,$=ve.trans,R=k.keys||Ho(l,k);if(!R)throw new Error("Keys missing");return(k=k.type==="add"||k.type==="put"?s(s({},k),{keys:R}):s({},k)).type!=="delete"&&(k.values=i([],k.values)),k.keys&&(k.keys=i([],k.keys)),T=a,P=R,((A=k).type==="add"?Promise.resolve([]):T.getMany({trans:A.trans,keys:P,cache:"immutable"})).then(function(D){var F=R.map(function(N,K){var ee,ce,ne,se=D[K],me={onerror:null,onsuccess:null};return k.type==="delete"?w.fire.call(me,N,se,$):k.type==="add"||se===void 0?(ee=S.fire.call(me,N,k.values[K],$),N==null&&ee!=null&&(k.keys[K]=N=ee,l.outbound||Ce(k.values[K],l.keyPath,N))):(ee=Vo(se,k.values[K]),(ce=E.fire.call(me,ee,N,se,$))&&(ne=k.values[K],Object.keys(ce).forEach(function(de){g(ne,de)?ne[de]=ce[de]:Ce(ne,de,ce[de])}))),me});return a.mutate(k).then(function(N){for(var K=N.failures,ee=N.results,ce=N.numFailures,N=N.lastResult,ne=0;ne<R.length;++ne){var se=(ee||R)[ne],me=F[ne];se==null?me.onerror&&me.onerror(K[ne]):me.onsuccess&&me.onsuccess(k.type==="put"&&D[ne]?k.values[ne]:se)}return{failures:K,results:ee,numFailures:ce,lastResult:N}}).catch(function(N){return F.forEach(function(K){return K.onerror&&K.onerror(N)}),Promise.reject(N)})})}}})}})}};function va(r,o,a){try{if(!o||o.keys.length<r.length)return null;for(var l=[],d=0,p=0;d<o.keys.length&&p<r.length;++d)Fe(o.keys[d],r[p])===0&&(l.push(a?Xe(o.values[d]):o.values[d]),++p);return l.length===r.length?l:null}catch{return null}}var vu={stack:"dbcore",level:-1,create:function(r){return{table:function(o){var a=r.table(o);return s(s({},a),{getMany:function(l){if(!l.cache)return a.getMany(l);var d=va(l.keys,l.trans._cache,l.cache==="clone");return d?ye.resolve(d):a.getMany(l).then(function(p){return l.trans._cache={keys:l.keys,values:l.cache==="clone"?Xe(p):p},p})},mutate:function(l){return l.type!=="add"&&(l.trans._cache=null),a.mutate(l)}})}}}};function ba(r,o){return r.trans.mode==="readonly"&&!!r.subscr&&!r.trans.explicit&&r.trans.db._options.cache!=="disabled"&&!o.schema.primaryKey.outbound}function _a(r,o){switch(r){case"query":return o.values&&!o.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var bu={stack:"dbcore",level:0,name:"Observability",create:function(r){var o=r.schema.name,a=new Ct(r.MIN_KEY,r.MAX_KEY);return s(s({},r),{transaction:function(l,d,p){if(ve.subscr&&d!=="readonly")throw new L.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ve.querier));return r.transaction(l,d,p)},table:function(l){var d=r.table(l),p=d.schema,v=p.primaryKey,k=p.indexes,w=v.extractKey,S=v.outbound,E=v.autoIncrement&&k.filter(function(A){return A.compound&&A.keyPath.includes(v.keyPath)}),O=s(s({},d),{mutate:function(A){function P(de){return de="idb://".concat(o,"/").concat(l,"/").concat(de),N[de]||(N[de]=new Ct)}var $,R,D,F=A.trans,N=A.mutatedParts||(A.mutatedParts={}),K=P(""),ee=P(":dels"),ce=A.type,me=A.type==="deleteRange"?[A.range]:A.type==="delete"?[A.keys]:A.values.length<50?[Ho(v,A).filter(function(de){return de}),A.values]:[],ne=me[0],se=me[1],me=A.trans._cache;return f(ne)?(K.addKeys(ne),(me=ce==="delete"||ne.length===se.length?va(ne,me):null)||ee.addKeys(ne),(me||se)&&($=P,R=me,D=se,p.indexes.forEach(function(de){var ge=$(de.name||"");function Me($e){return $e!=null?de.extractKey($e):null}function Le($e){return de.multiEntry&&f($e)?$e.forEach(function(lt){return ge.addKey(lt)}):ge.addKey($e)}(R||D).forEach(function($e,St){var Re=R&&Me(R[St]),St=D&&Me(D[St]);Fe(Re,St)!==0&&(Re!=null&&Le(Re),St!=null&&Le(St))})}))):ne?(se={from:(se=ne.lower)!==null&&se!==void 0?se:r.MIN_KEY,to:(se=ne.upper)!==null&&se!==void 0?se:r.MAX_KEY},ee.add(se),K.add(se)):(K.add(a),ee.add(a),p.indexes.forEach(function(de){return P(de.name).add(a)})),d.mutate(A).then(function(de){return!ne||A.type!=="add"&&A.type!=="put"||(K.addKeys(de.results),E&&E.forEach(function(ge){for(var Me=A.values.map(function(Re){return ge.extractKey(Re)}),Le=ge.keyPath.findIndex(function(Re){return Re===v.keyPath}),$e=0,lt=de.results.length;$e<lt;++$e)Me[$e][Le]=de.results[$e];P(ge.name).addKeys(Me)})),F.mutatedParts=Cs(F.mutatedParts||{},N),de})}}),k=function(P){var $=P.query,P=$.index,$=$.range;return[P,new Ct((P=$.lower)!==null&&P!==void 0?P:r.MIN_KEY,($=$.upper)!==null&&$!==void 0?$:r.MAX_KEY)]},T={get:function(A){return[v,new Ct(A.key)]},getMany:function(A){return[v,new Ct().addKeys(A.keys)]},count:k,query:k,openCursor:k};return u(T).forEach(function(A){O[A]=function(P){var $=ve.subscr,R=!!$,D=ba(ve,d)&&_a(A,P)?P.obsSet={}:$;if(R){var F=function(se){return se="idb://".concat(o,"/").concat(l,"/").concat(se),D[se]||(D[se]=new Ct)},N=F(""),K=F(":dels"),$=T[A](P),R=$[0],$=$[1];if((A==="query"&&R.isPrimaryKey&&!P.values?K:F(R.name||"")).add($),!R.isPrimaryKey){if(A!=="count"){var ee=A==="query"&&S&&P.values&&d.query(s(s({},P),{values:!1}));return d[A].apply(this,arguments).then(function(se){if(A==="query"){if(S&&P.values)return ee.then(function(Me){return Me=Me.result,N.addKeys(Me),se});var me=P.values?se.result.map(w):se.result;(P.values?N:K).addKeys(me)}else if(A==="openCursor"){var de=se,ge=P.values;return de&&Object.create(de,{key:{get:function(){return K.addKey(de.primaryKey),de.key}},primaryKey:{get:function(){var Me=de.primaryKey;return K.addKey(Me),Me}},value:{get:function(){return ge&&N.addKey(de.primaryKey),de.value}}})}return se})}K.add(a)}}return d[A].apply(this,arguments)}}),O}})}};function wa(r,o,a){if(a.numFailures===0)return o;if(o.type==="deleteRange")return null;var l=o.keys?o.keys.length:"values"in o&&o.values?o.values.length:1;return a.numFailures===l?null:(o=s({},o),f(o.keys)&&(o.keys=o.keys.filter(function(d,p){return!(p in a.failures)})),"values"in o&&f(o.values)&&(o.values=o.values.filter(function(d,p){return!(p in a.failures)})),o)}function zo(r,o){return a=r,((l=o).lower===void 0||(l.lowerOpen?0<Fe(a,l.lower):0<=Fe(a,l.lower)))&&(r=r,(o=o).upper===void 0||(o.upperOpen?Fe(r,o.upper)<0:Fe(r,o.upper)<=0));var a,l}function ka(r,o,T,l,d,p){if(!T||T.length===0)return r;var v=o.query.index,w=v.multiEntry,S=o.query.range,E=l.schema.primaryKey.extractKey,O=v.extractKey,k=(v.lowLevelIndex||v).extractKey,T=T.reduce(function(A,P){var $=A,R=[];if(P.type==="add"||P.type==="put")for(var D=new Ct,F=P.values.length-1;0<=F;--F){var N,K=P.values[F],ee=E(K);D.hasKey(ee)||(N=O(K),(w&&f(N)?N.some(function(de){return zo(de,S)}):zo(N,S))&&(D.addKey(ee),R.push(K)))}switch(P.type){case"add":var ce=new Ct().addKeys(o.values?A.map(function(ge){return E(ge)}):A),$=A.concat(o.values?R.filter(function(ge){return ge=E(ge),!ce.hasKey(ge)&&(ce.addKey(ge),!0)}):R.map(function(ge){return E(ge)}).filter(function(ge){return!ce.hasKey(ge)&&(ce.addKey(ge),!0)}));break;case"put":var ne=new Ct().addKeys(P.values.map(function(ge){return E(ge)}));$=A.filter(function(ge){return!ne.hasKey(o.values?E(ge):ge)}).concat(o.values?R:R.map(function(ge){return E(ge)}));break;case"delete":var se=new Ct().addKeys(P.keys);$=A.filter(function(ge){return!se.hasKey(o.values?E(ge):ge)});break;case"deleteRange":var me=P.range;$=A.filter(function(ge){return!zo(E(ge),me)})}return $},r);return T===r?r:(T.sort(function(A,P){return Fe(k(A),k(P))||Fe(E(A),E(P))}),o.limit&&o.limit<1/0&&(T.length>o.limit?T.length=o.limit:r.length===o.limit&&T.length<o.limit&&(d.dirty=!0)),p?Object.freeze(T):T)}function xa(r,o){return Fe(r.lower,o.lower)===0&&Fe(r.upper,o.upper)===0&&!!r.lowerOpen==!!o.lowerOpen&&!!r.upperOpen==!!o.upperOpen}function _u(r,o){return(function(a,l,d,p){if(a===void 0)return l!==void 0?-1:0;if(l===void 0)return 1;if((l=Fe(a,l))===0){if(d&&p)return 0;if(d)return 1;if(p)return-1}return l})(r.lower,o.lower,r.lowerOpen,o.lowerOpen)<=0&&0<=(function(a,l,d,p){if(a===void 0)return l!==void 0?1:0;if(l===void 0)return-1;if((l=Fe(a,l))===0){if(d&&p)return 0;if(d)return-1;if(p)return 1}return l})(r.upper,o.upper,r.upperOpen,o.upperOpen)}function wu(r,o,a,l){r.subscribers.add(a),l.addEventListener("abort",function(){var d,p;r.subscribers.delete(a),r.subscribers.size===0&&(d=r,p=o,setTimeout(function(){d.subscribers.size===0&&ue(p,d)},3e3))})}var ku={stack:"dbcore",level:0,name:"Cache",create:function(r){var o=r.schema.name;return s(s({},r),{transaction:function(a,l,d){var p,v,w=r.transaction(a,l,d);return l==="readwrite"&&(v=(p=new AbortController).signal,d=function(S){return function(){if(p.abort(),l==="readwrite"){for(var E=new Set,O=0,k=a;O<k.length;O++){var T=k[O],A=Hn["idb://".concat(o,"/").concat(T)];if(A){var P=r.table(T),$=A.optimisticOps.filter(function(ge){return ge.trans===w});if(w._explicit&&S&&w.mutatedParts)for(var R=0,D=Object.values(A.queries.query);R<D.length;R++)for(var F=0,N=(ce=D[R]).slice();F<N.length;F++)No((ne=N[F]).obsSet,w.mutatedParts)&&(ue(ce,ne),ne.subscribers.forEach(function(ge){return E.add(ge)}));else if(0<$.length){A.optimisticOps=A.optimisticOps.filter(function(ge){return ge.trans!==w});for(var K=0,ee=Object.values(A.queries.query);K<ee.length;K++)for(var ce,ne,se,me=0,de=(ce=ee[K]).slice();me<de.length;me++)(ne=de[me]).res!=null&&w.mutatedParts&&(S&&!ne.dirty?(se=Object.isFrozen(ne.res),se=ka(ne.res,ne.req,$,P,ne,se),ne.dirty?(ue(ce,ne),ne.subscribers.forEach(function(ge){return E.add(ge)})):se!==ne.res&&(ne.res=se,ne.promise=ye.resolve({result:se}))):(ne.dirty&&ue(ce,ne),ne.subscribers.forEach(function(ge){return E.add(ge)})))}}}E.forEach(function(ge){return ge()})}}},w.addEventListener("abort",d(!1),{signal:v}),w.addEventListener("error",d(!1),{signal:v}),w.addEventListener("complete",d(!0),{signal:v})),w},table:function(a){var l=r.table(a),d=l.schema.primaryKey;return s(s({},l),{mutate:function(p){var v=ve.trans;if(d.outbound||v.db._options.cache==="disabled"||v.explicit||v.idbtrans.mode!=="readwrite")return l.mutate(p);var w=Hn["idb://".concat(o,"/").concat(a)];return w?(v=l.mutate(p),p.type!=="add"&&p.type!=="put"||!(50<=p.values.length||Ho(d,p).some(function(S){return S==null}))?(w.optimisticOps.push(p),p.mutatedParts&&Ss(p.mutatedParts),v.then(function(S){0<S.numFailures&&(ue(w.optimisticOps,p),(S=wa(0,p,S))&&w.optimisticOps.push(S),p.mutatedParts&&Ss(p.mutatedParts))}),v.catch(function(){ue(w.optimisticOps,p),p.mutatedParts&&Ss(p.mutatedParts)})):v.then(function(S){var E=wa(0,s(s({},p),{values:p.values.map(function(O,k){var T;return S.failures[k]?O:(O=(T=d.keyPath)!==null&&T!==void 0&&T.includes(".")?Xe(O):s({},O),Ce(O,d.keyPath,S.results[k]),O)})}),S);w.optimisticOps.push(E),queueMicrotask(function(){return p.mutatedParts&&Ss(p.mutatedParts)})}),v):l.mutate(p)},query:function(p){if(!ba(ve,l)||!_a("query",p))return l.query(p);var v=((E=ve.trans)===null||E===void 0?void 0:E.db._options.cache)==="immutable",k=ve,w=k.requery,S=k.signal,E=(function(P,$,R,D){var F=Hn["idb://".concat(P,"/").concat($)];if(!F)return[];if(!($=F.queries[R]))return[null,!1,F,null];var N=$[(D.query?D.query.index.name:null)||""];if(!N)return[null,!1,F,null];switch(R){case"query":var K=N.find(function(ee){return ee.req.limit===D.limit&&ee.req.values===D.values&&xa(ee.req.query.range,D.query.range)});return K?[K,!0,F,N]:[N.find(function(ee){return("limit"in ee.req?ee.req.limit:1/0)>=D.limit&&(!D.values||ee.req.values)&&_u(ee.req.query.range,D.query.range)}),!1,F,N];case"count":return K=N.find(function(ee){return xa(ee.req.query.range,D.query.range)}),[K,!!K,F,N]}})(o,a,"query",p),O=E[0],k=E[1],T=E[2],A=E[3];return O&&k?O.obsSet=p.obsSet:(k=l.query(p).then(function(P){var $=P.result;if(O&&(O.res=$),v){for(var R=0,D=$.length;R<D;++R)Object.freeze($[R]);Object.freeze($)}else P.result=Xe($);return P}).catch(function(P){return A&&O&&ue(A,O),Promise.reject(P)}),O={obsSet:p.obsSet,promise:k,subscribers:new Set,type:"query",req:p,dirty:!1},A?A.push(O):(A=[O],(T=T||(Hn["idb://".concat(o,"/").concat(a)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[p.query.index.name||""]=A)),wu(O,A,w,S),O.promise.then(function(P){return{result:ka(P.result,p,T?.optimisticOps,l,O,v)}})}})}})}};function Es(r,o){return new Proxy(r,{get:function(a,l,d){return l==="db"?o:Reflect.get(a,l,d)}})}var gn=(dt.prototype.version=function(r){if(isNaN(r)||r<.1)throw new L.Type("Given version is not a positive number");if(r=Math.round(10*r)/10,this.idbdb||this._state.isBeingOpened)throw new L.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,r);var o=this._versions,a=o.filter(function(l){return l._cfg.version===r})[0];return a||(a=new this.Version(r),o.push(a),o.sort(du),a.stores({}),this._state.autoSchema=!1,a)},dt.prototype._whenReady=function(r){var o=this;return this.idbdb&&(this._state.openComplete||ve.letThrough||this._vip)?r():new ye(function(a,l){if(o._state.openComplete)return l(new L.DatabaseClosed(o._state.dbOpenError));if(!o._state.isBeingOpened){if(!o._state.autoOpen)return void l(new L.DatabaseClosed);o.open().catch(b)}o._state.dbReadyPromise.then(a,l)}).then(r)},dt.prototype.use=function(r){var o=r.stack,a=r.create,l=r.level,d=r.name;return d&&this.unuse({stack:o,name:d}),r=this._middlewares[o]||(this._middlewares[o]=[]),r.push({stack:o,create:a,level:l??10,name:d}),r.sort(function(p,v){return p.level-v.level}),this},dt.prototype.unuse=function(r){var o=r.stack,a=r.name,l=r.create;return o&&this._middlewares[o]&&(this._middlewares[o]=this._middlewares[o].filter(function(d){return l?d.create!==l:!!a&&d.name!==a})),this},dt.prototype.open=function(){var r=this;return qn(ct,function(){return mu(r)})},dt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var r=this._state,o=or.indexOf(this);if(0<=o&&or.splice(o,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}r.isBeingOpened||(r.dbReadyPromise=new ye(function(a){r.dbReadyResolve=a}),r.openCanceller=new ye(function(a,l){r.cancelOpen=l}))},dt.prototype.close=function(a){var o=(a===void 0?{disableAutoOpen:!0}:a).disableAutoOpen,a=this._state;o?(a.isBeingOpened&&a.cancelOpen(new L.DatabaseClosed),this._close(),a.autoOpen=!1,a.dbOpenError=new L.DatabaseClosed):(this._close(),a.autoOpen=this._options.autoOpen||a.isBeingOpened,a.openComplete=!1,a.dbOpenError=null)},dt.prototype.delete=function(r){var o=this;r===void 0&&(r={disableAutoOpen:!0});var a=0<arguments.length&&typeof arguments[0]!="object",l=this._state;return new ye(function(d,p){function v(){o.close(r);var w=o._deps.indexedDB.deleteDatabase(o.name);w.onsuccess=st(function(){var S,E,O;S=o._deps,E=o.name,O=S.indexedDB,S=S.IDBKeyRange,Mo(O)||E===fs||Bo(O,S).delete(E).catch(b),d()}),w.onerror=tn(p),w.onblocked=o._fireOnBlocked}if(a)throw new L.InvalidArgument("Invalid closeOptions argument to db.delete()");l.isBeingOpened?l.dbReadyPromise.then(v):v()})},dt.prototype.backendDB=function(){return this.idbdb},dt.prototype.isOpen=function(){return this.idbdb!==null},dt.prototype.hasBeenClosed=function(){var r=this._state.dbOpenError;return r&&r.name==="DatabaseClosed"},dt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},dt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(dt.prototype,"tables",{get:function(){var r=this;return u(this._allTables).map(function(o){return r._allTables[o]})},enumerable:!1,configurable:!0}),dt.prototype.transaction=function(){var r=(function(o,a,l){var d=arguments.length;if(d<2)throw new L.InvalidArgument("Too few arguments");for(var p=new Array(d-1);--d;)p[d-1]=arguments[d];return l=p.pop(),[o,Ve(p),l]}).apply(this,arguments);return this._transaction.apply(this,r)},dt.prototype._transaction=function(r,o,a){var l=this,d=ve.trans;d&&d.db===this&&r.indexOf("!")===-1||(d=null);var p,v,w=r.indexOf("?")!==-1;r=r.replace("!","").replace("?","");try{if(v=o.map(function(E){if(E=E instanceof l.Table?E.name:E,typeof E!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return E}),r=="r"||r===Co)p=Co;else{if(r!="rw"&&r!=So)throw new L.InvalidArgument("Invalid transaction mode: "+r);p=So}if(d){if(d.mode===Co&&p===So){if(!w)throw new L.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");d=null}d&&v.forEach(function(E){if(d&&d.storeNames.indexOf(E)===-1){if(!w)throw new L.SubTransaction("Table "+E+" not included in parent transaction.");d=null}}),w&&d&&!d.active&&(d=null)}}catch(E){return d?d._promise(null,function(O,k){k(E)}):ut(E)}var S=(function E(O,k,T,A,P){return ye.resolve().then(function(){var $=ve.transless||ve,R=O._createTransaction(k,T,O._dbSchema,A);if(R.explicit=!0,$={trans:R,transless:$},A)R.idbtrans=A.idbtrans;else try{R.create(),R.idbtrans._explicit=!0,O._state.PR1398_maxLoop=3}catch(N){return N.name===z.InvalidState&&O.isOpen()&&0<--O._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),O.close({disableAutoOpen:!1}),O.open().then(function(){return E(O,k,T,null,P)})):ut(N)}var D,F=ht(P);return F&&sr(),$=ye.follow(function(){var N;(D=P.call(R,R))&&(F?(N=In.bind(null,null),D.then(N,N)):typeof D.next=="function"&&typeof D.throw=="function"&&(D=Uo(D)))},$),(D&&typeof D.then=="function"?ye.resolve(D).then(function(N){return R.active?N:ut(new L.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):$.then(function(){return D})).then(function(N){return A&&R._resolve(),R._completion.then(function(){return N})}).catch(function(N){return R._reject(N),ut(N)})})}).bind(null,this,p,v,d,a);return d?d._promise(p,S,"lock"):ve.trans?qn(ve.transless,function(){return l._whenReady(S)}):this._whenReady(S)},dt.prototype.table=function(r){if(!g(this._allTables,r))throw new L.InvalidTable("Table ".concat(r," does not exist"));return this._allTables[r]},dt);function dt(r,o){var a=this;this._middlewares={},this.verno=0;var l=dt.dependencies;this._options=o=s({addons:dt.addons,autoOpen:!0,indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange,cache:"cloned"},o),this._deps={indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},l=o.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var d,p,v,w,S,E={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:b,dbReadyPromise:null,cancelOpen:b,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:o.autoOpen};E.dbReadyPromise=new ye(function(k){E.dbReadyResolve=k}),E.openCanceller=new ye(function(k,T){E.cancelOpen=T}),this._state=E,this.name=r,this.on=Sr(this,"populate","blocked","versionchange","close",{ready:[ae,b]}),this.once=function(k,T){var A=function(){for(var P=[],$=0;$<arguments.length;$++)P[$]=arguments[$];a.on(k).unsubscribe(A),T.apply(a,P)};return a.on(k,A)},this.on.ready.subscribe=X(this.on.ready.subscribe,function(k){return function(T,A){dt.vip(function(){var P,$=a._state;$.openComplete?($.dbOpenError||ye.resolve().then(T),A&&k(T)):$.onReadyBeingFired?($.onReadyBeingFired.push(T),A&&k(T)):(k(T),P=a,A||k(function R(){P.on.ready.unsubscribe(T),P.on.ready.unsubscribe(R)}))})}}),this.Collection=(d=this,Ar(su.prototype,function(D,R){this.db=d;var A=Zi,P=null;if(R)try{A=R()}catch(F){P=F}var $=D._ctx,R=$.table,D=R.hook.reading.fire;this._ctx={table:R,index:$.index,isPrimKey:!$.index||R.schema.primKey.keyPath&&$.index===R.schema.primKey.name,range:A,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:P,or:$.or,valueMapper:D!==x?D:null}})),this.Table=(p=this,Ar(ra.prototype,function(k,T,A){this.db=p,this._tx=A,this.name=k,this.schema=T,this.hook=p._allTables[k]?p._allTables[k].hook:Sr(null,{creating:[Y,b],reading:[B,x],updating:[he,b],deleting:[W,b]})})),this.Transaction=(v=this,Ar(au.prototype,function(k,T,A,P,$){var R=this;k!=="readonly"&&T.forEach(function(D){D=(D=A[D])===null||D===void 0?void 0:D.yProps,D&&(T=T.concat(D.map(function(F){return F.updatesTable})))}),this.db=v,this.mode=k,this.storeNames=T,this.schema=A,this.chromeTransactionDurability=P,this.idbtrans=null,this.on=Sr(this,"complete","error","abort"),this.parent=$||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ye(function(D,F){R._resolve=D,R._reject=F}),this._completion.then(function(){R.active=!1,R.on.complete.fire()},function(D){var F=R.active;return R.active=!1,R.on.error.fire(D),R.parent?R.parent._reject(D):F&&R.idbtrans&&R.idbtrans.abort(),ut(D)})})),this.Version=(w=this,Ar(pu.prototype,function(k){this.db=w,this._cfg={version:k,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(S=this,Ar(la.prototype,function(k,T,A){if(this.db=S,this._ctx={table:k,index:T===":id"?null:T,or:A},this._cmp=this._ascending=Fe,this._descending=function(P,$){return Fe($,P)},this._max=function(P,$){return 0<Fe(P,$)?P:$},this._min=function(P,$){return Fe(P,$)<0?P:$},this._IDBKeyRange=S._deps.IDBKeyRange,!this._IDBKeyRange)throw new L.MissingAPI})),this.on("versionchange",function(k){0<k.newVersion?console.warn("Another connection wants to upgrade database '".concat(a.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(a.name,"'. Closing db now to resume the delete request.")),a.close({disableAutoOpen:!1})}),this.on("blocked",function(k){!k.newVersion||k.newVersion<k.oldVersion?console.warn("Dexie.delete('".concat(a.name,"') was blocked")):console.warn("Upgrade '".concat(a.name,"' blocked by other connection holding version ").concat(k.oldVersion/10))}),this._maxKey=Or(o.IDBKeyRange),this._createTransaction=function(k,T,A,P){return new a.Transaction(k,T,A,a._options.chromeTransactionDurability,P)},this._fireOnBlocked=function(k){a.on("blocked").fire(k),or.filter(function(T){return T.name===a.name&&T!==a&&!T._state.vcFired}).map(function(T){return T.on("versionchange").fire(k)})},this.use(vu),this.use(ku),this.use(bu),this.use(yu),this.use(gu);var O=new Proxy(this,{get:function(k,T,A){if(T==="_vip")return!0;if(T==="table")return function($){return Es(a.table($),O)};var P=Reflect.get(k,T,A);return P instanceof ra?Es(P,O):T==="tables"?P.map(function($){return Es($,O)}):T==="_createTransaction"?function(){return Es(P.apply(this,arguments),O)}:P}});this.vip=O,l.forEach(function(k){return k(a)})}var Is,Ut=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",xu=(Wo.prototype.subscribe=function(r,o,a){return this._subscribe(r&&typeof r!="function"?r:{next:r,error:o,complete:a})},Wo.prototype[Ut]=function(){return this},Wo);function Wo(r){this._subscribe=r}try{Is={indexedDB:c.indexedDB||c.mozIndexedDB||c.webkitIndexedDB||c.msIndexedDB,IDBKeyRange:c.IDBKeyRange||c.webkitIDBKeyRange}}catch{Is={indexedDB:null,IDBKeyRange:null}}function Ca(r){var o,a=!1,l=new xu(function(d){var p=ht(r),v,w=!1,S={},E={},O={get closed(){return w},unsubscribe:function(){w||(w=!0,v&&v.abort(),k&&Rn.storagemutated.unsubscribe(A))}};d.start&&d.start(O);var k=!1,T=function(){return xo(P)},A=function($){Cs(S,$),No(E,S)&&T()},P=function(){var $,R,D;!w&&Is.indexedDB&&(S={},$={},v&&v.abort(),v=new AbortController,D=(function(F){var N=nr();try{p&&sr();var K=En(r,F);return K=p?K.finally(In):K}finally{N&&rr()}})(R={subscr:$,signal:v.signal,requery:T,querier:r,trans:null}),Promise.resolve(D).then(function(F){a=!0,o=F,w||R.signal.aborted||(S={},(function(N){for(var K in N)if(g(N,K))return;return 1})(E=$)||k||(Rn(Pr,A),k=!0),xo(function(){return!w&&d.next&&d.next(F)}))},function(F){a=!1,["DatabaseClosedError","AbortError"].includes(F?.name)||w||xo(function(){w||d.error&&d.error(F)})}))};return setTimeout(T,0),O});return l.hasValue=function(){return a},l.getValue=function(){return o},l}var zn=gn;function Yo(r){var o=$n;try{$n=!0,Rn.storagemutated.fire(r),qo(r,!0)}finally{$n=o}}_(zn,s(s({},He),{delete:function(r){return new zn(r,{addons:[]}).delete()},exists:function(r){return new zn(r,{addons:[]}).open().then(function(o){return o.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(r){try{return o=zn.dependencies,a=o.indexedDB,o=o.IDBKeyRange,(Mo(a)?Promise.resolve(a.databases()).then(function(l){return l.map(function(d){return d.name}).filter(function(d){return d!==fs})}):Bo(a,o).toCollection().primaryKeys()).then(r)}catch{return ut(new L.MissingAPI)}var o,a},defineClass:function(){return function(r){h(this,r)}},ignoreTransaction:function(r){return ve.trans?qn(ve.transless,r):r()},vip:jo,async:function(r){return function(){try{var o=Uo(r.apply(this,arguments));return o&&typeof o.then=="function"?o:ye.resolve(o)}catch(a){return ut(a)}}},spawn:function(r,o,a){try{var l=Uo(r.apply(a,o||[]));return l&&typeof l.then=="function"?l:ye.resolve(l)}catch(d){return ut(d)}},currentTransaction:{get:function(){return ve.trans||null}},waitFor:function(r,o){return o=ye.resolve(typeof r=="function"?zn.ignoreTransaction(r):r).timeout(o||6e4),ve.trans?ve.trans.waitFor(o):o},Promise:ye,debug:{get:function(){return G},set:function(r){Ae(r)}},derive:j,extend:h,props:_,override:X,Events:Sr,on:Rn,liveQuery:Ca,extendObservabilitySet:Cs,getByKeyPath:ke,setByKeyPath:Ce,delByKeyPath:function(r,o){typeof o=="string"?Ce(r,o,void 0):"length"in o&&[].map.call(o,function(a){Ce(r,a,void 0)})},shallowClone:Pe,deepClone:Xe,getObjectDiff:Vo,cmp:Fe,asap:xe,minKey:-1/0,addons:[],connections:or,errnames:z,dependencies:Is,cache:Hn,semVer:"4.2.0",version:"4.2.0".split(".").map(function(r){return parseInt(r)}).reduce(function(r,o,a){return r+o/Math.pow(10,2*a)})})),zn.maxKey=Or(zn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Rn(Pr,function(r){$n||(r=new CustomEvent(Io,{detail:r}),$n=!0,dispatchEvent(r),$n=!1)}),addEventListener(Io,function(r){r=r.detail,$n||Yo(r)}));var lr,$n=!1,Sa=function(){};return typeof BroadcastChannel<"u"&&((Sa=function(){(lr=new BroadcastChannel(Io)).onmessage=function(r){return r.data&&Yo(r.data)}})(),typeof lr.unref=="function"&&lr.unref(),Rn(Pr,function(r){$n||lr.postMessage(r)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(r){if(!gn.disableBfCache&&r.persisted){G&&console.debug("Dexie: handling persisted pagehide"),lr?.close();for(var o=0,a=or;o<a.length;o++)a[o].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(r){!gn.disableBfCache&&r.persisted&&(G&&console.debug("Dexie: handling persisted pageshow"),Sa(),Yo({all:new Ct(-1/0,[[]])}))})),ye.rejectionMapper=function(r,o){return!r||r instanceof wt||r instanceof TypeError||r instanceof SyntaxError||!r.name||!_e[r.name]?r:(o=new _e[r.name](o||r.message,r),"stack"in r&&q(o,"stack",{get:function(){return this.inner.stack}}),o)},Ae(G),s(gn,Object.freeze({__proto__:null,Dexie:gn,liveQuery:Ca,Entity:ea,cmp:Fe,PropModification:Er,replacePrefix:function(r,o){return new Er({replacePrefix:[r,o]})},add:function(r){return new Er({add:r})},remove:function(r){return new Er({remove:r})},default:gn,RangeSet:Ct,mergeRanges:Tr,rangesOverlap:pa}),{default:gn}),gn})})(Ks)),Ks.exports}var _p=bp();const Si=gp(_p),xc=Symbol.for("Dexie"),Zs=globalThis[xc]||(globalThis[xc]=Si);if(Si.semVer!==Zs.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Si.semVer} and ${Zs.semVer}`);const{liveQuery:fv,mergeRanges:hv,rangesOverlap:pv,RangeSet:mv,cmp:yv,Entity:gv,PropModification:vv,replacePrefix:bv,add:_v,remove:wv,DexieYProvider:kv}=Zs;class wp extends Zs{cards;card_lots;holdings;transactions;scans;decks;deck_cards;price_points;valuations;settings;scan_sale_links;constructor(){super("MtgTrackerDb"),this.version(1).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish",holdings:"id, cardId, acquisitionId, source, createdAt",transactions:"id, kind, cardId, source, externalRef, happenedAt",scans:"id, cardFingerprint, cardId, source, scannedAt",decks:"id, platform, name, importedAt",deck_cards:"[deckId+cardId], deckId, cardId",price_points:"id, cardId, provider, asOf",valuations:"id, asOf",settings:"k"}),this.version(2).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish, createdAt, updatedAt",holdings:"id, cardId, acquisitionId, source, createdAt, updatedAt",transactions:"id, kind, cardId, source, externalRef, happenedAt, createdAt, updatedAt",scans:"id, cardFingerprint, cardId, source, scannedAt, createdAt, updatedAt",decks:"id, platform, name, importedAt, createdAt, updatedAt",deck_cards:"[deckId+cardId], deckId, cardId, createdAt",price_points:"id, cardId, provider, asOf, createdAt",valuations:"id, asOf, createdAt",settings:"k, createdAt, updatedAt",scan_sale_links:"id, scanId, transactionId, matchedAt, createdAt"}).upgrade(async t=>{const n=new Date;await t.table("cards").toCollection().modify(s=>{s.createdAt=s.createdAt||n,s.updatedAt=s.updatedAt||n}),await t.table("holdings").toCollection().modify(s=>{s.createdAt=s.createdAt||n,s.updatedAt=s.updatedAt||n}),await t.table("transactions").toCollection().modify(s=>{s.createdAt=s.createdAt||n,s.updatedAt=s.updatedAt||n}),await t.table("scans").toCollection().modify(s=>{s.createdAt=s.createdAt||n,s.updatedAt=s.updatedAt||n}),await t.table("decks").toCollection().modify(s=>{s.createdAt=s.createdAt||n,s.updatedAt=s.updatedAt||n}),await t.table("deck_cards").toCollection().modify(s=>{s.createdAt=s.createdAt||n}),await t.table("price_points").toCollection().modify(s=>{s.createdAt=s.createdAt||n}),await t.table("valuations").toCollection().modify(s=>{s.createdAt=s.createdAt||n}),await t.table("settings").toCollection().modify(s=>{s.createdAt=s.createdAt||n,s.updatedAt=s.updatedAt||n})}),this.version(3).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish, createdAt, updatedAt",holdings:"id, cardId, acquisitionId, source, createdAt, updatedAt",transactions:"id, kind, cardId, source, externalRef, happenedAt, createdAt, updatedAt",scans:"id, cardFingerprint, cardId, source, scannedAt, createdAt, updatedAt",decks:"id, platform, name, importedAt, createdAt, updatedAt",deck_cards:"[deckId+cardId], deckId, cardId, createdAt",price_points:"id, cardId, provider, currency, asOf, createdAt, [cardId+asOf], [provider+asOf]",valuations:"id, asOf, createdAt, [asOf+createdAt]",settings:"k, createdAt, updatedAt",scan_sale_links:"id, scanId, transactionId, matchedAt, createdAt"}),this.version(4).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish, createdAt, updatedAt",card_lots:"id, cardId, acquisitionId, source, purchasedAt, disposedAt, createdAt, updatedAt, [cardId+purchasedAt], [acquisitionId+cardId]",holdings:"id, cardId, acquisitionId, source, createdAt, updatedAt",transactions:"id, kind, cardId, lotId, source, externalRef, happenedAt, relatedTransactionId, createdAt, updatedAt, [lotId+kind]",scans:"id, cardFingerprint, cardId, lotId, source, scannedAt, boosterPackId, createdAt, updatedAt, [lotId+scannedAt]",decks:"id, platform, name, importedAt, createdAt, updatedAt",deck_cards:"id, deckId, cardId, lotId, addedAt, removedAt, createdAt, [deckId+cardId], [lotId+addedAt]",price_points:"id, cardId, provider, currency, asOf, source, createdAt, [cardId+asOf], [provider+asOf]",valuations:"id, asOf, createdAt, [asOf+createdAt]",settings:"k, createdAt, updatedAt",scan_sale_links:"id, scanId, transactionId, quantity, matchedAt, createdAt"}).upgrade(async t=>{const n=new Date;await t.table("deck_cards").toCollection().modify(s=>{try{s.id||(s.id=`deckcard-${Date.now()}-${Math.random().toString(36).substr(2,9)}`),s.addedAt||(s.addedAt=s.createdAt||n),s.role||(s.role="main"),(!s.cardId||s.cardId==="")&&(s.cardId="unknown-card"),s.deckId||(s.deckId="unknown-deck"),typeof s.quantity!="number"&&(s.quantity=1),s.createdAt||(s.createdAt=n)}catch(i){console.error("Error upgrading deck card:",i,s);return}})})}}const we=new wp,ln={async add(e){return await we.cards.add(e)},async getById(e){return await we.cards.get(e)},async getAll(){return await we.cards.toArray()},async update(e,t){return await we.cards.update(e,t)},async delete(e){await we.cards.delete(e)}},un={async add(e){return await we.card_lots.add(e)},async getById(e){return await we.card_lots.get(e)},async getAll(){return await we.card_lots.toArray()},async getByCardId(e){return await we.card_lots.where("cardId").equals(e).toArray()},async getActiveLotsByCardId(e){return await we.card_lots.where("cardId").equals(e).and(t=>!t.disposedAt).toArray()},async update(e,t){return await we.card_lots.update(e,t)},async delete(e){await we.card_lots.delete(e)}},Ts={async add(e){return await we.holdings.add(e)},async getById(e){return await we.holdings.get(e)},async getAll(){return await we.holdings.toArray()},async getByCardId(e){return await we.holdings.where("cardId").equals(e).toArray()},async update(e,t){return await we.holdings.update(e,t)},async delete(e){await we.holdings.delete(e)}},dn={async add(e){return await we.transactions.add(e)},async getById(e){return await we.transactions.get(e)},async getAll(){return await we.transactions.toArray()},async getByCardId(e){return await we.transactions.where("cardId").equals(e).toArray()},async getByLotId(e){return await we.transactions.where("lotId").equals(e).toArray()},async getByKind(e){return await we.transactions.where("kind").equals(e).toArray()},async getBuyTransactionsByCardId(e){return await we.transactions.where("cardId").equals(e).and(t=>t.kind==="BUY").toArray()},async getSellTransactionsByCardId(e){return await we.transactions.where("cardId").equals(e).and(t=>t.kind==="SELL").toArray()},async update(e,t){return await we.transactions.update(e,t)},async delete(e){await we.transactions.delete(e)}},Ai={async add(e){return await we.price_points.add(e)},async getById(e){return await we.price_points.get(e)},async getByCardId(e){return await we.price_points.where("cardId").equals(e).toArray()},async update(e,t){return await we.price_points.update(e,t)},async delete(e){await we.price_points.delete(e)}},kp=Wi("cards",{state:()=>({cards:{},loading:!1,error:null}),getters:{getCardById:e=>t=>e.cards[t],getAllCards:e=>Object.values(e.cards),getCardsBySet:e=>t=>Object.values(e.cards).filter(n=>n.setCode===t)},actions:{async loadCards(){this.loading=!0,this.error=null;try{const e=await ln.getAll();this.cards=e.reduce((t,n)=>(t[n.id]=n,t),{})}catch(e){this.error=e instanceof Error?e.message:"Failed to load cards",console.error("Error loading cards:",e)}finally{this.loading=!1}},async addCard(e){try{await ln.add(e),this.cards[e.id]=e}catch(t){throw this.error=t instanceof Error?t.message:"Failed to add card",console.error("Error adding card:",t),t}},async updateCard(e,t){try{await ln.update(e,t),this.cards[e]&&(this.cards[e]={...this.cards[e],...t})}catch(n){throw this.error=n instanceof Error?n.message:"Failed to update card",console.error("Error updating card:",n),n}},async removeCard(e){try{await ln.delete(e),delete this.cards[e]}catch(t){throw this.error=t instanceof Error?t.message:"Failed to remove card",console.error("Error removing card:",t),t}}}}),xp=Wi("holdings",{state:()=>({holdings:{},loading:!1,error:null}),getters:{getHoldingById:e=>t=>e.holdings[t],getAllHoldings:e=>Object.values(e.holdings),getHoldingsByCardId:e=>t=>Object.values(e.holdings).filter(n=>n.cardId===t),getTotalQuantityByCardId:e=>t=>Object.values(e.holdings).filter(n=>n.cardId===t).reduce((n,s)=>n+s.quantity,0)},actions:{async loadHoldings(){this.loading=!0,this.error=null;try{const e=await Ts.getAll();this.holdings=e.reduce((t,n)=>(t[n.id]=n,t),{})}catch(e){this.error=e instanceof Error?e.message:"Failed to load holdings",console.error("Error loading holdings:",e)}finally{this.loading=!1}},async addHolding(e){try{await Ts.add(e),this.holdings[e.id]=e}catch(t){throw this.error=t instanceof Error?t.message:"Failed to add holding",console.error("Error adding holding:",t),t}},async updateHolding(e,t){try{await Ts.update(e,t),this.holdings[e]&&(this.holdings[e]={...this.holdings[e],...t})}catch(n){throw this.error=n instanceof Error?n.message:"Failed to update holding",console.error("Error updating holding:",n),n}},async removeHolding(e){try{await Ts.delete(e),delete this.holdings[e]}catch(t){throw this.error=t instanceof Error?t.message:"Failed to remove holding",console.error("Error removing holding:",t),t}}}}),Cp=Wi("transactions",{state:()=>({transactions:{},loading:!1,error:null}),getters:{getTransactionById:e=>t=>e.transactions[t],getAllTransactions:e=>Object.values(e.transactions),getTransactionsByCardId:e=>t=>Object.values(e.transactions).filter(n=>n.cardId===t),getTransactionsByKind:e=>t=>Object.values(e.transactions).filter(n=>n.kind===t),getTotalValueByKind:e=>t=>Object.values(e.transactions).filter(n=>n.kind===t).reduce((n,s)=>{const i=s.unitPrice*s.quantity,c=s.fees||0,u=s.shipping||0;return t==="BUY"?n+i+c+u:n+i-c-u},0)},actions:{async loadTransactions(){this.loading=!0,this.error=null;try{const e=await dn.getAll();this.transactions=e.reduce((t,n)=>(t[n.id]=n,t),{})}catch(e){this.error=e instanceof Error?e.message:"Failed to load transactions",console.error("Error loading transactions:",e)}finally{this.loading=!1}},async addTransaction(e){try{await dn.add(e),this.transactions[e.id]=e}catch(t){throw this.error=t instanceof Error?t.message:"Failed to add transaction",console.error("Error adding transaction:",t),t}},async updateTransaction(e,t){try{await dn.update(e,t),this.transactions[e]&&(this.transactions[e]={...this.transactions[e],...t})}catch(n){throw this.error=n instanceof Error?n.message:"Failed to update transaction",console.error("Error updating transaction:",n),n}},async removeTransaction(e){try{await dn.delete(e),delete this.transactions[e]}catch(t){throw this.error=t instanceof Error?t.message:"Failed to remove transaction",console.error("Error removing transaction:",t),t}}}});class Ge{cents;currency;constructor(t,n="EUR"){this.cents=Math.round(t),this.currency=n}static parse(t,n="EUR"){if(typeof t=="number")return new Ge(t*100,n);const s=t.replace(/[$\s]/g,"").replace(",","."),i=parseFloat(s);return new Ge(isNaN(i)?0:i*100,n)}getCents(){return this.cents}getDecimal(){return this.cents/100}getCurrency(){return this.currency}add(t){if(this.currency!==t.currency)throw new Error("Cannot add Money values with different currencies");return new Ge(this.cents+t.cents,this.currency)}subtract(t){if(this.currency!==t.currency)throw new Error("Cannot subtract Money values with different currencies");return new Ge(this.cents-t.cents,this.currency)}multiply(t){return new Ge(this.cents*t,this.currency)}divide(t){return new Ge(this.cents/t,this.currency)}format(t="de-DE"){return new Intl.NumberFormat(t,{style:"currency",currency:this.currency,minimumFractionDigits:2,maximumFractionDigits:2}).format(this.getDecimal())}isZero(){return this.cents===0}isPositive(){return this.cents>0}isNegative(){return this.cents<0}}class Ds{static async calculateLotValue(t){if(t.cardId){const n=await Ai.getByCardId(t.cardId);if(n.length>0){n.sort((u,f)=>f.asOf.getTime()-u.asOf.getTime());const s=n[0],i=new Ge(s.price,s.currency),c=t.disposedQuantity?t.quantity-t.disposedQuantity:t.quantity;return i.multiply(c)}}return new Ge(0,"EUR")}static async calculateLotCostBasis(t){return new Ge(t.unitCost,"EUR").multiply(t.quantity)}static async calculateRealizedPnL(){const t=await dn.getByKind("SELL");let n=new Ge(0,"EUR");for(const s of t){const i=new Ge(s.unitPrice,s.currency).multiply(s.quantity);let c=new Ge(0,"EUR");if(s.lotId){const y=await un.getById(s.lotId);y&&(c=new Ge(y.unitCost,y.currency||"EUR").multiply(s.quantity))}else s.cardId&&(c=await this.calculateFIFOCostForCard(s.cardId,s.quantity));const u=new Ge(s.fees,s.currency),f=new Ge(s.shipping,s.currency),h=i.subtract(c).subtract(u).subtract(f);n=n.add(h)}return n}static async calculateFIFOCostForCard(t,n){const s=await dn.getBuyTransactionsByCardId(t);s.sort((u,f)=>u.happenedAt.getTime()-f.happenedAt.getTime());let i=n,c=new Ge(0,"EUR");for(const u of s){if(i<=0)break;const f=Math.min(i,u.quantity),y=new Ge(u.unitPrice,u.currency).multiply(f);c=c.add(y),i-=f}return c}static async calculatePortfolioValue(){const t=await un.getAll();let n=new Ge(0,"EUR");for(const s of t)if(!s.disposedAt||s.disposedQuantity&&s.disposedQuantity<s.quantity){const i=await this.calculateLotValue(s);n=n.add(i)}return n}static async calculateTotalCostBasis(){const t=await un.getAll();let n=new Ge(0,"EUR");for(const s of t)if(!s.disposedAt||s.disposedQuantity&&s.disposedQuantity<s.quantity){const i=await this.calculateLotCostBasis(s);n=n.add(i)}return n}static async calculateUnrealizedPnL(){const t=await this.calculatePortfolioValue(),n=await this.calculateTotalCostBasis();return t.subtract(n)}}class Gt{static BASE_URL="https://api.scryfall.com";static lastRequestTime=0;static RATE_LIMIT_DELAY=100;static async enforceRateLimit(){const n=Date.now()-this.lastRequestTime;if(n<this.RATE_LIMIT_DELAY){const s=this.RATE_LIMIT_DELAY-n;await new Promise(i=>setTimeout(i,s))}this.lastRequestTime=Date.now()}static async getPriceById(t){try{await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/${t}`);if(!n.ok)return null;const i=(await n.json()).prices?.eur;return i?Ge.parse(i,"EUR"):null}catch(n){return console.error("Error fetching price from Scryfall:",n),null}}static async getPriceBySetAndNumber(t,n){try{await this.enforceRateLimit();const s=await fetch(`${this.BASE_URL}/cards/${t}/${n}`);if(!s.ok)return null;const c=(await s.json()).prices?.eur;return c?Ge.parse(c,"EUR"):null}catch(s){return console.error("Error fetching price from Scryfall:",s),null}}static async getImageUrlById(t){try{await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/${t}`);if(!n.ok)return null;const s=await n.json();return s.image_uris?.normal||s.image_uris?.large||s.image_uris?.small||null}catch(n){return console.error("Error fetching image from Scryfall:",n),null}}static async getImageUrlBySetAndNumber(t,n){try{await this.enforceRateLimit();const s=await fetch(`${this.BASE_URL}/cards/${t}/${n}`);if(!s.ok)return null;const i=await s.json();return i.image_uris?.normal||i.image_uris?.large||i.image_uris?.small||null}catch(s){return console.error("Error fetching image from Scryfall:",s),null}}static async getByCardmarketId(t){try{await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/cardmarket/${t}`);if(!n.ok){console.error(`Scryfall API error for cardmarket_id ${t}: ${n.status} ${n.statusText}`);try{const s=await n.text();console.error(`Scryfall API error details: ${s}`)}catch{console.error("Could not read error response body")}return null}return await n.json()}catch(n){return console.error("Error fetching card by Cardmarket ID from Scryfall:",n),null}}static async getByCardmarketIds(t){try{if(!t||t.length===0)return[];if(t.length===1){const i=await this.getByCardmarketId(t[0]);return i?[i]:[]}await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/collection`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifiers:t.map(i=>({cardmarket_id:i}))})});if(!n.ok){console.error(`Scryfall API error for batch cardmarket_ids: ${n.status} ${n.statusText}`);try{const i=await n.text();console.error(`Scryfall API error details: ${i}`)}catch{console.error("Could not read error response body")}return await this.getByCardmarketIdsIndividually(t)}return(await n.json()).data||[]}catch(n){return console.error("Error fetching cards by Cardmarket IDs from Scryfall:",n),await this.getByCardmarketIdsIndividually(t)}}static async getByCardmarketIdsIndividually(t){const n=[];for(const s of t){const i=await this.getByCardmarketId(s);i&&n.push(i)}return n}static async hydrateCard(t){try{if(t.scryfall_id){await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/${t.scryfall_id}`);if(n.ok)return await n.json()}if(t.setCode&&t.collectorNumber){await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/${t.setCode}/${t.collectorNumber}`);if(n.ok)return await n.json()}if(t.name&&t.setCode){await this.enforceRateLimit();let n=await fetch(`${this.BASE_URL}/cards/named?exact=${encodeURIComponent(t.name)}&set=${encodeURIComponent(t.setCode)}`);if(n.ok)return await n.json();if(t.version&&(await this.enforceRateLimit(),n=await fetch(`${this.BASE_URL}/cards/named?exact=${encodeURIComponent(t.name)}&set=${encodeURIComponent(t.setCode)}&include_variations=true`),n.ok))return await n.json();if(await this.enforceRateLimit(),n=await fetch(`${this.BASE_URL}/cards/named?fuzzy=${encodeURIComponent(t.name)}&set=${encodeURIComponent(t.setCode)}`),n.ok)return await n.json()}return null}catch(n){return console.error("Error hydrating card with Scryfall data:",n),null}}}class li{static async syncPrices(){try{const t=new Date,n=await ln.getAll();for(const s of n)try{const i=await Gt.getPriceById(s.id);if(i){const c=t.toISOString().split("T")[0],f={id:`${s.id}:scryfall:${c}`,cardId:s.id,provider:"scryfall",currency:i.getCurrency(),price:i.getCents(),asOf:t,createdAt:t};await we.price_points.put(f)}}catch(i){console.error(`Error syncing price for card ${s.id}:`,i)}}catch(t){throw console.error("Error syncing prices:",t),t}}static async syncPriceForCard(t){try{const n=new Date,s=await ln.getById(t);if(!s){console.warn(`Card with ID ${t} not found`);return}const i=await Gt.getPriceById(s.id);if(i){const c=n.toISOString().split("T")[0],f={id:`${s.id}:scryfall:${c}`,cardId:s.id,provider:"scryfall",currency:i.getCurrency(),price:i.getCents(),asOf:n,createdAt:n};await we.price_points.put(f)}}catch(n){throw console.error(`Error syncing price for card ${t}:`,n),n}}static async needsPriceUpdate(){try{const t=await we.price_points.orderBy("asOf").last();if(!t)return!0;const n=new Date,s=new Date(t.asOf);return(n.getTime()-s.getTime())/(1e3*60*60)>=24}catch(t){return console.error("Error checking if price update is needed:",t),!0}}static async needsPriceUpdateForCard(t){try{const n=await Ai.getByCardId(t);if(n.length===0)return!0;n.sort((f,h)=>h.asOf.getTime()-f.asOf.getTime());const s=n[0],i=new Date,c=new Date(s.asOf);return(i.getTime()-c.getTime())/(1e3*60*60)>=24}catch(n){return console.error(`Error checking if price update is needed for card ${t}:`,n),!0}}static async getLatestPriceForCard(t){try{const n=await Ai.getByCardId(t);if(n.length===0)return null;n.sort((i,c)=>c.asOf.getTime()-i.asOf.getTime());const s=n[0];return{price:s.price,asOf:s.asOf}}catch(n){return console.error(`Error getting latest price for card ${t}:`,n),null}}}const Sp={class:"home"},Ap={class:"dashboard-stats"},Ep={class:"stat-card"},Ip={class:"stat-value"},Pp={class:"stat-card"},Op={class:"stat-value"},Rp={class:"stat-card"},$p={class:"stat-card"},Tp=Wt({__name:"HomeView",setup(e){const t=kp(),n=xp(),s=Cp(),i=je("0.00"),c=je("0.00"),u=je("0.00"),f=je("0.00"),h=g=>g.format("de-DE"),y=async()=>{try{await t.loadCards(),await n.loadHoldings(),await s.loadTransactions();const g=await Ds.calculatePortfolioValue(),_=await Ds.calculateTotalCostBasis(),I=await Ds.calculateUnrealizedPnL(),q=await Ds.calculateRealizedPnL();i.value=h(g),c.value=h(_),u.value=h(I),f.value=h(q)}catch(g){console.error("Error loading dashboard data:",g)}},m=async()=>{try{await li.syncPrices(),await y(),alert("Prices refreshed successfully")}catch(g){console.error("Error refreshing prices:",g),alert("Failed to refresh prices: "+g.message)}};return Cr(async()=>{if(await li.needsPriceUpdate())try{await li.syncPrices()}catch(_){console.error("Error updating prices on app start:",_)}await y()}),(g,_)=>(Q(),J("div",Sp,[_[4]||(_[4]=C("h1",null,"MTG Collection Value Tracker",-1)),C("div",Ap,[C("div",Ep,[_[0]||(_[0]=C("h2",null,"Portfolio Value",-1)),C("p",Ip,fe(i.value),1)]),C("div",Pp,[_[1]||(_[1]=C("h2",null,"Total Cost",-1)),C("p",Op,fe(c.value),1)]),C("div",Rp,[_[2]||(_[2]=C("h2",null,"Unrealized P/L",-1)),C("p",{class:Mt(["stat-value",parseFloat(u.value)>=0?"positive":"negative"])},fe(u.value),3)]),C("div",$p,[_[3]||(_[3]=C("h2",null,"Realized P/L",-1)),C("p",{class:Mt(["stat-value",parseFloat(f.value)>=0?"positive":"negative"])},fe(f.value),3)])]),C("div",{class:"actions"},[C("button",{onClick:m},"Refresh Prices")])]))}}),Dp=mn(Tp,[["__scopeId","data-v-4c9e2fdb"]]),Bt=e=>e.toLowerCase().normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"").replace(/[\s-]+/g," ").replace(/[:'"]/g,"").trim();function br(e){const t=new Map;for(const n of e)t.set(Bt(n.name),n);return{byName:t}}async function Bp(e){const t=e.trim(),n=Bt(t),s=await Cc(),c=(await Mp()).get(n);if(c)return console.log(`Set code resolved from alias: ${t} -> ${c}`),c;const u=s.byName.get(n);if(u)return console.log(`Set code resolved from exact match: ${t} -> ${u.code}`),await Ft(n,u.code),u.code;if(/^commander:\s*/i.test(t)&&/: extras$/i.test(t)){const y=t.replace(/^commander:\s*/i,"").replace(/: extras$/i,"").trim(),m=s.byName.get(Bt(`${y} Commander`));if(m)return console.log(`Set code resolved from commander + extras nested: ${t} -> ${m.code}`),await Ft(n,m.code),m.code;const g=s.byName.get(Bt(y));if(g)return console.log(`Set code resolved from commander + extras nested (base): ${t} -> ${g.code}`),await Ft(n,g.code),g.code}if(/^commander:\s*/i.test(t)){const y=t.replace(/^commander:\s*/i,"").trim(),m=s.byName.get(Bt(`${y} Commander`));if(m)return console.log(`Set code resolved from commander rewrite (commander): ${t} -> ${m.code}`),await Ft(n,m.code),m.code;const g=s.byName.get(Bt(y));if(g)return console.log(`Set code resolved from commander rewrite (base): ${t} -> ${g.code}`),await Ft(n,g.code),g.code}if(/: extras$/i.test(t)){const y=Bt(t.replace(/: extras$/i,"")),m=s.byName.get(y);if(m)return console.log(`Set code resolved from extras suffix: ${t} -> ${m.code}`),await Ft(n,m.code),m.code}if(/^universes beyond:\s*/i.test(t)){const y=t.replace(/^universes beyond:\s*/i,"").trim();if(/: extras$/i.test(y)){const g=Bt(y.replace(/: extras$/i,"")),_=s.byName.get(g);if(_)return console.log(`Set code resolved from universes beyond + extras: ${t} -> ${_.code}`),await Ft(n,_.code),_.code}const m=s.byName.get(Bt(y));if(m)return console.log(`Set code resolved from universes beyond: ${t} -> ${m.code}`),await Ft(n,m.code),m.code}if(/^magic: the gathering -\s*/i.test(t)){const y=t.replace(/^magic: the gathering -\s*/i,"").trim();if(/: extras$/i.test(y)){const g=Bt(y.replace(/: extras$/i,"")),_=s.byName.get(g);if(_)return console.log(`Set code resolved from magic: the gathering - extras: ${t} -> ${_.code}`),await Ft(n,_.code),_.code}const m=s.byName.get(Bt(y));if(m)return console.log(`Set code resolved from magic: the gathering -: ${t} -> ${m.code}`),await Ft(n,m.code),m.code}if(/^secret lair drop series:/i.test(t)){const y=t.replace(/^secret lair drop series:/i,"").trim();if(/: extras$/i.test(y)){const g=Bt(y.replace(/: extras$/i,"")),_=s.byName.get(g);if(_)return console.log(`Set code resolved from secret lair drop series + extras: ${t} -> ${_.code}`),await Ft(n,_.code),_.code}const m=s.byName.get(Bt(y));if(m)return console.log(`Set code resolved from secret lair drop series: ${t} -> ${m.code}`),await Ft(n,m.code),m.code}console.log(`Set code unresolved: ${t}`),await Gl();const h=(await Cc()).byName.get(n);return h?(console.log(`Set code resolved from fresh exact match: ${t} -> ${h.code}`),h.code):(await Ft(n,null),null)}async function Cc(){try{const e=Date.now()-6048e5,t=await we.settings.get("scryfall_sets_cache");return t&&t.v&&t.v.fetchedAt>e?(console.log("Using cached Scryfall sets data"),br(t.v.sets)):(console.log("Refreshing Scryfall sets cache (no cache or old cache)"),await Gl())}catch(e){console.error("Error in getSetIndex:",e);try{const t=await we.settings.get("scryfall_sets_cache");if(t&&t.v)return console.log("Using old cached Scryfall sets data due to error"),br(t.v.sets)}catch(t){console.error("Error accessing cached Scryfall sets data:",t)}return console.log("Returning empty Scryfall sets index"),br([])}}async function Gl(){try{console.log("Fetching Scryfall sets data...");const e=await fetch("https://api.scryfall.com/sets");if(!e.ok)throw new Error(`Failed to fetch sets: ${e.status} ${e.statusText}`);const n=(await e.json()).data||[];return console.log(`Fetched ${n.length} Scryfall sets`),await we.settings.put({k:"scryfall_sets_cache",v:{sets:n,fetchedAt:Date.now()},createdAt:new Date,updatedAt:new Date}),br(n)}catch(e){console.error("Error refreshing Scryfall sets cache:",e);try{const t=await we.settings.get("scryfall_sets_cache");if(t&&t.v)return console.log("Using old cached Scryfall sets data due to fetch error"),br(t.v.sets)}catch(t){console.error("Error accessing cached Scryfall sets data:",t)}return console.log("Returning empty Scryfall sets index due to errors"),br([])}}async function Mp(){const e=new Map,t=await we.settings.get("set_code_aliases");if(t&&t.v)for(const[n,s]of Object.entries(t.v))e.set(n,s);return e}async function Ft(e,t){try{const n=Bt(e),s=await we.settings.get("set_code_aliases");let i={};s&&s.v&&(i={...s.v}),i[n]=t,await we.settings.put({k:"set_code_aliases",v:i,createdAt:s?.createdAt||new Date,updatedAt:new Date})}catch(n){console.error("Error storing set code alias:",n)}}class _r{static async importCardmarketTransactions(t){try{const n=new Date;for(const s of t){const i=`cardmarket:${s.reference}:${s.lineNumber}`;if(await we.transactions.where("externalRef").equals(i).first())continue;const u=Ge.parse(s.amount,"EUR"),f={id:`tx-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,kind:u.isPositive()?"SELL":"BUY",quantity:1,unitPrice:u.getCents(),fees:0,shipping:0,currency:"EUR",source:"cardmarket",externalRef:i,happenedAt:new Date(s.date),createdAt:n,updatedAt:n};await dn.add(f)}}catch(n){throw console.error("Error importing Cardmarket transactions:",n),n}}static async importCardmarketOrders(t){try{const n=new Date;for(const s of t){const i=`cardmarket:order:${s.orderId}:${s.lineNumber}`;if(await we.transactions.where("externalRef").equals(i).first())continue;const u=Ge.parse(s.merchandiseValue,"EUR"),f=Ge.parse(s.shipmentCosts,"EUR"),h=Ge.parse(s.commission,"EUR"),y={id:`order-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,kind:s.direction==="sale"?"SELL":"BUY",quantity:parseInt(s.articleCount)||1,unitPrice:Math.round(u.getCents()/(parseInt(s.articleCount)||1)),fees:h.getCents(),shipping:f.getCents(),currency:"EUR",source:"cardmarket",externalRef:i,happenedAt:new Date(s.dateOfPurchase),createdAt:n,updatedAt:n};await dn.add(y)}}catch(n){throw console.error("Error importing Cardmarket orders:",n),n}}static async importCardmarketArticles(t){try{const n=new Date;for(const s of t){let i=null,c=null;if(s.productId){const m=s.productId.split(" | ").map(g=>g.trim());if(m.length===1)i=await Gt.getByCardmarketId(m[0]),console.log(JSON.stringify({product_ids:m,resolved_via:"cardmarket_id",cardmarket_id:m[0],final_uri:`/cards/cardmarket/${m[0]}`}));else if(m.length>1){const g=await Gt.getByCardmarketIds(m);g&&g.length>0&&(i=g[0],console.log(JSON.stringify({product_ids:m,resolved_via:"cardmarket_id",cardmarket_id:m[0],final_uri:"/cards/collection"})))}c=i?.id||null}const u=m=>{const g=[/-\s*(\d+[a-zA-Z]*)\s*-/i,/-\s*([IVXLCDM]+)\s*-/i,/\s+(\d+[a-zA-Z]*)\s*$/i,/\((\d+[a-zA-Z]*)\)/i];for(const _ of g){const I=m.match(_);if(I)return I[1]}return""};if(!c){const m=await Bp(s.expansion);let g=s.name,_=null;const I=s.name.match(/^(.+?)\s*\((V\.\d+)\)$/i);I&&(g=I[1].trim(),_=I[2]);let q=u(s.name);console.log(JSON.stringify({product_ids:s.productId?s.productId.split(" | ").map(j=>j.trim()):[],resolved_via:"set+cn",set_code:m,collector_number:q,final_uri:m?`/cards/${m}/${q}`:""})),i=await Gt.hydrateCard({name:g,setCode:m||s.expansion,collectorNumber:q,version:_}),c=i?.id||null,c||console.log(JSON.stringify({product_ids:s.productId?s.productId.split(" | ").map(j=>j.trim()):[],resolved_via:"none",set_code:null,collector_number:"",final_uri:"",name:s.name,expansion:s.expansion}))}const f=Ge.parse(s.price,"EUR");if(c)if(await ln.getById(c))try{const g=n.toISOString().split("T")[0],_=`${c}:scryfall:${g}`;if(!await we.price_points.get(_)){const q=await Gt.getPriceById(c);if(q){const j={id:_,cardId:c,provider:"scryfall",currency:q.getCurrency(),price:q.getCents(),asOf:n,createdAt:n};await we.price_points.put(j)}}}catch(g){console.error(`Error checking/updating price for existing card ${c}:`,g)}else{const g=i||await Gt.hydrateCard({scryfall_id:c,name:s.name,setCode:s.expansion,collectorNumber:""}),_=await Gt.getImageUrlById(c);let I=u(s.name);const q={id:c,oracleId:g?.oracle_id||i?.oracle_id||"",name:s.name,set:g?.set_name||i?.set_name||s.expansion,setCode:g?.set||i?.set||s.expansion,number:g?.collector_number||i?.collector_number||I||"",lang:g?.lang||i?.lang||"en",finish:"nonfoil",imageUrl:_||"",createdAt:n,updatedAt:n};await ln.add(q);try{const j=await Gt.getPriceById(c);if(j){const V=n.toISOString().split("T")[0],re={id:`${c}:scryfall:${V}`,cardId:c,provider:"scryfall",currency:j.getCurrency(),price:j.getCents(),asOf:n,createdAt:n};await we.price_points.put(re)}}catch(j){console.error(`Error fetching price for new card ${c}:`,j)}}if(s.direction==="purchase"){const m=await un.getByCardId(c||"");let g=null;for(const _ of m)if(!(await dn.getByLotId(_.id)).some(j=>j.kind==="BUY")){g=_;break}if(g)await un.update(g.id,{unitCost:f.getCents(),source:"cardmarket",purchasedAt:new Date(s.dateOfPurchase),updatedAt:n});else{const I={id:`lot-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,cardId:c||"",quantity:parseInt(s.amount)||1,unitCost:f.getCents(),condition:"",language:"",foil:!1,finish:"nonfoil",source:"cardmarket",currency:"EUR",purchasedAt:new Date(s.dateOfPurchase),createdAt:n,updatedAt:n};await un.add(I)}}let h;if(s.direction==="purchase"){const m=await un.getByCardId(c||"");m.sort((g,_)=>_.updatedAt.getTime()-g.updatedAt.getTime()),m.length>0&&(h=m[0].id)}const y={id:`article-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,kind:s.direction==="sale"?"SELL":"BUY",cardId:c||void 0,lotId:h,quantity:parseInt(s.amount)||1,unitPrice:f.getCents(),fees:0,shipping:0,currency:"EUR",source:"cardmarket",externalRef:`cardmarket:article:${s.shipmentId}:${s.lineNumber}`,happenedAt:new Date(s.dateOfPurchase),createdAt:n,updatedAt:n};await dn.add(y)}}catch(n){throw console.error("Error importing Cardmarket articles:",n),n}}}const jp={class:"csv-import"},Fp={class:"import-section"},Np={class:"file-upload"},Kp={class:"file-upload"},Lp={class:"file-upload"},qp={class:"import-section"},Up={class:"file-upload"},Vp=Wt({__name:"CsvImportView",setup(e){const t=je(null),n=(f,h)=>{t.value={type:f,message:h},setTimeout(()=>{t.value=null},5e3)},s=async f=>{const h=f.target,y=h.files?.[0];if(y)try{const g=(await y.text()).split(`
`),_=g[0].split(";").map(q=>q.trim()),I=[];for(let q=1;q<g.length;q++){const j=g[q].trim();if(!j)continue;const V=j.split(";"),Z={};for(let re=0;re<_.length;re++){const X=_[re].toLowerCase(),te=V[re]?V[re].trim():"";switch(X){case"reference":case"referenz":case"transaktions-id":Z.reference=te;break;case"date":case"datum":case"date paid":Z.date=te;break;case"category":case"kategorie":Z.category=te;break;case"type":case"typ":Z.type=te;break;case"counterpart":case"gegenpartei":Z.counterpart=te;break;case"amount":case"betrag":Z.amount=te;break;case"closing balance (eur)":case"balance after":case"saldo danach (eur)":Z.balanceAfter=te;break}}Z.reference&&(Z.currency="EUR",I.push(Z))}await _r.importCardmarketTransactions(I),n("success",`Successfully imported ${I.length} transactions`),h.value=""}catch(m){console.error("Error importing transactions:",m),n("error","Failed to import transactions: "+m.message)}},i=async f=>{const h=f.target,y=h.files?.[0];if(y)try{const g=y.name.toLowerCase().includes("purchased")?"purchase":"sale",I=(await y.text()).split(`
`),q=I[0].split(";").map(V=>V.trim()),j=[];for(let V=1;V<I.length;V++){const Z=I[V].trim();if(!Z)continue;const re=Z.split(";"),X={};for(let te=0;te<q.length;te++){const xe=q[te].toLowerCase(),ke=re[te]?re[te].trim():"";switch(xe){case"order id":case"orderid":case"bestellnummer":X.orderId=ke;break;case"date of purchase":case"date":case"date of payment":case"kaufdatum":case"zahlungsdatum":X.dateOfPurchase=ke;break;case"username":case"benutzername":X.username=ke;break;case"country":case"land":X.country=ke;break;case"city":case"stadt":X.city=ke;break;case"article count":case"items":case"anzahl artikel":X.articleCount=ke;break;case"merchandise value":case"warenwert":X.merchandiseValue=ke;break;case"shipment costs":case"versandkosten":X.shipmentCosts=ke;break;case"commission":case"trustee service fee":case"provision":X.commission=ke;break;case"total value":case"gesamtwert":X.totalValue=ke;break}}X.orderId&&(X.direction=g,X.currency="EUR",j.push(X))}await _r.importCardmarketOrders(j),n("success",`Successfully imported ${j.length} ${g} orders`),h.value=""}catch(m){console.error("Error importing orders:",m),n("error","Failed to import orders: "+m.message)}},c=async f=>{const h=f.target,y=h.files?.[0];if(y)try{const g=y.name.toLowerCase().includes("purchased")?"purchase":"sale",I=(await y.text()).split(`
`),q=I[0].split(";").map(V=>V.trim()),j=[];for(let V=1;V<I.length;V++){const Z=I[V].trim();if(!Z)continue;const re=Z.split(";"),X={};for(let te=0;te<q.length;te++){const xe=q[te].toLowerCase(),ke=re[te]?re[te].trim():"";switch(xe){case"shipment nr.":case"shipment nr":case"shipment id":case"order id":case"bestellnummer":X.shipmentId=ke;break;case"date of purchase":case"date":X.dateOfPurchase=ke;break;case"product id":case"produkt id":X.productId=ke;break;case"article":case"artikel":case"localized product name":case"produktname":X.name=ke;break;case"expansion":case"erweiterung":X.expansion=ke;break;case"category":case"kategorie":X.category=ke;break;case"amount":case"anzahl":X.amount=ke;break;case"article value":case"price":case"preis":X.price=ke;break;case"total":X.total=ke;break;case"currency":X.currency=ke;break;case"comments":X.comments=ke;break}}X.shipmentId&&(X.direction=g,X.currency||(X.currency="EUR"),j.push(X))}await _r.importCardmarketArticles(j),n("success",`Successfully imported ${j.length} ${g} articles`),h.value=""}catch(m){console.error("Error importing articles:",m),n("error","Failed to import articles: "+m.message)}},u=async f=>{const h=f.target;h.files?.[0]&&(n("success","ManaBox import functionality would be implemented here"),h.value="")};return(f,h)=>(Q(),J("div",jp,[h[8]||(h[8]=C("h1",null,"Import CSV Files",-1)),C("div",Fp,[h[3]||(h[3]=C("h2",null,"Cardmarket Data",-1)),h[4]||(h[4]=C("p",null,"Import your Cardmarket transaction data to track your purchases and sales.",-1)),C("div",Np,[h[0]||(h[0]=C("label",{for:"transactions-csv",class:"file-label"}," Upload Transactions CSV ",-1)),C("input",{id:"transactions-csv",type:"file",accept:".csv",onChange:s,class:"file-input"},null,32)]),C("div",Kp,[h[1]||(h[1]=C("label",{for:"orders-csv",class:"file-label"}," Upload Orders CSV ",-1)),C("input",{id:"orders-csv",type:"file",accept:".csv",onChange:i,class:"file-input"},null,32)]),C("div",Lp,[h[2]||(h[2]=C("label",{for:"articles-csv",class:"file-label"}," Upload Articles CSV ",-1)),C("input",{id:"articles-csv",type:"file",accept:".csv",onChange:c,class:"file-input"},null,32)])]),C("div",qp,[h[6]||(h[6]=C("h2",null,"ManaBox Scans",-1)),h[7]||(h[7]=C("p",null,"Import your ManaBox scan data to track your physical collection.",-1)),C("div",Up,[h[5]||(h[5]=C("label",{for:"manabox-csv",class:"file-label"}," Upload ManaBox CSV ",-1)),C("input",{id:"manabox-csv",type:"file",accept:".csv",onChange:u,class:"file-input"},null,32)])]),t.value?(Q(),J("div",{key:0,class:Mt(["status-message",t.value.type])},fe(t.value.message),3)):Te("",!0)]))}}),Hp=mn(Vp,[["__scopeId","data-v-5b86de23"]]);function zp(e){return new Worker("/mtg-pwa/assets/cardmarketCsv-GHGAoa0o.js",{name:e?.name})}const Wp={class:"cardmarket-wizard"},Yp={class:"wizard-progress"},Qp={class:"step-number"},Gp={class:"step-label"},Jp={class:"wizard-content"},Xp={key:0,class:"step-content"},Zp={class:"file-upload-section"},em={class:"file-upload"},tm={key:0,class:"files-info"},nm={class:"file-list"},rm={class:"file-name"},sm={class:"file-type"},om={class:"file-size"},im={key:0,class:"error-messages"},am={key:1,class:"step-content"},cm={key:0,class:"preview-stats"},lm={class:"stat"},um={class:"stat-value"},dm={class:"stat"},fm={class:"stat-value"},hm={class:"stat"},pm={class:"stat-value"},mm={key:1,class:"preview-table-container"},ym={class:"preview-table-wrapper"},gm={class:"preview-table"},vm={key:0},bm={key:1},_m={key:2},wm={key:3},km={key:4},xm={key:5},Cm={key:6},Sm={key:7},Am={key:8},Em={key:9},Im={key:10},Pm={key:11},Om={key:12},Rm={key:13},$m={key:0},Tm={key:1},Dm={key:2},Bm={key:3},Mm={key:4},jm={key:5},Fm={key:6},Nm={key:7},Km={key:8},Lm={key:9},qm={key:10},Um={key:11},Vm={key:12},Hm={key:13},zm={key:0},Wm=["colspan"],Ym={key:2,class:"invalid-rows-section"},Qm={class:"invalid-rows"},Gm={class:"row-number"},Jm={class:"row-errors"},Xm={key:0,class:"more-rows"},Zm={key:2,class:"step-content"},ey={key:3,class:"step-content"},ty={class:"summary-stats"},ny={class:"stat"},ry={class:"stat-value"},sy={class:"stat"},oy={class:"stat-value"},iy={class:"summary-details"},ay={class:"summary-grid"},cy={class:"summary-item"},ly={class:"summary-value"},uy={class:"summary-item"},dy={class:"summary-value"},fy={class:"summary-item"},hy={class:"summary-value"},py={class:"wizard-navigation"},my=["disabled"],yy=["disabled"],gy=Wt({__name:"CardmarketImportWizard",setup(e){const t=[{key:"upload",title:"Upload"},{key:"preview",title:"Preview"},{key:"conflicts",title:"Conflicts"},{key:"summary",title:"Summary"}],n=je(0),s=je([]),i=je({}),c=je({}),u=je({}),f=je([]),h=je(null),y=je(!1),m=ie=>{if(ie===0)return"0 Bytes";const H=1024,M=["Bytes","KB","MB","GB"],oe=Math.floor(Math.log(ie)/Math.log(H));return parseFloat((ie/Math.pow(H,oe)).toFixed(2))+" "+M[oe]},g=ie=>new Intl.NumberFormat("en-EU",{style:"currency",currency:"EUR"}).format(ie/100),_=async ie=>{const M=ie.target.files;if(!(!M||M.length===0)){f.value=[],s.value=Array.from(M);try{for(const oe of s.value){if(!oe.name.endsWith(".csv")){f.value.push(`File ${oe.name} is not a CSV file.`);continue}const ue=await oe.text();i.value[oe.name]=ue,c.value[oe.name]=Xe(oe.name)}await I()}catch(oe){f.value.push("Failed to read the files: "+oe.message)}}},I=async()=>{try{u.value={};for(const[ie,H]of Object.entries(i.value)){const M=c.value[ie];if(M==="unknown"){console.warn(`Skipping unknown file type: ${ie}`);continue}const oe=new zp;let ue="",qe="sale";switch(M){case"transactions":ue="parseTransactions";break;case"sold-orders":ue="parseOrders",qe="sale";break;case"purchased-orders":ue="parseOrders",qe="purchase";break;case"sold-articles":ue="parseArticles",qe="sale";break;case"purchased-articles":ue="parseArticles",qe="purchase";break}oe.postMessage({type:ue,data:H,direction:qe});const ot=await new Promise((ht,yt)=>{oe.onmessage=wt=>{const{type:Yt,result:Qt,error:at}=wt.data;console.log("Worker response type:",Yt),at?yt(new Error(at)):ht(Qt)},oe.onerror=wt=>{yt(wt)}});u.value[M]=ot,oe.terminate()}}catch(ie){f.value.push("Failed to parse CSV data: "+ie.message)}},q=xt(()=>n.value===0?s.value.length>0&&f.value.length===0:!0),j=async()=>{q.value&&(n.value===0&&await I(),n.value<t.length-1&&n.value++)},V=()=>{n.value>0&&n.value--},Z=async()=>{if(!y.value){y.value=!0,h.value=null;try{for(const[ie,H]of Object.entries(u.value)){if(!H||H.length===0)continue;const M=Je(H,ie);switch(ie){case"transactions":await _r.importCardmarketTransactions(M);break;case"sold-orders":case"purchased-orders":await _r.importCardmarketOrders(M);break;case"sold-articles":case"purchased-articles":await _r.importCardmarketArticles(M);break}}h.value={type:"success",message:"Successfully imported all data"}}catch(ie){h.value={type:"error",message:"Failed to import data: "+ie.message}}finally{y.value=!1}}},re=ie=>Je(u.value[ie]||[],ie),X=()=>Object.values(u.value).reduce((ie,H)=>ie+(H?.length||0),0),te=()=>{let ie=0;for(const[H,M]of Object.entries(u.value))M&&(ie+=Je(M,H).length);return ie},xe=ie=>{if(/^\d{2}\.\d{2}\.\d{4} \d{2}:\d{2}:\d{2}$/.test(ie)){const oe=ie.split(" ")[0].split("."),ue=parseInt(oe[0],10),qe=parseInt(oe[1],10)-1,ot=parseInt(oe[2],10),ht=new Date(ot,qe,ue);return ht.getFullYear()===ot&&ht.getMonth()===qe&&ht.getDate()===ue}if(/^\d{2}\.\d{2}\.\d{4}$/.test(ie)){const H=ie.split("."),M=parseInt(H[0],10),oe=parseInt(H[1],10)-1,ue=parseInt(H[2],10),qe=new Date(ue,oe,M);return qe.getFullYear()===ue&&qe.getMonth()===oe&&qe.getDate()===M}if(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(ie)){const H=new Date(ie);return!isNaN(H.getTime())}if(/^\d{4}-\d{2}-\d{2}$/.test(ie)){const H=new Date(ie);return!isNaN(H.getTime())}return!1},ke=ie=>{const H=ie.replace(/[$\s]/g,"").replace(",",".");return!isNaN(parseFloat(H))},Ce=ie=>{const H=parseInt(ie,10);return!isNaN(H)&&H>0};function Pe(ie){switch(ie){case"transactions":return"Transaction Summary";case"sold-orders":return"Sold Orders";case"purchased-orders":return"Purchased Orders";case"sold-articles":return"Sold Articles";case"purchased-articles":return"Purchased Articles";default:return"Unknown File Type"}}const Oe=ie=>{switch(ie){case"transactions":return 5;case"sold-orders":case"purchased-orders":return 6;case"sold-articles":case"purchased-articles":return 7;default:return 5}},Ve=(ie,H)=>{const M=[];if(!ie.date&&!ie.dateOfPurchase)M.push("Date is required");else{const oe=ie.date||ie.dateOfPurchase;xe(oe)||M.push("Invalid date format (expected DD.MM.YYYY or YYYY-MM-DD)")}return H.includes("articles")?(ie.name||M.push("Card name is required"),ie.expansion||M.push("Expansion/Set is required"),ie.price?ke(ie.price)||M.push("Invalid price format (expected numeric value)"):M.push("Price is required"),ie.amount?Ce(ie.amount)||M.push("Invalid quantity (expected positive integer)"):M.push("Quantity is required"),ie.shipmentId||M.push("Order ID is required")):H.includes("orders")?(ie.dateOfPurchase?xe(ie.dateOfPurchase)||M.push("Invalid date format (expected DD.MM.YYYY or YYYY-MM-DD)"):M.push("Date is required"),ie.orderId||M.push("Order ID is required"),ie.articleCount?Ce(ie.articleCount)||M.push("Invalid article count (expected positive integer)"):M.push("Article count is required"),ie.merchandiseValue?ke(ie.merchandiseValue)||M.push("Invalid merchandise value format (expected numeric value)"):M.push("Merchandise value is required")):H==="transactions"&&(ie.reference||M.push("Reference is required"),ie.amount?ke(ie.amount)||M.push("Invalid amount format (expected numeric value)"):M.push("Amount is required"),ie.category||M.push("Category is required"),ie.type||M.push("Type is required")),M},Je=(ie,H="articles")=>ie.filter(M=>Ve(M,H).length===0),Ne=(ie,H="articles")=>ie.map((M,oe)=>({index:oe,row:M,errors:Ve(M,H)})).filter(M=>M.errors.length>0),Xe=ie=>{const H=ie.toLowerCase();return H.includes("transaction")?"transactions":H.includes("sold orders")?"sold-orders":H.includes("purchased orders")?"purchased-orders":H.includes("sold articles")?"sold-articles":H.includes("purchased articles")?"purchased-articles":"unknown"};return(ie,H)=>(Q(),J("div",Wp,[H[23]||(H[23]=C("h1",null,"Cardmarket Import Wizard",-1)),C("div",Yp,[(Q(),J(it,null,Kt(t,(M,oe)=>C("div",{key:M.key,class:Mt(["step",{active:n.value===oe,completed:oe<n.value}])},[C("div",Qp,fe(oe+1),1),C("div",Gp,fe(M.title),1)],2)),64))]),C("div",Jp,[n.value===0?(Q(),J("div",Xp,[H[2]||(H[2]=C("h2",null,"Upload CSV Files",-1)),H[3]||(H[3]=C("p",null,"Please select all Cardmarket CSV export files to import. You can select multiple files at once.",-1)),C("div",Zp,[C("div",em,[H[0]||(H[0]=C("label",{for:"csv-files",class:"file-label"}," Choose CSV Files ",-1)),C("input",{id:"csv-files",type:"file",accept:".csv",multiple:"",onChange:_,class:"file-input"},null,32)]),s.value.length>0?(Q(),J("div",tm,[H[1]||(H[1]=C("h3",null,"Uploaded Files",-1)),C("ul",nm,[(Q(!0),J(it,null,Kt(s.value,M=>(Q(),J("li",{key:M.name,class:"file-item"},[C("span",rm,fe(M.name),1),C("span",sm,"("+fe(Xe(M.name))+")",1),C("span",om,"- "+fe(m(M.size)),1)]))),128))])])):Te("",!0)]),f.value.length>0?(Q(),J("div",im,[(Q(!0),J(it,null,Kt(f.value,M=>(Q(),J("div",{key:M,class:"error-message"},fe(M),1))),128))])):Te("",!0)])):n.value===1?(Q(),J("div",am,[H[11]||(H[11]=C("h2",null,"Preview Data",-1)),H[12]||(H[12]=C("p",null,"Review the data that will be imported. Check for any issues before proceeding.",-1)),(Q(!0),J(it,null,Kt(c.value,(M,oe)=>(Q(),J("div",{key:oe,class:"file-preview"},[C("h3",null,fe(Pe(M)),1),u.value[M]&&u.value[M].length>0?(Q(),J("div",cm,[C("div",lm,[C("div",um,fe(u.value[M].length),1),H[4]||(H[4]=C("div",{class:"stat-label"},"Total Rows",-1))]),C("div",dm,[C("div",fm,fe(Je(u.value[M],M).length),1),H[5]||(H[5]=C("div",{class:"stat-label"},"Valid Rows",-1))]),C("div",hm,[C("div",pm,fe(Ne(u.value[M],M).length),1),H[6]||(H[6]=C("div",{class:"stat-label"},"Invalid Rows",-1))])])):Te("",!0),u.value[M]&&u.value[M].length>0?(Q(),J("div",mm,[H[8]||(H[8]=C("h4",null,"Valid Data Preview",-1)),C("div",ym,[C("table",gm,[C("thead",null,[C("tr",null,[M==="transactions"?(Q(),J("th",vm,"Reference")):(Q(),J("th",bm,"Line")),H[7]||(H[7]=C("th",null,"Date",-1)),M.includes("articles")?(Q(),J("th",_m,"Card Name")):Te("",!0),M.includes("articles")?(Q(),J("th",wm,"Expansion")):Te("",!0),M.includes("articles")?(Q(),J("th",km,"Price")):Te("",!0),M.includes("articles")?(Q(),J("th",xm,"Quantity")):Te("",!0),M.includes("articles")?(Q(),J("th",Cm,"Order ID")):Te("",!0),M.includes("orders")?(Q(),J("th",Sm,"Order ID")):Te("",!0),M.includes("orders")?(Q(),J("th",Am,"Username")):Te("",!0),M.includes("orders")?(Q(),J("th",Em,"Article Count")):Te("",!0),M.includes("orders")?(Q(),J("th",Im,"Merchandise Value")):Te("",!0),M==="transactions"?(Q(),J("th",Pm,"Category")):Te("",!0),M==="transactions"?(Q(),J("th",Om,"Type")):Te("",!0),M==="transactions"?(Q(),J("th",Rm,"Amount")):Te("",!0)])]),C("tbody",null,[(Q(!0),J(it,null,Kt(Je(u.value[M],M).slice(0,5),(ue,qe)=>(Q(),J("tr",{key:qe},[M==="transactions"?(Q(),J("td",$m,fe(ue.reference),1)):(Q(),J("td",Tm,fe(ue.lineNumber),1)),C("td",null,fe(ue.date||ue.dateOfPurchase),1),M.includes("articles")?(Q(),J("td",Dm,fe(ue.name),1)):Te("",!0),M.includes("articles")?(Q(),J("td",Bm,fe(ue.expansion),1)):Te("",!0),M.includes("articles")?(Q(),J("td",Mm,fe(g(parseFloat(ue.price.replace(/[$\s]/g,"").replace(",","."))*100)),1)):Te("",!0),M.includes("articles")?(Q(),J("td",jm,fe(ue.amount),1)):Te("",!0),M.includes("articles")?(Q(),J("td",Fm,fe(ue.shipmentId),1)):Te("",!0),M.includes("orders")?(Q(),J("td",Nm,fe(ue.orderId),1)):Te("",!0),M.includes("orders")?(Q(),J("td",Km,fe(ue.username),1)):Te("",!0),M.includes("orders")?(Q(),J("td",Lm,fe(ue.articleCount),1)):Te("",!0),M.includes("orders")?(Q(),J("td",qm,fe(g(parseFloat(ue.merchandiseValue.replace(/[$\s]/g,"").replace(",","."))*100)),1)):Te("",!0),M==="transactions"?(Q(),J("td",Um,fe(ue.category),1)):Te("",!0),M==="transactions"?(Q(),J("td",Vm,fe(ue.type),1)):Te("",!0),M==="transactions"?(Q(),J("td",Hm,fe(g(parseFloat(ue.amount.replace(/[$\s]/g,"").replace(",","."))*100)),1)):Te("",!0)]))),128)),Je(u.value[M],M).length>5?(Q(),J("tr",zm,[C("td",{colspan:Oe(M),class:"more-rows-cell"}," ... and "+fe(Je(u.value[M],M).length-5)+" more rows ",9,Wm)])):Te("",!0)])])])])):Te("",!0),Ne(u.value[M],M).length>0?(Q(),J("div",Ym,[H[9]||(H[9]=C("h4",null,"Invalid Rows",-1)),H[10]||(H[10]=C("p",null,"The following rows have issues and will be skipped:",-1)),C("div",Qm,[(Q(!0),J(it,null,Kt(Ne(u.value[M],M).slice(0,3),(ue,qe)=>(Q(),J("div",{key:qe,class:"invalid-row"},[C("div",Gm,"Row "+fe(ue.row.lineNumber||ue.row.reference),1),C("div",Jm,fe(ue.errors.join(", ")),1)]))),128)),Ne(u.value[M],M).length>3?(Q(),J("div",Xm," ... and "+fe(Ne(u.value[M],M).length-3)+" more rows ",1)):Te("",!0)])])):Te("",!0)]))),128))])):n.value===2?(Q(),J("div",Zm,[H[13]||(H[13]=C("h2",null,"Resolve Conflicts",-1)),H[14]||(H[14]=C("p",null,"Check for duplicate imports and resolve any conflicts.",-1)),(Q(!0),J(it,null,Kt(c.value,(M,oe)=>(Q(),J("div",{key:oe,class:"file-conflicts"},[C("h3",null,fe(Pe(M)),1)]))),128))])):n.value===3?(Q(),J("div",ey,[H[21]||(H[21]=C("h2",null,"Import Summary",-1)),H[22]||(H[22]=C("p",null,"Review the import summary before finalizing.",-1)),(Q(!0),J(it,null,Kt(c.value,(M,oe)=>(Q(),J("div",{key:oe,class:"file-summary"},[C("h3",null,fe(Pe(M)),1),C("div",ty,[C("div",ny,[C("div",ry,fe(re(M).length),1),H[15]||(H[15]=C("div",{class:"stat-label"},"New Records",-1))]),C("div",sy,[C("div",oy,fe(Ne(u.value[M]||[],M).length),1),H[16]||(H[16]=C("div",{class:"stat-label"},"Invalid Rows",-1))])])]))),128)),C("div",iy,[H[20]||(H[20]=C("h3",null,"Import Details",-1)),C("div",ay,[C("div",cy,[H[17]||(H[17]=C("div",{class:"summary-label"},"Files Uploaded",-1)),C("div",ly,fe(s.value.length),1)]),C("div",uy,[H[18]||(H[18]=C("div",{class:"summary-label"},"Total Rows Parsed",-1)),C("div",dy,fe(X()),1)]),C("div",fy,[H[19]||(H[19]=C("div",{class:"summary-label"},"Total Valid Rows",-1)),C("div",hy,fe(te()),1)])])]),h.value?(Q(),J("div",{key:0,class:Mt(["import-status",h.value.type])},fe(h.value.message),3)):Te("",!0)])):Te("",!0)]),C("div",py,[n.value>0?(Q(),J("button",{key:0,onClick:V,class:"btn btn-secondary"}," Previous ")):Te("",!0),n.value<t.length-1?(Q(),J("button",{key:1,onClick:j,class:"btn btn-primary",disabled:!q.value}," Next ",8,my)):Te("",!0),n.value===t.length-1?(Q(),J("button",{key:2,onClick:Z,class:"btn btn-primary",disabled:y.value},fe(y.value?"Importing...":"Import Data"),9,yy)):Te("",!0)])]))}}),vy=mn(gy,[["__scopeId","data-v-d4ccdccd"]]);class by{static normalizeFingerprint(t){return{name:t.name.trim().toLowerCase(),setCode:t.setCode.trim().toLowerCase(),collectorNumber:t.collectorNumber.trim().toLowerCase(),finish:t.finish.trim().toLowerCase(),language:t.language.trim().toLowerCase()}}static compareFingerprints(t,n){const s=this.normalizeFingerprint(t),i=this.normalizeFingerprint(n);return s.name===i.name&&s.setCode===i.setCode&&s.collectorNumber===i.collectorNumber&&s.finish===i.finish&&s.language===i.language}static async resolveFingerprint(t){try{const n=await Gt.hydrateCard({name:t.name,setCode:t.setCode,collectorNumber:t.collectorNumber});return n&&n.id?n.id:null}catch(n){return console.error("Error resolving fingerprint:",n),null}}}const _y={class:"deck-import"},wy={class:"import-section"},ky={class:"input-group"},xy={class:"input-group"},Cy=["disabled"],Sy={key:0,class:"progress-container"},Ay={class:"progress-bar"},Ey={class:"progress-text"},Iy=Wt({__name:"DeckImportView",setup(e){const t=je(""),n=je(""),s=je(!1),i=je(null),c=je(null),u=(h,y)=>{i.value={type:h,message:y},setTimeout(()=>{i.value=null},5e3)},f=async()=>{if(!t.value.trim()){u("error","Please enter a deck name");return}if(!n.value.trim()){u("error","Please paste your decklist");return}s.value=!0,c.value=0;try{const h=n.value.trim().split(`
`).filter(q=>q.trim()),y=h.length,m=q=>new Promise(j=>setTimeout(j,q)),g=`deck-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,_=new Date,I={id:g,platform:"csv",name:t.value.trim(),commander:"",url:"",importedAt:_,createdAt:_,updatedAt:_};await we.decks.add(I);for(let q=0;q<h.length;q++){const j=h[q].trim();if(!j)continue;c.value=Math.round((q+1)/y*100),await m(0),console.log("Processing line:",j);const V=j.match(/^(\d+)\s+(.+?)\s*\(([^)]+)\)\s*(\d+)(?:\s*\*F\*\s*)?$/i);if(V){const[,Z,re,X,te]=V,xe=parseInt(Z)||1;if(re&&X&&te){const ke={name:re.trim(),setCode:X.trim(),collectorNumber:te.trim(),finish:"nonfoil",language:"en"},Ce=await by.resolveFingerprint(ke);if(Ce){if(!await ln.getById(Ce)){const H=await Gt.hydrateCard({scryfall_id:Ce,name:re.trim(),setCode:X.trim(),collectorNumber:te.trim()}),M=H?.image_uris?.normal||H?.image_uris?.large||H?.image_uris?.small||"",oe=new Date,ue={id:Ce,oracleId:H?.oracle_id||"",name:re.trim(),set:H?.set_name||X.trim(),setCode:X.trim(),number:te.trim(),lang:H?.lang||"en",finish:"nonfoil",imageUrl:M,createdAt:oe,updatedAt:oe};await ln.add(ue)}const ie=(await un.getByCardId(Ce)).reduce((H,M)=>{if(!M.disposedAt||M.disposedQuantity&&M.disposedQuantity<M.quantity){const oe=M.disposedQuantity?M.quantity-M.disposedQuantity:M.quantity;return H+oe}return H},0);if(ie<xe){const H=xe-ie,M=new Date,ue={id:`lot-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,cardId:Ce,quantity:H,unitCost:0,condition:"unknown",language:"en",foil:!1,finish:"nonfoil",source:"deck_import",currency:"EUR",purchasedAt:M,createdAt:M,updatedAt:M};await un.add(ue)}}let Pe;const Oe=await un.getByCardId(Ce||"");if(Oe.length>0){for(const Ne of Oe)if((Ne.disposedQuantity?Ne.quantity-Ne.disposedQuantity:Ne.quantity)>=xe&&!Ne.disposedAt){Pe=Ne.id;break}!Pe&&Oe.length>0&&(Pe=Oe[0].id)}const Ve=new Date,Je={id:`deckcard-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,deckId:g||"unknown-deck",cardId:Ce||"unknown-card",lotId:Pe,quantity:typeof xe=="number"&&xe>0?xe:1,role:"main",addedAt:Ve,createdAt:Ve};await we.deck_cards.put(Je)}}}u("success",`Successfully imported deck: ${t.value}`),t.value="",n.value=""}catch(h){console.error("Error importing deck:",h),u("error","Failed to import deck: "+h.message)}finally{s.value=!1,c.value=null}};return(h,y)=>(Q(),J("div",_y,[y[7]||(y[7]=C("h1",null,"Import Deck",-1)),C("div",wy,[y[4]||(y[4]=C("h2",null,"Moxfield Deck Import",-1)),y[5]||(y[5]=C("p",null,"Copy and paste your decklist from Moxfield to track which cards you own and which you're missing.",-1)),C("div",ky,[y[2]||(y[2]=C("label",{for:"deck-name"},"Deck Name",-1)),Ws(C("input",{id:"deck-name","onUpdate:modelValue":y[0]||(y[0]=m=>t.value=m),type:"text",placeholder:"Enter a name for your deck",class:"text-input"},null,512),[[bi,t.value]])]),C("div",xy,[y[3]||(y[3]=C("label",{for:"decklist"},"Decklist",-1)),Ws(C("textarea",{id:"decklist","onUpdate:modelValue":y[1]||(y[1]=m=>n.value=m),placeholder:`Paste your decklist here (e.g., 4 Lightning Bolt
2 Counterspell)`,rows:"10",class:"textarea-input"},null,512),[[bi,n.value]])]),C("button",{onClick:f,disabled:s.value,class:"import-button"},fe(s.value?"Importing...":"Import Deck"),9,Cy),c.value!==null?(Q(),J("div",Sy,[C("div",Ay,[C("div",{class:"progress-fill",style:oo({width:c.value+"%"})},null,4)]),C("div",Ey,fe(c.value)+"%",1)])):Te("",!0),y[6]||(y[6]=C("div",{class:"instructions"},[C("h3",null,"How to copy from Moxfield:"),C("ol",null,[C("li",null,"Open your deck on Moxfield.com"),C("li",null,'Click the "Export" button'),C("li",null,'Select "Text" format'),C("li",null,"Copy the text and paste it here")])],-1))]),i.value?(Q(),J("div",{key:0,class:Mt(["status-message",i.value.type])},fe(i.value.message),3)):Te("",!0)]))}}),Py=mn(Iy,[["__scopeId","data-v-de9ab52b"]]),Oy={class:"decks-view"},Ry={class:"header"},$y={key:0,class:"loading"},Ty={key:1,class:"empty-state"},Dy={key:2,class:"decks-grid"},By=["onClick"],My={class:"deck-info"},jy={class:"platform"},Fy={class:"date"},Ny={class:"card-count"},Ky=Wt({__name:"DecksView",setup(e){const t=tp(),n=je([]),s=je(!0),i=je({}),c=y=>new Date(y).toLocaleDateString(),u=y=>i.value[y]||0,f=y=>{t.push(`/decks/${y}`)},h=async()=>{try{const y=await we.decks.toArray();n.value=y;for(const m of y){const g=await we.deck_cards.where("deckId").equals(m.id).count();i.value[m.id]=g}}catch(y){console.error("Error loading decks:",y)}finally{s.value=!1}};return Cr(()=>{h()}),(y,m)=>{const g=fo("router-link");return Q(),J("div",Oy,[C("div",Ry,[m[1]||(m[1]=C("h1",null,"Decks",-1)),rt(g,{to:"/import/deck",class:"import-button"},{default:an(()=>[...m[0]||(m[0]=[cn(" Import Deck ",-1)])]),_:1})]),s.value?(Q(),J("div",$y," Loading decks... ")):n.value.length===0?(Q(),J("div",Ty,[m[3]||(m[3]=C("p",null,"You haven't imported any decks yet.",-1)),rt(g,{to:"/import/deck",class:"import-button"},{default:an(()=>[...m[2]||(m[2]=[cn(" Import Your First Deck ",-1)])]),_:1})])):(Q(),J("div",Dy,[(Q(!0),J(it,null,Kt(n.value,_=>(Q(),J("div",{key:_.id,class:"deck-card",onClick:I=>f(_.id)},[C("h2",null,fe(_.name),1),C("p",My,[C("span",jy,fe(_.platform),1),C("span",Fy,fe(c(_.importedAt)),1)]),C("p",Ny,fe(u(_.id))+" cards",1)],8,By))),128))]))])}}}),Ly=mn(Ky,[["__scopeId","data-v-0a6a344d"]]),qy={class:"card-image-container"},Uy=["src","alt"],Vy={class:"card-info"},Hy={class:"card-name"},zy={class:"card-set"},Wy={key:0,class:"card-price"},Yy={class:"price-value"},Qy={key:1,class:"price-loading"},Gy={class:"modal-header"},Jy={class:"modal-body"},Xy={class:"card-details-section"},Zy={class:"card-image-large"},eg=["src","alt"],tg={class:"card-metadata"},ng={class:"metadata-item"},rg={class:"value"},sg={class:"metadata-item"},og={class:"value"},ig={class:"metadata-item"},ag={class:"value"},cg={class:"metadata-item"},lg={class:"value"},ug={class:"price-section"},dg={key:0,class:"current-price"},fg={key:1,class:"price-loading"},hg={key:2,class:"price-unavailable"},pg={key:0,class:"ownership-section"},mg={class:"lots-summary"},yg={class:"summary-item"},gg={class:"value"},vg={class:"summary-item"},bg={class:"value"},_g={class:"lots-list"},wg={class:"lot-details"},kg={class:"lot-quantity"},xg={class:"value"},Cg={class:"lot-cost"},Sg={class:"value"},Ag={class:"lot-date"},Eg={class:"value"},Ig={key:0,class:"lot-disposed"},Pg={class:"value"},Og={key:1,class:"transactions-section"},Rg={class:"transactions-list"},$g={class:"transaction-details"},Tg={class:"transaction-type"},Dg={class:"transaction-date"},Bg={class:"transaction-quantity"},Mg={class:"transaction-price"},jg=Wt({inheritAttrs:!0,__name:"CardComponent",props:{card:{}},setup(e){const t=e,n=je(!1),s=je(null),i=je(!1),c=je([]),u=je([]),f=xt(()=>!c.value||c.value.length===0?0:c.value.reduce((j,V)=>{if(!V.disposedAt||V.disposedQuantity&&V.disposedQuantity<V.quantity){const Z=V.disposedQuantity?V.quantity-V.disposedQuantity:V.quantity;return j+Z}return j},0)),h=()=>{n.value=!0,I()},y=()=>{n.value=!1},m=j=>{j.target.src="https://placehold.co/200x280?text=Card+Image"},g=j=>new Date(j).toLocaleDateString(),_=(j,V)=>new Ge(j,V).format("de-DE"),I=async()=>{try{q();const j=await we.card_lots.where("cardId").equals(t.card.id).toArray();c.value=j;const V=await we.transactions.where("cardId").equals(t.card.id).toArray();u.value=V}catch(j){console.error("Error loading card details:",j)}},q=async()=>{i.value=!0;try{const j=await we.price_points.where("cardId").equals(t.card.id).toArray();if(j.length>0){j.sort((Z,re)=>re.asOf.getTime()-Z.asOf.getTime());const V=j[0];s.value=new Ge(V.price,V.currency)}}catch(j){console.error("Error loading current price:",j)}finally{i.value=!1}};return Cr(()=>{const j=V=>{V.key==="Escape"&&y()};return document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}}),(j,V)=>(Q(),J(it,null,[C("div",{class:"card-component",onClick:h},[C("div",qy,[C("img",{src:j.card.imageUrl||"https://placehold.co/200x280?text=Card+Image",alt:j.card.name,class:"card-image",onError:m},null,40,Uy)]),C("div",Vy,[C("h3",Hy,fe(j.card.name),1),C("p",zy,fe(j.card.set)+" #"+fe(j.card.number),1),s.value?(Q(),J("div",Wy,[V[1]||(V[1]=C("span",{class:"price-label"},"Current:",-1)),C("span",Yy,fe(s.value.format("de-DE")),1)])):i.value?(Q(),J("div",Qy," Loading... ")):Te("",!0)])]),n.value?(Q(),J("div",{key:0,class:"modal-overlay",onClick:y},[C("div",{class:"modal-content",onClick:V[0]||(V[0]=zf(()=>{},["stop"]))},[C("div",Gy,[C("h2",null,fe(j.card.name),1),C("button",{class:"close-button",onClick:y},"")]),C("div",Jy,[C("div",Xy,[C("div",Zy,[C("img",{src:j.card.imageUrl||"https://placehold.co/300x420?text=Card+Image",alt:j.card.name,onError:m},null,40,eg)]),C("div",tg,[C("div",ng,[V[2]||(V[2]=C("span",{class:"label"},"Set:",-1)),C("span",rg,fe(j.card.set)+" ("+fe(j.card.setCode)+")",1)]),C("div",sg,[V[3]||(V[3]=C("span",{class:"label"},"Collector Number:",-1)),C("span",og,"#"+fe(j.card.number),1)]),C("div",ig,[V[4]||(V[4]=C("span",{class:"label"},"Language:",-1)),C("span",ag,fe(j.card.lang),1)]),C("div",cg,[V[5]||(V[5]=C("span",{class:"label"},"Finish:",-1)),C("span",lg,fe(j.card.finish),1)])])]),C("div",ug,[V[6]||(V[6]=C("h3",null,"Current Price",-1)),s.value?(Q(),J("div",dg,fe(s.value.format("de-DE")),1)):i.value?(Q(),J("div",fg," Loading price... ")):(Q(),J("div",hg," Price unavailable "))]),c.value&&c.value.length>0?(Q(),J("div",pg,[V[13]||(V[13]=C("h3",null,"Your Collection",-1)),C("div",mg,[C("div",yg,[V[7]||(V[7]=C("span",{class:"label"},"Total Lots:",-1)),C("span",gg,fe(c.value.length),1)]),C("div",vg,[V[8]||(V[8]=C("span",{class:"label"},"Total Cards:",-1)),C("span",bg,fe(f.value),1)])]),C("div",_g,[(Q(!0),J(it,null,Kt(c.value,Z=>(Q(),J("div",{key:Z.id,class:"lot-item"},[C("div",wg,[C("div",kg,[V[9]||(V[9]=C("span",{class:"label"},"Quantity:",-1)),C("span",xg,fe(Z.quantity),1)]),C("div",Cg,[V[10]||(V[10]=C("span",{class:"label"},"Unit Cost:",-1)),C("span",Sg,fe(_(Z.unitCost,Z.currency||"EUR")),1)]),C("div",Ag,[V[11]||(V[11]=C("span",{class:"label"},"Purchased:",-1)),C("span",Eg,fe(g(Z.purchasedAt)),1)]),Z.disposedQuantity?(Q(),J("div",Ig,[V[12]||(V[12]=C("span",{class:"label"},"Disposed:",-1)),C("span",Pg,fe(Z.disposedQuantity),1)])):Te("",!0)])]))),128))])])):Te("",!0),u.value&&u.value.length>0?(Q(),J("div",Og,[V[14]||(V[14]=C("h3",null,"Transaction History",-1)),C("div",Rg,[(Q(!0),J(it,null,Kt(u.value,Z=>(Q(),J("div",{key:Z.id,class:Mt(["transaction-item",Z.kind.toLowerCase()])},[C("div",$g,[C("div",Tg,fe(Z.kind),1),C("div",Dg,fe(g(Z.happenedAt)),1),C("div",Bg,"Qty: "+fe(Z.quantity),1),C("div",Mg,fe(_(Z.unitPrice,Z.currency)),1)])],2))),128))])])):Te("",!0)])])])):Te("",!0)],64))}}),Jl=mn(jg,[["__scopeId","data-v-0566660c"]]),Fg={class:"deck-detail-view"},Ng={key:0,class:"loading"},Kg={key:1,class:"deck-detail"},Lg={class:"deck-header"},qg={class:"deck-meta"},Ug={class:"platform"},Vg={class:"date"},Hg={class:"cards-section"},zg={key:0,class:"empty-state"},Wg={key:1,class:"cards-grid"},Yg={key:2,class:"error"},Qg=Wt({__name:"DeckDetailView",setup(e){const t=Hl(),n=je(null),s=je([]),i=je({}),c=je(!0),u=y=>new Date(y).toLocaleDateString(),f=y=>i.value[y]||{id:y,name:"Unknown Card",set:"Unknown Set",setCode:"???",number:"???",lang:"en",finish:"nonfoil",imageUrl:"https://placehold.co/200x280?text=Card+Image"},h=async()=>{try{const y=t.params.id,m=await we.decks.get(y);if(!m)return;n.value=m;const g=await we.deck_cards.where("deckId").equals(y).toArray();s.value=g;const _=g.map(I=>I.cardId).filter(I=>I);if(_.length>0){const I=await we.cards.where("id").anyOf(_).toArray();i.value=Object.fromEntries(I.map(q=>[q.id,q]))}}catch(y){console.error("Error loading deck:",y)}finally{c.value=!1}};return Cr(()=>{h()}),(y,m)=>{const g=fo("router-link");return Q(),J("div",Fg,[c.value?(Q(),J("div",Ng," Loading deck... ")):n.value?(Q(),J("div",Kg,[C("div",Lg,[rt(g,{to:"/decks",class:"back-link"},{default:an(()=>[...m[0]||(m[0]=[cn("  Back to Decks ",-1)])]),_:1}),C("h1",null,fe(n.value.name),1),C("p",qg,[C("span",Ug,fe(n.value.platform),1),C("span",Vg,"Imported: "+fe(u(n.value.importedAt)),1)])]),C("div",Hg,[m[2]||(m[2]=C("h2",null,"Cards in Deck",-1)),s.value.length===0?(Q(),J("div",zg,[...m[1]||(m[1]=[C("p",null,"No cards found in this deck.",-1)])])):(Q(),J("div",Wg,[(Q(!0),J(it,null,Kt(s.value,_=>(Q(),Ui(Jl,{key:_.id,card:f(_.cardId),class:"card-grid-item"},null,8,["card"]))),128))]))])])):(Q(),J("div",Yg,[m[4]||(m[4]=C("p",null,"Deck not found.",-1)),rt(g,{to:"/decks",class:"back-link"},{default:an(()=>[...m[3]||(m[3]=[cn("  Back to Decks ",-1)])]),_:1})]))])}}}),Gg=mn(Qg,[["__scopeId","data-v-e82ae8bb"]]),Jg={class:"cards-view"},Xg={class:"header"},Zg={class:"controls"},ev={class:"search-box"},tv={class:"sort-controls"},nv={key:0,class:"loading"},rv={key:1,class:"empty-state"},sv={key:0},ov={key:1},iv={key:2,class:"cards-grid"},av=Wt({__name:"CardsView",setup(e){const t=je([]),n=je(!0),s=je(""),i=je("name"),c=je("asc"),u=xt(()=>{if(!s.value)return t.value;const y=s.value.toLowerCase();return t.value.filter(m=>m.name.toLowerCase().includes(y)||m.set.toLowerCase().includes(y)||m.number.includes(y))}),f=xt(()=>{const y=[...u.value];return y.sort((m,g)=>{let _=0;switch(i.value){case"name":_=m.name.localeCompare(g.name);break;case"set":_=m.set.localeCompare(g.set);break;case"price":_=0;break;case"releasedAt":const I=m.releasedAt?new Date(m.releasedAt).getTime():0,q=g.releasedAt?new Date(g.releasedAt).getTime():0;_=I-q;break;case"owned":_=0;break;default:_=m.name.localeCompare(g.name)}return c.value==="asc"?_:-_}),y}),h=async()=>{try{const y=await we.cards.toArray();t.value=y}catch(y){console.error("Error loading cards:",y)}finally{n.value=!1}};return Cr(()=>{h()}),(y,m)=>(Q(),J("div",Jg,[C("div",Xg,[C("div",Zg,[C("div",ev,[Ws(C("input",{"onUpdate:modelValue":m[0]||(m[0]=g=>s.value=g),type:"text",placeholder:"Search cards...",class:"search-input"},null,512),[[bi,s.value]])]),C("div",tv,[Ws(C("select",{"onUpdate:modelValue":m[1]||(m[1]=g=>i.value=g),class:"sort-select"},[...m[3]||(m[3]=[df('<option value="name" data-v-fb8ccdc5>Name</option><option value="set" data-v-fb8ccdc5>Set</option><option value="price" data-v-fb8ccdc5>Price</option><option value="releasedAt" data-v-fb8ccdc5>Release Date</option><option value="owned" data-v-fb8ccdc5>Owned Quantity</option>',5)])],512),[[Uf,i.value]]),C("button",{onClick:m[2]||(m[2]=g=>c.value=c.value==="asc"?"desc":"asc"),class:"sort-direction-button"},fe(c.value==="asc"?"":""),1)])])]),n.value?(Q(),J("div",nv," Loading cards... ")):f.value.length===0?(Q(),J("div",rv,[s.value?(Q(),J("p",sv,"No cards match your search.")):(Q(),J("p",ov,"You don't have any cards in your collection yet."))])):(Q(),J("div",iv,[(Q(!0),J(it,null,Kt(f.value,g=>(Q(),Ui(Jl,{key:g.id,card:g,class:"card-item"},null,8,["card"]))),128))]))]))}}),cv=mn(av,[["__scopeId","data-v-fb8ccdc5"]]),lv=[{path:"/",name:"home",component:Dp},{path:"/import/csv",name:"csv-import",component:Hp},{path:"/import/cardmarket",name:"cardmarket-import",component:vy},{path:"/import/deck",name:"deck-import",component:Py},{path:"/decks",name:"decks",component:Ly},{path:"/decks/:id",name:"deck-detail",component:Gg,props:!0},{path:"/cards",name:"cards",component:cv}],uv=Zh({history:Ih(),routes:lv}),Xl=Qf(lp),dv=up();Xl.use(dv);Xl.use(uv).mount("#app");
