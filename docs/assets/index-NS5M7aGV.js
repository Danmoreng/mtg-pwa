(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function sa(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const st={},Dr=[],vn=()=>{},gl=()=>!1,xo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),oa=e=>e.startsWith("onUpdate:"),Bt=Object.assign,ia=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Sd=Object.prototype.hasOwnProperty,Xe=(e,t)=>Sd.call(e,t),De=Array.isArray,$r=e=>Cs(e)==="[object Map]",Ao=e=>Cs(e)==="[object Set]",uc=e=>Cs(e)==="[object Date]",Be=e=>typeof e=="function",ht=e=>typeof e=="string",on=e=>typeof e=="symbol",at=e=>e!==null&&typeof e=="object",vl=e=>(at(e)||Be(e))&&Be(e.then)&&Be(e.catch),bl=Object.prototype.toString,Cs=e=>bl.call(e),Pd=e=>Cs(e).slice(8,-1),_l=e=>Cs(e)==="[object Object]",aa=e=>ht(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,rs=sa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),So=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},Od=/-(\w)/g,Jt=So(e=>e.replace(Od,(t,n)=>n?n.toUpperCase():"")),Id=/\B([A-Z])/g,hr=So(e=>e.replace(Id,"-$1").toLowerCase()),Po=So(e=>e.charAt(0).toUpperCase()+e.slice(1)),oo=So(e=>e?`on${Po(e)}`:""),Gn=(e,t)=>!Object.is(e,t),io=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},wl=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},po=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let dc;const Oo=()=>dc||(dc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ur(e){if(De(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=ht(r)?Td(r):Ur(r);if(o)for(const a in o)t[a]=o[a]}return t}else if(ht(e)||at(e))return e}const Rd=/;(?![^(]*\))/g,Dd=/:([^]+)/,$d=/\/\*[^]*?\*\//g;function Td(e){const t={};return e.replace($d,"").split(Rd).forEach(n=>{if(n){const r=n.split(Dd);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Kt(e){let t="";if(ht(e))t=e;else if(De(e))for(let n=0;n<e.length;n++){const r=Kt(e[n]);r&&(t+=r+" ")}else if(at(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Md(e){if(!e)return null;let{class:t,style:n}=e;return t&&!ht(t)&&(e.class=Kt(t)),n&&(e.style=Ur(n)),e}const Bd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Fd=sa(Bd);function Cl(e){return!!e||e===""}function Nd(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Io(e[r],t[r]);return n}function Io(e,t){if(e===t)return!0;let n=uc(e),r=uc(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=on(e),r=on(t),n||r)return e===t;if(n=De(e),r=De(t),n||r)return n&&r?Nd(e,t):!1;if(n=at(e),r=at(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,a=Object.keys(t).length;if(o!==a)return!1;for(const l in e){const d=e.hasOwnProperty(l),f=t.hasOwnProperty(l);if(d&&!f||!d&&f||!Io(e[l],t[l]))return!1}}return String(e)===String(t)}function jd(e,t){return e.findIndex(n=>Io(n,t))}const kl=e=>!!(e&&e.__v_isRef===!0),fe=e=>ht(e)?e:e==null?"":De(e)||at(e)&&(e.toString===bl||!Be(e.toString))?kl(e)?fe(e.value):JSON.stringify(e,El,2):String(e),El=(e,t)=>kl(t)?El(e,t.value):$r(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o],a)=>(n[wi(r,a)+" =>"]=o,n),{})}:Ao(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>wi(n))}:on(t)?wi(t):at(t)&&!De(t)&&!_l(t)?String(t):t,wi=(e,t="")=>{var n;return on(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Dt;class xl{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Dt,!t&&Dt&&(this.index=(Dt.scopes||(Dt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Dt;try{return Dt=this,t()}finally{Dt=n}}}on(){++this._on===1&&(this.prevScope=Dt,Dt=this)}off(){this._on>0&&--this._on===0&&(Dt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Ro(e){return new xl(e)}function ca(){return Dt}function Al(e,t=!1){Dt&&Dt.cleanups.push(e)}let it;const Ci=new WeakSet;class Sl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Dt&&Dt.active&&Dt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ci.has(this)&&(Ci.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ol(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,fc(this),Il(this);const t=it,n=sn;it=this,sn=!0;try{return this.fn()}finally{Rl(this),it=t,sn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)da(t);this.deps=this.depsTail=void 0,fc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ci.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ji(this)&&this.run()}get dirty(){return ji(this)}}let Pl=0,ss,os;function Ol(e,t=!1){if(e.flags|=8,t){e.next=os,os=e;return}e.next=ss,ss=e}function la(){Pl++}function ua(){if(--Pl>0)return;if(os){let t=os;for(os=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;ss;){let t=ss;for(ss=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Il(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Rl(e){let t,n=e.depsTail,r=n;for(;r;){const o=r.prevDep;r.version===-1?(r===n&&(n=o),da(r),Ld(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}e.deps=t,e.depsTail=n}function ji(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Dl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Dl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===hs)||(e.globalVersion=hs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ji(e))))return;e.flags|=2;const t=e.dep,n=it,r=sn;it=e,sn=!0;try{Il(e);const o=e.fn(e._value);(t.version===0||Gn(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{it=n,sn=r,Rl(e),e.flags&=-3}}function da(e,t=!1){const{dep:n,prevSub:r,nextSub:o}=e;if(r&&(r.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)da(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ld(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let sn=!0;const $l=[];function $n(){$l.push(sn),sn=!1}function Tn(){const e=$l.pop();sn=e===void 0?!0:e}function fc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=it;it=void 0;try{t()}finally{it=n}}}let hs=0;class qd{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class fa{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!it||!sn||it===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==it)n=this.activeLink=new qd(it,this),it.deps?(n.prevDep=it.depsTail,it.depsTail.nextDep=n,it.depsTail=n):it.deps=it.depsTail=n,Tl(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=it.depsTail,n.nextDep=void 0,it.depsTail.nextDep=n,it.depsTail=n,it.deps===n&&(it.deps=r)}return n}trigger(t){this.version++,hs++,this.notify(t)}notify(t){la();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ua()}}}function Tl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Tl(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const ho=new WeakMap,dr=Symbol(""),Li=Symbol(""),ms=Symbol("");function Tt(e,t,n){if(sn&&it){let r=ho.get(e);r||ho.set(e,r=new Map);let o=r.get(n);o||(r.set(n,o=new fa),o.map=r,o.key=n),o.track()}}function Rn(e,t,n,r,o,a){const l=ho.get(e);if(!l){hs++;return}const d=f=>{f&&f.trigger()};if(la(),t==="clear")l.forEach(d);else{const f=De(e),m=f&&aa(n);if(f&&n==="length"){const h=Number(r);l.forEach((y,v)=>{(v==="length"||v===ms||!on(v)&&v>=h)&&d(y)})}else switch((n!==void 0||l.has(void 0))&&d(l.get(n)),m&&d(l.get(ms)),t){case"add":f?m&&d(l.get("length")):(d(l.get(dr)),$r(e)&&d(l.get(Li)));break;case"delete":f||(d(l.get(dr)),$r(e)&&d(l.get(Li)));break;case"set":$r(e)&&d(l.get(dr));break}}ua()}function Kd(e,t){const n=ho.get(e);return n&&n.get(t)}function Sr(e){const t=Ye(e);return t===e?t:(Tt(t,"iterate",ms),Zt(e)?t:t.map(St))}function Do(e){return Tt(e=Ye(e),"iterate",ms),e}const Ud={__proto__:null,[Symbol.iterator](){return ki(this,Symbol.iterator,St)},concat(...e){return Sr(this).concat(...e.map(t=>De(t)?Sr(t):t))},entries(){return ki(this,"entries",e=>(e[1]=St(e[1]),e))},every(e,t){return Sn(this,"every",e,t,void 0,arguments)},filter(e,t){return Sn(this,"filter",e,t,n=>n.map(St),arguments)},find(e,t){return Sn(this,"find",e,t,St,arguments)},findIndex(e,t){return Sn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Sn(this,"findLast",e,t,St,arguments)},findLastIndex(e,t){return Sn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Sn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ei(this,"includes",e)},indexOf(...e){return Ei(this,"indexOf",e)},join(e){return Sr(this).join(e)},lastIndexOf(...e){return Ei(this,"lastIndexOf",e)},map(e,t){return Sn(this,"map",e,t,void 0,arguments)},pop(){return Zr(this,"pop")},push(...e){return Zr(this,"push",e)},reduce(e,...t){return pc(this,"reduce",e,t)},reduceRight(e,...t){return pc(this,"reduceRight",e,t)},shift(){return Zr(this,"shift")},some(e,t){return Sn(this,"some",e,t,void 0,arguments)},splice(...e){return Zr(this,"splice",e)},toReversed(){return Sr(this).toReversed()},toSorted(e){return Sr(this).toSorted(e)},toSpliced(...e){return Sr(this).toSpliced(...e)},unshift(...e){return Zr(this,"unshift",e)},values(){return ki(this,"values",St)}};function ki(e,t,n){const r=Do(e),o=r[t]();return r!==e&&!Zt(e)&&(o._next=o.next,o.next=()=>{const a=o._next();return a.value&&(a.value=n(a.value)),a}),o}const Vd=Array.prototype;function Sn(e,t,n,r,o,a){const l=Do(e),d=l!==e&&!Zt(e),f=l[t];if(f!==Vd[t]){const y=f.apply(e,a);return d?St(y):y}let m=n;l!==e&&(d?m=function(y,v){return n.call(this,St(y),v,e)}:n.length>2&&(m=function(y,v){return n.call(this,y,v,e)}));const h=f.call(l,m,r);return d&&o?o(h):h}function pc(e,t,n,r){const o=Do(e);let a=n;return o!==e&&(Zt(e)?n.length>3&&(a=function(l,d,f){return n.call(this,l,d,f,e)}):a=function(l,d,f){return n.call(this,l,St(d),f,e)}),o[t](a,...r)}function Ei(e,t,n){const r=Ye(e);Tt(r,"iterate",ms);const o=r[t](...n);return(o===-1||o===!1)&&ma(n[0])?(n[0]=Ye(n[0]),r[t](...n)):o}function Zr(e,t,n=[]){$n(),la();const r=Ye(e)[t].apply(e,n);return ua(),Tn(),r}const Hd=sa("__proto__,__v_isRef,__isVue"),Ml=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(on));function Wd(e){on(e)||(e=String(e));const t=Ye(this);return Tt(t,"has",e),t.hasOwnProperty(e)}class Bl{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return a;if(n==="__v_raw")return r===(o?a?nf:Ll:a?jl:Nl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const l=De(t);if(!o){let f;if(l&&(f=Ud[n]))return f;if(n==="hasOwnProperty")return Wd}const d=Reflect.get(t,n,gt(t)?t:r);return(on(n)?Ml.has(n):Hd(n))||(o||Tt(t,"get",n),a)?d:gt(d)?l&&aa(n)?d:d.value:at(d)?o?Kl(d):mr(d):d}}class Fl extends Bl{constructor(t=!1){super(!1,t)}set(t,n,r,o){let a=t[n];if(!this._isShallow){const f=Zn(a);if(!Zt(r)&&!Zn(r)&&(a=Ye(a),r=Ye(r)),!De(t)&&gt(a)&&!gt(r))return f||(a.value=r),!0}const l=De(t)&&aa(n)?Number(n)<t.length:Xe(t,n),d=Reflect.set(t,n,r,gt(t)?t:o);return t===Ye(o)&&(l?Gn(r,a)&&Rn(t,"set",n,r):Rn(t,"add",n,r)),d}deleteProperty(t,n){const r=Xe(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&r&&Rn(t,"delete",n,void 0),o}has(t,n){const r=Reflect.has(t,n);return(!on(n)||!Ml.has(n))&&Tt(t,"has",n),r}ownKeys(t){return Tt(t,"iterate",De(t)?"length":dr),Reflect.ownKeys(t)}}class zd extends Bl{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Qd=new Fl,Yd=new zd,Gd=new Fl(!0);const qi=e=>e,Gs=e=>Reflect.getPrototypeOf(e);function Jd(e,t,n){return function(...r){const o=this.__v_raw,a=Ye(o),l=$r(a),d=e==="entries"||e===Symbol.iterator&&l,f=e==="keys"&&l,m=o[e](...r),h=n?qi:t?mo:St;return!t&&Tt(a,"iterate",f?Li:dr),{next(){const{value:y,done:v}=m.next();return v?{value:y,done:v}:{value:d?[h(y[0]),h(y[1])]:h(y),done:v}},[Symbol.iterator](){return this}}}}function Js(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Xd(e,t){const n={get(o){const a=this.__v_raw,l=Ye(a),d=Ye(o);e||(Gn(o,d)&&Tt(l,"get",o),Tt(l,"get",d));const{has:f}=Gs(l),m=t?qi:e?mo:St;if(f.call(l,o))return m(a.get(o));if(f.call(l,d))return m(a.get(d));a!==l&&a.get(o)},get size(){const o=this.__v_raw;return!e&&Tt(Ye(o),"iterate",dr),o.size},has(o){const a=this.__v_raw,l=Ye(a),d=Ye(o);return e||(Gn(o,d)&&Tt(l,"has",o),Tt(l,"has",d)),o===d?a.has(o):a.has(o)||a.has(d)},forEach(o,a){const l=this,d=l.__v_raw,f=Ye(d),m=t?qi:e?mo:St;return!e&&Tt(f,"iterate",dr),d.forEach((h,y)=>o.call(a,m(h),m(y),l))}};return Bt(n,e?{add:Js("add"),set:Js("set"),delete:Js("delete"),clear:Js("clear")}:{add(o){!t&&!Zt(o)&&!Zn(o)&&(o=Ye(o));const a=Ye(this);return Gs(a).has.call(a,o)||(a.add(o),Rn(a,"add",o,o)),this},set(o,a){!t&&!Zt(a)&&!Zn(a)&&(a=Ye(a));const l=Ye(this),{has:d,get:f}=Gs(l);let m=d.call(l,o);m||(o=Ye(o),m=d.call(l,o));const h=f.call(l,o);return l.set(o,a),m?Gn(a,h)&&Rn(l,"set",o,a):Rn(l,"add",o,a),this},delete(o){const a=Ye(this),{has:l,get:d}=Gs(a);let f=l.call(a,o);f||(o=Ye(o),f=l.call(a,o)),d&&d.call(a,o);const m=a.delete(o);return f&&Rn(a,"delete",o,void 0),m},clear(){const o=Ye(this),a=o.size!==0,l=o.clear();return a&&Rn(o,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=Jd(o,e,t)}),n}function pa(e,t){const n=Xd(e,t);return(r,o,a)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(Xe(n,o)&&o in r?n:r,o,a)}const Zd={get:pa(!1,!1)},ef={get:pa(!1,!0)},tf={get:pa(!0,!1)};const Nl=new WeakMap,jl=new WeakMap,Ll=new WeakMap,nf=new WeakMap;function rf(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sf(e){return e.__v_skip||!Object.isExtensible(e)?0:rf(Pd(e))}function mr(e){return Zn(e)?e:ha(e,!1,Qd,Zd,Nl)}function ql(e){return ha(e,!1,Gd,ef,jl)}function Kl(e){return ha(e,!0,Yd,tf,Ll)}function ha(e,t,n,r,o){if(!at(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=sf(e);if(a===0)return e;const l=o.get(e);if(l)return l;const d=new Proxy(e,a===2?r:n);return o.set(e,d),d}function Jn(e){return Zn(e)?Jn(e.__v_raw):!!(e&&e.__v_isReactive)}function Zn(e){return!!(e&&e.__v_isReadonly)}function Zt(e){return!!(e&&e.__v_isShallow)}function ma(e){return e?!!e.__v_raw:!1}function Ye(e){const t=e&&e.__v_raw;return t?Ye(t):e}function ya(e){return!Xe(e,"__v_skip")&&Object.isExtensible(e)&&wl(e,"__v_skip",!0),e}const St=e=>at(e)?mr(e):e,mo=e=>at(e)?Kl(e):e;function gt(e){return e?e.__v_isRef===!0:!1}function Oe(e){return Vl(e,!1)}function Ul(e){return Vl(e,!0)}function Vl(e,t){return gt(e)?e:new of(e,t)}class of{constructor(t,n){this.dep=new fa,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ye(t),this._value=n?t:St(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Zt(t)||Zn(t);t=r?t:Ye(t),Gn(t,n)&&(this._rawValue=t,this._value=r?t:St(t),this.dep.trigger())}}function xe(e){return gt(e)?e.value:e}function bn(e){return Be(e)?e():xe(e)}const af={get:(e,t,n)=>t==="__v_raw"?e:xe(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return gt(o)&&!gt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function Hl(e){return Jn(e)?e:new Proxy(e,af)}function ga(e){const t=De(e)?new Array(e.length):{};for(const n in e)t[n]=lf(e,n);return t}class cf{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Kd(Ye(this._object),this._key)}}function lf(e,t,n){const r=e[t];return gt(r)?r:new cf(e,t,n)}class uf{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new fa(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=hs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&it!==this)return Ol(this,!0),!0}get value(){const t=this.dep.track();return Dl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function df(e,t,n=!1){let r,o;return Be(e)?r=e:(r=e.get,o=e.set),new uf(r,o,n)}const Xs={},yo=new WeakMap;let lr;function ff(e,t=!1,n=lr){if(n){let r=yo.get(n);r||yo.set(n,r=[]),r.push(e)}}function pf(e,t,n=st){const{immediate:r,deep:o,once:a,scheduler:l,augmentJob:d,call:f}=n,m=X=>o?X:Zt(X)||o===!1||o===0?Dn(X,1):Dn(X);let h,y,v,C,O=!1,N=!1;if(gt(e)?(y=()=>e.value,O=Zt(e)):Jn(e)?(y=()=>m(e),O=!0):De(e)?(N=!0,O=e.some(X=>Jn(X)||Zt(X)),y=()=>e.map(X=>{if(gt(X))return X.value;if(Jn(X))return m(X);if(Be(X))return f?f(X,2):X()})):Be(e)?t?y=f?()=>f(e,2):e:y=()=>{if(v){$n();try{v()}finally{Tn()}}const X=lr;lr=h;try{return f?f(e,3,[C]):e(C)}finally{lr=X}}:y=vn,t&&o){const X=y,we=o===!0?1/0:o;y=()=>Dn(X(),we)}const J=ca(),L=()=>{h.stop(),J&&J.active&&ia(J.effects,h)};if(a&&t){const X=t;t=(...we)=>{X(...we),L()}}let j=N?new Array(e.length).fill(Xs):Xs;const K=X=>{if(!(!(h.flags&1)||!h.dirty&&!X))if(t){const we=h.run();if(o||O||(N?we.some((ve,Ce)=>Gn(ve,j[Ce])):Gn(we,j))){v&&v();const ve=lr;lr=h;try{const Ce=[we,j===Xs?void 0:N&&j[0]===Xs?[]:j,C];j=we,f?f(t,3,Ce):t(...Ce)}finally{lr=ve}}}else h.run()};return d&&d(K),h=new Sl(y),h.scheduler=l?()=>l(K,!1):K,C=X=>ff(X,!1,h),v=h.onStop=()=>{const X=yo.get(h);if(X){if(f)f(X,4);else for(const we of X)we();yo.delete(h)}},t?r?K(!0):j=h.run():l?l(K.bind(null,!0),!0):h.run(),L.pause=h.pause.bind(h),L.resume=h.resume.bind(h),L.stop=L,L}function Dn(e,t=1/0,n){if(t<=0||!at(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,gt(e))Dn(e.value,t,n);else if(De(e))for(let r=0;r<e.length;r++)Dn(e[r],t,n);else if(Ao(e)||$r(e))e.forEach(r=>{Dn(r,t,n)});else if(_l(e)){for(const r in e)Dn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Dn(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ks(e,t,n,r){try{return r?e(...r):e()}catch(o){$o(o,t,n)}}function _n(e,t,n,r){if(Be(e)){const o=ks(e,t,n,r);return o&&vl(o)&&o.catch(a=>{$o(a,t,n)}),o}if(De(e)){const o=[];for(let a=0;a<e.length;a++)o.push(_n(e[a],t,n,r));return o}}function $o(e,t,n,r=!0){const o=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||st;if(t){let d=t.parent;const f=t.proxy,m=`https://vuejs.org/error-reference/#runtime-${n}`;for(;d;){const h=d.ec;if(h){for(let y=0;y<h.length;y++)if(h[y](e,f,m)===!1)return}d=d.parent}if(a){$n(),ks(a,null,10,[e,f,m]),Tn();return}}hf(e,n,o,r,l)}function hf(e,t,n,r=!0,o=!1){if(o)throw e;console.error(e)}const qt=[];let hn=-1;const Tr=[];let zn=null,Ir=0;const Wl=Promise.resolve();let go=null;function an(e){const t=go||Wl;return e?t.then(this?e.bind(this):e):t}function mf(e){let t=hn+1,n=qt.length;for(;t<n;){const r=t+n>>>1,o=qt[r],a=ys(o);a<e||a===e&&o.flags&2?t=r+1:n=r}return t}function va(e){if(!(e.flags&1)){const t=ys(e),n=qt[qt.length-1];!n||!(e.flags&2)&&t>=ys(n)?qt.push(e):qt.splice(mf(t),0,e),e.flags|=1,zl()}}function zl(){go||(go=Wl.then(Yl))}function yf(e){De(e)?Tr.push(...e):zn&&e.id===-1?zn.splice(Ir+1,0,e):e.flags&1||(Tr.push(e),e.flags|=1),zl()}function hc(e,t,n=hn+1){for(;n<qt.length;n++){const r=qt[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;qt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Ql(e){if(Tr.length){const t=[...new Set(Tr)].sort((n,r)=>ys(n)-ys(r));if(Tr.length=0,zn){zn.push(...t);return}for(zn=t,Ir=0;Ir<zn.length;Ir++){const n=zn[Ir];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}zn=null,Ir=0}}const ys=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Yl(e){try{for(hn=0;hn<qt.length;hn++){const t=qt[hn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ks(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;hn<qt.length;hn++){const t=qt[hn];t&&(t.flags&=-2)}hn=-1,qt.length=0,Ql(),go=null,(qt.length||Tr.length)&&Yl()}}let Pt=null,Gl=null;function vo(e){const t=Pt;return Pt=e,Gl=e&&e.type.__scopeId||null,t}function et(e,t=Pt,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&Sc(-1);const a=vo(t);let l;try{l=e(...o)}finally{vo(a),r._d&&Sc(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function bo(e,t){if(Pt===null)return e;const n=jo(Pt),r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[a,l,d,f=st]=t[o];a&&(Be(a)&&(a={mounted:a,updated:a}),a.deep&&Dn(l),r.push({dir:a,instance:n,value:l,oldValue:void 0,arg:d,modifiers:f}))}return e}function ar(e,t,n,r){const o=e.dirs,a=t&&t.dirs;for(let l=0;l<o.length;l++){const d=o[l];a&&(d.oldValue=a[l].value);let f=d.dir[r];f&&($n(),_n(f,n,8,[e.el,d,e,t]),Tn())}}const Jl=Symbol("_vte"),gf=e=>e.__isTeleport,is=e=>e&&(e.disabled||e.disabled===""),mc=e=>e&&(e.defer||e.defer===""),yc=e=>typeof SVGElement<"u"&&e instanceof SVGElement,gc=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Ki=(e,t)=>{const n=e&&e.to;return ht(n)?t?t(n):null:n},Xl={name:"Teleport",__isTeleport:!0,process(e,t,n,r,o,a,l,d,f,m){const{mc:h,pc:y,pbc:v,o:{insert:C,querySelector:O,createText:N,createComment:J}}=m,L=is(t.props);let{shapeFlag:j,children:K,dynamicChildren:X}=t;if(e==null){const we=t.el=N(""),ve=t.anchor=N("");C(we,n,r),C(ve,n,r);const Ce=(Ae,je)=>{j&16&&(o&&o.isCE&&(o.ce._teleportTarget=Ae),h(K,Ae,je,o,a,l,d,f))},Se=()=>{const Ae=t.target=Ki(t.props,O),je=Zl(Ae,t,N,C);Ae&&(l!=="svg"&&yc(Ae)?l="svg":l!=="mathml"&&gc(Ae)&&(l="mathml"),L||(Ce(Ae,je),ao(t,!1)))};L&&(Ce(n,ve),ao(t,!0)),mc(t.props)?(t.el.__isMounted=!1,Lt(()=>{Se(),delete t.el.__isMounted},a)):Se()}else{if(mc(t.props)&&e.el.__isMounted===!1){Lt(()=>{Xl.process(e,t,n,r,o,a,l,d,f,m)},a);return}t.el=e.el,t.targetStart=e.targetStart;const we=t.anchor=e.anchor,ve=t.target=e.target,Ce=t.targetAnchor=e.targetAnchor,Se=is(e.props),Ae=Se?n:ve,je=Se?we:Ce;if(l==="svg"||yc(ve)?l="svg":(l==="mathml"||gc(ve))&&(l="mathml"),X?(v(e.dynamicChildren,X,Ae,o,a,l,d),Ca(e,t,!0)):f||y(e,t,Ae,je,o,a,l,d,!1),L)Se?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Zs(t,n,we,m,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const Ge=t.target=Ki(t.props,O);Ge&&Zs(t,Ge,null,m,0)}else Se&&Zs(t,ve,Ce,m,1);ao(t,L)}},remove(e,t,n,{um:r,o:{remove:o}},a){const{shapeFlag:l,children:d,anchor:f,targetStart:m,targetAnchor:h,target:y,props:v}=e;if(y&&(o(m),o(h)),a&&o(f),l&16){const C=a||!is(v);for(let O=0;O<d.length;O++){const N=d[O];r(N,t,n,C,!!N.dynamicChildren)}}},move:Zs,hydrate:vf};function Zs(e,t,n,{o:{insert:r},m:o},a=2){a===0&&r(e.targetAnchor,t,n);const{el:l,anchor:d,shapeFlag:f,children:m,props:h}=e,y=a===2;if(y&&r(l,t,n),(!y||is(h))&&f&16)for(let v=0;v<m.length;v++)o(m[v],t,n,2);y&&r(d,t,n)}function vf(e,t,n,r,o,a,{o:{nextSibling:l,parentNode:d,querySelector:f,insert:m,createText:h}},y){const v=t.target=Ki(t.props,f);if(v){const C=is(t.props),O=v._lpa||v.firstChild;if(t.shapeFlag&16)if(C)t.anchor=y(l(e),t,d(e),n,r,o,a),t.targetStart=O,t.targetAnchor=O&&l(O);else{t.anchor=l(e);let N=O;for(;N;){if(N&&N.nodeType===8){if(N.data==="teleport start anchor")t.targetStart=N;else if(N.data==="teleport anchor"){t.targetAnchor=N,v._lpa=t.targetAnchor&&l(t.targetAnchor);break}}N=l(N)}t.targetAnchor||Zl(v,t,h,m),y(O&&l(O),t,v,n,r,o,a)}ao(t,C)}return t.anchor&&l(t.anchor)}const bf=Xl;function ao(e,t){const n=e.ctx;if(n&&n.ut){let r,o;for(t?(r=e.el,o=e.anchor):(r=e.targetStart,o=e.targetAnchor);r&&r!==o;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function Zl(e,t,n,r){const o=t.targetStart=n(""),a=t.targetAnchor=n("");return o[Jl]=a,e&&(r(o,e),r(a,e)),a}const _f=Symbol("_leaveCb");function ba(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ba(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function nt(e,t){return Be(e)?Bt({name:e.name},t,{setup:e}):e}function wf(){const e=Bn();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function eu(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function as(e,t,n,r,o=!1){if(De(e)){e.forEach((O,N)=>as(O,t&&(De(t)?t[N]:t),n,r,o));return}if(Mr(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&as(e,t,n,r.component.subTree);return}const a=r.shapeFlag&4?jo(r.component):r.el,l=o?null:a,{i:d,r:f}=e,m=t&&t.r,h=d.refs===st?d.refs={}:d.refs,y=d.setupState,v=Ye(y),C=y===st?gl:O=>Xe(v,O);if(m!=null&&m!==f){if(ht(m))h[m]=null,C(m)&&(y[m]=null);else if(gt(m)){m.value=null;const O=t;O.k&&(h[O.k]=null)}}if(Be(f))ks(f,d,12,[l,h]);else{const O=ht(f),N=gt(f);if(O||N){const J=()=>{if(e.f){const L=O?C(f)?y[f]:h[f]:f.value;if(o)De(L)&&ia(L,a);else if(De(L))L.includes(a)||L.push(a);else if(O)h[f]=[a],C(f)&&(y[f]=h[f]);else{const j=[a];f.value=j,e.k&&(h[e.k]=j)}}else O?(h[f]=l,C(f)&&(y[f]=l)):N&&(f.value=l,e.k&&(h[e.k]=l))};l?(J.id=-1,Lt(J,n)):J()}}}Oo().requestIdleCallback;Oo().cancelIdleCallback;const Mr=e=>!!e.type.__asyncLoader,tu=e=>e.type.__isKeepAlive;function Cf(e,t){nu(e,"a",t)}function kf(e,t){nu(e,"da",t)}function nu(e,t,n=Mt){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(To(t,r,n),n){let o=n.parent;for(;o&&o.parent;)tu(o.parent.vnode)&&Ef(r,t,n,o),o=o.parent}}function Ef(e,t,n,r){const o=To(t,e,r,!0);Mo(()=>{ia(r[t],o)},n)}function To(e,t,n=Mt,r=!1){if(n){const o=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...l)=>{$n();const d=Es(n),f=_n(t,n,e,l);return d(),Tn(),f});return r?o.unshift(a):o.push(a),a}}const Mn=e=>(t,n=Mt)=>{(!bs||e==="sp")&&To(e,(...r)=>t(...r),n)},xf=Mn("bm"),yr=Mn("m"),Af=Mn("bu"),Sf=Mn("u"),ru=Mn("bum"),Mo=Mn("um"),Pf=Mn("sp"),Of=Mn("rtg"),If=Mn("rtc");function Rf(e,t=Mt){To("ec",e,t)}const Df="components";function Bo(e,t){return Tf(Df,e,!0,t)||e}const $f=Symbol.for("v-ndc");function Tf(e,t,n=!0,r=!1){const o=Pt||Mt;if(o){const a=o.type;{const d=_p(a,!1);if(d&&(d===t||d===Jt(t)||d===Po(Jt(t))))return a}const l=vc(o[e]||a[e],t)||vc(o.appContext[e],t);return!l&&r?a:l}}function vc(e,t){return e&&(e[t]||e[Jt(t)]||e[Po(Jt(t))])}function zt(e,t,n,r){let o;const a=n,l=De(e);if(l||ht(e)){const d=l&&Jn(e);let f=!1,m=!1;d&&(f=!Zt(e),m=Zn(e),e=Do(e)),o=new Array(e.length);for(let h=0,y=e.length;h<y;h++)o[h]=t(f?m?mo(St(e[h])):St(e[h]):e[h],h,void 0,a)}else if(typeof e=="number"){o=new Array(e);for(let d=0;d<e;d++)o[d]=t(d+1,d,void 0,a)}else if(at(e))if(e[Symbol.iterator])o=Array.from(e,(d,f)=>t(d,f,void 0,a));else{const d=Object.keys(e);o=new Array(d.length);for(let f=0,m=d.length;f<m;f++){const h=d[f];o[f]=t(e[h],h,f,a)}}else o=[];return o}function Vt(e,t,n={},r,o){if(Pt.ce||Pt.parent&&Mr(Pt.parent)&&Pt.parent.ce)return z(),xt(ot,null,[qe("slot",n,r)],64);let a=e[t];a&&a._c&&(a._d=!1),z();const l=a&&su(a(n)),d=n.key||l&&l.key,f=xt(ot,{key:(d&&!on(d)?d:`_${t}`)+(!l&&r?"_fb":"")},l||[],l&&e._===1?64:-2);return f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),a&&a._c&&(a._d=!0),f}function su(e){return e.some(t=>vs(t)?!(t.type===wn||t.type===ot&&!su(t.children)):!0)?e:null}const Ui=e=>e?ku(e)?jo(e):Ui(e.parent):null,cs=Bt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ui(e.parent),$root:e=>Ui(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>iu(e),$forceUpdate:e=>e.f||(e.f=()=>{va(e.update)}),$nextTick:e=>e.n||(e.n=an.bind(e.proxy)),$watch:e=>np.bind(e)}),xi=(e,t)=>e!==st&&!e.__isScriptSetup&&Xe(e,t),Mf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:o,props:a,accessCache:l,type:d,appContext:f}=e;let m;if(t[0]!=="$"){const C=l[t];if(C!==void 0)switch(C){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return a[t]}else{if(xi(r,t))return l[t]=1,r[t];if(o!==st&&Xe(o,t))return l[t]=2,o[t];if((m=e.propsOptions[0])&&Xe(m,t))return l[t]=3,a[t];if(n!==st&&Xe(n,t))return l[t]=4,n[t];Vi&&(l[t]=0)}}const h=cs[t];let y,v;if(h)return t==="$attrs"&&Tt(e.attrs,"get",""),h(e);if((y=d.__cssModules)&&(y=y[t]))return y;if(n!==st&&Xe(n,t))return l[t]=4,n[t];if(v=f.config.globalProperties,Xe(v,t))return v[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:a}=e;return xi(o,t)?(o[t]=n,!0):r!==st&&Xe(r,t)?(r[t]=n,!0):Xe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:a,type:l}},d){let f,m;return!!(n[d]||e!==st&&d[0]!=="$"&&Xe(e,d)||xi(t,d)||(f=a[0])&&Xe(f,d)||Xe(r,d)||Xe(cs,d)||Xe(o.config.globalProperties,d)||(m=l.__cssModules)&&m[d])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Xe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function bc(e){return De(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Vi=!0;function Bf(e){const t=iu(e),n=e.proxy,r=e.ctx;Vi=!1,t.beforeCreate&&_c(t.beforeCreate,e,"bc");const{data:o,computed:a,methods:l,watch:d,provide:f,inject:m,created:h,beforeMount:y,mounted:v,beforeUpdate:C,updated:O,activated:N,deactivated:J,beforeDestroy:L,beforeUnmount:j,destroyed:K,unmounted:X,render:we,renderTracked:ve,renderTriggered:Ce,errorCaptured:Se,serverPrefetch:Ae,expose:je,inheritAttrs:Ge,components:Ke,directives:rt,filters:ie}=t;if(m&&Ff(m,r,null),l)for(const oe in l){const ue=l[oe];Be(ue)&&(r[oe]=ue.bind(n))}if(o){const oe=o.call(n,n);at(oe)&&(e.data=mr(oe))}if(Vi=!0,a)for(const oe in a){const ue=a[oe],He=Be(ue)?ue.bind(n,n):Be(ue.get)?ue.get.bind(n,n):vn,ut=!Be(ue)&&Be(ue.set)?ue.set.bind(n):vn,vt=tt({get:He,set:ut});Object.defineProperty(r,oe,{enumerable:!0,configurable:!0,get:()=>vt.value,set:_t=>vt.value=_t})}if(d)for(const oe in d)ou(d[oe],r,n,oe);if(f){const oe=Be(f)?f.call(n):f;Reflect.ownKeys(oe).forEach(ue=>{ls(ue,oe[ue])})}h&&_c(h,e,"c");function F(oe,ue){De(ue)?ue.forEach(He=>oe(He.bind(n))):ue&&oe(ue.bind(n))}if(F(xf,y),F(yr,v),F(Af,C),F(Sf,O),F(Cf,N),F(kf,J),F(Rf,Se),F(If,ve),F(Of,Ce),F(ru,j),F(Mo,X),F(Pf,Ae),De(je))if(je.length){const oe=e.exposed||(e.exposed={});je.forEach(ue=>{Object.defineProperty(oe,ue,{get:()=>n[ue],set:He=>n[ue]=He,enumerable:!0})})}else e.exposed||(e.exposed={});we&&e.render===vn&&(e.render=we),Ge!=null&&(e.inheritAttrs=Ge),Ke&&(e.components=Ke),rt&&(e.directives=rt),Ae&&eu(e)}function Ff(e,t,n=vn){De(e)&&(e=Hi(e));for(const r in e){const o=e[r];let a;at(o)?"default"in o?a=Yt(o.from||r,o.default,!0):a=Yt(o.from||r):a=Yt(o),gt(a)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[r]=a}}function _c(e,t,n){_n(De(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function ou(e,t,n,r){let o=r.includes(".")?gu(n,r):()=>n[r];if(ht(e)){const a=t[e];Be(a)&&Gt(o,a)}else if(Be(e))Gt(o,e.bind(n));else if(at(e))if(De(e))e.forEach(a=>ou(a,t,n,r));else{const a=Be(e.handler)?e.handler.bind(n):t[e.handler];Be(a)&&Gt(o,a,e)}}function iu(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:a,config:{optionMergeStrategies:l}}=e.appContext,d=a.get(t);let f;return d?f=d:!o.length&&!n&&!r?f=t:(f={},o.length&&o.forEach(m=>_o(f,m,l,!0)),_o(f,t,l)),at(t)&&a.set(t,f),f}function _o(e,t,n,r=!1){const{mixins:o,extends:a}=t;a&&_o(e,a,n,!0),o&&o.forEach(l=>_o(e,l,n,!0));for(const l in t)if(!(r&&l==="expose")){const d=Nf[l]||n&&n[l];e[l]=d?d(e[l],t[l]):t[l]}return e}const Nf={data:wc,props:Cc,emits:Cc,methods:ns,computed:ns,beforeCreate:jt,created:jt,beforeMount:jt,mounted:jt,beforeUpdate:jt,updated:jt,beforeDestroy:jt,beforeUnmount:jt,destroyed:jt,unmounted:jt,activated:jt,deactivated:jt,errorCaptured:jt,serverPrefetch:jt,components:ns,directives:ns,watch:Lf,provide:wc,inject:jf};function wc(e,t){return t?e?function(){return Bt(Be(e)?e.call(this,this):e,Be(t)?t.call(this,this):t)}:t:e}function jf(e,t){return ns(Hi(e),Hi(t))}function Hi(e){if(De(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function jt(e,t){return e?[...new Set([].concat(e,t))]:t}function ns(e,t){return e?Bt(Object.create(null),e,t):t}function Cc(e,t){return e?De(e)&&De(t)?[...new Set([...e,...t])]:Bt(Object.create(null),bc(e),bc(t??{})):t}function Lf(e,t){if(!e)return t;if(!t)return e;const n=Bt(Object.create(null),e);for(const r in t)n[r]=jt(e[r],t[r]);return n}function au(){return{app:null,config:{isNativeTag:gl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qf=0;function Kf(e,t){return function(r,o=null){Be(r)||(r=Bt({},r)),o!=null&&!at(o)&&(o=null);const a=au(),l=new WeakSet,d=[];let f=!1;const m=a.app={_uid:qf++,_component:r,_props:o,_container:null,_context:a,_instance:null,version:Cp,get config(){return a.config},set config(h){},use(h,...y){return l.has(h)||(h&&Be(h.install)?(l.add(h),h.install(m,...y)):Be(h)&&(l.add(h),h(m,...y))),m},mixin(h){return a.mixins.includes(h)||a.mixins.push(h),m},component(h,y){return y?(a.components[h]=y,m):a.components[h]},directive(h,y){return y?(a.directives[h]=y,m):a.directives[h]},mount(h,y,v){if(!f){const C=m._ceVNode||qe(r,o);return C.appContext=a,v===!0?v="svg":v===!1&&(v=void 0),e(C,h,v),f=!0,m._container=h,h.__vue_app__=m,jo(C.component)}},onUnmount(h){d.push(h)},unmount(){f&&(_n(d,m._instance,16),e(null,m._container),delete m._container.__vue_app__)},provide(h,y){return a.provides[h]=y,m},runWithContext(h){const y=fr;fr=m;try{return h()}finally{fr=y}}};return m}}let fr=null;function ls(e,t){if(Mt){let n=Mt.provides;const r=Mt.parent&&Mt.parent.provides;r===n&&(n=Mt.provides=Object.create(r)),n[e]=t}}function Yt(e,t,n=!1){const r=Bn();if(r||fr){let o=fr?fr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Be(t)?t.call(r&&r.proxy):t}}function Uf(){return!!(Bn()||fr)}const cu={},lu=()=>Object.create(cu),uu=e=>Object.getPrototypeOf(e)===cu;function Vf(e,t,n,r=!1){const o={},a=lu();e.propsDefaults=Object.create(null),du(e,t,o,a);for(const l in e.propsOptions[0])l in o||(o[l]=void 0);n?e.props=r?o:ql(o):e.type.props?e.props=o:e.props=a,e.attrs=a}function Hf(e,t,n,r){const{props:o,attrs:a,vnode:{patchFlag:l}}=e,d=Ye(o),[f]=e.propsOptions;let m=!1;if((r||l>0)&&!(l&16)){if(l&8){const h=e.vnode.dynamicProps;for(let y=0;y<h.length;y++){let v=h[y];if(Fo(e.emitsOptions,v))continue;const C=t[v];if(f)if(Xe(a,v))C!==a[v]&&(a[v]=C,m=!0);else{const O=Jt(v);o[O]=Wi(f,d,O,C,e,!1)}else C!==a[v]&&(a[v]=C,m=!0)}}}else{du(e,t,o,a)&&(m=!0);let h;for(const y in d)(!t||!Xe(t,y)&&((h=hr(y))===y||!Xe(t,h)))&&(f?n&&(n[y]!==void 0||n[h]!==void 0)&&(o[y]=Wi(f,d,y,void 0,e,!0)):delete o[y]);if(a!==d)for(const y in a)(!t||!Xe(t,y))&&(delete a[y],m=!0)}m&&Rn(e.attrs,"set","")}function du(e,t,n,r){const[o,a]=e.propsOptions;let l=!1,d;if(t)for(let f in t){if(rs(f))continue;const m=t[f];let h;o&&Xe(o,h=Jt(f))?!a||!a.includes(h)?n[h]=m:(d||(d={}))[h]=m:Fo(e.emitsOptions,f)||(!(f in r)||m!==r[f])&&(r[f]=m,l=!0)}if(a){const f=Ye(n),m=d||st;for(let h=0;h<a.length;h++){const y=a[h];n[y]=Wi(o,f,y,m[y],e,!Xe(m,y))}}return l}function Wi(e,t,n,r,o,a){const l=e[n];if(l!=null){const d=Xe(l,"default");if(d&&r===void 0){const f=l.default;if(l.type!==Function&&!l.skipFactory&&Be(f)){const{propsDefaults:m}=o;if(n in m)r=m[n];else{const h=Es(o);r=m[n]=f.call(null,t),h()}}else r=f;o.ce&&o.ce._setProp(n,r)}l[0]&&(a&&!d?r=!1:l[1]&&(r===""||r===hr(n))&&(r=!0))}return r}const Wf=new WeakMap;function fu(e,t,n=!1){const r=n?Wf:t.propsCache,o=r.get(e);if(o)return o;const a=e.props,l={},d=[];let f=!1;if(!Be(e)){const h=y=>{f=!0;const[v,C]=fu(y,t,!0);Bt(l,v),C&&d.push(...C)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!a&&!f)return at(e)&&r.set(e,Dr),Dr;if(De(a))for(let h=0;h<a.length;h++){const y=Jt(a[h]);kc(y)&&(l[y]=st)}else if(a)for(const h in a){const y=Jt(h);if(kc(y)){const v=a[h],C=l[y]=De(v)||Be(v)?{type:v}:Bt({},v),O=C.type;let N=!1,J=!0;if(De(O))for(let L=0;L<O.length;++L){const j=O[L],K=Be(j)&&j.name;if(K==="Boolean"){N=!0;break}else K==="String"&&(J=!1)}else N=Be(O)&&O.name==="Boolean";C[0]=N,C[1]=J,(N||Xe(C,"default"))&&d.push(y)}}const m=[l,d];return at(e)&&r.set(e,m),m}function kc(e){return e[0]!=="$"&&!rs(e)}const _a=e=>e==="_"||e==="_ctx"||e==="$stable",wa=e=>De(e)?e.map(mn):[mn(e)],zf=(e,t,n)=>{if(t._n)return t;const r=et((...o)=>wa(t(...o)),n);return r._c=!1,r},pu=(e,t,n)=>{const r=e._ctx;for(const o in e){if(_a(o))continue;const a=e[o];if(Be(a))t[o]=zf(o,a,r);else if(a!=null){const l=wa(a);t[o]=()=>l}}},hu=(e,t)=>{const n=wa(t);e.slots.default=()=>n},mu=(e,t,n)=>{for(const r in t)(n||!_a(r))&&(e[r]=t[r])},Qf=(e,t,n)=>{const r=e.slots=lu();if(e.vnode.shapeFlag&32){const o=t._;o?(mu(r,t,n),n&&wl(r,"_",o,!0)):pu(t,r)}else t&&hu(e,t)},Yf=(e,t,n)=>{const{vnode:r,slots:o}=e;let a=!0,l=st;if(r.shapeFlag&32){const d=t._;d?n&&d===1?a=!1:mu(o,t,n):(a=!t.$stable,pu(t,o)),l=t}else t&&(hu(e,t),l={default:1});if(a)for(const d in o)!_a(d)&&l[d]==null&&delete o[d]},Lt=lp;function Gf(e){return Jf(e)}function Jf(e,t){const n=Oo();n.__VUE__=!0;const{insert:r,remove:o,patchProp:a,createElement:l,createText:d,createComment:f,setText:m,setElementText:h,parentNode:y,nextSibling:v,setScopeId:C=vn,insertStaticContent:O}=e,N=(_,x,B,W=null,Z=null,G=null,pe=void 0,le=null,ae=!!x.dynamicChildren)=>{if(_===x)return;_&&!es(_,x)&&(W=Y(_),_t(_,Z,G,!0),_=null),x.patchFlag===-2&&(ae=!1,x.dynamicChildren=null);const{type:ee,ref:Ie,shapeFlag:he}=x;switch(ee){case No:J(_,x,B,W);break;case wn:L(_,x,B,W);break;case co:_==null&&j(x,B,W,pe);break;case ot:Ke(_,x,B,W,Z,G,pe,le,ae);break;default:he&1?we(_,x,B,W,Z,G,pe,le,ae):he&6?rt(_,x,B,W,Z,G,pe,le,ae):(he&64||he&128)&&ee.process(_,x,B,W,Z,G,pe,le,ae,ke)}Ie!=null&&Z?as(Ie,_&&_.ref,G,x||_,!x):Ie==null&&_&&_.ref!=null&&as(_.ref,null,G,_,!0)},J=(_,x,B,W)=>{if(_==null)r(x.el=d(x.children),B,W);else{const Z=x.el=_.el;x.children!==_.children&&m(Z,x.children)}},L=(_,x,B,W)=>{_==null?r(x.el=f(x.children||""),B,W):x.el=_.el},j=(_,x,B,W)=>{[_.el,_.anchor]=O(_.children,x,B,W,_.el,_.anchor)},K=({el:_,anchor:x},B,W)=>{let Z;for(;_&&_!==x;)Z=v(_),r(_,B,W),_=Z;r(x,B,W)},X=({el:_,anchor:x})=>{let B;for(;_&&_!==x;)B=v(_),o(_),_=B;o(x)},we=(_,x,B,W,Z,G,pe,le,ae)=>{x.type==="svg"?pe="svg":x.type==="math"&&(pe="mathml"),_==null?ve(x,B,W,Z,G,pe,le,ae):Ae(_,x,Z,G,pe,le,ae)},ve=(_,x,B,W,Z,G,pe,le)=>{let ae,ee;const{props:Ie,shapeFlag:he,transition:Pe,dirs:Re}=_;if(ae=_.el=l(_.type,G,Ie&&Ie.is,Ie),he&8?h(ae,_.children):he&16&&Se(_.children,ae,null,W,Z,Ai(_,G),pe,le),Re&&ar(_,null,W,"created"),Ce(ae,_,_.scopeId,pe,W),Ie){for(const Ue in Ie)Ue!=="value"&&!rs(Ue)&&a(ae,Ue,null,Ie[Ue],G,W);"value"in Ie&&a(ae,"value",null,Ie.value,G),(ee=Ie.onVnodeBeforeMount)&&pn(ee,W,_)}Re&&ar(_,null,W,"beforeMount");const Fe=Xf(Z,Pe);Fe&&Pe.beforeEnter(ae),r(ae,x,B),((ee=Ie&&Ie.onVnodeMounted)||Fe||Re)&&Lt(()=>{ee&&pn(ee,W,_),Fe&&Pe.enter(ae),Re&&ar(_,null,W,"mounted")},Z)},Ce=(_,x,B,W,Z)=>{if(B&&C(_,B),W)for(let G=0;G<W.length;G++)C(_,W[G]);if(Z){let G=Z.subTree;if(x===G||bu(G.type)&&(G.ssContent===x||G.ssFallback===x)){const pe=Z.vnode;Ce(_,pe,pe.scopeId,pe.slotScopeIds,Z.parent)}}},Se=(_,x,B,W,Z,G,pe,le,ae=0)=>{for(let ee=ae;ee<_.length;ee++){const Ie=_[ee]=le?Qn(_[ee]):mn(_[ee]);N(null,Ie,x,B,W,Z,G,pe,le)}},Ae=(_,x,B,W,Z,G,pe)=>{const le=x.el=_.el;let{patchFlag:ae,dynamicChildren:ee,dirs:Ie}=x;ae|=_.patchFlag&16;const he=_.props||st,Pe=x.props||st;let Re;if(B&&cr(B,!1),(Re=Pe.onVnodeBeforeUpdate)&&pn(Re,B,x,_),Ie&&ar(x,_,B,"beforeUpdate"),B&&cr(B,!0),(he.innerHTML&&Pe.innerHTML==null||he.textContent&&Pe.textContent==null)&&h(le,""),ee?je(_.dynamicChildren,ee,le,B,W,Ai(x,Z),G):pe||ue(_,x,le,null,B,W,Ai(x,Z),G,!1),ae>0){if(ae&16)Ge(le,he,Pe,B,Z);else if(ae&2&&he.class!==Pe.class&&a(le,"class",null,Pe.class,Z),ae&4&&a(le,"style",he.style,Pe.style,Z),ae&8){const Fe=x.dynamicProps;for(let Ue=0;Ue<Fe.length;Ue++){const We=Fe[Ue],bt=he[We],wt=Pe[We];(wt!==bt||We==="value")&&a(le,We,bt,wt,Z,B)}}ae&1&&_.children!==x.children&&h(le,x.children)}else!pe&&ee==null&&Ge(le,he,Pe,B,Z);((Re=Pe.onVnodeUpdated)||Ie)&&Lt(()=>{Re&&pn(Re,B,x,_),Ie&&ar(x,_,B,"updated")},W)},je=(_,x,B,W,Z,G,pe)=>{for(let le=0;le<x.length;le++){const ae=_[le],ee=x[le],Ie=ae.el&&(ae.type===ot||!es(ae,ee)||ae.shapeFlag&198)?y(ae.el):B;N(ae,ee,Ie,null,W,Z,G,pe,!0)}},Ge=(_,x,B,W,Z)=>{if(x!==B){if(x!==st)for(const G in x)!rs(G)&&!(G in B)&&a(_,G,x[G],null,Z,W);for(const G in B){if(rs(G))continue;const pe=B[G],le=x[G];pe!==le&&G!=="value"&&a(_,G,le,pe,Z,W)}"value"in B&&a(_,"value",x.value,B.value,Z)}},Ke=(_,x,B,W,Z,G,pe,le,ae)=>{const ee=x.el=_?_.el:d(""),Ie=x.anchor=_?_.anchor:d("");let{patchFlag:he,dynamicChildren:Pe,slotScopeIds:Re}=x;Re&&(le=le?le.concat(Re):Re),_==null?(r(ee,B,W),r(Ie,B,W),Se(x.children||[],B,Ie,Z,G,pe,le,ae)):he>0&&he&64&&Pe&&_.dynamicChildren?(je(_.dynamicChildren,Pe,B,Z,G,pe,le),(x.key!=null||Z&&x===Z.subTree)&&Ca(_,x,!0)):ue(_,x,B,Ie,Z,G,pe,le,ae)},rt=(_,x,B,W,Z,G,pe,le,ae)=>{x.slotScopeIds=le,_==null?x.shapeFlag&512?Z.ctx.activate(x,B,W,pe,ae):ie(x,B,W,Z,G,pe,ae):Q(_,x,ae)},ie=(_,x,B,W,Z,G,pe)=>{const le=_.component=mp(_,W,Z);if(tu(_)&&(le.ctx.renderer=ke),yp(le,!1,pe),le.asyncDep){if(Z&&Z.registerDep(le,F,pe),!_.el){const ae=le.subTree=qe(wn);L(null,ae,x,B),_.placeholder=ae.el}}else F(le,_,x,B,Z,G,pe)},Q=(_,x,B)=>{const W=x.component=_.component;if(ap(_,x,B))if(W.asyncDep&&!W.asyncResolved){oe(W,x,B);return}else W.next=x,W.update();else x.el=_.el,W.vnode=x},F=(_,x,B,W,Z,G,pe)=>{const le=()=>{if(_.isMounted){let{next:he,bu:Pe,u:Re,parent:Fe,vnode:Ue}=_;{const Ct=yu(_);if(Ct){he&&(he.el=Ue.el,oe(_,he,pe)),Ct.asyncDep.then(()=>{_.isUnmounted||le()});return}}let We=he,bt;cr(_,!1),he?(he.el=Ue.el,oe(_,he,pe)):he=Ue,Pe&&io(Pe),(bt=he.props&&he.props.onVnodeBeforeUpdate)&&pn(bt,Fe,he,Ue),cr(_,!0);const wt=xc(_),Ft=_.subTree;_.subTree=wt,N(Ft,wt,y(Ft.el),Y(Ft),_,Z,G),he.el=wt.el,We===null&&cp(_,wt.el),Re&&Lt(Re,Z),(bt=he.props&&he.props.onVnodeUpdated)&&Lt(()=>pn(bt,Fe,he,Ue),Z)}else{let he;const{el:Pe,props:Re}=x,{bm:Fe,m:Ue,parent:We,root:bt,type:wt}=_,Ft=Mr(x);cr(_,!1),Fe&&io(Fe),!Ft&&(he=Re&&Re.onVnodeBeforeMount)&&pn(he,We,x),cr(_,!0);{bt.ce&&bt.ce._def.shadowRoot!==!1&&bt.ce._injectChildStyle(wt);const Ct=_.subTree=xc(_);N(null,Ct,B,W,_,Z,G),x.el=Ct.el}if(Ue&&Lt(Ue,Z),!Ft&&(he=Re&&Re.onVnodeMounted)){const Ct=x;Lt(()=>pn(he,We,Ct),Z)}(x.shapeFlag&256||We&&Mr(We.vnode)&&We.vnode.shapeFlag&256)&&_.a&&Lt(_.a,Z),_.isMounted=!0,x=B=W=null}};_.scope.on();const ae=_.effect=new Sl(le);_.scope.off();const ee=_.update=ae.run.bind(ae),Ie=_.job=ae.runIfDirty.bind(ae);Ie.i=_,Ie.id=_.uid,ae.scheduler=()=>va(Ie),cr(_,!0),ee()},oe=(_,x,B)=>{x.component=_;const W=_.vnode.props;_.vnode=x,_.next=null,Hf(_,x.props,W,B),Yf(_,x.children,B),$n(),hc(_),Tn()},ue=(_,x,B,W,Z,G,pe,le,ae=!1)=>{const ee=_&&_.children,Ie=_?_.shapeFlag:0,he=x.children,{patchFlag:Pe,shapeFlag:Re}=x;if(Pe>0){if(Pe&128){ut(ee,he,B,W,Z,G,pe,le,ae);return}else if(Pe&256){He(ee,he,B,W,Z,G,pe,le,ae);return}}Re&8?(Ie&16&&dt(ee,Z,G),he!==ee&&h(B,he)):Ie&16?Re&16?ut(ee,he,B,W,Z,G,pe,le,ae):dt(ee,Z,G,!0):(Ie&8&&h(B,""),Re&16&&Se(he,B,W,Z,G,pe,le,ae))},He=(_,x,B,W,Z,G,pe,le,ae)=>{_=_||Dr,x=x||Dr;const ee=_.length,Ie=x.length,he=Math.min(ee,Ie);let Pe;for(Pe=0;Pe<he;Pe++){const Re=x[Pe]=ae?Qn(x[Pe]):mn(x[Pe]);N(_[Pe],Re,B,null,Z,G,pe,le,ae)}ee>Ie?dt(_,Z,G,!0,!1,he):Se(x,B,W,Z,G,pe,le,ae,he)},ut=(_,x,B,W,Z,G,pe,le,ae)=>{let ee=0;const Ie=x.length;let he=_.length-1,Pe=Ie-1;for(;ee<=he&&ee<=Pe;){const Re=_[ee],Fe=x[ee]=ae?Qn(x[ee]):mn(x[ee]);if(es(Re,Fe))N(Re,Fe,B,null,Z,G,pe,le,ae);else break;ee++}for(;ee<=he&&ee<=Pe;){const Re=_[he],Fe=x[Pe]=ae?Qn(x[Pe]):mn(x[Pe]);if(es(Re,Fe))N(Re,Fe,B,null,Z,G,pe,le,ae);else break;he--,Pe--}if(ee>he){if(ee<=Pe){const Re=Pe+1,Fe=Re<Ie?x[Re].el:W;for(;ee<=Pe;)N(null,x[ee]=ae?Qn(x[ee]):mn(x[ee]),B,Fe,Z,G,pe,le,ae),ee++}}else if(ee>Pe)for(;ee<=he;)_t(_[ee],Z,G,!0),ee++;else{const Re=ee,Fe=ee,Ue=new Map;for(ee=Fe;ee<=Pe;ee++){const ft=x[ee]=ae?Qn(x[ee]):mn(x[ee]);ft.key!=null&&Ue.set(ft.key,ee)}let We,bt=0;const wt=Pe-Fe+1;let Ft=!1,Ct=0;const ln=new Array(wt);for(ee=0;ee<wt;ee++)ln[ee]=0;for(ee=Re;ee<=he;ee++){const ft=_[ee];if(bt>=wt){_t(ft,Z,G,!0);continue}let be;if(ft.key!=null)be=Ue.get(ft.key);else for(We=Fe;We<=Pe;We++)if(ln[We-Fe]===0&&es(ft,x[We])){be=We;break}be===void 0?_t(ft,Z,G,!0):(ln[be-Fe]=ee+1,be>=Ct?Ct=be:Ft=!0,N(ft,x[be],B,null,Z,G,pe,le,ae),bt++)}const vr=Ft?Zf(ln):Dr;for(We=vr.length-1,ee=wt-1;ee>=0;ee--){const ft=Fe+ee,be=x[ft],Fn=x[ft+1],un=ft+1<Ie?Fn.el||Fn.placeholder:W;ln[ee]===0?N(null,be,B,un,Z,G,pe,le,ae):Ft&&(We<0||ee!==vr[We]?vt(be,B,un,2):We--)}}},vt=(_,x,B,W,Z=null)=>{const{el:G,type:pe,transition:le,children:ae,shapeFlag:ee}=_;if(ee&6){vt(_.component.subTree,x,B,W);return}if(ee&128){_.suspense.move(x,B,W);return}if(ee&64){pe.move(_,x,B,ke);return}if(pe===ot){r(G,x,B);for(let he=0;he<ae.length;he++)vt(ae[he],x,B,W);r(_.anchor,x,B);return}if(pe===co){K(_,x,B);return}if(W!==2&&ee&1&&le)if(W===0)le.beforeEnter(G),r(G,x,B),Lt(()=>le.enter(G),Z);else{const{leave:he,delayLeave:Pe,afterLeave:Re}=le,Fe=()=>{_.ctx.isUnmounted?o(G):r(G,x,B)},Ue=()=>{G._isLeaving&&G[_f](!0),he(G,()=>{Fe(),Re&&Re()})};Pe?Pe(G,Fe,Ue):Ue()}else r(G,x,B)},_t=(_,x,B,W=!1,Z=!1)=>{const{type:G,props:pe,ref:le,children:ae,dynamicChildren:ee,shapeFlag:Ie,patchFlag:he,dirs:Pe,cacheIndex:Re}=_;if(he===-2&&(Z=!1),le!=null&&($n(),as(le,null,B,_,!0),Tn()),Re!=null&&(x.renderCache[Re]=void 0),Ie&256){x.ctx.deactivate(_);return}const Fe=Ie&1&&Pe,Ue=!Mr(_);let We;if(Ue&&(We=pe&&pe.onVnodeBeforeUnmount)&&pn(We,x,_),Ie&6)tn(_.component,B,W);else{if(Ie&128){_.suspense.unmount(B,W);return}Fe&&ar(_,null,x,"beforeUnmount"),Ie&64?_.type.remove(_,x,B,ke,W):ee&&!ee.hasOnce&&(G!==ot||he>0&&he&64)?dt(ee,x,B,!1,!0):(G===ot&&he&384||!Z&&Ie&16)&&dt(ae,x,B),W&&At(_)}(Ue&&(We=pe&&pe.onVnodeUnmounted)||Fe)&&Lt(()=>{We&&pn(We,x,_),Fe&&ar(_,null,x,"unmounted")},B)},At=_=>{const{type:x,el:B,anchor:W,transition:Z}=_;if(x===ot){en(B,W);return}if(x===co){X(_);return}const G=()=>{o(B),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(_.shapeFlag&1&&Z&&!Z.persisted){const{leave:pe,delayLeave:le}=Z,ae=()=>pe(B,G);le?le(_.el,G,ae):ae()}else G()},en=(_,x)=>{let B;for(;_!==x;)B=v(_),o(_),_=B;o(x)},tn=(_,x,B)=>{const{bum:W,scope:Z,job:G,subTree:pe,um:le,m:ae,a:ee}=_;Ec(ae),Ec(ee),W&&io(W),Z.stop(),G&&(G.flags|=8,_t(pe,_,x,B)),le&&Lt(le,x),Lt(()=>{_.isUnmounted=!0},x)},dt=(_,x,B,W=!1,Z=!1,G=0)=>{for(let pe=G;pe<_.length;pe++)_t(_[pe],x,B,W,Z)},Y=_=>{if(_.shapeFlag&6)return Y(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const x=v(_.anchor||_.el),B=x&&x[Jl];return B?v(B):x};let _e=!1;const H=(_,x,B)=>{_==null?x._vnode&&_t(x._vnode,null,null,!0):N(x._vnode||null,_,x,null,null,null,B),x._vnode=_,_e||(_e=!0,hc(),Ql(),_e=!1)},ke={p:N,um:_t,m:vt,r:At,mt:ie,mc:Se,pc:ue,pbc:je,n:Y,o:e};return{render:H,hydrate:void 0,createApp:Kf(H)}}function Ai({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function cr({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Xf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ca(e,t,n=!1){const r=e.children,o=t.children;if(De(r)&&De(o))for(let a=0;a<r.length;a++){const l=r[a];let d=o[a];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=o[a]=Qn(o[a]),d.el=l.el),!n&&d.patchFlag!==-2&&Ca(l,d)),d.type===No&&d.patchFlag!==-1&&(d.el=l.el),d.type===wn&&!d.el&&(d.el=l.el)}}function Zf(e){const t=e.slice(),n=[0];let r,o,a,l,d;const f=e.length;for(r=0;r<f;r++){const m=e[r];if(m!==0){if(o=n[n.length-1],e[o]<m){t[r]=o,n.push(r);continue}for(a=0,l=n.length-1;a<l;)d=a+l>>1,e[n[d]]<m?a=d+1:l=d;m<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,l=n[a-1];a-- >0;)n[a]=l,l=t[l];return n}function yu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:yu(t)}function Ec(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ep=Symbol.for("v-scx"),tp=()=>Yt(ep);function Lr(e,t){return ka(e,null,t)}function Gt(e,t,n){return ka(e,t,n)}function ka(e,t,n=st){const{immediate:r,deep:o,flush:a,once:l}=n,d=Bt({},n),f=t&&r||!t&&a!=="post";let m;if(bs){if(a==="sync"){const C=tp();m=C.__watcherHandles||(C.__watcherHandles=[])}else if(!f){const C=()=>{};return C.stop=vn,C.resume=vn,C.pause=vn,C}}const h=Mt;d.call=(C,O,N)=>_n(C,h,O,N);let y=!1;a==="post"?d.scheduler=C=>{Lt(C,h&&h.suspense)}:a!=="sync"&&(y=!0,d.scheduler=(C,O)=>{O?C():va(C)}),d.augmentJob=C=>{t&&(C.flags|=4),y&&(C.flags|=2,h&&(C.id=h.uid,C.i=h))};const v=pf(e,t,d);return bs&&(m?m.push(v):f&&v()),v}function np(e,t,n){const r=this.proxy,o=ht(e)?e.includes(".")?gu(r,e):()=>r[e]:e.bind(r,r);let a;Be(t)?a=t:(a=t.handler,n=t);const l=Es(this),d=ka(o,a.bind(r),n);return l(),d}function gu(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}const rp=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Jt(t)}Modifiers`]||e[`${hr(t)}Modifiers`];function sp(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||st;let o=n;const a=t.startsWith("update:"),l=a&&rp(r,t.slice(7));l&&(l.trim&&(o=n.map(h=>ht(h)?h.trim():h)),l.number&&(o=n.map(po)));let d,f=r[d=oo(t)]||r[d=oo(Jt(t))];!f&&a&&(f=r[d=oo(hr(t))]),f&&_n(f,e,6,o);const m=r[d+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,_n(m,e,6,o)}}function vu(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const a=e.emits;let l={},d=!1;if(!Be(e)){const f=m=>{const h=vu(m,t,!0);h&&(d=!0,Bt(l,h))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!a&&!d?(at(e)&&r.set(e,null),null):(De(a)?a.forEach(f=>l[f]=null):Bt(l,a),at(e)&&r.set(e,l),l)}function Fo(e,t){return!e||!xo(t)?!1:(t=t.slice(2).replace(/Once$/,""),Xe(e,t[0].toLowerCase()+t.slice(1))||Xe(e,hr(t))||Xe(e,t))}function xc(e){const{type:t,vnode:n,proxy:r,withProxy:o,propsOptions:[a],slots:l,attrs:d,emit:f,render:m,renderCache:h,props:y,data:v,setupState:C,ctx:O,inheritAttrs:N}=e,J=vo(e);let L,j;try{if(n.shapeFlag&4){const X=o||r,we=X;L=mn(m.call(we,X,h,y,C,v,O)),j=d}else{const X=t;L=mn(X.length>1?X(y,{attrs:d,slots:l,emit:f}):X(y,null)),j=t.props?d:op(d)}}catch(X){us.length=0,$o(X,e,1),L=qe(wn)}let K=L;if(j&&N!==!1){const X=Object.keys(j),{shapeFlag:we}=K;X.length&&we&7&&(a&&X.some(oa)&&(j=ip(j,a)),K=pr(K,j,!1,!0))}return n.dirs&&(K=pr(K,null,!1,!0),K.dirs=K.dirs?K.dirs.concat(n.dirs):n.dirs),n.transition&&ba(K,n.transition),L=K,vo(J),L}const op=e=>{let t;for(const n in e)(n==="class"||n==="style"||xo(n))&&((t||(t={}))[n]=e[n]);return t},ip=(e,t)=>{const n={};for(const r in e)(!oa(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function ap(e,t,n){const{props:r,children:o,component:a}=e,{props:l,children:d,patchFlag:f}=t,m=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?Ac(r,l,m):!!l;if(f&8){const h=t.dynamicProps;for(let y=0;y<h.length;y++){const v=h[y];if(l[v]!==r[v]&&!Fo(m,v))return!0}}}else return(o||d)&&(!d||!d.$stable)?!0:r===l?!1:r?l?Ac(r,l,m):!0:!!l;return!1}function Ac(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const a=r[o];if(t[a]!==e[a]&&!Fo(n,a))return!0}return!1}function cp({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const bu=e=>e.__isSuspense;function lp(e,t){t&&t.pendingBranch?De(e)?t.effects.push(...e):t.effects.push(e):yf(e)}const ot=Symbol.for("v-fgt"),No=Symbol.for("v-txt"),wn=Symbol.for("v-cmt"),co=Symbol.for("v-stc"),us=[];let Qt=null;function z(e=!1){us.push(Qt=e?null:[])}function up(){us.pop(),Qt=us[us.length-1]||null}let gs=1;function Sc(e,t=!1){gs+=e,e<0&&Qt&&t&&(Qt.hasOnce=!0)}function _u(e){return e.dynamicChildren=gs>0?Qt||Dr:null,up(),gs>0&&Qt&&Qt.push(e),e}function te(e,t,n,r,o,a){return _u(E(e,t,n,r,o,a,!0))}function xt(e,t,n,r,o){return _u(qe(e,t,n,r,o,!0))}function vs(e){return e?e.__v_isVNode===!0:!1}function es(e,t){return e.type===t.type&&e.key===t.key}const wu=({key:e})=>e??null,lo=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ht(e)||gt(e)||Be(e)?{i:Pt,r:e,k:t,f:!!n}:e:null);function E(e,t=null,n=null,r=0,o=null,a=e===ot?0:1,l=!1,d=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&wu(t),ref:t&&lo(t),scopeId:Gl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Pt};return d?(Ea(f,n),a&128&&e.normalize(f)):n&&(f.shapeFlag|=ht(n)?8:16),gs>0&&!l&&Qt&&(f.patchFlag>0||a&6)&&f.patchFlag!==32&&Qt.push(f),f}const qe=dp;function dp(e,t=null,n=null,r=0,o=null,a=!1){if((!e||e===$f)&&(e=wn),vs(e)){const d=pr(e,t,!0);return n&&Ea(d,n),gs>0&&!a&&Qt&&(d.shapeFlag&6?Qt[Qt.indexOf(e)]=d:Qt.push(d)),d.patchFlag=-2,d}if(wp(e)&&(e=e.__vccOpts),t){t=Cu(t);let{class:d,style:f}=t;d&&!ht(d)&&(t.class=Kt(d)),at(f)&&(ma(f)&&!De(f)&&(f=Bt({},f)),t.style=Ur(f))}const l=ht(e)?1:bu(e)?128:gf(e)?64:at(e)?4:Be(e)?2:0;return E(e,t,n,r,o,l,a,!0)}function Cu(e){return e?ma(e)||uu(e)?Bt({},e):e:null}function pr(e,t,n=!1,r=!1){const{props:o,ref:a,patchFlag:l,children:d,transition:f}=e,m=t?Cn(o||{},t):o,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:m,key:m&&wu(m),ref:t&&t.ref?n&&a?De(a)?a.concat(lo(t)):[a,lo(t)]:lo(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:d,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ot?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:f,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&pr(e.ssContent),ssFallback:e.ssFallback&&pr(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return f&&r&&ba(h,f.clone(h)),h}function rn(e=" ",t=0){return qe(No,null,e,t)}function fp(e,t){const n=qe(co,null,e);return n.staticCount=t,n}function Te(e="",t=!1){return t?(z(),xt(wn,null,e)):qe(wn,null,e)}function mn(e){return e==null||typeof e=="boolean"?qe(wn):De(e)?qe(ot,null,e.slice()):vs(e)?Qn(e):qe(No,null,String(e))}function Qn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:pr(e)}function Ea(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(De(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),Ea(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!uu(t)?t._ctx=Pt:o===3&&Pt&&(Pt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Be(t)?(t={default:t,_ctx:Pt},n=32):(t=String(t),r&64?(n=16,t=[rn(t)]):n=8);e.children=t,e.shapeFlag|=n}function Cn(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=Kt([t.class,r.class]));else if(o==="style")t.style=Ur([t.style,r.style]);else if(xo(o)){const a=t[o],l=r[o];l&&a!==l&&!(De(a)&&a.includes(l))&&(t[o]=a?[].concat(a,l):l)}else o!==""&&(t[o]=r[o])}return t}function pn(e,t,n,r=null){_n(e,t,7,[n,r])}const pp=au();let hp=0;function mp(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||pp,a={uid:hp++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new xl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fu(r,o),emitsOptions:vu(r,o),emit:null,emitted:null,propsDefaults:st,inheritAttrs:r.inheritAttrs,ctx:st,data:st,props:st,attrs:st,slots:st,refs:st,setupState:st,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=sp.bind(null,a),e.ce&&e.ce(a),a}let Mt=null;const Bn=()=>Mt||Pt;let wo,zi;{const e=Oo(),t=(n,r)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(r),a=>{o.length>1?o.forEach(l=>l(a)):o[0](a)}};wo=t("__VUE_INSTANCE_SETTERS__",n=>Mt=n),zi=t("__VUE_SSR_SETTERS__",n=>bs=n)}const Es=e=>{const t=Mt;return wo(e),e.scope.on(),()=>{e.scope.off(),wo(t)}},Pc=()=>{Mt&&Mt.scope.off(),wo(null)};function ku(e){return e.vnode.shapeFlag&4}let bs=!1;function yp(e,t=!1,n=!1){t&&zi(t);const{props:r,children:o}=e.vnode,a=ku(e);Vf(e,r,a,t),Qf(e,o,n||t);const l=a?gp(e,t):void 0;return t&&zi(!1),l}function gp(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Mf);const{setup:r}=n;if(r){$n();const o=e.setupContext=r.length>1?bp(e):null,a=Es(e),l=ks(r,e,0,[e.props,o]),d=vl(l);if(Tn(),a(),(d||e.sp)&&!Mr(e)&&eu(e),d){if(l.then(Pc,Pc),t)return l.then(f=>{Oc(e,f)}).catch(f=>{$o(f,e,0)});e.asyncDep=l}else Oc(e,l)}else Eu(e)}function Oc(e,t,n){Be(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:at(t)&&(e.setupState=Hl(t)),Eu(e)}function Eu(e,t,n){const r=e.type;e.render||(e.render=r.render||vn);{const o=Es(e);$n();try{Bf(e)}finally{Tn(),o()}}}const vp={get(e,t){return Tt(e,"get",""),e[t]}};function bp(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,vp),slots:e.slots,emit:e.emit,expose:t}}function jo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Hl(ya(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in cs)return cs[n](e)},has(t,n){return n in t||n in cs}})):e.proxy}function _p(e,t=!0){return Be(e)?e.displayName||e.name:e.name||t&&e.__name}function wp(e){return Be(e)&&"__vccOpts"in e}const tt=(e,t)=>df(e,t,bs);function Br(e,t,n){const r=arguments.length;return r===2?at(t)&&!De(t)?vs(t)?qe(e,null,[t]):qe(e,t):qe(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&vs(n)&&(n=[n]),qe(e,t,n))}const Cp="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qi;const Ic=typeof window<"u"&&window.trustedTypes;if(Ic)try{Qi=Ic.createPolicy("vue",{createHTML:e=>e})}catch{}const xu=Qi?e=>Qi.createHTML(e):e=>e,kp="http://www.w3.org/2000/svg",Ep="http://www.w3.org/1998/Math/MathML",In=typeof document<"u"?document:null,Rc=In&&In.createElement("template"),xp={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t==="svg"?In.createElementNS(kp,e):t==="mathml"?In.createElementNS(Ep,e):n?In.createElement(e,{is:n}):In.createElement(e);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>In.createTextNode(e),createComment:e=>In.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>In.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,a){const l=n?n.previousSibling:t.lastChild;if(o&&(o===a||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===a||!(o=o.nextSibling)););else{Rc.innerHTML=xu(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const d=Rc.content;if(r==="svg"||r==="mathml"){const f=d.firstChild;for(;f.firstChild;)d.appendChild(f.firstChild);d.removeChild(f)}t.insertBefore(d,n)}return[l?l.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ap=Symbol("_vtc");function Sp(e,t,n){const r=e[Ap];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Dc=Symbol("_vod"),Pp=Symbol("_vsh"),Op=Symbol(""),Ip=/(^|;)\s*display\s*:/;function Rp(e,t,n){const r=e.style,o=ht(n);let a=!1;if(n&&!o){if(t)if(ht(t))for(const l of t.split(";")){const d=l.slice(0,l.indexOf(":")).trim();n[d]==null&&uo(r,d,"")}else for(const l in t)n[l]==null&&uo(r,l,"");for(const l in n)l==="display"&&(a=!0),uo(r,l,n[l])}else if(o){if(t!==n){const l=r[Op];l&&(n+=";"+l),r.cssText=n,a=Ip.test(n)}}else t&&e.removeAttribute("style");Dc in e&&(e[Dc]=a?r.display:"",e[Pp]&&(r.display="none"))}const $c=/\s*!important$/;function uo(e,t,n){if(De(n))n.forEach(r=>uo(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Dp(e,t);$c.test(n)?e.setProperty(hr(r),n.replace($c,""),"important"):e[r]=n}}const Tc=["Webkit","Moz","ms"],Si={};function Dp(e,t){const n=Si[t];if(n)return n;let r=Jt(t);if(r!=="filter"&&r in e)return Si[t]=r;r=Po(r);for(let o=0;o<Tc.length;o++){const a=Tc[o]+r;if(a in e)return Si[t]=a}return t}const Mc="http://www.w3.org/1999/xlink";function Bc(e,t,n,r,o,a=Fd(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Mc,t.slice(6,t.length)):e.setAttributeNS(Mc,t,n):n==null||a&&!Cl(n)?e.removeAttribute(t):e.setAttribute(t,a?"":on(n)?String(n):n)}function Fc(e,t,n,r,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?xu(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const d=a==="OPTION"?e.getAttribute("value")||"":e.value,f=n==null?e.type==="checkbox"?"on":"":String(n);(d!==f||!("_value"in e))&&(e.value=f),n==null&&e.removeAttribute(t),e._value=n;return}let l=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=Cl(n):n==null&&d==="string"?(n="",l=!0):d==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(o||t)}function ur(e,t,n,r){e.addEventListener(t,n,r)}function $p(e,t,n,r){e.removeEventListener(t,n,r)}const Nc=Symbol("_vei");function Tp(e,t,n,r,o=null){const a=e[Nc]||(e[Nc]={}),l=a[t];if(r&&l)l.value=r;else{const[d,f]=Mp(t);if(r){const m=a[t]=Np(r,o);ur(e,d,m,f)}else l&&($p(e,d,l,f),a[t]=void 0)}}const jc=/(?:Once|Passive|Capture)$/;function Mp(e){let t;if(jc.test(e)){t={};let r;for(;r=e.match(jc);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hr(e.slice(2)),t]}let Pi=0;const Bp=Promise.resolve(),Fp=()=>Pi||(Bp.then(()=>Pi=0),Pi=Date.now());function Np(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;_n(jp(r,n.value),t,5,[r])};return n.value=e,n.attached=Fp(),n}function jp(e,t){if(De(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const Lc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Lp=(e,t,n,r,o,a)=>{const l=o==="svg";t==="class"?Sp(e,r,l):t==="style"?Rp(e,n,r):xo(t)?oa(t)||Tp(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):qp(e,t,r,l))?(Fc(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Bc(e,t,r,l,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ht(r))?Fc(e,Jt(t),r,a,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Bc(e,t,r,l))};function qp(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Lc(t)&&Be(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Lc(t)&&ht(n)?!1:t in e}const Co=e=>{const t=e.props["onUpdate:modelValue"]||!1;return De(t)?n=>io(t,n):t};function Kp(e){e.target.composing=!0}function qc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Fr=Symbol("_assign"),Yi={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e[Fr]=Co(o);const a=r||o.props&&o.props.type==="number";ur(e,t?"change":"input",l=>{if(l.target.composing)return;let d=e.value;n&&(d=d.trim()),a&&(d=po(d)),e[Fr](d)}),n&&ur(e,"change",()=>{e.value=e.value.trim()}),t||(ur(e,"compositionstart",Kp),ur(e,"compositionend",qc),ur(e,"change",qc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:o,number:a}},l){if(e[Fr]=Co(l),e.composing)return;const d=(a||e.type==="number")&&!/^0\d/.test(e.value)?po(e.value):e.value,f=t??"";d!==f&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||o&&e.value.trim()===f)||(e.value=f))}},Up={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=Ao(t);ur(e,"change",()=>{const a=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>n?po(ko(l)):ko(l));e[Fr](e.multiple?o?new Set(a):a:a[0]),e._assigning=!0,an(()=>{e._assigning=!1})}),e[Fr]=Co(r)},mounted(e,{value:t}){Kc(e,t)},beforeUpdate(e,t,n){e[Fr]=Co(n)},updated(e,{value:t}){e._assigning||Kc(e,t)}};function Kc(e,t){const n=e.multiple,r=De(t);if(!(n&&!r&&!Ao(t))){for(let o=0,a=e.options.length;o<a;o++){const l=e.options[o],d=ko(l);if(n)if(r){const f=typeof d;f==="string"||f==="number"?l.selected=t.some(m=>String(m)===String(d)):l.selected=jd(t,d)>-1}else l.selected=t.has(d);else if(Io(ko(l),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ko(e){return"_value"in e?e._value:e.value}const Vp=Bt({patchProp:Lp},xp);let Uc;function Hp(){return Uc||(Uc=Gf(Vp))}const Wp=((...e)=>{const t=Hp().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=Qp(r);if(!o)return;const a=t._component;!Be(a)&&!a.render&&!a.template&&(a.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const l=n(o,!1,zp(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),l},t});function zp(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Qp(e){return ht(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Rr=typeof document<"u";function Au(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Yp(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Au(e.default)}const Je=Object.assign;function Oi(e,t){const n={};for(const r in t){const o=t[r];n[r]=cn(o)?o.map(e):e(o)}return n}const ds=()=>{},cn=Array.isArray,Su=/#/g,Gp=/&/g,Jp=/\//g,Xp=/=/g,Zp=/\?/g,Pu=/\+/g,eh=/%5B/g,th=/%5D/g,Ou=/%5E/g,nh=/%60/g,Iu=/%7B/g,rh=/%7C/g,Ru=/%7D/g,sh=/%20/g;function xa(e){return encodeURI(""+e).replace(rh,"|").replace(eh,"[").replace(th,"]")}function oh(e){return xa(e).replace(Iu,"{").replace(Ru,"}").replace(Ou,"^")}function Gi(e){return xa(e).replace(Pu,"%2B").replace(sh,"+").replace(Su,"%23").replace(Gp,"%26").replace(nh,"`").replace(Iu,"{").replace(Ru,"}").replace(Ou,"^")}function ih(e){return Gi(e).replace(Xp,"%3D")}function ah(e){return xa(e).replace(Su,"%23").replace(Zp,"%3F")}function ch(e){return e==null?"":ah(e).replace(Jp,"%2F")}function _s(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const lh=/\/$/,uh=e=>e.replace(lh,"");function Ii(e,t,n="/"){let r,o={},a="",l="";const d=t.indexOf("#");let f=t.indexOf("?");return d<f&&d>=0&&(f=-1),f>-1&&(r=t.slice(0,f),a=t.slice(f+1,d>-1?d:t.length),o=e(a)),d>-1&&(r=r||t.slice(0,d),l=t.slice(d,t.length)),r=hh(r??t,n),{fullPath:r+(a&&"?")+a+l,path:r,query:o,hash:_s(l)}}function dh(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Vc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function fh(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&qr(t.matched[r],n.matched[o])&&Du(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function qr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Du(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!ph(e[n],t[n]))return!1;return!0}function ph(e,t){return cn(e)?Hc(e,t):cn(t)?Hc(t,e):e===t}function Hc(e,t){return cn(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function hh(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let a=n.length-1,l,d;for(l=0;l<r.length;l++)if(d=r[l],d!==".")if(d==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+r.slice(l).join("/")}const Vn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ws;(function(e){e.pop="pop",e.push="push"})(ws||(ws={}));var fs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(fs||(fs={}));function mh(e){if(!e)if(Rr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),uh(e)}const yh=/^[^#]+#/;function gh(e,t){return e.replace(yh,"#")+t}function vh(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Lo=()=>({left:window.scrollX,top:window.scrollY});function bh(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=vh(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Wc(e,t){return(history.state?history.state.position-t:-1)+e}const Ji=new Map;function _h(e,t){Ji.set(e,t)}function wh(e){const t=Ji.get(e);return Ji.delete(e),t}let Ch=()=>location.protocol+"//"+location.host;function $u(e,t){const{pathname:n,search:r,hash:o}=t,a=e.indexOf("#");if(a>-1){let d=o.includes(e.slice(a))?e.slice(a).length:1,f=o.slice(d);return f[0]!=="/"&&(f="/"+f),Vc(f,"")}return Vc(n,e)+r+o}function kh(e,t,n,r){let o=[],a=[],l=null;const d=({state:v})=>{const C=$u(e,location),O=n.value,N=t.value;let J=0;if(v){if(n.value=C,t.value=v,l&&l===O){l=null;return}J=N?v.position-N.position:0}else r(C);o.forEach(L=>{L(n.value,O,{delta:J,type:ws.pop,direction:J?J>0?fs.forward:fs.back:fs.unknown})})};function f(){l=n.value}function m(v){o.push(v);const C=()=>{const O=o.indexOf(v);O>-1&&o.splice(O,1)};return a.push(C),C}function h(){const{history:v}=window;v.state&&v.replaceState(Je({},v.state,{scroll:Lo()}),"")}function y(){for(const v of a)v();a=[],window.removeEventListener("popstate",d),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",d),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:f,listen:m,destroy:y}}function zc(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?Lo():null}}function Eh(e){const{history:t,location:n}=window,r={value:$u(e,n)},o={value:t.state};o.value||a(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(f,m,h){const y=e.indexOf("#"),v=y>-1?(n.host&&document.querySelector("base")?e:e.slice(y))+f:Ch()+e+f;try{t[h?"replaceState":"pushState"](m,"",v),o.value=m}catch(C){console.error(C),n[h?"replace":"assign"](v)}}function l(f,m){const h=Je({},t.state,zc(o.value.back,f,o.value.forward,!0),m,{position:o.value.position});a(f,h,!0),r.value=f}function d(f,m){const h=Je({},o.value,t.state,{forward:f,scroll:Lo()});a(h.current,h,!0);const y=Je({},zc(r.value,f,null),{position:h.position+1},m);a(f,y,!1),r.value=f}return{location:r,state:o,push:d,replace:l}}function xh(e){e=mh(e);const t=Eh(e),n=kh(e,t.state,t.location,t.replace);function r(a,l=!0){l||n.pauseListeners(),history.go(a)}const o=Je({location:"",base:e,go:r,createHref:gh.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Ah(e){return typeof e=="string"||e&&typeof e=="object"}function Tu(e){return typeof e=="string"||typeof e=="symbol"}const Mu=Symbol("");var Qc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Qc||(Qc={}));function Kr(e,t){return Je(new Error,{type:e,[Mu]:!0},t)}function Pn(e,t){return e instanceof Error&&Mu in e&&(t==null||!!(e.type&t))}const Yc="[^/]+?",Sh={sensitive:!1,strict:!1,start:!0,end:!0},Ph=/[.+*?^${}()[\]/\\]/g;function Oh(e,t){const n=Je({},Sh,t),r=[];let o=n.start?"^":"";const a=[];for(const m of e){const h=m.length?[]:[90];n.strict&&!m.length&&(o+="/");for(let y=0;y<m.length;y++){const v=m[y];let C=40+(n.sensitive?.25:0);if(v.type===0)y||(o+="/"),o+=v.value.replace(Ph,"\\$&"),C+=40;else if(v.type===1){const{value:O,repeatable:N,optional:J,regexp:L}=v;a.push({name:O,repeatable:N,optional:J});const j=L||Yc;if(j!==Yc){C+=10;try{new RegExp(`(${j})`)}catch(X){throw new Error(`Invalid custom RegExp for param "${O}" (${j}): `+X.message)}}let K=N?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;y||(K=J&&m.length<2?`(?:/${K})`:"/"+K),J&&(K+="?"),o+=K,C+=20,J&&(C+=-8),N&&(C+=-20),j===".*"&&(C+=-50)}h.push(C)}r.push(h)}if(n.strict&&n.end){const m=r.length-1;r[m][r[m].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const l=new RegExp(o,n.sensitive?"":"i");function d(m){const h=m.match(l),y={};if(!h)return null;for(let v=1;v<h.length;v++){const C=h[v]||"",O=a[v-1];y[O.name]=C&&O.repeatable?C.split("/"):C}return y}function f(m){let h="",y=!1;for(const v of e){(!y||!h.endsWith("/"))&&(h+="/"),y=!1;for(const C of v)if(C.type===0)h+=C.value;else if(C.type===1){const{value:O,repeatable:N,optional:J}=C,L=O in m?m[O]:"";if(cn(L)&&!N)throw new Error(`Provided param "${O}" is an array but it is not repeatable (* or + modifiers)`);const j=cn(L)?L.join("/"):L;if(!j)if(J)v.length<2&&(h.endsWith("/")?h=h.slice(0,-1):y=!0);else throw new Error(`Missing required param "${O}"`);h+=j}}return h||"/"}return{re:l,score:r,keys:a,parse:d,stringify:f}}function Ih(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Bu(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const a=Ih(r[n],o[n]);if(a)return a;n++}if(Math.abs(o.length-r.length)===1){if(Gc(r))return 1;if(Gc(o))return-1}return o.length-r.length}function Gc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Rh={type:0,value:""},Dh=/[a-zA-Z0-9_]/;function $h(e){if(!e)return[[]];if(e==="/")return[[Rh]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(C){throw new Error(`ERR (${n})/"${m}": ${C}`)}let n=0,r=n;const o=[];let a;function l(){a&&o.push(a),a=[]}let d=0,f,m="",h="";function y(){m&&(n===0?a.push({type:0,value:m}):n===1||n===2||n===3?(a.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${m}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:m,regexp:h,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),m="")}function v(){m+=f}for(;d<e.length;){if(f=e[d++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(m&&y(),l()):f===":"?(y(),n=1):v();break;case 4:v(),n=r;break;case 1:f==="("?n=2:Dh.test(f)?v():(y(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&d--);break;case 2:f===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+f:n=3:h+=f;break;case 3:y(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&d--,h="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${m}"`),y(),l(),o}function Th(e,t,n){const r=Oh($h(e.path),n),o=Je(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Mh(e,t){const n=[],r=new Map;t=el({strict:!1,end:!0,sensitive:!1},t);function o(y){return r.get(y)}function a(y,v,C){const O=!C,N=Xc(y);N.aliasOf=C&&C.record;const J=el(t,y),L=[N];if("alias"in y){const X=typeof y.alias=="string"?[y.alias]:y.alias;for(const we of X)L.push(Xc(Je({},N,{components:C?C.record.components:N.components,path:we,aliasOf:C?C.record:N})))}let j,K;for(const X of L){const{path:we}=X;if(v&&we[0]!=="/"){const ve=v.record.path,Ce=ve[ve.length-1]==="/"?"":"/";X.path=v.record.path+(we&&Ce+we)}if(j=Th(X,v,J),C?C.alias.push(j):(K=K||j,K!==j&&K.alias.push(j),O&&y.name&&!Zc(j)&&l(y.name)),Fu(j)&&f(j),N.children){const ve=N.children;for(let Ce=0;Ce<ve.length;Ce++)a(ve[Ce],j,C&&C.children[Ce])}C=C||j}return K?()=>{l(K)}:ds}function l(y){if(Tu(y)){const v=r.get(y);v&&(r.delete(y),n.splice(n.indexOf(v),1),v.children.forEach(l),v.alias.forEach(l))}else{const v=n.indexOf(y);v>-1&&(n.splice(v,1),y.record.name&&r.delete(y.record.name),y.children.forEach(l),y.alias.forEach(l))}}function d(){return n}function f(y){const v=Nh(y,n);n.splice(v,0,y),y.record.name&&!Zc(y)&&r.set(y.record.name,y)}function m(y,v){let C,O={},N,J;if("name"in y&&y.name){if(C=r.get(y.name),!C)throw Kr(1,{location:y});J=C.record.name,O=Je(Jc(v.params,C.keys.filter(K=>!K.optional).concat(C.parent?C.parent.keys.filter(K=>K.optional):[]).map(K=>K.name)),y.params&&Jc(y.params,C.keys.map(K=>K.name))),N=C.stringify(O)}else if(y.path!=null)N=y.path,C=n.find(K=>K.re.test(N)),C&&(O=C.parse(N),J=C.record.name);else{if(C=v.name?r.get(v.name):n.find(K=>K.re.test(v.path)),!C)throw Kr(1,{location:y,currentLocation:v});J=C.record.name,O=Je({},v.params,y.params),N=C.stringify(O)}const L=[];let j=C;for(;j;)L.unshift(j.record),j=j.parent;return{name:J,path:N,params:O,matched:L,meta:Fh(L)}}e.forEach(y=>a(y));function h(){n.length=0,r.clear()}return{addRoute:a,resolve:m,removeRoute:l,clearRoutes:h,getRoutes:d,getRecordMatcher:o}}function Jc(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Xc(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Bh(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Bh(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Zc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Fh(e){return e.reduce((t,n)=>Je(t,n.meta),{})}function el(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Nh(e,t){let n=0,r=t.length;for(;n!==r;){const a=n+r>>1;Bu(e,t[a])<0?r=a:n=a+1}const o=jh(e);return o&&(r=t.lastIndexOf(o,r-1)),r}function jh(e){let t=e;for(;t=t.parent;)if(Fu(t)&&Bu(e,t)===0)return t}function Fu({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Lh(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const a=r[o].replace(Pu," "),l=a.indexOf("="),d=_s(l<0?a:a.slice(0,l)),f=l<0?null:_s(a.slice(l+1));if(d in t){let m=t[d];cn(m)||(m=t[d]=[m]),m.push(f)}else t[d]=f}return t}function tl(e){let t="";for(let n in e){const r=e[n];if(n=ih(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(cn(r)?r.map(a=>a&&Gi(a)):[r&&Gi(r)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+n,a!=null&&(t+="="+a))})}return t}function qh(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=cn(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const Kh=Symbol(""),nl=Symbol(""),qo=Symbol(""),Aa=Symbol(""),Xi=Symbol("");function ts(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Yn(e,t,n,r,o,a=l=>l()){const l=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((d,f)=>{const m=v=>{v===!1?f(Kr(4,{from:n,to:t})):v instanceof Error?f(v):Ah(v)?f(Kr(2,{from:t,to:v})):(l&&r.enterCallbacks[o]===l&&typeof v=="function"&&l.push(v),d())},h=a(()=>e.call(r&&r.instances[o],t,n,m));let y=Promise.resolve(h);e.length<3&&(y=y.then(m)),y.catch(v=>f(v))})}function Ri(e,t,n,r,o=a=>a()){const a=[];for(const l of e)for(const d in l.components){let f=l.components[d];if(!(t!=="beforeRouteEnter"&&!l.instances[d]))if(Au(f)){const h=(f.__vccOpts||f)[t];h&&a.push(Yn(h,n,r,l,d,o))}else{let m=f();a.push(()=>m.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${d}" at "${l.path}"`);const y=Yp(h)?h.default:h;l.mods[d]=h,l.components[d]=y;const C=(y.__vccOpts||y)[t];return C&&Yn(C,n,r,l,d,o)()}))}}return a}function rl(e){const t=Yt(qo),n=Yt(Aa),r=tt(()=>{const f=xe(e.to);return t.resolve(f)}),o=tt(()=>{const{matched:f}=r.value,{length:m}=f,h=f[m-1],y=n.matched;if(!h||!y.length)return-1;const v=y.findIndex(qr.bind(null,h));if(v>-1)return v;const C=sl(f[m-2]);return m>1&&sl(h)===C&&y[y.length-1].path!==C?y.findIndex(qr.bind(null,f[m-2])):v}),a=tt(()=>o.value>-1&&zh(n.params,r.value.params)),l=tt(()=>o.value>-1&&o.value===n.matched.length-1&&Du(n.params,r.value.params));function d(f={}){if(Wh(f)){const m=t[xe(e.replace)?"replace":"push"](xe(e.to)).catch(ds);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>m),m}return Promise.resolve()}return{route:r,href:tt(()=>r.value.href),isActive:a,isExactActive:l,navigate:d}}function Uh(e){return e.length===1?e[0]:e}const Vh=nt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:rl,setup(e,{slots:t}){const n=mr(rl(e)),{options:r}=Yt(qo),o=tt(()=>({[ol(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ol(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&Uh(t.default(n));return e.custom?a:Br("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},a)}}}),Hh=Vh;function Wh(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function zh(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!cn(o)||o.length!==r.length||r.some((a,l)=>a!==o[l]))return!1}return!0}function sl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ol=(e,t,n)=>e??t??n,Qh=nt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Yt(Xi),o=tt(()=>e.route||r.value),a=Yt(nl,0),l=tt(()=>{let m=xe(a);const{matched:h}=o.value;let y;for(;(y=h[m])&&!y.components;)m++;return m}),d=tt(()=>o.value.matched[l.value]);ls(nl,tt(()=>l.value+1)),ls(Kh,d),ls(Xi,o);const f=Oe();return Gt(()=>[f.value,d.value,e.name],([m,h,y],[v,C,O])=>{h&&(h.instances[y]=m,C&&C!==h&&m&&m===v&&(h.leaveGuards.size||(h.leaveGuards=C.leaveGuards),h.updateGuards.size||(h.updateGuards=C.updateGuards))),m&&h&&(!C||!qr(h,C)||!v)&&(h.enterCallbacks[y]||[]).forEach(N=>N(m))},{flush:"post"}),()=>{const m=o.value,h=e.name,y=d.value,v=y&&y.components[h];if(!v)return il(n.default,{Component:v,route:m});const C=y.props[h],O=C?C===!0?m.params:typeof C=="function"?C(m):C:null,J=Br(v,Je({},O,t,{onVnodeUnmounted:L=>{L.component.isUnmounted&&(y.instances[h]=null)},ref:f}));return il(n.default,{Component:J,route:m})||J}}});function il(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Yh=Qh;function Gh(e){const t=Mh(e.routes,e),n=e.parseQuery||Lh,r=e.stringifyQuery||tl,o=e.history,a=ts(),l=ts(),d=ts(),f=Ul(Vn);let m=Vn;Rr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Oi.bind(null,Y=>""+Y),y=Oi.bind(null,ch),v=Oi.bind(null,_s);function C(Y,_e){let H,ke;return Tu(Y)?(H=t.getRecordMatcher(Y),ke=_e):ke=Y,t.addRoute(ke,H)}function O(Y){const _e=t.getRecordMatcher(Y);_e&&t.removeRoute(_e)}function N(){return t.getRoutes().map(Y=>Y.record)}function J(Y){return!!t.getRecordMatcher(Y)}function L(Y,_e){if(_e=Je({},_e||f.value),typeof Y=="string"){const B=Ii(n,Y,_e.path),W=t.resolve({path:B.path},_e),Z=o.createHref(B.fullPath);return Je(B,W,{params:v(W.params),hash:_s(B.hash),redirectedFrom:void 0,href:Z})}let H;if(Y.path!=null)H=Je({},Y,{path:Ii(n,Y.path,_e.path).path});else{const B=Je({},Y.params);for(const W in B)B[W]==null&&delete B[W];H=Je({},Y,{params:y(B)}),_e.params=y(_e.params)}const ke=t.resolve(H,_e),ze=Y.hash||"";ke.params=h(v(ke.params));const _=dh(r,Je({},Y,{hash:oh(ze),path:ke.path})),x=o.createHref(_);return Je({fullPath:_,hash:ze,query:r===tl?qh(Y.query):Y.query||{}},ke,{redirectedFrom:void 0,href:x})}function j(Y){return typeof Y=="string"?Ii(n,Y,f.value.path):Je({},Y)}function K(Y,_e){if(m!==Y)return Kr(8,{from:_e,to:Y})}function X(Y){return Ce(Y)}function we(Y){return X(Je(j(Y),{replace:!0}))}function ve(Y){const _e=Y.matched[Y.matched.length-1];if(_e&&_e.redirect){const{redirect:H}=_e;let ke=typeof H=="function"?H(Y):H;return typeof ke=="string"&&(ke=ke.includes("?")||ke.includes("#")?ke=j(ke):{path:ke},ke.params={}),Je({query:Y.query,hash:Y.hash,params:ke.path!=null?{}:Y.params},ke)}}function Ce(Y,_e){const H=m=L(Y),ke=f.value,ze=Y.state,_=Y.force,x=Y.replace===!0,B=ve(H);if(B)return Ce(Je(j(B),{state:typeof B=="object"?Je({},ze,B.state):ze,force:_,replace:x}),_e||H);const W=H;W.redirectedFrom=_e;let Z;return!_&&fh(r,ke,H)&&(Z=Kr(16,{to:W,from:ke}),vt(ke,ke,!0,!1)),(Z?Promise.resolve(Z):je(W,ke)).catch(G=>Pn(G)?Pn(G,2)?G:ut(G):ue(G,W,ke)).then(G=>{if(G){if(Pn(G,2))return Ce(Je({replace:x},j(G.to),{state:typeof G.to=="object"?Je({},ze,G.to.state):ze,force:_}),_e||W)}else G=Ke(W,ke,!0,x,ze);return Ge(W,ke,G),G})}function Se(Y,_e){const H=K(Y,_e);return H?Promise.reject(H):Promise.resolve()}function Ae(Y){const _e=en.values().next().value;return _e&&typeof _e.runWithContext=="function"?_e.runWithContext(Y):Y()}function je(Y,_e){let H;const[ke,ze,_]=Jh(Y,_e);H=Ri(ke.reverse(),"beforeRouteLeave",Y,_e);for(const B of ke)B.leaveGuards.forEach(W=>{H.push(Yn(W,Y,_e))});const x=Se.bind(null,Y,_e);return H.push(x),dt(H).then(()=>{H=[];for(const B of a.list())H.push(Yn(B,Y,_e));return H.push(x),dt(H)}).then(()=>{H=Ri(ze,"beforeRouteUpdate",Y,_e);for(const B of ze)B.updateGuards.forEach(W=>{H.push(Yn(W,Y,_e))});return H.push(x),dt(H)}).then(()=>{H=[];for(const B of _)if(B.beforeEnter)if(cn(B.beforeEnter))for(const W of B.beforeEnter)H.push(Yn(W,Y,_e));else H.push(Yn(B.beforeEnter,Y,_e));return H.push(x),dt(H)}).then(()=>(Y.matched.forEach(B=>B.enterCallbacks={}),H=Ri(_,"beforeRouteEnter",Y,_e,Ae),H.push(x),dt(H))).then(()=>{H=[];for(const B of l.list())H.push(Yn(B,Y,_e));return H.push(x),dt(H)}).catch(B=>Pn(B,8)?B:Promise.reject(B))}function Ge(Y,_e,H){d.list().forEach(ke=>Ae(()=>ke(Y,_e,H)))}function Ke(Y,_e,H,ke,ze){const _=K(Y,_e);if(_)return _;const x=_e===Vn,B=Rr?history.state:{};H&&(ke||x?o.replace(Y.fullPath,Je({scroll:x&&B&&B.scroll},ze)):o.push(Y.fullPath,ze)),f.value=Y,vt(Y,_e,H,x),ut()}let rt;function ie(){rt||(rt=o.listen((Y,_e,H)=>{if(!tn.listening)return;const ke=L(Y),ze=ve(ke);if(ze){Ce(Je(ze,{replace:!0,force:!0}),ke).catch(ds);return}m=ke;const _=f.value;Rr&&_h(Wc(_.fullPath,H.delta),Lo()),je(ke,_).catch(x=>Pn(x,12)?x:Pn(x,2)?(Ce(Je(j(x.to),{force:!0}),ke).then(B=>{Pn(B,20)&&!H.delta&&H.type===ws.pop&&o.go(-1,!1)}).catch(ds),Promise.reject()):(H.delta&&o.go(-H.delta,!1),ue(x,ke,_))).then(x=>{x=x||Ke(ke,_,!1),x&&(H.delta&&!Pn(x,8)?o.go(-H.delta,!1):H.type===ws.pop&&Pn(x,20)&&o.go(-1,!1)),Ge(ke,_,x)}).catch(ds)}))}let Q=ts(),F=ts(),oe;function ue(Y,_e,H){ut(Y);const ke=F.list();return ke.length?ke.forEach(ze=>ze(Y,_e,H)):console.error(Y),Promise.reject(Y)}function He(){return oe&&f.value!==Vn?Promise.resolve():new Promise((Y,_e)=>{Q.add([Y,_e])})}function ut(Y){return oe||(oe=!Y,ie(),Q.list().forEach(([_e,H])=>Y?H(Y):_e()),Q.reset()),Y}function vt(Y,_e,H,ke){const{scrollBehavior:ze}=e;if(!Rr||!ze)return Promise.resolve();const _=!H&&wh(Wc(Y.fullPath,0))||(ke||!H)&&history.state&&history.state.scroll||null;return an().then(()=>ze(Y,_e,_)).then(x=>x&&bh(x)).catch(x=>ue(x,Y,_e))}const _t=Y=>o.go(Y);let At;const en=new Set,tn={currentRoute:f,listening:!0,addRoute:C,removeRoute:O,clearRoutes:t.clearRoutes,hasRoute:J,getRoutes:N,resolve:L,options:e,push:X,replace:we,go:_t,back:()=>_t(-1),forward:()=>_t(1),beforeEach:a.add,beforeResolve:l.add,afterEach:d.add,onError:F.add,isReady:He,install(Y){const _e=this;Y.component("RouterLink",Hh),Y.component("RouterView",Yh),Y.config.globalProperties.$router=_e,Object.defineProperty(Y.config.globalProperties,"$route",{enumerable:!0,get:()=>xe(f)}),Rr&&!At&&f.value===Vn&&(At=!0,X(o.location).catch(ze=>{}));const H={};for(const ze in Vn)Object.defineProperty(H,ze,{get:()=>f.value[ze],enumerable:!0});Y.provide(qo,_e),Y.provide(Aa,ql(H)),Y.provide(Xi,f);const ke=Y.unmount;en.add(Y),Y.unmount=function(){en.delete(Y),en.size<1&&(m=Vn,rt&&rt(),rt=null,f.value=Vn,At=!1,oe=!1),ke()}}};function dt(Y){return Y.reduce((_e,H)=>_e.then(()=>Ae(H)),Promise.resolve())}return tn}function Jh(e,t){const n=[],r=[],o=[],a=Math.max(t.matched.length,e.matched.length);for(let l=0;l<a;l++){const d=t.matched[l];d&&(e.matched.find(m=>qr(m,d))?r.push(d):n.push(d));const f=e.matched[l];f&&(t.matched.find(m=>qr(m,f))||o.push(f))}return[n,r,o]}function Xh(){return Yt(qo)}function Nu(e){return Yt(Aa)}const Zh={class:"navbar navbar-expand-md navbar-light bg-body shadow-sm fixed-top"},em={class:"container-fluid"},tm={class:"collapse navbar-collapse",id:"navbarNav"},nm={class:"navbar-nav"},rm={class:"nav-item"},sm={class:"nav-item"},om={class:"nav-item"},im={class:"nav-item"},am=nt({__name:"Navigation",setup(e){const t=Nu(),n=tt(()=>t.name==="decks"||t.name==="deck-detail"||t.name==="deck-import");return(r,o)=>{const a=Bo("router-link");return z(),te("nav",Zh,[E("div",em,[qe(a,{to:"/",class:"navbar-brand"},{default:et(()=>[...o[0]||(o[0]=[rn(" MTG Tracker ",-1)])]),_:1}),o[5]||(o[5]=E("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[E("span",{class:"navbar-toggler-icon"})],-1)),E("div",tm,[E("ul",nm,[E("li",rm,[qe(a,{to:"/",class:Kt(["nav-link",{active:r.$route.name==="home"}])},{default:et(()=>[...o[1]||(o[1]=[rn(" Dashboard ",-1)])]),_:1},8,["class"])]),E("li",sm,[qe(a,{to:"/decks",class:Kt(["nav-link",{active:n.value}])},{default:et(()=>[...o[2]||(o[2]=[rn(" Decks ",-1)])]),_:1},8,["class"])]),E("li",om,[qe(a,{to:"/cards",class:Kt(["nav-link",{active:r.$route.name==="cards"}])},{default:et(()=>[...o[3]||(o[3]=[rn(" Cards ",-1)])]),_:1},8,["class"])]),E("li",im,[qe(a,{to:"/import/cardmarket",class:Kt(["nav-link",{active:r.$route.name==="cardmarket-import"}])},{default:et(()=>[...o[4]||(o[4]=[rn(" Cardmarket Import ",-1)])]),_:1},8,["class"])])])])])])}}}),kn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},cm=kn(am,[["__scopeId","data-v-5959291b"]]),lm={id:"app"},um={class:"pt-5"},dm={class:"container-lg"},fm=nt({__name:"App",setup(e){return(t,n)=>{const r=Bo("router-view");return z(),te("div",lm,[qe(cm),E("main",um,[E("div",dm,[qe(r)])])])}}}),pm=kn(fm,[["__scopeId","data-v-bfe0dbd0"]]);/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let ju;const Ko=e=>ju=e,Lu=Symbol();function Zi(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ps;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ps||(ps={}));function hm(){const e=Ro(!0),t=e.run(()=>Oe({}));let n=[],r=[];const o=ya({install(a){Ko(o),o._a=a,a.provide(Lu,o),a.config.globalProperties.$pinia=o,r.forEach(l=>n.push(l)),r=[]},use(a){return this._a?n.push(a):r.push(a),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const qu=()=>{};function al(e,t,n,r=qu){e.push(t);const o=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),r())};return!n&&ca()&&Al(o),o}function Pr(e,...t){e.slice().forEach(n=>{n(...t)})}const mm=e=>e(),cl=Symbol(),Di=Symbol();function ea(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];Zi(o)&&Zi(r)&&e.hasOwnProperty(n)&&!gt(r)&&!Jn(r)?e[n]=ea(o,r):e[n]=r}return e}const ym=Symbol();function gm(e){return!Zi(e)||!Object.prototype.hasOwnProperty.call(e,ym)}const{assign:Hn}=Object;function vm(e){return!!(gt(e)&&e.effect)}function bm(e,t,n,r){const{state:o,actions:a,getters:l}=t,d=n.state.value[e];let f;function m(){d||(n.state.value[e]=o?o():{});const h=ga(n.state.value[e]);return Hn(h,a,Object.keys(l||{}).reduce((y,v)=>(y[v]=ya(tt(()=>{Ko(n);const C=n._s.get(e);return l[v].call(C,C)})),y),{}))}return f=Ku(e,m,t,n,r,!0),f}function Ku(e,t,n={},r,o,a){let l;const d=Hn({actions:{}},n),f={deep:!0};let m,h,y=[],v=[],C;const O=r.state.value[e];!a&&!O&&(r.state.value[e]={}),Oe({});let N;function J(Se){let Ae;m=h=!1,typeof Se=="function"?(Se(r.state.value[e]),Ae={type:ps.patchFunction,storeId:e,events:C}):(ea(r.state.value[e],Se),Ae={type:ps.patchObject,payload:Se,storeId:e,events:C});const je=N=Symbol();an().then(()=>{N===je&&(m=!0)}),h=!0,Pr(y,Ae,r.state.value[e])}const L=a?function(){const{state:Ae}=n,je=Ae?Ae():{};this.$patch(Ge=>{Hn(Ge,je)})}:qu;function j(){l.stop(),y=[],v=[],r._s.delete(e)}const K=(Se,Ae="")=>{if(cl in Se)return Se[Di]=Ae,Se;const je=function(){Ko(r);const Ge=Array.from(arguments),Ke=[],rt=[];function ie(oe){Ke.push(oe)}function Q(oe){rt.push(oe)}Pr(v,{args:Ge,name:je[Di],store:we,after:ie,onError:Q});let F;try{F=Se.apply(this&&this.$id===e?this:we,Ge)}catch(oe){throw Pr(rt,oe),oe}return F instanceof Promise?F.then(oe=>(Pr(Ke,oe),oe)).catch(oe=>(Pr(rt,oe),Promise.reject(oe))):(Pr(Ke,F),F)};return je[cl]=!0,je[Di]=Ae,je},X={_p:r,$id:e,$onAction:al.bind(null,v),$patch:J,$reset:L,$subscribe(Se,Ae={}){const je=al(y,Se,Ae.detached,()=>Ge()),Ge=l.run(()=>Gt(()=>r.state.value[e],Ke=>{(Ae.flush==="sync"?h:m)&&Se({storeId:e,type:ps.direct,events:C},Ke)},Hn({},f,Ae)));return je},$dispose:j},we=mr(X);r._s.set(e,we);const Ce=(r._a&&r._a.runWithContext||mm)(()=>r._e.run(()=>(l=Ro()).run(()=>t({action:K}))));for(const Se in Ce){const Ae=Ce[Se];if(gt(Ae)&&!vm(Ae)||Jn(Ae))a||(O&&gm(Ae)&&(gt(Ae)?Ae.value=O[Se]:ea(Ae,O[Se])),r.state.value[e][Se]=Ae);else if(typeof Ae=="function"){const je=K(Ae,Se);Ce[Se]=je,d.actions[Se]=Ae}}return Hn(we,Ce),Hn(Ye(we),Ce),Object.defineProperty(we,"$state",{get:()=>r.state.value[e],set:Se=>{J(Ae=>{Hn(Ae,Se)})}}),r._p.forEach(Se=>{Hn(we,l.run(()=>Se({store:we,app:r._a,pinia:r,options:d})))}),O&&a&&n.hydrate&&n.hydrate(we.$state,O),m=!0,h=!0,we}/*! #__NO_SIDE_EFFECTS__ */function Sa(e,t,n){let r;const o=typeof t=="function";r=o?n:t;function a(l,d){const f=Uf();return l=l||(f?Yt(Lu,null):null),l&&Ko(l),l=ju,l._s.has(e)||(o?Ku(e,t,r,l):bm(e,r,l)),l._s.get(e)}return a.$id=e,a}var _m=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fo={exports:{}},Cm=fo.exports,ll;function km(){return ll||(ll=1,(function(e,t){(function(n,r){e.exports=r()})(Cm,function(){var n=function(s,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(c[p]=u[p])})(s,i)},r=function(){return(r=Object.assign||function(s){for(var i,c=1,u=arguments.length;c<u;c++)for(var p in i=arguments[c])Object.prototype.hasOwnProperty.call(i,p)&&(s[p]=i[p]);return s}).apply(this,arguments)};function o(s,i,c){for(var u,p=0,g=i.length;p<g;p++)!u&&p in i||((u=u||Array.prototype.slice.call(i,0,p))[p]=i[p]);return s.concat(u||Array.prototype.slice.call(i))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:_m,l=Object.keys,d=Array.isArray;function f(s,i){return typeof i!="object"||l(i).forEach(function(c){s[c]=i[c]}),s}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var m=Object.getPrototypeOf,h={}.hasOwnProperty;function y(s,i){return h.call(s,i)}function v(s,i){typeof i=="function"&&(i=i(m(s))),(typeof Reflect>"u"?l:Reflect.ownKeys)(i).forEach(function(c){O(s,c,i[c])})}var C=Object.defineProperty;function O(s,i,c,u){C(s,i,f(c&&y(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},u))}function N(s){return{from:function(i){return s.prototype=Object.create(i.prototype),O(s.prototype,"constructor",s),{extend:v.bind(null,s.prototype)}}}}var J=Object.getOwnPropertyDescriptor,L=[].slice;function j(s,i,c){return L.call(s,i,c)}function K(s,i){return i(s)}function X(s){if(!s)throw new Error("Assertion Failed")}function we(s){a.setImmediate?setImmediate(s):setTimeout(s,0)}function ve(s,i){if(typeof i=="string"&&y(s,i))return s[i];if(!i)return s;if(typeof i!="string"){for(var c=[],u=0,p=i.length;u<p;++u){var g=ve(s,i[u]);c.push(g)}return c}var b=i.indexOf(".");if(b!==-1){var w=s[i.substr(0,b)];return w==null?void 0:ve(w,i.substr(b+1))}}function Ce(s,i,c){if(s&&i!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof i!="string"&&"length"in i){X(typeof c!="string"&&"length"in c);for(var u=0,p=i.length;u<p;++u)Ce(s,i[u],c[u])}else{var g,b,w=i.indexOf(".");w!==-1?(g=i.substr(0,w),(b=i.substr(w+1))===""?c===void 0?d(s)&&!isNaN(parseInt(g))?s.splice(g,1):delete s[g]:s[g]=c:Ce(w=!(w=s[g])||!y(s,g)?s[g]={}:w,b,c)):c===void 0?d(s)&&!isNaN(parseInt(i))?s.splice(i,1):delete s[i]:s[i]=c}}function Se(s){var i,c={};for(i in s)y(s,i)&&(c[i]=s[i]);return c}var Ae=[].concat;function je(s){return Ae.apply([],s)}var Fe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(je([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(i){return i+s+"Array"})}))).filter(function(s){return a[s]}),Ge=new Set(Fe.map(function(s){return a[s]})),Ke=null;function rt(s){return Ke=new WeakMap,s=(function i(c){if(!c||typeof c!="object")return c;var u=Ke.get(c);if(u)return u;if(d(c)){u=[],Ke.set(c,u);for(var p=0,g=c.length;p<g;++p)u.push(i(c[p]))}else if(Ge.has(c.constructor))u=c;else{var b,w=m(c);for(b in u=w===Object.prototype?{}:Object.create(w),Ke.set(c,u),c)y(c,b)&&(u[b]=i(c[b]))}return u})(s),Ke=null,s}var ie={}.toString;function Q(s){return ie.call(s).slice(8,-1)}var F=typeof Symbol<"u"?Symbol.iterator:"@@iterator",oe=typeof F=="symbol"?function(s){var i;return s!=null&&(i=s[F])&&i.apply(s)}:function(){return null};function ue(s,i){return i=s.indexOf(i),0<=i&&s.splice(i,1),0<=i}var He={};function ut(s){var i,c,u,p;if(arguments.length===1){if(d(s))return s.slice();if(this===He&&typeof s=="string")return[s];if(p=oe(s)){for(c=[];!(u=p.next()).done;)c.push(u.value);return c}if(s==null)return[s];if(typeof(i=s.length)!="number")return[s];for(c=new Array(i);i--;)c[i]=s[i];return c}for(i=arguments.length,c=new Array(i);i--;)c[i]=arguments[i];return c}var vt=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Re=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Xt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Re),_t={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function At(s,i){this.name=s,this.message=i}function en(s,i){return s+". Errors: "+Object.keys(i).map(function(c){return i[c].toString()}).filter(function(c,u,p){return p.indexOf(c)===u}).join(`
`)}function tn(s,i,c,u){this.failures=i,this.failedKeys=u,this.successCount=c,this.message=en(s,i)}function dt(s,i){this.name="BulkError",this.failures=Object.keys(i).map(function(c){return i[c]}),this.failuresByPos=i,this.message=en(s,this.failures)}N(At).from(Error).extend({toString:function(){return this.name+": "+this.message}}),N(tn).from(At),N(dt).from(At);var Y=Xt.reduce(function(s,i){return s[i]=i+"Error",s},{}),_e=At,H=Xt.reduce(function(s,i){var c=i+"Error";function u(p,g){this.name=c,p?typeof p=="string"?(this.message="".concat(p).concat(g?`
 `+g:""),this.inner=g||null):typeof p=="object"&&(this.message="".concat(p.name," ").concat(p.message),this.inner=p):(this.message=_t[i]||c,this.inner=null)}return N(u).from(_e),s[i]=u,s},{});H.Syntax=SyntaxError,H.Type=TypeError,H.Range=RangeError;var ke=Re.reduce(function(s,i){return s[i+"Error"]=H[i],s},{}),ze=Xt.reduce(function(s,i){return["Syntax","Type","Range"].indexOf(i)===-1&&(s[i+"Error"]=H[i]),s},{});function _(){}function x(s){return s}function B(s,i){return s==null||s===x?i:function(c){return i(s(c))}}function W(s,i){return function(){s.apply(this,arguments),i.apply(this,arguments)}}function Z(s,i){return s===_?i:function(){var c=s.apply(this,arguments);c!==void 0&&(arguments[0]=c);var u=this.onsuccess,p=this.onerror;this.onsuccess=null,this.onerror=null;var g=i.apply(this,arguments);return u&&(this.onsuccess=this.onsuccess?W(u,this.onsuccess):u),p&&(this.onerror=this.onerror?W(p,this.onerror):p),g!==void 0?g:c}}function G(s,i){return s===_?i:function(){s.apply(this,arguments);var c=this.onsuccess,u=this.onerror;this.onsuccess=this.onerror=null,i.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?W(c,this.onsuccess):c),u&&(this.onerror=this.onerror?W(u,this.onerror):u)}}function pe(s,i){return s===_?i:function(c){var u=s.apply(this,arguments);f(c,u);var p=this.onsuccess,g=this.onerror;return this.onsuccess=null,this.onerror=null,c=i.apply(this,arguments),p&&(this.onsuccess=this.onsuccess?W(p,this.onsuccess):p),g&&(this.onerror=this.onerror?W(g,this.onerror):g),u===void 0?c===void 0?void 0:c:f(u,c)}}function le(s,i){return s===_?i:function(){return i.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function ae(s,i){return s===_?i:function(){var c=s.apply(this,arguments);if(c&&typeof c.then=="function"){for(var u=this,p=arguments.length,g=new Array(p);p--;)g[p]=arguments[p];return c.then(function(){return i.apply(u,g)})}return i.apply(this,arguments)}}ze.ModifyError=tn,ze.DexieError=At,ze.BulkError=dt;var ee=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ie(s){ee=s}var he={},Pe=100,Fe=typeof Promise>"u"?[]:(function(){var s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,m(s),s];var i=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[i,m(i),s]})(),Re=Fe[0],Xt=Fe[1],Fe=Fe[2],Xt=Xt&&Xt.then,Ue=Re&&Re.constructor,We=!!Fe,bt=function(s,i){Fn.push([s,i]),Ft&&(queueMicrotask(rd),Ft=!1)},wt=!0,Ft=!0,Ct=[],ln=[],vr=x,ft={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:_,pgp:!1,env:{},finalize:_},be=ft,Fn=[],un=0,As=[];function ye(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var i=this._PSD=be;if(typeof s!="function"){if(s!==he)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Ho(this,this._value))}this._state=null,this._value=null,++i.ref,(function c(u,p){try{p(function(g){if(u._state===null){if(g===u)throw new TypeError("A promise cannot be resolved with itself.");var b=u._lib&&br();g&&typeof g.then=="function"?c(u,function(w,A){g instanceof ye?g._then(w,A):g.then(w,A)}):(u._state=!0,u._value=g,$a(u)),b&&_r()}},Ho.bind(null,u))}catch(g){Ho(u,g)}})(this,s)}var Vo={get:function(){var s=be,i=Is;function c(u,p){var g=this,b=!s.global&&(s!==be||i!==Is),w=b&&!jn(),A=new ye(function(P,R){Wo(g,new Da(Ma(u,s,b,w),Ma(p,s,b,w),P,R,s))});return this._consoleTask&&(A._consoleTask=this._consoleTask),A}return c.prototype=he,c},set:function(s){O(this,"then",s&&s.prototype===he?Vo:{get:function(){return s},set:Vo.set})}};function Da(s,i,c,u,p){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof i=="function"?i:null,this.resolve=c,this.reject=u,this.psd=p}function Ho(s,i){var c,u;ln.push(i),s._state===null&&(c=s._lib&&br(),i=vr(i),s._state=!1,s._value=i,u=s,Ct.some(function(p){return p._value===u._value})||Ct.push(u),$a(s),c&&_r())}function $a(s){var i=s._listeners;s._listeners=[];for(var c=0,u=i.length;c<u;++c)Wo(s,i[c]);var p=s._PSD;--p.ref||p.finalize(),un===0&&(++un,bt(function(){--un==0&&zo()},[]))}function Wo(s,i){if(s._state!==null){var c=s._state?i.onFulfilled:i.onRejected;if(c===null)return(s._state?i.resolve:i.reject)(s._value);++i.psd.ref,++un,bt(nd,[c,s,i])}else s._listeners.push(i)}function nd(s,i,c){try{var u,p=i._value;!i._state&&ln.length&&(ln=[]),u=ee&&i._consoleTask?i._consoleTask.run(function(){return s(p)}):s(p),i._state||ln.indexOf(p)!==-1||(function(g){for(var b=Ct.length;b;)if(Ct[--b]._value===g._value)return Ct.splice(b,1)})(i),c.resolve(u)}catch(g){c.reject(g)}finally{--un==0&&zo(),--c.psd.ref||c.psd.finalize()}}function rd(){tr(ft,function(){br()&&_r()})}function br(){var s=wt;return Ft=wt=!1,s}function _r(){var s,i,c;do for(;0<Fn.length;)for(s=Fn,Fn=[],c=s.length,i=0;i<c;++i){var u=s[i];u[0].apply(null,u[1])}while(0<Fn.length);Ft=wt=!0}function zo(){var s=Ct;Ct=[],s.forEach(function(u){u._PSD.onunhandled.call(null,u._value,u)});for(var i=As.slice(0),c=i.length;c;)i[--c]()}function Ss(s){return new ye(he,!1,s)}function lt(s,i){var c=be;return function(){var u=br(),p=be;try{return Ln(c,!0),s.apply(this,arguments)}catch(g){i&&i(g)}finally{Ln(p,!1),u&&_r()}}}v(ye.prototype,{then:Vo,_then:function(s,i){Wo(this,new Da(null,null,s,i,be))},catch:function(s){if(arguments.length===1)return this.then(null,s);var i=s,c=arguments[1];return typeof i=="function"?this.then(null,function(u){return(u instanceof i?c:Ss)(u)}):this.then(null,function(u){return(u&&u.name===i?c:Ss)(u)})},finally:function(s){return this.then(function(i){return ye.resolve(s()).then(function(){return i})},function(i){return ye.resolve(s()).then(function(){return Ss(i)})})},timeout:function(s,i){var c=this;return s<1/0?new ye(function(u,p){var g=setTimeout(function(){return p(new H.Timeout(i))},s);c.then(u,p).finally(clearTimeout.bind(null,g))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&O(ye.prototype,Symbol.toStringTag,"Dexie.Promise"),ft.env=Ta(),v(ye,{all:function(){var s=ut.apply(null,arguments).map(Rs);return new ye(function(i,c){s.length===0&&i([]);var u=s.length;s.forEach(function(p,g){return ye.resolve(p).then(function(b){s[g]=b,--u||i(s)},c)})})},resolve:function(s){return s instanceof ye?s:s&&typeof s.then=="function"?new ye(function(i,c){s.then(i,c)}):new ye(he,!0,s)},reject:Ss,race:function(){var s=ut.apply(null,arguments).map(Rs);return new ye(function(i,c){s.map(function(u){return ye.resolve(u).then(i,c)})})},PSD:{get:function(){return be},set:function(s){return be=s}},totalEchoes:{get:function(){return Is}},newPSD:Nn,usePSD:tr,scheduler:{get:function(){return bt},set:function(s){bt=s}},rejectionMapper:{get:function(){return vr},set:function(s){vr=s}},follow:function(s,i){return new ye(function(c,u){return Nn(function(p,g){var b=be;b.unhandleds=[],b.onunhandled=g,b.finalize=W(function(){var w,A=this;w=function(){A.unhandleds.length===0?p():g(A.unhandleds[0])},As.push(function P(){w(),As.splice(As.indexOf(P),1)}),++un,bt(function(){--un==0&&zo()},[])},b.finalize),s()},i,c,u)})}}),Ue&&(Ue.allSettled&&O(ye,"allSettled",function(){var s=ut.apply(null,arguments).map(Rs);return new ye(function(i){s.length===0&&i([]);var c=s.length,u=new Array(c);s.forEach(function(p,g){return ye.resolve(p).then(function(b){return u[g]={status:"fulfilled",value:b}},function(b){return u[g]={status:"rejected",reason:b}}).then(function(){return--c||i(u)})})})}),Ue.any&&typeof AggregateError<"u"&&O(ye,"any",function(){var s=ut.apply(null,arguments).map(Rs);return new ye(function(i,c){s.length===0&&c(new AggregateError([]));var u=s.length,p=new Array(u);s.forEach(function(g,b){return ye.resolve(g).then(function(w){return i(w)},function(w){p[b]=w,--u||c(new AggregateError(p))})})})}),Ue.withResolvers&&(ye.withResolvers=Ue.withResolvers));var kt={awaits:0,echoes:0,id:0},sd=0,Ps=[],Os=0,Is=0,od=0;function Nn(s,i,c,u){var p=be,g=Object.create(p);return g.parent=p,g.ref=0,g.global=!1,g.id=++od,ft.env,g.env=We?{Promise:ye,PromiseProp:{value:ye,configurable:!0,writable:!0},all:ye.all,race:ye.race,allSettled:ye.allSettled,any:ye.any,resolve:ye.resolve,reject:ye.reject}:{},i&&f(g,i),++p.ref,g.finalize=function(){--this.parent.ref||this.parent.finalize()},u=tr(g,s,c,u),g.ref===0&&g.finalize(),u}function wr(){return kt.id||(kt.id=++sd),++kt.awaits,kt.echoes+=Pe,kt.id}function jn(){return!!kt.awaits&&(--kt.awaits==0&&(kt.id=0),kt.echoes=kt.awaits*Pe,!0)}function Rs(s){return kt.echoes&&s&&s.constructor===Ue?(wr(),s.then(function(i){return jn(),i},function(i){return jn(),mt(i)})):s}function id(){var s=Ps[Ps.length-1];Ps.pop(),Ln(s,!1)}function Ln(s,i){var c,u=be;(i?!kt.echoes||Os++&&s===be:!Os||--Os&&s===be)||queueMicrotask(i?(function(p){++Is,kt.echoes&&--kt.echoes!=0||(kt.echoes=kt.awaits=kt.id=0),Ps.push(be),Ln(p,!0)}).bind(null,s):id),s!==be&&(be=s,u===ft&&(ft.env=Ta()),We&&(c=ft.env.Promise,i=s.env,(u.global||s.global)&&(Object.defineProperty(a,"Promise",i.PromiseProp),c.all=i.all,c.race=i.race,c.resolve=i.resolve,c.reject=i.reject,i.allSettled&&(c.allSettled=i.allSettled),i.any&&(c.any=i.any))))}function Ta(){var s=a.Promise;return We?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function tr(s,i,c,u,p){var g=be;try{return Ln(s,!0),i(c,u,p)}finally{Ln(g,!1)}}function Ma(s,i,c,u){return typeof s!="function"?s:function(){var p=be;c&&wr(),Ln(i,!0);try{return s.apply(this,arguments)}finally{Ln(p,!1),u&&queueMicrotask(jn)}}}function Qo(s){Promise===Ue&&kt.echoes===0?Os===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+Xt).indexOf("[native code]")===-1&&(wr=jn=_);var mt=ye.reject,nr="￿",xn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ba="String expected.",Cr=[],Ds="__dbnames",Yo="readonly",Go="readwrite";function rr(s,i){return s?i?function(){return s.apply(this,arguments)&&i.apply(this,arguments)}:s:i}var Fa={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function $s(s){return typeof s!="string"||/\./.test(s)?function(i){return i}:function(i){return i[s]===void 0&&s in i&&delete(i=rt(i))[s],i}}function Na(){throw H.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Le(s,i){try{var c=ja(s),u=ja(i);if(c!==u)return c==="Array"?1:u==="Array"?-1:c==="binary"?1:u==="binary"?-1:c==="string"?1:u==="string"?-1:c==="Date"?1:u!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return i<s?1:s<i?-1:0;case"binary":return(function(p,g){for(var b=p.length,w=g.length,A=b<w?b:w,P=0;P<A;++P)if(p[P]!==g[P])return p[P]<g[P]?-1:1;return b===w?0:b<w?-1:1})(La(s),La(i));case"Array":return(function(p,g){for(var b=p.length,w=g.length,A=b<w?b:w,P=0;P<A;++P){var R=Le(p[P],g[P]);if(R!==0)return R}return b===w?0:b<w?-1:1})(s,i)}}catch{}return NaN}function ja(s){var i=typeof s;return i!="object"?i:ArrayBuffer.isView(s)?"binary":(s=Q(s),s==="ArrayBuffer"?"binary":s)}function La(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function Ts(s,i,c){var u=s.schema.yProps;return u?(i&&0<c.numFailures&&(i=i.filter(function(p,g){return!c.failures[g]})),Promise.all(u.map(function(p){return p=p.updatesTable,i?s.db.table(p).where("k").anyOf(i).delete():s.db.table(p).clear()})).then(function(){return c})):c}var qa=(ct.prototype._trans=function(s,i,c){var u=this._tx||be.trans,p=this.name,g=ee&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function b(P,R,k){if(!k.schema[p])throw new H.NotFound("Table "+p+" not part of transaction");return i(k.idbtrans,k)}var w=br();try{var A=u&&u.db._novip===this.db._novip?u===be.trans?u._promise(s,b,c):Nn(function(){return u._promise(s,b,c)},{trans:u,transless:be.transless||be}):(function P(R,k,T,S){if(R.idbdb&&(R._state.openComplete||be.letThrough||R._vip)){var I=R._createTransaction(k,T,R._dbSchema);try{I.create(),R._state.PR1398_maxLoop=3}catch($){return $.name===Y.InvalidState&&R.isOpen()&&0<--R._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),R.close({disableAutoOpen:!1}),R.open().then(function(){return P(R,k,T,S)})):mt($)}return I._promise(k,function($,D){return Nn(function(){return be.trans=I,S($,D,I)})}).then(function($){if(k==="readwrite")try{I.idbtrans.commit()}catch{}return k==="readonly"?$:I._completion.then(function(){return $})})}if(R._state.openComplete)return mt(new H.DatabaseClosed(R._state.dbOpenError));if(!R._state.isBeingOpened){if(!R._state.autoOpen)return mt(new H.DatabaseClosed);R.open().catch(_)}return R._state.dbReadyPromise.then(function(){return P(R,k,T,S)})})(this.db,s,[this.name],b);return g&&(A._consoleTask=g,A=A.catch(function(P){return console.trace(P),mt(P)})),A}finally{w&&_r()}},ct.prototype.get=function(s,i){var c=this;return s&&s.constructor===Object?this.where(s).first(i):s==null?mt(new H.Type("Invalid argument to Table.get()")):this._trans("readonly",function(u){return c.core.get({trans:u,key:s}).then(function(p){return c.hook.reading.fire(p)})}).then(i)},ct.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(d(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var i=l(s);if(i.length===1)return this.where(i[0]).equals(s[i[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(w){if(w.compound&&i.every(function(P){return 0<=w.keyPath.indexOf(P)})){for(var A=0;A<i.length;++A)if(i.indexOf(w.keyPath[A])===-1)return!1;return!0}return!1}).sort(function(w,A){return w.keyPath.length-A.keyPath.length})[0];if(c&&this.db._maxKey!==nr){var g=c.keyPath.slice(0,i.length);return this.where(g).equals(g.map(function(A){return s[A]}))}!c&&ee&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(i.join("+"),"]"));var u=this.schema.idxByName;function p(w,A){return Le(w,A)===0}var b=i.reduce(function(k,A){var P=k[0],R=k[1],k=u[A],T=s[A];return[P||k,P||!k?rr(R,k&&k.multi?function(S){return S=ve(S,A),d(S)&&S.some(function(I){return p(T,I)})}:function(S){return p(T,ve(S,A))}):R]},[null,null]),g=b[0],b=b[1];return g?this.where(g.name).equals(s[g.keyPath]).filter(b):c?this.filter(b):this.where(i).equals("")},ct.prototype.filter=function(s){return this.toCollection().and(s)},ct.prototype.count=function(s){return this.toCollection().count(s)},ct.prototype.offset=function(s){return this.toCollection().offset(s)},ct.prototype.limit=function(s){return this.toCollection().limit(s)},ct.prototype.each=function(s){return this.toCollection().each(s)},ct.prototype.toArray=function(s){return this.toCollection().toArray(s)},ct.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ct.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,d(s)?"[".concat(s.join("+"),"]"):s))},ct.prototype.reverse=function(){return this.toCollection().reverse()},ct.prototype.mapToClass=function(s){var i,c=this.db,u=this.name;function p(){return i!==null&&i.apply(this,arguments)||this}(this.schema.mappedClass=s).prototype instanceof Na&&((function(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function R(){this.constructor=A}n(A,P),A.prototype=P===null?Object.create(P):(R.prototype=P.prototype,new R)})(p,i=s),Object.defineProperty(p.prototype,"db",{get:function(){return c},enumerable:!1,configurable:!0}),p.prototype.table=function(){return u},s=p);for(var g=new Set,b=s.prototype;b;b=m(b))Object.getOwnPropertyNames(b).forEach(function(A){return g.add(A)});function w(A){if(!A)return A;var P,R=Object.create(s.prototype);for(P in A)if(!g.has(P))try{R[P]=A[P]}catch{}return R}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=w,this.hook("reading",w),s},ct.prototype.defineClass=function(){return this.mapToClass(function(s){f(this,s)})},ct.prototype.add=function(s,i){var c=this,u=this.schema.primKey,p=u.auto,g=u.keyPath,b=s;return g&&p&&(b=$s(g)(s)),this._trans("readwrite",function(w){return c.core.mutate({trans:w,type:"add",keys:i!=null?[i]:null,values:[b]})}).then(function(w){return w.numFailures?ye.reject(w.failures[0]):w.lastResult}).then(function(w){if(g)try{Ce(s,g,w)}catch{}return w})},ct.prototype.update=function(s,i){return typeof s!="object"||d(s)?this.where(":id").equals(s).modify(i):(s=ve(s,this.schema.primKey.keyPath),s===void 0?mt(new H.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(i))},ct.prototype.put=function(s,i){var c=this,u=this.schema.primKey,p=u.auto,g=u.keyPath,b=s;return g&&p&&(b=$s(g)(s)),this._trans("readwrite",function(w){return c.core.mutate({trans:w,type:"put",values:[b],keys:i!=null?[i]:null})}).then(function(w){return w.numFailures?ye.reject(w.failures[0]):w.lastResult}).then(function(w){if(g)try{Ce(s,g,w)}catch{}return w})},ct.prototype.delete=function(s){var i=this;return this._trans("readwrite",function(c){return i.core.mutate({trans:c,type:"delete",keys:[s]}).then(function(u){return Ts(i,[s],u)}).then(function(u){return u.numFailures?ye.reject(u.failures[0]):void 0})})},ct.prototype.clear=function(){var s=this;return this._trans("readwrite",function(i){return s.core.mutate({trans:i,type:"deleteRange",range:Fa}).then(function(c){return Ts(s,null,c)})}).then(function(i){return i.numFailures?ye.reject(i.failures[0]):void 0})},ct.prototype.bulkGet=function(s){var i=this;return this._trans("readonly",function(c){return i.core.getMany({keys:s,trans:c}).then(function(u){return u.map(function(p){return i.hook.reading.fire(p)})})})},ct.prototype.bulkAdd=function(s,i,c){var u=this,p=Array.isArray(i)?i:void 0,g=(c=c||(p?void 0:i))?c.allKeys:void 0;return this._trans("readwrite",function(b){var P=u.schema.primKey,w=P.auto,P=P.keyPath;if(P&&p)throw new H.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(p&&p.length!==s.length)throw new H.InvalidArgument("Arguments objects and keys must have the same length");var A=s.length,P=P&&w?s.map($s(P)):s;return u.core.mutate({trans:b,type:"add",keys:p,values:P,wantResults:g}).then(function(I){var k=I.numFailures,T=I.results,S=I.lastResult,I=I.failures;if(k===0)return g?T:S;throw new dt("".concat(u.name,".bulkAdd(): ").concat(k," of ").concat(A," operations failed"),I)})})},ct.prototype.bulkPut=function(s,i,c){var u=this,p=Array.isArray(i)?i:void 0,g=(c=c||(p?void 0:i))?c.allKeys:void 0;return this._trans("readwrite",function(b){var P=u.schema.primKey,w=P.auto,P=P.keyPath;if(P&&p)throw new H.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(p&&p.length!==s.length)throw new H.InvalidArgument("Arguments objects and keys must have the same length");var A=s.length,P=P&&w?s.map($s(P)):s;return u.core.mutate({trans:b,type:"put",keys:p,values:P,wantResults:g}).then(function(I){var k=I.numFailures,T=I.results,S=I.lastResult,I=I.failures;if(k===0)return g?T:S;throw new dt("".concat(u.name,".bulkPut(): ").concat(k," of ").concat(A," operations failed"),I)})})},ct.prototype.bulkUpdate=function(s){var i=this,c=this.core,u=s.map(function(b){return b.key}),p=s.map(function(b){return b.changes}),g=[];return this._trans("readwrite",function(b){return c.getMany({trans:b,keys:u,cache:"clone"}).then(function(w){var A=[],P=[];s.forEach(function(k,T){var S=k.key,I=k.changes,$=w[T];if($){for(var D=0,M=Object.keys(I);D<M.length;D++){var q=M[D],U=I[q];if(q===i.schema.primKey.keyPath){if(Le(U,S)!==0)throw new H.Constraint("Cannot update primary key in bulkUpdate()")}else Ce($,q,U)}g.push(T),A.push(S),P.push($)}});var R=A.length;return c.mutate({trans:b,type:"put",keys:A,values:P,updates:{keys:u,changeSpecs:p}}).then(function(k){var T=k.numFailures,S=k.failures;if(T===0)return R;for(var I=0,$=Object.keys(S);I<$.length;I++){var D,M=$[I],q=g[Number(M)];q!=null&&(D=S[M],delete S[M],S[q]=D)}throw new dt("".concat(i.name,".bulkUpdate(): ").concat(T," of ").concat(R," operations failed"),S)})})})},ct.prototype.bulkDelete=function(s){var i=this,c=s.length;return this._trans("readwrite",function(u){return i.core.mutate({trans:u,type:"delete",keys:s}).then(function(p){return Ts(i,s,p)})}).then(function(b){var p=b.numFailures,g=b.lastResult,b=b.failures;if(p===0)return g;throw new dt("".concat(i.name,".bulkDelete(): ").concat(p," of ").concat(c," operations failed"),b)})},ct);function ct(){}function Vr(s){function i(b,w){if(w){for(var A=arguments.length,P=new Array(A-1);--A;)P[A-1]=arguments[A];return c[b].subscribe.apply(null,P),s}if(typeof b=="string")return c[b]}var c={};i.addEventType=g;for(var u=1,p=arguments.length;u<p;++u)g(arguments[u]);return i;function g(b,w,A){if(typeof b!="object"){var P;w=w||le;var R={subscribers:[],fire:A=A||_,subscribe:function(k){R.subscribers.indexOf(k)===-1&&(R.subscribers.push(k),R.fire=w(R.fire,k))},unsubscribe:function(k){R.subscribers=R.subscribers.filter(function(T){return T!==k}),R.fire=R.subscribers.reduce(w,A)}};return c[b]=i[b]=R}l(P=b).forEach(function(k){var T=P[k];if(d(T))g(k,P[k][0],P[k][1]);else{if(T!=="asap")throw new H.InvalidArgument("Invalid event config");var S=g(k,x,function(){for(var I=arguments.length,$=new Array(I);I--;)$[I]=arguments[I];S.subscribers.forEach(function(D){we(function(){D.apply(null,$)})})})}})}}function Hr(s,i){return N(i).from({prototype:s}),i}function kr(s,i){return!(s.filter||s.algorithm||s.or)&&(i?s.justLimit:!s.replayFilter)}function Jo(s,i){s.filter=rr(s.filter,i)}function Xo(s,i,c){var u=s.replayFilter;s.replayFilter=u?function(){return rr(u(),i())}:i,s.justLimit=c&&!u}function Ms(s,i){if(s.isPrimKey)return i.primaryKey;var c=i.getIndexByKeyPath(s.index);if(!c)throw new H.Schema("KeyPath "+s.index+" on object store "+i.name+" is not indexed");return c}function Ka(s,i,c){var u=Ms(s,i.schema);return i.openCursor({trans:c,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:u,range:s.range}})}function Bs(s,i,c,u){var p=s.replayFilter?rr(s.filter,s.replayFilter()):s.filter;if(s.or){var g={},b=function(w,A,P){var R,k;p&&!p(A,P,function(T){return A.stop(T)},function(T){return A.fail(T)})||((k=""+(R=A.primaryKey))=="[object ArrayBuffer]"&&(k=""+new Uint8Array(R)),y(g,k)||(g[k]=!0,i(w,A,P)))};return Promise.all([s.or._iterate(b,c),Ua(Ka(s,u,c),s.algorithm,b,!s.keysOnly&&s.valueMapper)])}return Ua(Ka(s,u,c),rr(s.algorithm,p),i,!s.keysOnly&&s.valueMapper)}function Ua(s,i,c,u){var p=lt(u?function(g,b,w){return c(u(g),b,w)}:c);return s.then(function(g){if(g)return g.start(function(){var b=function(){return g.continue()};i&&!i(g,function(w){return b=w},function(w){g.stop(w),b=_},function(w){g.fail(w),b=_})||p(g.value,g,function(w){return b=w}),b()})})}var Wr=(Va.prototype.execute=function(s){var i=this["@@propmod"];if(i.add!==void 0){var c=i.add;if(d(c))return o(o([],d(s)?s:[],!0),c).sort();if(typeof c=="number")return(Number(s)||0)+c;if(typeof c=="bigint")try{return BigInt(s)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(i.remove!==void 0){var u=i.remove;if(d(u))return d(s)?s.filter(function(p){return!u.includes(p)}).sort():[];if(typeof u=="number")return Number(s)-u;if(typeof u=="bigint")try{return BigInt(s)-u}catch{return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return c=(c=i.replacePrefix)===null||c===void 0?void 0:c[0],c&&typeof s=="string"&&s.startsWith(c)?i.replacePrefix[1]+s.substring(c.length):s},Va);function Va(s){this["@@propmod"]=s}var ad=(Qe.prototype._read=function(s,i){var c=this._ctx;return c.error?c.table._trans(null,mt.bind(null,c.error)):c.table._trans("readonly",s).then(i)},Qe.prototype._write=function(s){var i=this._ctx;return i.error?i.table._trans(null,mt.bind(null,i.error)):i.table._trans("readwrite",s,"locked")},Qe.prototype._addAlgorithm=function(s){var i=this._ctx;i.algorithm=rr(i.algorithm,s)},Qe.prototype._iterate=function(s,i){return Bs(this._ctx,s,i,this._ctx.table.core)},Qe.prototype.clone=function(s){var i=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return s&&f(c,s),i._ctx=c,i},Qe.prototype.raw=function(){return this._ctx.valueMapper=null,this},Qe.prototype.each=function(s){var i=this._ctx;return this._read(function(c){return Bs(i,s,c,i.table.core)})},Qe.prototype.count=function(s){var i=this;return this._read(function(c){var u=i._ctx,p=u.table.core;if(kr(u,!0))return p.count({trans:c,query:{index:Ms(u,p.schema),range:u.range}}).then(function(b){return Math.min(b,u.limit)});var g=0;return Bs(u,function(){return++g,!1},c,p).then(function(){return g})}).then(s)},Qe.prototype.sortBy=function(s,i){var c=s.split(".").reverse(),u=c[0],p=c.length-1;function g(A,P){return P?g(A[c[P]],P-1):A[u]}var b=this._ctx.dir==="next"?1:-1;function w(A,P){return Le(g(A,p),g(P,p))*b}return this.toArray(function(A){return A.sort(w)}).then(i)},Qe.prototype.toArray=function(s){var i=this;return this._read(function(c){var u=i._ctx;if(u.dir==="next"&&kr(u,!0)&&0<u.limit){var p=u.valueMapper,g=Ms(u,u.table.core.schema);return u.table.core.query({trans:c,limit:u.limit,values:!0,query:{index:g,range:u.range}}).then(function(w){return w=w.result,p?w.map(p):w})}var b=[];return Bs(u,function(w){return b.push(w)},c,u.table.core).then(function(){return b})},s)},Qe.prototype.offset=function(s){var i=this._ctx;return s<=0||(i.offset+=s,kr(i)?Xo(i,function(){var c=s;return function(u,p){return c===0||(c===1?--c:p(function(){u.advance(c),c=0}),!1)}}):Xo(i,function(){var c=s;return function(){return--c<0}})),this},Qe.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),Xo(this._ctx,function(){var i=s;return function(c,u,p){return--i<=0&&u(p),0<=i}},!0),this},Qe.prototype.until=function(s,i){return Jo(this._ctx,function(c,u,p){return!s(c.value)||(u(p),i)}),this},Qe.prototype.first=function(s){return this.limit(1).toArray(function(i){return i[0]}).then(s)},Qe.prototype.last=function(s){return this.reverse().first(s)},Qe.prototype.filter=function(s){var i;return Jo(this._ctx,function(c){return s(c.value)}),(i=this._ctx).isMatch=rr(i.isMatch,s),this},Qe.prototype.and=function(s){return this.filter(s)},Qe.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},Qe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Qe.prototype.desc=function(){return this.reverse()},Qe.prototype.eachKey=function(s){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(c,u){s(u.key,u)})},Qe.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},Qe.prototype.eachPrimaryKey=function(s){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(c,u){s(u.primaryKey,u)})},Qe.prototype.keys=function(s){var i=this._ctx;i.keysOnly=!i.isMatch;var c=[];return this.each(function(u,p){c.push(p.key)}).then(function(){return c}).then(s)},Qe.prototype.primaryKeys=function(s){var i=this._ctx;if(i.dir==="next"&&kr(i,!0)&&0<i.limit)return this._read(function(u){var p=Ms(i,i.table.core.schema);return i.table.core.query({trans:u,values:!1,limit:i.limit,query:{index:p,range:i.range}})}).then(function(u){return u.result}).then(s);i.keysOnly=!i.isMatch;var c=[];return this.each(function(u,p){c.push(p.primaryKey)}).then(function(){return c}).then(s)},Qe.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},Qe.prototype.firstKey=function(s){return this.limit(1).keys(function(i){return i[0]}).then(s)},Qe.prototype.lastKey=function(s){return this.reverse().firstKey(s)},Qe.prototype.distinct=function(){var s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];if(!s||!s.multi)return this;var i={};return Jo(this._ctx,function(p){var u=p.primaryKey.toString(),p=y(i,u);return i[u]=!0,!p}),this},Qe.prototype.modify=function(s){var i=this,c=this._ctx;return this._write(function(u){var p,g,b;b=typeof s=="function"?s:(p=l(s),g=p.length,function(M){for(var q=!1,U=0;U<g;++U){var V=p[U],ne=s[V],ce=ve(M,V);ne instanceof Wr?(Ce(M,V,ne.execute(ce)),q=!0):ce!==ne&&(Ce(M,V,ne),q=!0)}return q});var w=c.table.core,k=w.schema.primaryKey,A=k.outbound,P=k.extractKey,R=200,k=i.db._options.modifyChunkSize;k&&(R=typeof k=="object"?k[w.name]||k["*"]||200:k);function T(M,V){var U=V.failures,V=V.numFailures;I+=M-V;for(var ne=0,ce=l(U);ne<ce.length;ne++){var re=ce[ne];S.push(U[re])}}var S=[],I=0,$=[],D=s===Ha;return i.clone().primaryKeys().then(function(M){function q(V){var ne=Math.min(R,M.length-V),ce=M.slice(V,V+ne);return(D?Promise.resolve([]):w.getMany({trans:u,keys:ce,cache:"immutable"})).then(function(re){var se=[],me=[],de=A?[]:null,ge=D?ce:[];if(!D)for(var Ne=0;Ne<ne;++Ne){var Ve=re[Ne],Me={value:rt(Ve),primKey:M[V+Ne]};b.call(Me,Me.value,Me)!==!1&&(Me.value==null?ge.push(M[V+Ne]):A||Le(P(Ve),P(Me.value))===0?(me.push(Me.value),A&&de.push(M[V+Ne])):(ge.push(M[V+Ne]),se.push(Me.value)))}return Promise.resolve(0<se.length&&w.mutate({trans:u,type:"add",values:se}).then(function(pt){for(var $e in pt.failures)ge.splice(parseInt($e),1);T(se.length,pt)})).then(function(){return(0<me.length||U&&typeof s=="object")&&w.mutate({trans:u,type:"put",keys:de,values:me,criteria:U,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<V}).then(function(pt){return T(me.length,pt)})}).then(function(){return(0<ge.length||U&&D)&&w.mutate({trans:u,type:"delete",keys:ge,criteria:U,isAdditionalChunk:0<V}).then(function(pt){return Ts(c.table,ge,pt)}).then(function(pt){return T(ge.length,pt)})}).then(function(){return M.length>V+ne&&q(V+R)})})}var U=kr(c)&&c.limit===1/0&&(typeof s!="function"||D)&&{index:c.index,range:c.range};return q(0).then(function(){if(0<S.length)throw new tn("Error modifying one or more objects",S,I,$);return M.length})})})},Qe.prototype.delete=function(){var s=this._ctx,i=s.range;return!kr(s)||s.table.schema.yProps||!s.isPrimKey&&i.type!==3?this.modify(Ha):this._write(function(c){var u=s.table.core.schema.primaryKey,p=i;return s.table.core.count({trans:c,query:{index:u,range:p}}).then(function(g){return s.table.core.mutate({trans:c,type:"deleteRange",range:p}).then(function(A){var w=A.failures,A=A.numFailures;if(A)throw new tn("Could not delete some values",Object.keys(w).map(function(P){return w[P]}),g-A);return g-A})})})},Qe);function Qe(){}var Ha=function(s,i){return i.value=null};function cd(s,i){return s<i?-1:s===i?0:1}function ld(s,i){return i<s?-1:s===i?0:1}function Ht(s,i,c){return s=s instanceof za?new s.Collection(s):s,s._ctx.error=new(c||TypeError)(i),s}function Er(s){return new s.Collection(s,function(){return Wa("")}).limit(0)}function Fs(s,i,c,u){var p,g,b,w,A,P,R,k=c.length;if(!c.every(function(I){return typeof I=="string"}))return Ht(s,Ba);function T(I){p=I==="next"?function(D){return D.toUpperCase()}:function(D){return D.toLowerCase()},g=I==="next"?function(D){return D.toLowerCase()}:function(D){return D.toUpperCase()},b=I==="next"?cd:ld;var $=c.map(function(D){return{lower:g(D),upper:p(D)}}).sort(function(D,M){return b(D.lower,M.lower)});w=$.map(function(D){return D.upper}),A=$.map(function(D){return D.lower}),R=(P=I)==="next"?"":u}T("next"),s=new s.Collection(s,function(){return qn(w[0],A[k-1]+u)}),s._ondirectionchange=function(I){T(I)};var S=0;return s._addAlgorithm(function(I,$,D){var M=I.key;if(typeof M!="string")return!1;var q=g(M);if(i(q,A,S))return!0;for(var U=null,V=S;V<k;++V){var ne=(function(ce,re,se,me,de,ge){for(var Ne=Math.min(ce.length,me.length),Ve=-1,Me=0;Me<Ne;++Me){var pt=re[Me];if(pt!==me[Me])return de(ce[Me],se[Me])<0?ce.substr(0,Me)+se[Me]+se.substr(Me+1):de(ce[Me],me[Me])<0?ce.substr(0,Me)+me[Me]+se.substr(Me+1):0<=Ve?ce.substr(0,Ve)+re[Ve]+se.substr(Ve+1):null;de(ce[Me],pt)<0&&(Ve=Me)}return Ne<me.length&&ge==="next"?ce+se.substr(ce.length):Ne<ce.length&&ge==="prev"?ce.substr(0,se.length):Ve<0?null:ce.substr(0,Ve)+me[Ve]+se.substr(Ve+1)})(M,q,w[V],A[V],b,P);ne===null&&U===null?S=V+1:(U===null||0<b(U,ne))&&(U=ne)}return $(U!==null?function(){I.continue(U+R)}:D),!1}),s}function qn(s,i,c,u){return{type:2,lower:s,upper:i,lowerOpen:c,upperOpen:u}}function Wa(s){return{type:1,lower:s,upper:s}}var za=(Object.defineProperty(Et.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Et.prototype.between=function(s,i,c,u){c=c!==!1,u=u===!0;try{return 0<this._cmp(s,i)||this._cmp(s,i)===0&&(c||u)&&(!c||!u)?Er(this):new this.Collection(this,function(){return qn(s,i,!c,!u)})}catch{return Ht(this,xn)}},Et.prototype.equals=function(s){return s==null?Ht(this,xn):new this.Collection(this,function(){return Wa(s)})},Et.prototype.above=function(s){return s==null?Ht(this,xn):new this.Collection(this,function(){return qn(s,void 0,!0)})},Et.prototype.aboveOrEqual=function(s){return s==null?Ht(this,xn):new this.Collection(this,function(){return qn(s,void 0,!1)})},Et.prototype.below=function(s){return s==null?Ht(this,xn):new this.Collection(this,function(){return qn(void 0,s,!1,!0)})},Et.prototype.belowOrEqual=function(s){return s==null?Ht(this,xn):new this.Collection(this,function(){return qn(void 0,s)})},Et.prototype.startsWith=function(s){return typeof s!="string"?Ht(this,Ba):this.between(s,s+nr,!0,!0)},Et.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):Fs(this,function(i,c){return i.indexOf(c[0])===0},[s],nr)},Et.prototype.equalsIgnoreCase=function(s){return Fs(this,function(i,c){return i===c[0]},[s],"")},Et.prototype.anyOfIgnoreCase=function(){var s=ut.apply(He,arguments);return s.length===0?Er(this):Fs(this,function(i,c){return c.indexOf(i)!==-1},s,"")},Et.prototype.startsWithAnyOfIgnoreCase=function(){var s=ut.apply(He,arguments);return s.length===0?Er(this):Fs(this,function(i,c){return c.some(function(u){return i.indexOf(u)===0})},s,nr)},Et.prototype.anyOf=function(){var s=this,i=ut.apply(He,arguments),c=this._cmp;try{i.sort(c)}catch{return Ht(this,xn)}if(i.length===0)return Er(this);var u=new this.Collection(this,function(){return qn(i[0],i[i.length-1])});u._ondirectionchange=function(g){c=g==="next"?s._ascending:s._descending,i.sort(c)};var p=0;return u._addAlgorithm(function(g,b,w){for(var A=g.key;0<c(A,i[p]);)if(++p===i.length)return b(w),!1;return c(A,i[p])===0||(b(function(){g.continue(i[p])}),!1)}),u},Et.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Et.prototype.noneOf=function(){var s=ut.apply(He,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return Ht(this,xn)}var i=s.reduce(function(c,u){return c?c.concat([[c[c.length-1][1],u]]):[[-1/0,u]]},null);return i.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(i,{includeLowers:!1,includeUppers:!1})},Et.prototype.inAnyRange=function(M,i){var c=this,u=this._cmp,p=this._ascending,g=this._descending,b=this._min,w=this._max;if(M.length===0)return Er(this);if(!M.every(function(q){return q[0]!==void 0&&q[1]!==void 0&&p(q[0],q[1])<=0}))return Ht(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",H.InvalidArgument);var A=!i||i.includeLowers!==!1,P=i&&i.includeUppers===!0,R,k=p;function T(q,U){return k(q[0],U[0])}try{(R=M.reduce(function(q,U){for(var V=0,ne=q.length;V<ne;++V){var ce=q[V];if(u(U[0],ce[1])<0&&0<u(U[1],ce[0])){ce[0]=b(ce[0],U[0]),ce[1]=w(ce[1],U[1]);break}}return V===ne&&q.push(U),q},[])).sort(T)}catch{return Ht(this,xn)}var S=0,I=P?function(q){return 0<p(q,R[S][1])}:function(q){return 0<=p(q,R[S][1])},$=A?function(q){return 0<g(q,R[S][0])}:function(q){return 0<=g(q,R[S][0])},D=I,M=new this.Collection(this,function(){return qn(R[0][0],R[R.length-1][1],!A,!P)});return M._ondirectionchange=function(q){k=q==="next"?(D=I,p):(D=$,g),R.sort(T)},M._addAlgorithm(function(q,U,V){for(var ne,ce=q.key;D(ce);)if(++S===R.length)return U(V),!1;return!I(ne=ce)&&!$(ne)||(c._cmp(ce,R[S][1])===0||c._cmp(ce,R[S][0])===0||U(function(){k===p?q.continue(R[S][0]):q.continue(R[S][1])}),!1)}),M},Et.prototype.startsWithAnyOf=function(){var s=ut.apply(He,arguments);return s.every(function(i){return typeof i=="string"})?s.length===0?Er(this):this.inAnyRange(s.map(function(i){return[i,i+nr]})):Ht(this,"startsWithAnyOf() only works with strings")},Et);function Et(){}function dn(s){return lt(function(i){return zr(i),s(i.target.error),!1})}function zr(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var Qr="storagemutated",Zo="x-storagemutated-1",Kn=Vr(null,Qr),ud=(fn.prototype._lock=function(){return X(!be.global),++this._reculock,this._reculock!==1||be.global||(be.lockOwnerFor=this),this},fn.prototype._unlock=function(){if(X(!be.global),--this._reculock==0)for(be.global||(be.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{tr(s[1],s[0])}catch{}}return this},fn.prototype._locked=function(){return this._reculock&&be.lockOwnerFor!==this},fn.prototype.create=function(s){var i=this;if(!this.mode)return this;var c=this.db.idbdb,u=this.db._state.dbOpenError;if(X(!this.idbtrans),!s&&!c)switch(u&&u.name){case"DatabaseClosedError":throw new H.DatabaseClosed(u);case"MissingAPIError":throw new H.MissingAPI(u.message,u);default:throw new H.OpenFailed(u)}if(!this.active)throw new H.TransactionInactive;return X(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=lt(function(p){zr(p),i._reject(s.error)}),s.onabort=lt(function(p){zr(p),i.active&&i._reject(new H.Abort(s.error)),i.active=!1,i.on("abort").fire(p)}),s.oncomplete=lt(function(){i.active=!1,i._resolve(),"mutatedParts"in s&&Kn.storagemutated.fire(s.mutatedParts)}),this},fn.prototype._promise=function(s,i,c){var u=this;if(s==="readwrite"&&this.mode!=="readwrite")return mt(new H.ReadOnly("Transaction is readonly"));if(!this.active)return mt(new H.TransactionInactive);if(this._locked())return new ye(function(g,b){u._blockedFuncs.push([function(){u._promise(s,i,c).then(g,b)},be])});if(c)return Nn(function(){var g=new ye(function(b,w){u._lock();var A=i(b,w,u);A&&A.then&&A.then(b,w)});return g.finally(function(){return u._unlock()}),g._lib=!0,g});var p=new ye(function(g,b){var w=i(g,b,u);w&&w.then&&w.then(g,b)});return p._lib=!0,p},fn.prototype._root=function(){return this.parent?this.parent._root():this},fn.prototype.waitFor=function(s){var i,c=this._root(),u=ye.resolve(s);c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return u}):(c._waitingFor=u,c._waitingQueue=[],i=c.idbtrans.objectStore(c.storeNames[0]),(function g(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(i.get(-1/0).onsuccess=g)})());var p=c._waitingFor;return new ye(function(g,b){u.then(function(w){return c._waitingQueue.push(lt(g.bind(null,w)))},function(w){return c._waitingQueue.push(lt(b.bind(null,w)))}).finally(function(){c._waitingFor===p&&(c._waitingFor=null)})})},fn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new H.Abort))},fn.prototype.table=function(s){var i=this._memoizedTables||(this._memoizedTables={});if(y(i,s))return i[s];var c=this.schema[s];if(!c)throw new H.NotFound("Table "+s+" not part of transaction");return c=new this.db.Table(s,c,this),c.core=this.db.core.table(s),i[s]=c},fn);function fn(){}function ei(s,i,c,u,p,g,b,w){return{name:s,keyPath:i,unique:c,multi:u,auto:p,compound:g,src:(c&&!b?"&":"")+(u?"*":"")+(p?"++":"")+Qa(i),type:w}}function Qa(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function ti(s,i,c){return{name:s,primKey:i,indexes:c,mappedClass:null,idxByName:(u=function(p){return[p.name,p]},c.reduce(function(p,g,b){return b=u(g,b),b&&(p[b[0]]=b[1]),p},{}))};var u}var Yr=function(s){try{return s.only([[]]),Yr=function(){return[[]]},[[]]}catch{return Yr=function(){return nr},nr}};function ni(s){return s==null?function(){}:typeof s=="string"?(i=s).split(".").length===1?function(c){return c[i]}:function(c){return ve(c,i)}:function(c){return ve(c,s)};var i}function Ya(s){return[].slice.call(s)}var dd=0;function Gr(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function fd(s,i,A){function u(D){if(D.type===3)return null;if(D.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var S=D.lower,I=D.upper,$=D.lowerOpen,D=D.upperOpen;return S===void 0?I===void 0?null:i.upperBound(I,!!D):I===void 0?i.lowerBound(S,!!$):i.bound(S,I,!!$,!!D)}function p(T){var S,I=T.name;return{name:I,schema:T,mutate:function($){var D=$.trans,M=$.type,q=$.keys,U=$.values,V=$.range;return new Promise(function(ne,ce){ne=lt(ne);var re=D.objectStore(I),se=re.keyPath==null,me=M==="put"||M==="add";if(!me&&M!=="delete"&&M!=="deleteRange")throw new Error("Invalid operation type: "+M);var de,ge=(q||U||{length:1}).length;if(q&&U&&q.length!==U.length)throw new Error("Given keys array must have same length as given values array.");if(ge===0)return ne({numFailures:0,failures:{},results:[],lastResult:void 0});function Ne(Nt){++pt,zr(Nt)}var Ve=[],Me=[],pt=0;if(M==="deleteRange"){if(V.type===4)return ne({numFailures:pt,failures:Me,results:[],lastResult:void 0});V.type===3?Ve.push(de=re.clear()):Ve.push(de=re.delete(u(V)))}else{var se=me?se?[U,q]:[U,null]:[q,null],$e=se[0],It=se[1];if(me)for(var Rt=0;Rt<ge;++Rt)Ve.push(de=It&&It[Rt]!==void 0?re[M]($e[Rt],It[Rt]):re[M]($e[Rt])),de.onerror=Ne;else for(Rt=0;Rt<ge;++Rt)Ve.push(de=re[M]($e[Rt])),de.onerror=Ne}function Ys(Nt){Nt=Nt.target.result,Ve.forEach(function(ir,_i){return ir.error!=null&&(Me[_i]=ir.error)}),ne({numFailures:pt,failures:Me,results:M==="delete"?q:Ve.map(function(ir){return ir.result}),lastResult:Nt})}de.onerror=function(Nt){Ne(Nt),Ys(Nt)},de.onsuccess=Ys})},getMany:function($){var D=$.trans,M=$.keys;return new Promise(function(q,U){q=lt(q);for(var V,ne=D.objectStore(I),ce=M.length,re=new Array(ce),se=0,me=0,de=function(Ve){Ve=Ve.target,re[Ve._pos]=Ve.result,++me===se&&q(re)},ge=dn(U),Ne=0;Ne<ce;++Ne)M[Ne]!=null&&((V=ne.get(M[Ne]))._pos=Ne,V.onsuccess=de,V.onerror=ge,++se);se===0&&q(re)})},get:function($){var D=$.trans,M=$.key;return new Promise(function(q,U){q=lt(q);var V=D.objectStore(I).get(M);V.onsuccess=function(ne){return q(ne.target.result)},V.onerror=dn(U)})},query:(S=P,function($){return new Promise(function(D,M){D=lt(D);var q,U,V,se=$.trans,ne=$.values,ce=$.limit,de=$.query,re=ce===1/0?void 0:ce,me=de.index,de=de.range,se=se.objectStore(I),me=me.isPrimaryKey?se:se.index(me.name),de=u(de);if(ce===0)return D({result:[]});S?((re=ne?me.getAll(de,re):me.getAllKeys(de,re)).onsuccess=function(ge){return D({result:ge.target.result})},re.onerror=dn(M)):(q=0,U=!ne&&"openKeyCursor"in me?me.openKeyCursor(de):me.openCursor(de),V=[],U.onsuccess=function(ge){var Ne=U.result;return Ne?(V.push(ne?Ne.value:Ne.primaryKey),++q===ce?D({result:V}):void Ne.continue()):D({result:V})},U.onerror=dn(M))})}),openCursor:function($){var D=$.trans,M=$.values,q=$.query,U=$.reverse,V=$.unique;return new Promise(function(ne,ce){ne=lt(ne);var me=q.index,re=q.range,se=D.objectStore(I),se=me.isPrimaryKey?se:se.index(me.name),me=U?V?"prevunique":"prev":V?"nextunique":"next",de=!M&&"openKeyCursor"in se?se.openKeyCursor(u(re),me):se.openCursor(u(re),me);de.onerror=dn(ce),de.onsuccess=lt(function(ge){var Ne,Ve,Me,pt,$e=de.result;$e?($e.___id=++dd,$e.done=!1,Ne=$e.continue.bind($e),Ve=(Ve=$e.continuePrimaryKey)&&Ve.bind($e),Me=$e.advance.bind($e),pt=function(){throw new Error("Cursor not stopped")},$e.trans=D,$e.stop=$e.continue=$e.continuePrimaryKey=$e.advance=function(){throw new Error("Cursor not started")},$e.fail=lt(ce),$e.next=function(){var It=this,Rt=1;return this.start(function(){return Rt--?It.continue():It.stop()}).then(function(){return It})},$e.start=function(It){function Rt(){if(de.result)try{It()}catch(Nt){$e.fail(Nt)}else $e.done=!0,$e.start=function(){throw new Error("Cursor behind last entry")},$e.stop()}var Ys=new Promise(function(Nt,ir){Nt=lt(Nt),de.onerror=dn(ir),$e.fail=ir,$e.stop=function(_i){$e.stop=$e.continue=$e.continuePrimaryKey=$e.advance=pt,Nt(_i)}});return de.onsuccess=lt(function(Nt){de.onsuccess=Rt,Rt()}),$e.continue=Ne,$e.continuePrimaryKey=Ve,$e.advance=Me,Rt(),Ys},ne($e)):ne(null)},ce)})},count:function($){var D=$.query,M=$.trans,q=D.index,U=D.range;return new Promise(function(V,ne){var ce=M.objectStore(I),re=q.isPrimaryKey?ce:ce.index(q.name),ce=u(U),re=ce?re.count(ce):re.count();re.onsuccess=lt(function(se){return V(se.target.result)}),re.onerror=dn(ne)})}}}var g,b,w,R=(b=A,w=Ya((g=s).objectStoreNames),{schema:{name:g.name,tables:w.map(function(T){return b.objectStore(T)}).map(function(T){var S=T.keyPath,D=T.autoIncrement,I=d(S),$={},D={name:T.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:S==null,compound:I,keyPath:S,autoIncrement:D,unique:!0,extractKey:ni(S)},indexes:Ya(T.indexNames).map(function(M){return T.index(M)}).map(function(V){var q=V.name,U=V.unique,ne=V.multiEntry,V=V.keyPath,ne={name:q,compound:d(V),keyPath:V,unique:U,multiEntry:ne,extractKey:ni(V)};return $[Gr(V)]=ne}),getIndexByKeyPath:function(M){return $[Gr(M)]}};return $[":id"]=D.primaryKey,S!=null&&($[Gr(S)]=D.primaryKey),D})},hasGetAll:0<w.length&&"getAll"in b.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),A=R.schema,P=R.hasGetAll,R=A.tables.map(p),k={};return R.forEach(function(T){return k[T.name]=T}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(T){if(!k[T])throw new Error("Table '".concat(T,"' not found"));return k[T]},MIN_KEY:-1/0,MAX_KEY:Yr(i),schema:A}}function pd(s,i,c,u){var p=c.IDBKeyRange;return c.indexedDB,{dbcore:(u=fd(i,p,u),s.dbcore.reduce(function(g,b){return b=b.create,r(r({},g),b(g))},u))}}function Ns(s,u){var c=u.db,u=pd(s._middlewares,c,s._deps,u);s.core=u.dbcore,s.tables.forEach(function(p){var g=p.name;s.core.schema.tables.some(function(b){return b.name===g})&&(p.core=s.core.table(g),s[g]instanceof s.Table&&(s[g].core=p.core))})}function js(s,i,c,u){c.forEach(function(p){var g=u[p];i.forEach(function(b){var w=(function A(P,R){return J(P,R)||(P=m(P))&&A(P,R)})(b,p);(!w||"value"in w&&w.value===void 0)&&(b===s.Transaction.prototype||b instanceof s.Transaction?O(b,p,{get:function(){return this.table(p)},set:function(A){C(this,p,{value:A,writable:!0,configurable:!0,enumerable:!0})}}):b[p]=new s.Table(p,g))})})}function ri(s,i){i.forEach(function(c){for(var u in c)c[u]instanceof s.Table&&delete c[u]})}function hd(s,i){return s._cfg.version-i._cfg.version}function md(s,i,c,u){var p=s._dbSchema;c.objectStoreNames.contains("$meta")&&!p.$meta&&(p.$meta=ti("$meta",Ja("")[0],[]),s._storeNames.push("$meta"));var g=s._createTransaction("readwrite",s._storeNames,p);g.create(c),g._completion.catch(u);var b=g._reject.bind(g),w=be.transless||be;Nn(function(){return be.trans=g,be.transless=w,i!==0?(Ns(s,c),P=i,((A=g).storeNames.includes("$meta")?A.table("$meta").get("version").then(function(R){return R??P}):ye.resolve(P)).then(function(R){return T=R,S=g,I=c,$=[],R=(k=s)._versions,D=k._dbSchema=qs(0,k.idbdb,I),(R=R.filter(function(M){return M._cfg.version>=T})).length!==0?(R.forEach(function(M){$.push(function(){var q=D,U=M._cfg.dbschema;Ks(k,q,I),Ks(k,U,I),D=k._dbSchema=U;var V=si(q,U);V.add.forEach(function(me){oi(I,me[0],me[1].primKey,me[1].indexes)}),V.change.forEach(function(me){if(me.recreate)throw new H.Upgrade("Not yet support for changing primary key");var de=I.objectStore(me.name);me.add.forEach(function(ge){return Ls(de,ge)}),me.change.forEach(function(ge){de.deleteIndex(ge.name),Ls(de,ge)}),me.del.forEach(function(ge){return de.deleteIndex(ge)})});var ne=M._cfg.contentUpgrade;if(ne&&M._cfg.version>T){Ns(k,I),S._memoizedTables={};var ce=Se(U);V.del.forEach(function(me){ce[me]=q[me]}),ri(k,[k.Transaction.prototype]),js(k,[k.Transaction.prototype],l(ce),ce),S.schema=ce;var re,se=vt(ne);return se&&wr(),V=ye.follow(function(){var me;(re=ne(S))&&se&&(me=jn.bind(null,null),re.then(me,me))}),re&&typeof re.then=="function"?ye.resolve(re):V.then(function(){return re})}}),$.push(function(q){var U,V,ne=M._cfg.dbschema;U=ne,V=q,[].slice.call(V.db.objectStoreNames).forEach(function(ce){return U[ce]==null&&V.db.deleteObjectStore(ce)}),ri(k,[k.Transaction.prototype]),js(k,[k.Transaction.prototype],k._storeNames,k._dbSchema),S.schema=k._dbSchema}),$.push(function(q){k.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(k.idbdb.version/10)===M._cfg.version?(k.idbdb.deleteObjectStore("$meta"),delete k._dbSchema.$meta,k._storeNames=k._storeNames.filter(function(U){return U!=="$meta"})):q.objectStore("$meta").put(M._cfg.version,"version"))})}),(function M(){return $.length?ye.resolve($.shift()(S.idbtrans)).then(M):ye.resolve()})().then(function(){Ga(D,I)})):ye.resolve();var k,T,S,I,$,D}).catch(b)):(l(p).forEach(function(R){oi(c,R,p[R].primKey,p[R].indexes)}),Ns(s,c),void ye.follow(function(){return s.on.populate.fire(g)}).catch(b));var A,P})}function yd(s,i){Ga(s._dbSchema,i),i.db.version%10!=0||i.objectStoreNames.contains("$meta")||i.db.createObjectStore("$meta").add(Math.ceil(i.db.version/10-1),"version");var c=qs(0,s.idbdb,i);Ks(s,s._dbSchema,i);for(var u=0,p=si(c,s._dbSchema).change;u<p.length;u++){var g=(function(b){if(b.change.length||b.recreate)return console.warn("Unable to patch indexes of table ".concat(b.name," because it has changes on the type of index or primary key.")),{value:void 0};var w=i.objectStore(b.name);b.add.forEach(function(A){ee&&console.debug("Dexie upgrade patch: Creating missing index ".concat(b.name,".").concat(A.src)),Ls(w,A)})})(p[u]);if(typeof g=="object")return g.value}}function si(s,i){var c,u={del:[],add:[],change:[]};for(c in s)i[c]||u.del.push(c);for(c in i){var p=s[c],g=i[c];if(p){var b={name:c,def:g,recreate:!1,del:[],add:[],change:[]};if(""+(p.primKey.keyPath||"")!=""+(g.primKey.keyPath||"")||p.primKey.auto!==g.primKey.auto)b.recreate=!0,u.change.push(b);else{var w=p.idxByName,A=g.idxByName,P=void 0;for(P in w)A[P]||b.del.push(P);for(P in A){var R=w[P],k=A[P];R?R.src!==k.src&&b.change.push(k):b.add.push(k)}(0<b.del.length||0<b.add.length||0<b.change.length)&&u.change.push(b)}}else u.add.push([c,g])}return u}function oi(s,i,c,u){var p=s.db.createObjectStore(i,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return u.forEach(function(g){return Ls(p,g)}),p}function Ga(s,i){l(s).forEach(function(c){i.db.objectStoreNames.contains(c)||(ee&&console.debug("Dexie: Creating missing table",c),oi(i,c,s[c].primKey,s[c].indexes))})}function Ls(s,i){s.createIndex(i.name,i.keyPath,{unique:i.unique,multiEntry:i.multi})}function qs(s,i,c){var u={};return j(i.objectStoreNames,0).forEach(function(p){for(var g=c.objectStore(p),b=ei(Qa(P=g.keyPath),P||"",!0,!1,!!g.autoIncrement,P&&typeof P!="string",!0),w=[],A=0;A<g.indexNames.length;++A){var R=g.index(g.indexNames[A]),P=R.keyPath,R=ei(R.name,P,!!R.unique,!!R.multiEntry,!1,P&&typeof P!="string",!1);w.push(R)}u[p]=ti(p,b,w)}),u}function Ks(s,i,c){for(var u=c.db.objectStoreNames,p=0;p<u.length;++p){var g=u[p],b=c.objectStore(g);s._hasGetAll="getAll"in b;for(var w=0;w<b.indexNames.length;++w){var A=b.indexNames[w],P=b.index(A).keyPath,R=typeof P=="string"?P:"["+j(P).join("+")+"]";!i[g]||(P=i[g].idxByName[R])&&(P.name=A,delete i[g].idxByName[R],i[g].idxByName[A]=P)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function Ja(s){return s.split(",").map(function(i,c){var g=i.split(":"),u=(p=g[1])===null||p===void 0?void 0:p.trim(),p=(i=g[0].trim()).replace(/([&*]|\+\+)/g,""),g=/^\[/.test(p)?p.match(/^\[(.*)\]$/)[1].split("+"):p;return ei(p,g||null,/\&/.test(i),/\*/.test(i),/\+\+/.test(i),d(g),c===0,u)})}var gd=(xr.prototype._createTableSchema=ti,xr.prototype._parseIndexSyntax=Ja,xr.prototype._parseStoresSpec=function(s,i){var c=this;l(s).forEach(function(u){if(s[u]!==null){var p=c._parseIndexSyntax(s[u]),g=p.shift();if(!g)throw new H.Schema("Invalid schema for table "+u+": "+s[u]);if(g.unique=!0,g.multi)throw new H.Schema("Primary key cannot be multiEntry*");p.forEach(function(b){if(b.auto)throw new H.Schema("Only primary key can be marked as autoIncrement (++)");if(!b.keyPath)throw new H.Schema("Index must have a name and cannot be an empty string")}),p=c._createTableSchema(u,g,p),i[u]=p}})},xr.prototype.stores=function(c){var i=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,c):c;var c=i._versions,u={},p={};return c.forEach(function(g){f(u,g._cfg.storesSource),p=g._cfg.dbschema={},g._parseStoresSpec(u,p)}),i._dbSchema=p,ri(i,[i._allTables,i,i.Transaction.prototype]),js(i,[i._allTables,i,i.Transaction.prototype,this._cfg.tables],l(p),p),i._storeNames=l(p),this},xr.prototype.upgrade=function(s){return this._cfg.contentUpgrade=ae(this._cfg.contentUpgrade||_,s),this},xr);function xr(){}function ii(s,i){var c=s._dbNamesDB;return c||(c=s._dbNamesDB=new An(Ds,{addons:[],indexedDB:s,IDBKeyRange:i})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function ai(s){return s&&typeof s.databases=="function"}function ci(s){return Nn(function(){return be.letThrough=!0,s()})}function li(s){return!("from"in s)}var Ot=function(s,i){if(!this){var c=new Ot;return s&&"d"in s&&f(c,s),c}f(this,arguments.length?{d:1,from:s,to:1<arguments.length?i:s}:{d:0})};function Jr(s,i,c){var u=Le(i,c);if(!isNaN(u)){if(0<u)throw RangeError();if(li(s))return f(s,{from:i,to:c,d:1});var p=s.l,u=s.r;if(Le(c,s.from)<0)return p?Jr(p,i,c):s.l={from:i,to:c,d:1,l:null,r:null},Za(s);if(0<Le(i,s.to))return u?Jr(u,i,c):s.r={from:i,to:c,d:1,l:null,r:null},Za(s);Le(i,s.from)<0&&(s.from=i,s.l=null,s.d=u?u.d+1:1),0<Le(c,s.to)&&(s.to=c,s.r=null,s.d=s.l?s.l.d+1:1),c=!s.r,p&&!s.l&&Xr(s,p),u&&c&&Xr(s,u)}}function Xr(s,i){li(i)||(function c(u,A){var g=A.from,b=A.to,w=A.l,A=A.r;Jr(u,g,b),w&&c(u,w),A&&c(u,A)})(s,i)}function Xa(s,i){var c=Us(i),u=c.next();if(u.done)return!1;for(var p=u.value,g=Us(s),b=g.next(p.from),w=b.value;!u.done&&!b.done;){if(Le(w.from,p.to)<=0&&0<=Le(w.to,p.from))return!0;Le(p.from,w.from)<0?p=(u=c.next(w.from)).value:w=(b=g.next(p.from)).value}return!1}function Us(s){var i=li(s)?null:{s:0,n:s};return{next:function(c){for(var u=0<arguments.length;i;)switch(i.s){case 0:if(i.s=1,u)for(;i.n.l&&Le(c,i.n.from)<0;)i={up:i,n:i.n.l,s:1};else for(;i.n.l;)i={up:i,n:i.n.l,s:1};case 1:if(i.s=2,!u||Le(c,i.n.to)<=0)return{value:i.n,done:!1};case 2:if(i.n.r){i.s=3,i={up:i,n:i.n.r,s:0};continue}case 3:i=i.up}return{done:!0}}}}function Za(s){var i,c,u=(((i=s.r)===null||i===void 0?void 0:i.d)||0)-(((c=s.l)===null||c===void 0?void 0:c.d)||0),p=1<u?"r":u<-1?"l":"";p&&(i=p=="r"?"l":"r",c=r({},s),u=s[p],s.from=u.from,s.to=u.to,s[p]=u[p],c[p]=u[i],(s[i]=c).d=ec(c)),s.d=ec(s)}function ec(c){var i=c.r,c=c.l;return(i?c?Math.max(i.d,c.d):i.d:c?c.d:0)+1}function Vs(s,i){return l(i).forEach(function(c){s[c]?Xr(s[c],i[c]):s[c]=(function u(p){var g,b,w={};for(g in p)y(p,g)&&(b=p[g],w[g]=!b||typeof b!="object"||Ge.has(b.constructor)?b:u(b));return w})(i[c])}),s}function ui(s,i){return s.all||i.all||Object.keys(s).some(function(c){return i[c]&&Xa(i[c],s[c])})}v(Ot.prototype,((Xt={add:function(s){return Xr(this,s),this},addKey:function(s){return Jr(this,s,s),this},addKeys:function(s){var i=this;return s.forEach(function(c){return Jr(i,c,c)}),this},hasKey:function(s){var i=Us(this).next(s).value;return i&&Le(i.from,s)<=0&&0<=Le(i.to,s)}})[F]=function(){return Us(this)},Xt));var sr={},di={},fi=!1;function Hs(s){Vs(di,s),fi||(fi=!0,setTimeout(function(){fi=!1,pi(di,!(di={}))},0))}function pi(s,i){i===void 0&&(i=!1);var c=new Set;if(s.all)for(var u=0,p=Object.values(sr);u<p.length;u++)tc(b=p[u],s,c,i);else for(var g in s){var b,w=/^idb\:\/\/(.*)\/(.*)\//.exec(g);w&&(g=w[1],w=w[2],(b=sr["idb://".concat(g,"/").concat(w)])&&tc(b,s,c,i))}c.forEach(function(A){return A()})}function tc(s,i,c,u){for(var p=[],g=0,b=Object.entries(s.queries.query);g<b.length;g++){for(var w=b[g],A=w[0],P=[],R=0,k=w[1];R<k.length;R++){var T=k[R];ui(i,T.obsSet)?T.subscribers.forEach(function(D){return c.add(D)}):u&&P.push(T)}u&&p.push([A,P])}if(u)for(var S=0,I=p;S<I.length;S++){var $=I[S],A=$[0],P=$[1];s.queries.query[A]=P}}function vd(s){var i=s._state,c=s._deps.indexedDB;if(i.isBeingOpened||s.idbdb)return i.dbReadyPromise.then(function(){return i.dbOpenError?mt(i.dbOpenError):s});i.isBeingOpened=!0,i.dbOpenError=null,i.openComplete=!1;var u=i.openCanceller,p=Math.round(10*s.verno),g=!1;function b(){if(i.openCanceller!==u)throw new H.DatabaseClosed("db.open() was cancelled")}function w(){return new ye(function(T,S){if(b(),!c)throw new H.MissingAPI;var I=s.name,$=i.autoSchema||!p?c.open(I):c.open(I,p);if(!$)throw new H.MissingAPI;$.onerror=dn(S),$.onblocked=lt(s._fireOnBlocked),$.onupgradeneeded=lt(function(D){var M;R=$.transaction,i.autoSchema&&!s._options.allowEmptyDB?($.onerror=zr,R.abort(),$.result.close(),(M=c.deleteDatabase(I)).onsuccess=M.onerror=lt(function(){S(new H.NoSuchDatabase("Database ".concat(I," doesnt exist")))})):(R.onerror=dn(S),D=D.oldVersion>Math.pow(2,62)?0:D.oldVersion,k=D<1,s.idbdb=$.result,g&&yd(s,R),md(s,D/10,R,S))},S),$.onsuccess=lt(function(){R=null;var D,M,q,U,V,ne=s.idbdb=$.result,ce=j(ne.objectStoreNames);if(0<ce.length)try{var re=ne.transaction((U=ce).length===1?U[0]:U,"readonly");if(i.autoSchema)M=ne,q=re,(D=s).verno=M.version/10,q=D._dbSchema=qs(0,M,q),D._storeNames=j(M.objectStoreNames,0),js(D,[D._allTables],l(q),q);else if(Ks(s,s._dbSchema,re),((V=si(qs(0,(V=s).idbdb,re),V._dbSchema)).add.length||V.change.some(function(se){return se.add.length||se.change.length}))&&!g)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ne.close(),p=ne.version+1,g=!0,T(w());Ns(s,re)}catch{}Cr.push(s),ne.onversionchange=lt(function(se){i.vcFired=!0,s.on("versionchange").fire(se)}),ne.onclose=lt(function(se){s.on("close").fire(se)}),k&&(V=s._deps,re=I,ne=V.indexedDB,V=V.IDBKeyRange,ai(ne)||re===Ds||ii(ne,V).put({name:re}).catch(_)),T()},S)}).catch(function(T){switch(T?.name){case"UnknownError":if(0<i.PR1398_maxLoop)return i.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),w();break;case"VersionError":if(0<p)return p=0,w()}return ye.reject(T)})}var A,P=i.dbReadyResolve,R=null,k=!1;return ye.race([u,(typeof navigator>"u"?ye.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(T){function S(){return indexedDB.databases().finally(T)}A=setInterval(S,100),S()}).finally(function(){return clearInterval(A)}):Promise.resolve()).then(w)]).then(function(){return b(),i.onReadyBeingFired=[],ye.resolve(ci(function(){return s.on.ready.fire(s.vip)})).then(function T(){if(0<i.onReadyBeingFired.length){var S=i.onReadyBeingFired.reduce(ae,_);return i.onReadyBeingFired=[],ye.resolve(ci(function(){return S(s.vip)})).then(T)}})}).finally(function(){i.openCanceller===u&&(i.onReadyBeingFired=null,i.isBeingOpened=!1)}).catch(function(T){i.dbOpenError=T;try{R&&R.abort()}catch{}return u===i.openCanceller&&s._close(),mt(T)}).finally(function(){i.openComplete=!0,P()}).then(function(){var T;return k&&(T={},s.tables.forEach(function(S){S.schema.indexes.forEach(function(I){I.name&&(T["idb://".concat(s.name,"/").concat(S.name,"/").concat(I.name)]=new Ot(-1/0,[[[]]]))}),T["idb://".concat(s.name,"/").concat(S.name,"/")]=T["idb://".concat(s.name,"/").concat(S.name,"/:dels")]=new Ot(-1/0,[[[]]])}),Kn(Qr).fire(T),pi(T,!0)),s})}function hi(s){function i(g){return s.next(g)}var c=p(i),u=p(function(g){return s.throw(g)});function p(g){return function(A){var w=g(A),A=w.value;return w.done?A:A&&typeof A.then=="function"?A.then(c,u):d(A)?Promise.all(A).then(c,u):c(A)}}return p(i)()}function Ws(s,i,c){for(var u=d(s)?s.slice():[s],p=0;p<c;++p)u.push(i);return u}var bd={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return r(r({},s),{table:function(i){var c=s.table(i),u=c.schema,p={},g=[];function b(k,T,S){var I=Gr(k),$=p[I]=p[I]||[],D=k==null?0:typeof k=="string"?1:k.length,M=0<T,M=r(r({},S),{name:M?"".concat(I,"(virtual-from:").concat(S.name,")"):S.name,lowLevelIndex:S,isVirtual:M,keyTail:T,keyLength:D,extractKey:ni(k),unique:!M&&S.unique});return $.push(M),M.isPrimaryKey||g.push(M),1<D&&b(D===2?k[0]:k.slice(0,D-1),T+1,S),$.sort(function(q,U){return q.keyTail-U.keyTail}),M}i=b(u.primaryKey.keyPath,0,u.primaryKey),p[":id"]=[i];for(var w=0,A=u.indexes;w<A.length;w++){var P=A[w];b(P.keyPath,0,P)}function R(k){var T,S=k.query.index;return S.isVirtual?r(r({},k),{query:{index:S.lowLevelIndex,range:(T=k.query.range,S=S.keyTail,{type:T.type===1?2:T.type,lower:Ws(T.lower,T.lowerOpen?s.MAX_KEY:s.MIN_KEY,S),lowerOpen:!0,upper:Ws(T.upper,T.upperOpen?s.MIN_KEY:s.MAX_KEY,S),upperOpen:!0})}}):k}return r(r({},c),{schema:r(r({},u),{primaryKey:i,indexes:g,getIndexByKeyPath:function(k){return(k=p[Gr(k)])&&k[0]}}),count:function(k){return c.count(R(k))},query:function(k){return c.query(R(k))},openCursor:function(k){var T=k.query.index,S=T.keyTail,I=T.isVirtual,$=T.keyLength;return I?c.openCursor(R(k)).then(function(M){return M&&D(M)}):c.openCursor(k);function D(M){return Object.create(M,{continue:{value:function(q){q!=null?M.continue(Ws(q,k.reverse?s.MAX_KEY:s.MIN_KEY,S)):k.unique?M.continue(M.key.slice(0,$).concat(k.reverse?s.MIN_KEY:s.MAX_KEY,S)):M.continue()}},continuePrimaryKey:{value:function(q,U){M.continuePrimaryKey(Ws(q,s.MAX_KEY,S),U)}},primaryKey:{get:function(){return M.primaryKey}},key:{get:function(){var q=M.key;return $===1?q[0]:q.slice(0,$)}},value:{get:function(){return M.value}}})}}})}})}};function mi(s,i,c,u){return c=c||{},u=u||"",l(s).forEach(function(p){var g,b,w;y(i,p)?(g=s[p],b=i[p],typeof g=="object"&&typeof b=="object"&&g&&b?(w=Q(g))!==Q(b)?c[u+p]=i[p]:w==="Object"?mi(g,b,c,u+p+"."):g!==b&&(c[u+p]=i[p]):g!==b&&(c[u+p]=i[p])):c[u+p]=void 0}),l(i).forEach(function(p){y(s,p)||(c[u+p]=i[p])}),c}function yi(s,i){return i.type==="delete"?i.keys:i.keys||i.values.map(s.extractKey)}var _d={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return r(r({},s),{table:function(i){var c=s.table(i),u=c.schema.primaryKey;return r(r({},c),{mutate:function(p){var g=be.trans,b=g.table(i).hook,w=b.deleting,A=b.creating,P=b.updating;switch(p.type){case"add":if(A.fire===_)break;return g._promise("readwrite",function(){return R(p)},!0);case"put":if(A.fire===_&&P.fire===_)break;return g._promise("readwrite",function(){return R(p)},!0);case"delete":if(w.fire===_)break;return g._promise("readwrite",function(){return R(p)},!0);case"deleteRange":if(w.fire===_)break;return g._promise("readwrite",function(){return(function k(T,S,I){return c.query({trans:T,values:!1,query:{index:u,range:S},limit:I}).then(function($){var D=$.result;return R({type:"delete",keys:D,trans:T}).then(function(M){return 0<M.numFailures?Promise.reject(M.failures[0]):D.length<I?{failures:[],numFailures:0,lastResult:void 0}:k(T,r(r({},S),{lower:D[D.length-1],lowerOpen:!0}),I)})})})(p.trans,p.range,1e4)},!0)}return c.mutate(p);function R(k){var T,S,I,$=be.trans,D=k.keys||yi(u,k);if(!D)throw new Error("Keys missing");return(k=k.type==="add"||k.type==="put"?r(r({},k),{keys:D}):r({},k)).type!=="delete"&&(k.values=o([],k.values)),k.keys&&(k.keys=o([],k.keys)),T=c,I=D,((S=k).type==="add"?Promise.resolve([]):T.getMany({trans:S.trans,keys:I,cache:"immutable"})).then(function(M){var q=D.map(function(U,V){var ne,ce,re,se=M[V],me={onerror:null,onsuccess:null};return k.type==="delete"?w.fire.call(me,U,se,$):k.type==="add"||se===void 0?(ne=A.fire.call(me,U,k.values[V],$),U==null&&ne!=null&&(k.keys[V]=U=ne,u.outbound||Ce(k.values[V],u.keyPath,U))):(ne=mi(se,k.values[V]),(ce=P.fire.call(me,ne,U,se,$))&&(re=k.values[V],Object.keys(ce).forEach(function(de){y(re,de)?re[de]=ce[de]:Ce(re,de,ce[de])}))),me});return c.mutate(k).then(function(U){for(var V=U.failures,ne=U.results,ce=U.numFailures,U=U.lastResult,re=0;re<D.length;++re){var se=(ne||D)[re],me=q[re];se==null?me.onerror&&me.onerror(V[re]):me.onsuccess&&me.onsuccess(k.type==="put"&&M[re]?k.values[re]:se)}return{failures:V,results:ne,numFailures:ce,lastResult:U}}).catch(function(U){return q.forEach(function(V){return V.onerror&&V.onerror(U)}),Promise.reject(U)})})}}})}})}};function nc(s,i,c){try{if(!i||i.keys.length<s.length)return null;for(var u=[],p=0,g=0;p<i.keys.length&&g<s.length;++p)Le(i.keys[p],s[g])===0&&(u.push(c?rt(i.values[p]):i.values[p]),++g);return u.length===s.length?u:null}catch{return null}}var wd={stack:"dbcore",level:-1,create:function(s){return{table:function(i){var c=s.table(i);return r(r({},c),{getMany:function(u){if(!u.cache)return c.getMany(u);var p=nc(u.keys,u.trans._cache,u.cache==="clone");return p?ye.resolve(p):c.getMany(u).then(function(g){return u.trans._cache={keys:u.keys,values:u.cache==="clone"?rt(g):g},g})},mutate:function(u){return u.type!=="add"&&(u.trans._cache=null),c.mutate(u)}})}}}};function rc(s,i){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!i.schema.primaryKey.outbound}function sc(s,i){switch(s){case"query":return i.values&&!i.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Cd={stack:"dbcore",level:0,name:"Observability",create:function(s){var i=s.schema.name,c=new Ot(s.MIN_KEY,s.MAX_KEY);return r(r({},s),{transaction:function(u,p,g){if(be.subscr&&p!=="readonly")throw new H.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(be.querier));return s.transaction(u,p,g)},table:function(u){var p=s.table(u),g=p.schema,b=g.primaryKey,k=g.indexes,w=b.extractKey,A=b.outbound,P=b.autoIncrement&&k.filter(function(S){return S.compound&&S.keyPath.includes(b.keyPath)}),R=r(r({},p),{mutate:function(S){function I(de){return de="idb://".concat(i,"/").concat(u,"/").concat(de),U[de]||(U[de]=new Ot)}var $,D,M,q=S.trans,U=S.mutatedParts||(S.mutatedParts={}),V=I(""),ne=I(":dels"),ce=S.type,me=S.type==="deleteRange"?[S.range]:S.type==="delete"?[S.keys]:S.values.length<50?[yi(b,S).filter(function(de){return de}),S.values]:[],re=me[0],se=me[1],me=S.trans._cache;return d(re)?(V.addKeys(re),(me=ce==="delete"||re.length===se.length?nc(re,me):null)||ne.addKeys(re),(me||se)&&($=I,D=me,M=se,g.indexes.forEach(function(de){var ge=$(de.name||"");function Ne(Me){return Me!=null?de.extractKey(Me):null}function Ve(Me){return de.multiEntry&&d(Me)?Me.forEach(function(pt){return ge.addKey(pt)}):ge.addKey(Me)}(D||M).forEach(function(Me,It){var $e=D&&Ne(D[It]),It=M&&Ne(M[It]);Le($e,It)!==0&&($e!=null&&Ve($e),It!=null&&Ve(It))})}))):re?(se={from:(se=re.lower)!==null&&se!==void 0?se:s.MIN_KEY,to:(se=re.upper)!==null&&se!==void 0?se:s.MAX_KEY},ne.add(se),V.add(se)):(V.add(c),ne.add(c),g.indexes.forEach(function(de){return I(de.name).add(c)})),p.mutate(S).then(function(de){return!re||S.type!=="add"&&S.type!=="put"||(V.addKeys(de.results),P&&P.forEach(function(ge){for(var Ne=S.values.map(function($e){return ge.extractKey($e)}),Ve=ge.keyPath.findIndex(function($e){return $e===b.keyPath}),Me=0,pt=de.results.length;Me<pt;++Me)Ne[Me][Ve]=de.results[Me];I(ge.name).addKeys(Ne)})),q.mutatedParts=Vs(q.mutatedParts||{},U),de})}}),k=function(I){var $=I.query,I=$.index,$=$.range;return[I,new Ot((I=$.lower)!==null&&I!==void 0?I:s.MIN_KEY,($=$.upper)!==null&&$!==void 0?$:s.MAX_KEY)]},T={get:function(S){return[b,new Ot(S.key)]},getMany:function(S){return[b,new Ot().addKeys(S.keys)]},count:k,query:k,openCursor:k};return l(T).forEach(function(S){R[S]=function(I){var $=be.subscr,D=!!$,M=rc(be,p)&&sc(S,I)?I.obsSet={}:$;if(D){var q=function(se){return se="idb://".concat(i,"/").concat(u,"/").concat(se),M[se]||(M[se]=new Ot)},U=q(""),V=q(":dels"),$=T[S](I),D=$[0],$=$[1];if((S==="query"&&D.isPrimaryKey&&!I.values?V:q(D.name||"")).add($),!D.isPrimaryKey){if(S!=="count"){var ne=S==="query"&&A&&I.values&&p.query(r(r({},I),{values:!1}));return p[S].apply(this,arguments).then(function(se){if(S==="query"){if(A&&I.values)return ne.then(function(Ne){return Ne=Ne.result,U.addKeys(Ne),se});var me=I.values?se.result.map(w):se.result;(I.values?U:V).addKeys(me)}else if(S==="openCursor"){var de=se,ge=I.values;return de&&Object.create(de,{key:{get:function(){return V.addKey(de.primaryKey),de.key}},primaryKey:{get:function(){var Ne=de.primaryKey;return V.addKey(Ne),Ne}},value:{get:function(){return ge&&U.addKey(de.primaryKey),de.value}}})}return se})}V.add(c)}}return p[S].apply(this,arguments)}}),R}})}};function oc(s,i,c){if(c.numFailures===0)return i;if(i.type==="deleteRange")return null;var u=i.keys?i.keys.length:"values"in i&&i.values?i.values.length:1;return c.numFailures===u?null:(i=r({},i),d(i.keys)&&(i.keys=i.keys.filter(function(p,g){return!(g in c.failures)})),"values"in i&&d(i.values)&&(i.values=i.values.filter(function(p,g){return!(g in c.failures)})),i)}function gi(s,i){return c=s,((u=i).lower===void 0||(u.lowerOpen?0<Le(c,u.lower):0<=Le(c,u.lower)))&&(s=s,(i=i).upper===void 0||(i.upperOpen?Le(s,i.upper)<0:Le(s,i.upper)<=0));var c,u}function ic(s,i,T,u,p,g){if(!T||T.length===0)return s;var b=i.query.index,w=b.multiEntry,A=i.query.range,P=u.schema.primaryKey.extractKey,R=b.extractKey,k=(b.lowLevelIndex||b).extractKey,T=T.reduce(function(S,I){var $=S,D=[];if(I.type==="add"||I.type==="put")for(var M=new Ot,q=I.values.length-1;0<=q;--q){var U,V=I.values[q],ne=P(V);M.hasKey(ne)||(U=R(V),(w&&d(U)?U.some(function(de){return gi(de,A)}):gi(U,A))&&(M.addKey(ne),D.push(V)))}switch(I.type){case"add":var ce=new Ot().addKeys(i.values?S.map(function(ge){return P(ge)}):S),$=S.concat(i.values?D.filter(function(ge){return ge=P(ge),!ce.hasKey(ge)&&(ce.addKey(ge),!0)}):D.map(function(ge){return P(ge)}).filter(function(ge){return!ce.hasKey(ge)&&(ce.addKey(ge),!0)}));break;case"put":var re=new Ot().addKeys(I.values.map(function(ge){return P(ge)}));$=S.filter(function(ge){return!re.hasKey(i.values?P(ge):ge)}).concat(i.values?D:D.map(function(ge){return P(ge)}));break;case"delete":var se=new Ot().addKeys(I.keys);$=S.filter(function(ge){return!se.hasKey(i.values?P(ge):ge)});break;case"deleteRange":var me=I.range;$=S.filter(function(ge){return!gi(P(ge),me)})}return $},s);return T===s?s:(T.sort(function(S,I){return Le(k(S),k(I))||Le(P(S),P(I))}),i.limit&&i.limit<1/0&&(T.length>i.limit?T.length=i.limit:s.length===i.limit&&T.length<i.limit&&(p.dirty=!0)),g?Object.freeze(T):T)}function ac(s,i){return Le(s.lower,i.lower)===0&&Le(s.upper,i.upper)===0&&!!s.lowerOpen==!!i.lowerOpen&&!!s.upperOpen==!!i.upperOpen}function kd(s,i){return(function(c,u,p,g){if(c===void 0)return u!==void 0?-1:0;if(u===void 0)return 1;if((u=Le(c,u))===0){if(p&&g)return 0;if(p)return 1;if(g)return-1}return u})(s.lower,i.lower,s.lowerOpen,i.lowerOpen)<=0&&0<=(function(c,u,p,g){if(c===void 0)return u!==void 0?1:0;if(u===void 0)return-1;if((u=Le(c,u))===0){if(p&&g)return 0;if(p)return-1;if(g)return 1}return u})(s.upper,i.upper,s.upperOpen,i.upperOpen)}function Ed(s,i,c,u){s.subscribers.add(c),u.addEventListener("abort",function(){var p,g;s.subscribers.delete(c),s.subscribers.size===0&&(p=s,g=i,setTimeout(function(){p.subscribers.size===0&&ue(g,p)},3e3))})}var xd={stack:"dbcore",level:0,name:"Cache",create:function(s){var i=s.schema.name;return r(r({},s),{transaction:function(c,u,p){var g,b,w=s.transaction(c,u,p);return u==="readwrite"&&(b=(g=new AbortController).signal,p=function(A){return function(){if(g.abort(),u==="readwrite"){for(var P=new Set,R=0,k=c;R<k.length;R++){var T=k[R],S=sr["idb://".concat(i,"/").concat(T)];if(S){var I=s.table(T),$=S.optimisticOps.filter(function(ge){return ge.trans===w});if(w._explicit&&A&&w.mutatedParts)for(var D=0,M=Object.values(S.queries.query);D<M.length;D++)for(var q=0,U=(ce=M[D]).slice();q<U.length;q++)ui((re=U[q]).obsSet,w.mutatedParts)&&(ue(ce,re),re.subscribers.forEach(function(ge){return P.add(ge)}));else if(0<$.length){S.optimisticOps=S.optimisticOps.filter(function(ge){return ge.trans!==w});for(var V=0,ne=Object.values(S.queries.query);V<ne.length;V++)for(var ce,re,se,me=0,de=(ce=ne[V]).slice();me<de.length;me++)(re=de[me]).res!=null&&w.mutatedParts&&(A&&!re.dirty?(se=Object.isFrozen(re.res),se=ic(re.res,re.req,$,I,re,se),re.dirty?(ue(ce,re),re.subscribers.forEach(function(ge){return P.add(ge)})):se!==re.res&&(re.res=se,re.promise=ye.resolve({result:se}))):(re.dirty&&ue(ce,re),re.subscribers.forEach(function(ge){return P.add(ge)})))}}}P.forEach(function(ge){return ge()})}}},w.addEventListener("abort",p(!1),{signal:b}),w.addEventListener("error",p(!1),{signal:b}),w.addEventListener("complete",p(!0),{signal:b})),w},table:function(c){var u=s.table(c),p=u.schema.primaryKey;return r(r({},u),{mutate:function(g){var b=be.trans;if(p.outbound||b.db._options.cache==="disabled"||b.explicit||b.idbtrans.mode!=="readwrite")return u.mutate(g);var w=sr["idb://".concat(i,"/").concat(c)];return w?(b=u.mutate(g),g.type!=="add"&&g.type!=="put"||!(50<=g.values.length||yi(p,g).some(function(A){return A==null}))?(w.optimisticOps.push(g),g.mutatedParts&&Hs(g.mutatedParts),b.then(function(A){0<A.numFailures&&(ue(w.optimisticOps,g),(A=oc(0,g,A))&&w.optimisticOps.push(A),g.mutatedParts&&Hs(g.mutatedParts))}),b.catch(function(){ue(w.optimisticOps,g),g.mutatedParts&&Hs(g.mutatedParts)})):b.then(function(A){var P=oc(0,r(r({},g),{values:g.values.map(function(R,k){var T;return A.failures[k]?R:(R=(T=p.keyPath)!==null&&T!==void 0&&T.includes(".")?rt(R):r({},R),Ce(R,p.keyPath,A.results[k]),R)})}),A);w.optimisticOps.push(P),queueMicrotask(function(){return g.mutatedParts&&Hs(g.mutatedParts)})}),b):u.mutate(g)},query:function(g){if(!rc(be,u)||!sc("query",g))return u.query(g);var b=((P=be.trans)===null||P===void 0?void 0:P.db._options.cache)==="immutable",k=be,w=k.requery,A=k.signal,P=(function(I,$,D,M){var q=sr["idb://".concat(I,"/").concat($)];if(!q)return[];if(!($=q.queries[D]))return[null,!1,q,null];var U=$[(M.query?M.query.index.name:null)||""];if(!U)return[null,!1,q,null];switch(D){case"query":var V=U.find(function(ne){return ne.req.limit===M.limit&&ne.req.values===M.values&&ac(ne.req.query.range,M.query.range)});return V?[V,!0,q,U]:[U.find(function(ne){return("limit"in ne.req?ne.req.limit:1/0)>=M.limit&&(!M.values||ne.req.values)&&kd(ne.req.query.range,M.query.range)}),!1,q,U];case"count":return V=U.find(function(ne){return ac(ne.req.query.range,M.query.range)}),[V,!!V,q,U]}})(i,c,"query",g),R=P[0],k=P[1],T=P[2],S=P[3];return R&&k?R.obsSet=g.obsSet:(k=u.query(g).then(function(I){var $=I.result;if(R&&(R.res=$),b){for(var D=0,M=$.length;D<M;++D)Object.freeze($[D]);Object.freeze($)}else I.result=rt($);return I}).catch(function(I){return S&&R&&ue(S,R),Promise.reject(I)}),R={obsSet:g.obsSet,promise:k,subscribers:new Set,type:"query",req:g,dirty:!1},S?S.push(R):(S=[R],(T=T||(sr["idb://".concat(i,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[g.query.index.name||""]=S)),Ed(R,S,w,A),R.promise.then(function(I){return{result:ic(I.result,g,T?.optimisticOps,u,R,b)}})}})}})}};function zs(s,i){return new Proxy(s,{get:function(c,u,p){return u==="db"?i:Reflect.get(c,u,p)}})}var An=(yt.prototype.version=function(s){if(isNaN(s)||s<.1)throw new H.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new H.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var i=this._versions,c=i.filter(function(u){return u._cfg.version===s})[0];return c||(c=new this.Version(s),i.push(c),i.sort(hd),c.stores({}),this._state.autoSchema=!1,c)},yt.prototype._whenReady=function(s){var i=this;return this.idbdb&&(this._state.openComplete||be.letThrough||this._vip)?s():new ye(function(c,u){if(i._state.openComplete)return u(new H.DatabaseClosed(i._state.dbOpenError));if(!i._state.isBeingOpened){if(!i._state.autoOpen)return void u(new H.DatabaseClosed);i.open().catch(_)}i._state.dbReadyPromise.then(c,u)}).then(s)},yt.prototype.use=function(s){var i=s.stack,c=s.create,u=s.level,p=s.name;return p&&this.unuse({stack:i,name:p}),s=this._middlewares[i]||(this._middlewares[i]=[]),s.push({stack:i,create:c,level:u??10,name:p}),s.sort(function(g,b){return g.level-b.level}),this},yt.prototype.unuse=function(s){var i=s.stack,c=s.name,u=s.create;return i&&this._middlewares[i]&&(this._middlewares[i]=this._middlewares[i].filter(function(p){return u?p.create!==u:!!c&&p.name!==c})),this},yt.prototype.open=function(){var s=this;return tr(ft,function(){return vd(s)})},yt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,i=Cr.indexOf(this);if(0<=i&&Cr.splice(i,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new ye(function(c){s.dbReadyResolve=c}),s.openCanceller=new ye(function(c,u){s.cancelOpen=u}))},yt.prototype.close=function(c){var i=(c===void 0?{disableAutoOpen:!0}:c).disableAutoOpen,c=this._state;i?(c.isBeingOpened&&c.cancelOpen(new H.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new H.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},yt.prototype.delete=function(s){var i=this;s===void 0&&(s={disableAutoOpen:!0});var c=0<arguments.length&&typeof arguments[0]!="object",u=this._state;return new ye(function(p,g){function b(){i.close(s);var w=i._deps.indexedDB.deleteDatabase(i.name);w.onsuccess=lt(function(){var A,P,R;A=i._deps,P=i.name,R=A.indexedDB,A=A.IDBKeyRange,ai(R)||P===Ds||ii(R,A).delete(P).catch(_),p()}),w.onerror=dn(g),w.onblocked=i._fireOnBlocked}if(c)throw new H.InvalidArgument("Invalid closeOptions argument to db.delete()");u.isBeingOpened?u.dbReadyPromise.then(b):b()})},yt.prototype.backendDB=function(){return this.idbdb},yt.prototype.isOpen=function(){return this.idbdb!==null},yt.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},yt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},yt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(yt.prototype,"tables",{get:function(){var s=this;return l(this._allTables).map(function(i){return s._allTables[i]})},enumerable:!1,configurable:!0}),yt.prototype.transaction=function(){var s=(function(i,c,u){var p=arguments.length;if(p<2)throw new H.InvalidArgument("Too few arguments");for(var g=new Array(p-1);--p;)g[p-1]=arguments[p];return u=g.pop(),[i,je(g),u]}).apply(this,arguments);return this._transaction.apply(this,s)},yt.prototype._transaction=function(s,i,c){var u=this,p=be.trans;p&&p.db===this&&s.indexOf("!")===-1||(p=null);var g,b,w=s.indexOf("?")!==-1;s=s.replace("!","").replace("?","");try{if(b=i.map(function(P){if(P=P instanceof u.Table?P.name:P,typeof P!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return P}),s=="r"||s===Yo)g=Yo;else{if(s!="rw"&&s!=Go)throw new H.InvalidArgument("Invalid transaction mode: "+s);g=Go}if(p){if(p.mode===Yo&&g===Go){if(!w)throw new H.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");p=null}p&&b.forEach(function(P){if(p&&p.storeNames.indexOf(P)===-1){if(!w)throw new H.SubTransaction("Table "+P+" not included in parent transaction.");p=null}}),w&&p&&!p.active&&(p=null)}}catch(P){return p?p._promise(null,function(R,k){k(P)}):mt(P)}var A=(function P(R,k,T,S,I){return ye.resolve().then(function(){var $=be.transless||be,D=R._createTransaction(k,T,R._dbSchema,S);if(D.explicit=!0,$={trans:D,transless:$},S)D.idbtrans=S.idbtrans;else try{D.create(),D.idbtrans._explicit=!0,R._state.PR1398_maxLoop=3}catch(U){return U.name===Y.InvalidState&&R.isOpen()&&0<--R._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),R.close({disableAutoOpen:!1}),R.open().then(function(){return P(R,k,T,null,I)})):mt(U)}var M,q=vt(I);return q&&wr(),$=ye.follow(function(){var U;(M=I.call(D,D))&&(q?(U=jn.bind(null,null),M.then(U,U)):typeof M.next=="function"&&typeof M.throw=="function"&&(M=hi(M)))},$),(M&&typeof M.then=="function"?ye.resolve(M).then(function(U){return D.active?U:mt(new H.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):$.then(function(){return M})).then(function(U){return S&&D._resolve(),D._completion.then(function(){return U})}).catch(function(U){return D._reject(U),mt(U)})})}).bind(null,this,g,b,p,c);return p?p._promise(g,A,"lock"):be.trans?tr(be.transless,function(){return u._whenReady(A)}):this._whenReady(A)},yt.prototype.table=function(s){if(!y(this._allTables,s))throw new H.InvalidTable("Table ".concat(s," does not exist"));return this._allTables[s]},yt);function yt(s,i){var c=this;this._middlewares={},this.verno=0;var u=yt.dependencies;this._options=i=r({addons:yt.addons,autoOpen:!0,indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange,cache:"cloned"},i),this._deps={indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},u=i.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var p,g,b,w,A,P={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:_,dbReadyPromise:null,cancelOpen:_,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:i.autoOpen};P.dbReadyPromise=new ye(function(k){P.dbReadyResolve=k}),P.openCanceller=new ye(function(k,T){P.cancelOpen=T}),this._state=P,this.name=s,this.on=Vr(this,"populate","blocked","versionchange","close",{ready:[ae,_]}),this.once=function(k,T){var S=function(){for(var I=[],$=0;$<arguments.length;$++)I[$]=arguments[$];c.on(k).unsubscribe(S),T.apply(c,I)};return c.on(k,S)},this.on.ready.subscribe=K(this.on.ready.subscribe,function(k){return function(T,S){yt.vip(function(){var I,$=c._state;$.openComplete?($.dbOpenError||ye.resolve().then(T),S&&k(T)):$.onReadyBeingFired?($.onReadyBeingFired.push(T),S&&k(T)):(k(T),I=c,S||k(function D(){I.on.ready.unsubscribe(T),I.on.ready.unsubscribe(D)}))})}}),this.Collection=(p=this,Hr(ad.prototype,function(M,D){this.db=p;var S=Fa,I=null;if(D)try{S=D()}catch(q){I=q}var $=M._ctx,D=$.table,M=D.hook.reading.fire;this._ctx={table:D,index:$.index,isPrimKey:!$.index||D.schema.primKey.keyPath&&$.index===D.schema.primKey.name,range:S,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:I,or:$.or,valueMapper:M!==x?M:null}})),this.Table=(g=this,Hr(qa.prototype,function(k,T,S){this.db=g,this._tx=S,this.name=k,this.schema=T,this.hook=g._allTables[k]?g._allTables[k].hook:Vr(null,{creating:[Z,_],reading:[B,x],updating:[pe,_],deleting:[G,_]})})),this.Transaction=(b=this,Hr(ud.prototype,function(k,T,S,I,$){var D=this;k!=="readonly"&&T.forEach(function(M){M=(M=S[M])===null||M===void 0?void 0:M.yProps,M&&(T=T.concat(M.map(function(q){return q.updatesTable})))}),this.db=b,this.mode=k,this.storeNames=T,this.schema=S,this.chromeTransactionDurability=I,this.idbtrans=null,this.on=Vr(this,"complete","error","abort"),this.parent=$||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ye(function(M,q){D._resolve=M,D._reject=q}),this._completion.then(function(){D.active=!1,D.on.complete.fire()},function(M){var q=D.active;return D.active=!1,D.on.error.fire(M),D.parent?D.parent._reject(M):q&&D.idbtrans&&D.idbtrans.abort(),mt(M)})})),this.Version=(w=this,Hr(gd.prototype,function(k){this.db=w,this._cfg={version:k,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(A=this,Hr(za.prototype,function(k,T,S){if(this.db=A,this._ctx={table:k,index:T===":id"?null:T,or:S},this._cmp=this._ascending=Le,this._descending=function(I,$){return Le($,I)},this._max=function(I,$){return 0<Le(I,$)?I:$},this._min=function(I,$){return Le(I,$)<0?I:$},this._IDBKeyRange=A._deps.IDBKeyRange,!this._IDBKeyRange)throw new H.MissingAPI})),this.on("versionchange",function(k){0<k.newVersion?console.warn("Another connection wants to upgrade database '".concat(c.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(c.name,"'. Closing db now to resume the delete request.")),c.close({disableAutoOpen:!1})}),this.on("blocked",function(k){!k.newVersion||k.newVersion<k.oldVersion?console.warn("Dexie.delete('".concat(c.name,"') was blocked")):console.warn("Upgrade '".concat(c.name,"' blocked by other connection holding version ").concat(k.oldVersion/10))}),this._maxKey=Yr(i.IDBKeyRange),this._createTransaction=function(k,T,S,I){return new c.Transaction(k,T,S,c._options.chromeTransactionDurability,I)},this._fireOnBlocked=function(k){c.on("blocked").fire(k),Cr.filter(function(T){return T.name===c.name&&T!==c&&!T._state.vcFired}).map(function(T){return T.on("versionchange").fire(k)})},this.use(wd),this.use(xd),this.use(Cd),this.use(bd),this.use(_d);var R=new Proxy(this,{get:function(k,T,S){if(T==="_vip")return!0;if(T==="table")return function($){return zs(c.table($),R)};var I=Reflect.get(k,T,S);return I instanceof qa?zs(I,R):T==="tables"?I.map(function($){return zs($,R)}):T==="_createTransaction"?function(){return zs(I.apply(this,arguments),R)}:I}});this.vip=R,u.forEach(function(k){return k(c)})}var Qs,Xt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ad=(vi.prototype.subscribe=function(s,i,c){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:i,complete:c})},vi.prototype[Xt]=function(){return this},vi);function vi(s){this._subscribe=s}try{Qs={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Qs={indexedDB:null,IDBKeyRange:null}}function cc(s){var i,c=!1,u=new Ad(function(p){var g=vt(s),b,w=!1,A={},P={},R={get closed(){return w},unsubscribe:function(){w||(w=!0,b&&b.abort(),k&&Kn.storagemutated.unsubscribe(S))}};p.start&&p.start(R);var k=!1,T=function(){return Qo(I)},S=function($){Vs(A,$),ui(P,A)&&T()},I=function(){var $,D,M;!w&&Qs.indexedDB&&(A={},$={},b&&b.abort(),b=new AbortController,M=(function(q){var U=br();try{g&&wr();var V=Nn(s,q);return V=g?V.finally(jn):V}finally{U&&_r()}})(D={subscr:$,signal:b.signal,requery:T,querier:s,trans:null}),Promise.resolve(M).then(function(q){c=!0,i=q,w||D.signal.aborted||(A={},(function(U){for(var V in U)if(y(U,V))return;return 1})(P=$)||k||(Kn(Qr,S),k=!0),Qo(function(){return!w&&p.next&&p.next(q)}))},function(q){c=!1,["DatabaseClosedError","AbortError"].includes(q?.name)||w||Qo(function(){w||p.error&&p.error(q)})}))};return setTimeout(T,0),R});return u.hasValue=function(){return c},u.getValue=function(){return i},u}var or=An;function bi(s){var i=Un;try{Un=!0,Kn.storagemutated.fire(s),pi(s,!0)}finally{Un=i}}v(or,r(r({},ze),{delete:function(s){return new or(s,{addons:[]}).delete()},exists:function(s){return new or(s,{addons:[]}).open().then(function(i){return i.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return i=or.dependencies,c=i.indexedDB,i=i.IDBKeyRange,(ai(c)?Promise.resolve(c.databases()).then(function(u){return u.map(function(p){return p.name}).filter(function(p){return p!==Ds})}):ii(c,i).toCollection().primaryKeys()).then(s)}catch{return mt(new H.MissingAPI)}var i,c},defineClass:function(){return function(s){f(this,s)}},ignoreTransaction:function(s){return be.trans?tr(be.transless,s):s()},vip:ci,async:function(s){return function(){try{var i=hi(s.apply(this,arguments));return i&&typeof i.then=="function"?i:ye.resolve(i)}catch(c){return mt(c)}}},spawn:function(s,i,c){try{var u=hi(s.apply(c,i||[]));return u&&typeof u.then=="function"?u:ye.resolve(u)}catch(p){return mt(p)}},currentTransaction:{get:function(){return be.trans||null}},waitFor:function(s,i){return i=ye.resolve(typeof s=="function"?or.ignoreTransaction(s):s).timeout(i||6e4),be.trans?be.trans.waitFor(i):i},Promise:ye,debug:{get:function(){return ee},set:function(s){Ie(s)}},derive:N,extend:f,props:v,override:K,Events:Vr,on:Kn,liveQuery:cc,extendObservabilitySet:Vs,getByKeyPath:ve,setByKeyPath:Ce,delByKeyPath:function(s,i){typeof i=="string"?Ce(s,i,void 0):"length"in i&&[].map.call(i,function(c){Ce(s,c,void 0)})},shallowClone:Se,deepClone:rt,getObjectDiff:mi,cmp:Le,asap:we,minKey:-1/0,addons:[],connections:Cr,errnames:Y,dependencies:Qs,cache:sr,semVer:"4.2.0",version:"4.2.0".split(".").map(function(s){return parseInt(s)}).reduce(function(s,i,c){return s+i/Math.pow(10,2*c)})})),or.maxKey=Yr(or.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Kn(Qr,function(s){Un||(s=new CustomEvent(Zo,{detail:s}),Un=!0,dispatchEvent(s),Un=!1)}),addEventListener(Zo,function(s){s=s.detail,Un||bi(s)}));var Ar,Un=!1,lc=function(){};return typeof BroadcastChannel<"u"&&((lc=function(){(Ar=new BroadcastChannel(Zo)).onmessage=function(s){return s.data&&bi(s.data)}})(),typeof Ar.unref=="function"&&Ar.unref(),Kn(Qr,function(s){Un||Ar.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!An.disableBfCache&&s.persisted){ee&&console.debug("Dexie: handling persisted pagehide"),Ar?.close();for(var i=0,c=Cr;i<c.length;i++)c[i].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!An.disableBfCache&&s.persisted&&(ee&&console.debug("Dexie: handling persisted pageshow"),lc(),bi({all:new Ot(-1/0,[[]])}))})),ye.rejectionMapper=function(s,i){return!s||s instanceof At||s instanceof TypeError||s instanceof SyntaxError||!s.name||!ke[s.name]?s:(i=new ke[s.name](i||s.message,s),"stack"in s&&O(i,"stack",{get:function(){return this.inner.stack}}),i)},Ie(ee),r(An,Object.freeze({__proto__:null,Dexie:An,liveQuery:cc,Entity:Na,cmp:Le,PropModification:Wr,replacePrefix:function(s,i){return new Wr({replacePrefix:[s,i]})},add:function(s){return new Wr({add:s})},remove:function(s){return new Wr({remove:s})},default:An,RangeSet:Ot,mergeRanges:Xr,rangesOverlap:Xa}),{default:An}),An})})(fo)),fo.exports}var Em=km();const ta=wm(Em),ul=Symbol.for("Dexie"),Eo=globalThis[ul]||(globalThis[ul]=ta);if(ta.semVer!==Eo.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ta.semVer} and ${Eo.semVer}`);const{liveQuery:T_,mergeRanges:M_,rangesOverlap:B_,RangeSet:F_,cmp:N_,Entity:j_,PropModification:L_,replacePrefix:q_,add:K_,remove:U_,DexieYProvider:V_}=Eo;class xm extends Eo{cards;card_lots;holdings;transactions;scans;decks;deck_cards;price_points;valuations;settings;scan_sale_links;constructor(){super("MtgTrackerDb"),this.version(1).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish",holdings:"id, cardId, acquisitionId, source, createdAt",transactions:"id, kind, cardId, source, externalRef, happenedAt",scans:"id, cardFingerprint, cardId, source, scannedAt",decks:"id, platform, name, importedAt",deck_cards:"[deckId+cardId], deckId, cardId",price_points:"id, cardId, provider, asOf",valuations:"id, asOf",settings:"k"}),this.version(2).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish, createdAt, updatedAt",holdings:"id, cardId, acquisitionId, source, createdAt, updatedAt",transactions:"id, kind, cardId, source, externalRef, happenedAt, createdAt, updatedAt",scans:"id, cardFingerprint, cardId, source, scannedAt, createdAt, updatedAt",decks:"id, platform, name, importedAt, createdAt, updatedAt",deck_cards:"[deckId+cardId], deckId, cardId, createdAt",price_points:"id, cardId, provider, asOf, createdAt",valuations:"id, asOf, createdAt",settings:"k, createdAt, updatedAt",scan_sale_links:"id, scanId, transactionId, matchedAt, createdAt"}).upgrade(async t=>{const n=new Date;await t.table("cards").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n}),await t.table("holdings").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n}),await t.table("transactions").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n}),await t.table("scans").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n}),await t.table("decks").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n}),await t.table("deck_cards").toCollection().modify(r=>{r.createdAt=r.createdAt||n}),await t.table("price_points").toCollection().modify(r=>{r.createdAt=r.createdAt||n}),await t.table("valuations").toCollection().modify(r=>{r.createdAt=r.createdAt||n}),await t.table("settings").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n})}),this.version(3).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish, createdAt, updatedAt",holdings:"id, cardId, acquisitionId, source, createdAt, updatedAt",transactions:"id, kind, cardId, source, externalRef, happenedAt, createdAt, updatedAt",scans:"id, cardFingerprint, cardId, source, scannedAt, createdAt, updatedAt",decks:"id, platform, name, importedAt, createdAt, updatedAt",deck_cards:"[deckId+cardId], deckId, cardId, createdAt",price_points:"id, cardId, provider, currency, asOf, createdAt, [cardId+asOf], [provider+asOf]",valuations:"id, asOf, createdAt, [asOf+createdAt]",settings:"k, createdAt, updatedAt",scan_sale_links:"id, scanId, transactionId, matchedAt, createdAt"}),this.version(4).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish, createdAt, updatedAt",card_lots:"id, cardId, acquisitionId, source, purchasedAt, disposedAt, createdAt, updatedAt, [cardId+purchasedAt], [acquisitionId+cardId]",holdings:"id, cardId, acquisitionId, source, createdAt, updatedAt",transactions:"id, kind, cardId, lotId, source, externalRef, happenedAt, relatedTransactionId, createdAt, updatedAt, [lotId+kind]",scans:"id, cardFingerprint, cardId, lotId, source, scannedAt, boosterPackId, createdAt, updatedAt, [lotId+scannedAt]",decks:"id, platform, name, importedAt, createdAt, updatedAt",deck_cards:"id, deckId, cardId, lotId, addedAt, removedAt, createdAt, [deckId+cardId], [lotId+addedAt]",price_points:"id, cardId, provider, currency, asOf, source, createdAt, [cardId+asOf], [provider+asOf]",valuations:"id, asOf, createdAt, [asOf+createdAt]",settings:"k, createdAt, updatedAt",scan_sale_links:"id, scanId, transactionId, quantity, matchedAt, createdAt"}).upgrade(async t=>{const n=new Date;await t.table("deck_cards").toCollection().modify(r=>{try{r.id||(r.id=`deckcard-${Date.now()}-${Math.random().toString(36).substr(2,9)}`),r.addedAt||(r.addedAt=r.createdAt||n),r.role||(r.role="main"),(!r.cardId||r.cardId==="")&&(r.cardId="unknown-card"),r.deckId||(r.deckId="unknown-deck"),typeof r.quantity!="number"&&(r.quantity=1),r.createdAt||(r.createdAt=n)}catch(o){console.error("Error upgrading deck card:",o,r);return}})})}}const Ee=new xm,gn={async add(e){return await Ee.cards.add(e)},async getById(e){return await Ee.cards.get(e)},async getAll(){return await Ee.cards.toArray()},async update(e,t){return await Ee.cards.update(e,t)},async delete(e){await Ee.cards.delete(e)}},$t={async add(e){return await Ee.card_lots.add(e)},async getById(e){return await Ee.card_lots.get(e)},async getAll(){return await Ee.card_lots.toArray()},async getByCardId(e){return await Ee.card_lots.where("cardId").equals(e).toArray()},async getActiveLotsByCardId(e){return await Ee.card_lots.where("cardId").equals(e).and(t=>!t.disposedAt).toArray()},async update(e,t){return await Ee.card_lots.update(e,t)},async delete(e){await Ee.card_lots.delete(e)}},eo={async add(e){return await Ee.holdings.add(e)},async getById(e){return await Ee.holdings.get(e)},async getAll(){return await Ee.holdings.toArray()},async getByCardId(e){return await Ee.holdings.where("cardId").equals(e).toArray()},async update(e,t){return await Ee.holdings.update(e,t)},async delete(e){await Ee.holdings.delete(e)}},yn={async add(e){return await Ee.transactions.add(e)},async getById(e){return await Ee.transactions.get(e)},async getAll(){return await Ee.transactions.toArray()},async getByCardId(e){return await Ee.transactions.where("cardId").equals(e).toArray()},async getByLotId(e){return await Ee.transactions.where("lotId").equals(e).toArray()},async getByKind(e){return await Ee.transactions.where("kind").equals(e).toArray()},async getBuyTransactionsByCardId(e){return await Ee.transactions.where("cardId").equals(e).and(t=>t.kind==="BUY").toArray()},async getSellTransactionsByCardId(e){return await Ee.transactions.where("cardId").equals(e).and(t=>t.kind==="SELL").toArray()},async update(e,t){return await Ee.transactions.update(e,t)},async delete(e){await Ee.transactions.delete(e)}},na={async add(e){return await Ee.price_points.add(e)},async getById(e){return await Ee.price_points.get(e)},async getByCardId(e){return await Ee.price_points.where("cardId").equals(e).toArray()},async update(e,t){return await Ee.price_points.update(e,t)},async delete(e){await Ee.price_points.delete(e)}};class Ze{cents;currency;constructor(t,n="EUR"){this.cents=Math.round(t),this.currency=n}static parse(t,n="EUR"){if(typeof t=="number")return new Ze(t*100,n);const r=t.replace(/[€$£\s]/g,"").replace(",","."),o=parseFloat(r);return new Ze(isNaN(o)?0:o*100,n)}getCents(){return this.cents}getDecimal(){return this.cents/100}getCurrency(){return this.currency}add(t){if(this.currency!==t.currency)throw new Error("Cannot add Money values with different currencies");return new Ze(this.cents+t.cents,this.currency)}subtract(t){if(this.currency!==t.currency)throw new Error("Cannot subtract Money values with different currencies");return new Ze(this.cents-t.cents,this.currency)}multiply(t){return new Ze(this.cents*t,this.currency)}divide(t){return new Ze(this.cents/t,this.currency)}format(t="de-DE"){return new Intl.NumberFormat(t,{style:"currency",currency:this.currency,minimumFractionDigits:2,maximumFractionDigits:2}).format(this.getDecimal())}isZero(){return this.cents===0}isPositive(){return this.cents>0}isNegative(){return this.cents<0}}const Pa=Sa("cards",{state:()=>({cards:{},cardPrices:{},loading:!1,loadingPrices:!1,error:null}),getters:{getCardById:e=>t=>e.cards[t],getAllCards:e=>Object.values(e.cards),getCardsBySet:e=>t=>Object.values(e.cards).filter(n=>n.setCode===t),getCardPrice:e=>t=>e.cardPrices[t]||null},actions:{async loadCards(){this.loading=!0,this.error=null;try{const e=await gn.getAll();this.cards=e.reduce((t,n)=>(t[n.id]=n,t),{})}catch(e){this.error=e instanceof Error?e.message:"Failed to load cards",console.error("Error loading cards:",e)}finally{this.loading=!1}},async loadCardPrices(){this.loadingPrices=!0,this.error=null;try{const e=await Ee.price_points.toArray(),t={},n={};e.forEach(r=>{n[r.cardId]||(n[r.cardId]=[]),n[r.cardId].push(r)}),Object.keys(n).forEach(r=>{const o=n[r];if(o.length>0){o.sort((l,d)=>d.asOf.getTime()-l.asOf.getTime());const a=o[0];t[r]=new Ze(a.price,a.currency)}}),this.cardPrices=t}catch(e){this.error=e instanceof Error?e.message:"Failed to load card prices",console.error("Error loading card prices:",e)}finally{this.loadingPrices=!1}},async loadCardsAndPrices(){await Promise.all([this.loadCards(),this.loadCardPrices()])},async addCard(e){try{await gn.add(e),this.cards[e.id]=e}catch(t){throw this.error=t instanceof Error?t.message:"Failed to add card",console.error("Error adding card:",t),t}},async updateCard(e,t){try{await gn.update(e,t),this.cards[e]&&(this.cards[e]={...this.cards[e],...t})}catch(n){throw this.error=n instanceof Error?n.message:"Failed to update card",console.error("Error updating card:",n),n}},async removeCard(e){try{await gn.delete(e),delete this.cards[e],delete this.cardPrices[e]}catch(t){throw this.error=t instanceof Error?t.message:"Failed to remove card",console.error("Error removing card:",t),t}}}}),Am=Sa("holdings",{state:()=>({holdings:{},loading:!1,error:null}),getters:{getHoldingById:e=>t=>e.holdings[t],getAllHoldings:e=>Object.values(e.holdings),getHoldingsByCardId:e=>t=>Object.values(e.holdings).filter(n=>n.cardId===t),getTotalQuantityByCardId:e=>t=>Object.values(e.holdings).filter(n=>n.cardId===t).reduce((n,r)=>n+r.quantity,0)},actions:{async loadHoldings(){this.loading=!0,this.error=null;try{const e=await eo.getAll();this.holdings=e.reduce((t,n)=>(t[n.id]=n,t),{})}catch(e){this.error=e instanceof Error?e.message:"Failed to load holdings",console.error("Error loading holdings:",e)}finally{this.loading=!1}},async addHolding(e){try{await eo.add(e),this.holdings[e.id]=e}catch(t){throw this.error=t instanceof Error?t.message:"Failed to add holding",console.error("Error adding holding:",t),t}},async updateHolding(e,t){try{await eo.update(e,t),this.holdings[e]&&(this.holdings[e]={...this.holdings[e],...t})}catch(n){throw this.error=n instanceof Error?n.message:"Failed to update holding",console.error("Error updating holding:",n),n}},async removeHolding(e){try{await eo.delete(e),delete this.holdings[e]}catch(t){throw this.error=t instanceof Error?t.message:"Failed to remove holding",console.error("Error removing holding:",t),t}}}}),Sm=Sa("transactions",{state:()=>({transactions:{},loading:!1,error:null}),getters:{getTransactionById:e=>t=>e.transactions[t],getAllTransactions:e=>Object.values(e.transactions),getTransactionsByCardId:e=>t=>Object.values(e.transactions).filter(n=>n.cardId===t),getTransactionsByKind:e=>t=>Object.values(e.transactions).filter(n=>n.kind===t),getTotalValueByKind:e=>t=>Object.values(e.transactions).filter(n=>n.kind===t).reduce((n,r)=>{const o=r.unitPrice*r.quantity,a=r.fees||0,l=r.shipping||0;return t==="BUY"?n+o+a+l:n+o-a-l},0)},actions:{async loadTransactions(){this.loading=!0,this.error=null;try{const e=await yn.getAll();this.transactions=e.reduce((t,n)=>(t[n.id]=n,t),{})}catch(e){this.error=e instanceof Error?e.message:"Failed to load transactions",console.error("Error loading transactions:",e)}finally{this.loading=!1}},async addTransaction(e){try{await yn.add(e),this.transactions[e.id]=e}catch(t){throw this.error=t instanceof Error?t.message:"Failed to add transaction",console.error("Error adding transaction:",t),t}},async updateTransaction(e,t){try{await yn.update(e,t),this.transactions[e]&&(this.transactions[e]={...this.transactions[e],...t})}catch(n){throw this.error=n instanceof Error?n.message:"Failed to update transaction",console.error("Error updating transaction:",n),n}},async removeTransaction(e){try{await yn.delete(e),delete this.transactions[e]}catch(t){throw this.error=t instanceof Error?t.message:"Failed to remove transaction",console.error("Error removing transaction:",t),t}}}});class to{static async calculateLotValue(t){if(t.cardId){const n=await na.getByCardId(t.cardId);if(n.length>0){n.sort((l,d)=>d.asOf.getTime()-l.asOf.getTime());const r=n[0],o=new Ze(r.price,r.currency),a=t.disposedQuantity?t.quantity-t.disposedQuantity:t.quantity;return o.multiply(a)}}return new Ze(0,"EUR")}static async calculateLotCostBasis(t){return new Ze(t.unitCost,t.currency||"EUR").multiply(t.quantity)}static async calculateRealizedPnL(){const t=await yn.getByKind("SELL");let n=new Ze(0,"EUR");for(const r of t){const o=new Ze(r.unitPrice,r.currency).multiply(r.quantity);let a=new Ze(0,"EUR");if(r.lotId){const m=await $t.getById(r.lotId);m&&(a=new Ze(m.unitCost,m.currency||"EUR").multiply(r.quantity))}else r.cardId&&(a=await this.calculateFIFOCostForCard(r.cardId,r.quantity));const l=new Ze(r.fees,r.currency),d=new Ze(r.shipping,r.currency),f=o.subtract(a).subtract(l).subtract(d);n=n.add(f)}return n}static async calculateFIFOCostForCard(t,n){const o=(await $t.getByCardId(t)).filter(d=>!d.disposedAt||d.disposedQuantity&&d.disposedQuantity<d.quantity).sort((d,f)=>d.purchasedAt.getTime()-f.purchasedAt.getTime());let a=n,l=new Ze(0,"EUR");for(const d of o){if(a<=0)break;const f=d.disposedQuantity?d.quantity-d.disposedQuantity:d.quantity,m=Math.min(a,f),y=new Ze(d.unitCost,d.currency||"EUR").multiply(m);l=l.add(y),a-=m}return l}static async calculatePortfolioValue(){const t=await $t.getAll();let n=new Ze(0,"EUR");for(const r of t)if(!r.disposedAt||r.disposedQuantity&&r.disposedQuantity<r.quantity){const o=await this.calculateLotValue(r);n=n.add(o)}return n}static async calculateTotalCostBasis(){const t=await $t.getAll();let n=new Ze(0,"EUR");for(const r of t)if(!r.disposedAt||r.disposedQuantity&&r.disposedQuantity<r.quantity){const o=await this.calculateLotCostBasis(r);n=n.add(o)}return n}static async calculateUnrealizedPnL(){const t=await this.calculatePortfolioValue(),n=await this.calculateTotalCostBasis();return t.subtract(n)}static async getActiveLots(){return(await $t.getAll()).filter(n=>!n.disposedAt||n.disposedQuantity&&n.disposedQuantity<n.quantity)}static async getOwnedQuantity(t){const n=await $t.getByCardId(t);let r=0;for(const o of n)o.disposedAt?o.disposedQuantity&&o.disposedQuantity<o.quantity&&(r+=o.quantity-o.disposedQuantity):r+=o.quantity;return r}}class nn{static BASE_URL="https://api.scryfall.com";static lastRequestTime=0;static RATE_LIMIT_DELAY=100;static async enforceRateLimit(){const n=Date.now()-this.lastRequestTime;if(n<this.RATE_LIMIT_DELAY){const r=this.RATE_LIMIT_DELAY-n;await new Promise(o=>setTimeout(o,r))}this.lastRequestTime=Date.now()}static async getPriceById(t){try{await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/${t}`);if(!n.ok)return null;const o=(await n.json()).prices?.eur;return o?Ze.parse(o,"EUR"):null}catch(n){return console.error("Error fetching price from Scryfall:",n),null}}static async getPriceBySetAndNumber(t,n){try{await this.enforceRateLimit();const r=await fetch(`${this.BASE_URL}/cards/${t}/${n}`);if(!r.ok)return null;const a=(await r.json()).prices?.eur;return a?Ze.parse(a,"EUR"):null}catch(r){return console.error("Error fetching price from Scryfall:",r),null}}static async getImageUrlById(t){try{await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/${t}`);if(!n.ok)return null;const r=await n.json();return r.image_uris?.normal||r.image_uris?.large||r.image_uris?.small||null}catch(n){return console.error("Error fetching image from Scryfall:",n),null}}static async getImageUrlBySetAndNumber(t,n){try{await this.enforceRateLimit();const r=await fetch(`${this.BASE_URL}/cards/${t}/${n}`);if(!r.ok)return null;const o=await r.json();return o.image_uris?.normal||o.image_uris?.large||o.image_uris?.small||null}catch(r){return console.error("Error fetching image from Scryfall:",r),null}}static async getByCardmarketId(t){try{await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/cardmarket/${t}`);if(!n.ok){console.error(`Scryfall API error for cardmarket_id ${t}: ${n.status} ${n.statusText}`);try{const r=await n.text();console.error(`Scryfall API error details: ${r}`)}catch{console.error("Could not read error response body")}return null}return await n.json()}catch(n){return console.error("Error fetching card by Cardmarket ID from Scryfall:",n),null}}static async getByCardmarketIds(t){try{if(!t||t.length===0)return[];if(t.length===1){const o=await this.getByCardmarketId(t[0]);return o?[o]:[]}await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/collection`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifiers:t.map(o=>({cardmarket_id:o}))})});if(!n.ok){console.error(`Scryfall API error for batch cardmarket_ids: ${n.status} ${n.statusText}`);try{const o=await n.text();console.error(`Scryfall API error details: ${o}`)}catch{console.error("Could not read error response body")}return await this.getByCardmarketIdsIndividually(t)}return(await n.json()).data||[]}catch(n){return console.error("Error fetching cards by Cardmarket IDs from Scryfall:",n),await this.getByCardmarketIdsIndividually(t)}}static async getByCardmarketIdsIndividually(t){const n=[];for(const r of t){const o=await this.getByCardmarketId(r);o&&n.push(o)}return n}static async hydrateCard(t){try{if(t.scryfall_id){await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/${t.scryfall_id}`);if(n.ok)return await n.json()}if(t.setCode&&t.collectorNumber){await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/${t.setCode}/${t.collectorNumber}`);if(n.ok)return await n.json()}if(t.name&&t.setCode){await this.enforceRateLimit();let n=await fetch(`${this.BASE_URL}/cards/named?exact=${encodeURIComponent(t.name)}&set=${encodeURIComponent(t.setCode)}`);if(n.ok)return await n.json();if(t.version&&(await this.enforceRateLimit(),n=await fetch(`${this.BASE_URL}/cards/named?exact=${encodeURIComponent(t.name)}&set=${encodeURIComponent(t.setCode)}&include_variations=true`),n.ok))return await n.json();if(await this.enforceRateLimit(),n=await fetch(`${this.BASE_URL}/cards/named?fuzzy=${encodeURIComponent(t.name)}&set=${encodeURIComponent(t.setCode)}`),n.ok)return await n.json()}return null}catch(n){return console.error("Error hydrating card with Scryfall data:",n),null}}}class $i{static async syncPrices(){try{const t=new Date,n=await gn.getAll();for(const r of n)try{const o=await nn.getPriceById(r.id);if(o){const a=t.toISOString().split("T")[0],d={id:`${r.id}:scryfall:${a}`,cardId:r.id,provider:"scryfall",currency:o.getCurrency(),price:o.getCents(),asOf:t,createdAt:t};await Ee.price_points.put(d)}}catch(o){console.error(`Error syncing price for card ${r.id}:`,o)}}catch(t){throw console.error("Error syncing prices:",t),t}}static async syncPriceForCard(t){try{const n=new Date,r=await gn.getById(t);if(!r){console.warn(`Card with ID ${t} not found`);return}const o=await nn.getPriceById(r.id);if(o){const a=n.toISOString().split("T")[0],d={id:`${r.id}:scryfall:${a}`,cardId:r.id,provider:"scryfall",currency:o.getCurrency(),price:o.getCents(),asOf:n,createdAt:n};await Ee.price_points.put(d)}}catch(n){throw console.error(`Error syncing price for card ${t}:`,n),n}}static async needsPriceUpdate(){try{const t=await Ee.price_points.orderBy("asOf").last();if(!t)return!0;const n=new Date,r=new Date(t.asOf);return(n.getTime()-r.getTime())/(1e3*60*60)>=24}catch(t){return console.error("Error checking if price update is needed:",t),!0}}static async needsPriceUpdateForCard(t){try{const n=await na.getByCardId(t);if(n.length===0)return!0;n.sort((d,f)=>f.asOf.getTime()-d.asOf.getTime());const r=n[0],o=new Date,a=new Date(r.asOf);return(o.getTime()-a.getTime())/(1e3*60*60)>=24}catch(n){return console.error(`Error checking if price update is needed for card ${t}:`,n),!0}}static async getLatestPriceForCard(t){try{const n=await na.getByCardId(t);if(n.length===0)return null;n.sort((o,a)=>a.asOf.getTime()-o.asOf.getTime());const r=n[0];return{price:r.price,asOf:r.asOf}}catch(n){return console.error(`Error getting latest price for card ${t}:`,n),null}}}const Pm={class:"home"},Om={class:"dashboard-stats row g-4"},Im={class:"col-lg-3 col-md-6"},Rm={class:"stat-card h-100"},Dm={class:"stat-value"},$m={class:"col-lg-3 col-md-6"},Tm={class:"stat-card h-100"},Mm={class:"stat-value"},Bm={class:"col-lg-3 col-md-6"},Fm={class:"stat-card h-100"},Nm={class:"col-lg-3 col-md-6"},jm={class:"stat-card h-100"},Lm=nt({__name:"HomeView",setup(e){const t=Pa(),n=Am(),r=Sm(),o=Oe("€0.00"),a=Oe("€0.00"),l=Oe("€0.00"),d=Oe("€0.00"),f=y=>y.format("de-DE"),m=async()=>{try{await t.loadCards(),await n.loadHoldings(),await r.loadTransactions();const y=await to.calculatePortfolioValue(),v=await to.calculateTotalCostBasis(),C=await to.calculateUnrealizedPnL(),O=await to.calculateRealizedPnL();o.value=f(y),a.value=f(v),l.value=f(C),d.value=f(O)}catch(y){console.error("Error loading dashboard data:",y)}},h=async()=>{try{await $i.syncPrices(),await m(),alert("Prices refreshed successfully")}catch(y){console.error("Error refreshing prices:",y),alert("Failed to refresh prices: "+y.message)}};return yr(async()=>{if(await $i.needsPriceUpdate())try{await $i.syncPrices()}catch(v){console.error("Error updating prices on app start:",v)}await m()}),(y,v)=>(z(),te("div",Pm,[v[4]||(v[4]=E("h1",null,"MTG Collection Value Tracker",-1)),E("div",Om,[E("div",Im,[E("div",Rm,[v[0]||(v[0]=E("h2",null,"Portfolio Value",-1)),E("p",Dm,fe(o.value),1)])]),E("div",$m,[E("div",Tm,[v[1]||(v[1]=E("h2",null,"Total Cost",-1)),E("p",Mm,fe(a.value),1)])]),E("div",Bm,[E("div",Fm,[v[2]||(v[2]=E("h2",null,"Unrealized P/L",-1)),E("p",{class:Kt(["stat-value",parseFloat(l.value)>=0?"positive":"negative"])},fe(l.value),3)])]),E("div",Nm,[E("div",jm,[v[3]||(v[3]=E("h2",null,"Realized P/L",-1)),E("p",{class:Kt(["stat-value",parseFloat(d.value)>=0?"positive":"negative"])},fe(d.value),3)])])]),E("div",{class:"actions"},[E("button",{onClick:h,class:"btn btn-primary"},"Refresh Prices")])]))}}),qm=kn(Lm,[["__scopeId","data-v-b3c5c547"]]),Ut=e=>e.toLowerCase().normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"").replace(/[\s–—-]+/g," ").replace(/[:'"]/g,"").trim();function Nr(e){const t=new Map;for(const n of e)t.set(Ut(n.name),n);return{byName:t}}async function Km(e){const t=e.trim(),n=Ut(t),r=await dl(),a=(await Um()).get(n);if(a)return console.log(`Set code resolved from alias: ${t} -> ${a}`),a;const l=r.byName.get(n);if(l)return console.log(`Set code resolved from exact match: ${t} -> ${l.code}`),await Wt(n,l.code),l.code;if(/^commander:\s*/i.test(t)&&/: extras$/i.test(t)){const m=t.replace(/^commander:\s*/i,"").replace(/: extras$/i,"").trim(),h=r.byName.get(Ut(`${m} Commander`));if(h)return console.log(`Set code resolved from commander + extras nested: ${t} -> ${h.code}`),await Wt(n,h.code),h.code;const y=r.byName.get(Ut(m));if(y)return console.log(`Set code resolved from commander + extras nested (base): ${t} -> ${y.code}`),await Wt(n,y.code),y.code}if(/^commander:\s*/i.test(t)){const m=t.replace(/^commander:\s*/i,"").trim(),h=r.byName.get(Ut(`${m} Commander`));if(h)return console.log(`Set code resolved from commander rewrite (commander): ${t} -> ${h.code}`),await Wt(n,h.code),h.code;const y=r.byName.get(Ut(m));if(y)return console.log(`Set code resolved from commander rewrite (base): ${t} -> ${y.code}`),await Wt(n,y.code),y.code}if(/: extras$/i.test(t)){const m=Ut(t.replace(/: extras$/i,"")),h=r.byName.get(m);if(h)return console.log(`Set code resolved from extras suffix: ${t} -> ${h.code}`),await Wt(n,h.code),h.code}if(/^universes beyond:\s*/i.test(t)){const m=t.replace(/^universes beyond:\s*/i,"").trim();if(/: extras$/i.test(m)){const y=Ut(m.replace(/: extras$/i,"")),v=r.byName.get(y);if(v)return console.log(`Set code resolved from universes beyond + extras: ${t} -> ${v.code}`),await Wt(n,v.code),v.code}const h=r.byName.get(Ut(m));if(h)return console.log(`Set code resolved from universes beyond: ${t} -> ${h.code}`),await Wt(n,h.code),h.code}if(/^magic: the gathering -\s*/i.test(t)){const m=t.replace(/^magic: the gathering -\s*/i,"").trim();if(/: extras$/i.test(m)){const y=Ut(m.replace(/: extras$/i,"")),v=r.byName.get(y);if(v)return console.log(`Set code resolved from magic: the gathering - extras: ${t} -> ${v.code}`),await Wt(n,v.code),v.code}const h=r.byName.get(Ut(m));if(h)return console.log(`Set code resolved from magic: the gathering -: ${t} -> ${h.code}`),await Wt(n,h.code),h.code}if(/^secret lair drop series:/i.test(t)){const m=t.replace(/^secret lair drop series:/i,"").trim();if(/: extras$/i.test(m)){const y=Ut(m.replace(/: extras$/i,"")),v=r.byName.get(y);if(v)return console.log(`Set code resolved from secret lair drop series + extras: ${t} -> ${v.code}`),await Wt(n,v.code),v.code}const h=r.byName.get(Ut(m));if(h)return console.log(`Set code resolved from secret lair drop series: ${t} -> ${h.code}`),await Wt(n,h.code),h.code}console.log(`Set code unresolved: ${t}`),await Uu();const f=(await dl()).byName.get(n);return f?(console.log(`Set code resolved from fresh exact match: ${t} -> ${f.code}`),f.code):(await Wt(n,null),null)}async function dl(){try{const e=Date.now()-6048e5,t=await Ee.settings.get("scryfall_sets_cache");return t&&t.v&&t.v.fetchedAt>e?(console.log("Using cached Scryfall sets data"),Nr(t.v.sets)):(console.log("Refreshing Scryfall sets cache (no cache or old cache)"),await Uu())}catch(e){console.error("Error in getSetIndex:",e);try{const t=await Ee.settings.get("scryfall_sets_cache");if(t&&t.v)return console.log("Using old cached Scryfall sets data due to error"),Nr(t.v.sets)}catch(t){console.error("Error accessing cached Scryfall sets data:",t)}return console.log("Returning empty Scryfall sets index"),Nr([])}}async function Uu(){try{console.log("Fetching Scryfall sets data...");const e=await fetch("https://api.scryfall.com/sets");if(!e.ok)throw new Error(`Failed to fetch sets: ${e.status} ${e.statusText}`);const n=(await e.json()).data||[];return console.log(`Fetched ${n.length} Scryfall sets`),await Ee.settings.put({k:"scryfall_sets_cache",v:{sets:n,fetchedAt:Date.now()},createdAt:new Date,updatedAt:new Date}),Nr(n)}catch(e){console.error("Error refreshing Scryfall sets cache:",e);try{const t=await Ee.settings.get("scryfall_sets_cache");if(t&&t.v)return console.log("Using old cached Scryfall sets data due to fetch error"),Nr(t.v.sets)}catch(t){console.error("Error accessing cached Scryfall sets data:",t)}return console.log("Returning empty Scryfall sets index due to errors"),Nr([])}}async function Um(){const e=new Map,t=await Ee.settings.get("set_code_aliases");if(t&&t.v)for(const[n,r]of Object.entries(t.v))e.set(n,r);return e}async function Wt(e,t){try{const n=Ut(e),r=await Ee.settings.get("set_code_aliases");let o={};r&&r.v&&(o={...r.v}),o[n]=t,await Ee.settings.put({k:"set_code_aliases",v:o,createdAt:r?.createdAt||new Date,updatedAt:new Date})}catch(n){console.error("Error storing set code alias:",n)}}class jr{static async importCardmarketTransactions(t){try{const n=new Date;for(const r of t){const o=`cardmarket:${r.reference}:${r.lineNumber}`;if(await Ee.transactions.where("externalRef").equals(o).first())continue;const l=Ze.parse(r.amount,"EUR"),d={id:`tx-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,kind:l.isPositive()?"SELL":"BUY",quantity:1,unitPrice:l.getCents(),fees:0,shipping:0,currency:"EUR",source:"cardmarket",externalRef:o,happenedAt:new Date(r.date),createdAt:n,updatedAt:n};await yn.add(d)}}catch(n){throw console.error("Error importing Cardmarket transactions:",n),n}}static async importCardmarketOrders(t){try{const n=new Date;for(const r of t){const o=`cardmarket:order:${r.orderId}:${r.lineNumber}`;if(await Ee.transactions.where("externalRef").equals(o).first())continue;const l=Ze.parse(r.merchandiseValue,"EUR"),d=Ze.parse(r.shipmentCosts,"EUR"),f=Ze.parse(r.commission,"EUR"),m={id:`order-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,kind:r.direction==="sale"?"SELL":"BUY",quantity:parseInt(r.articleCount)||1,unitPrice:Math.round(l.getCents()/(parseInt(r.articleCount)||1)),fees:f.getCents(),shipping:d.getCents(),currency:"EUR",source:"cardmarket",externalRef:o,happenedAt:new Date(r.dateOfPurchase),createdAt:n,updatedAt:n};await yn.add(m)}}catch(n){throw console.error("Error importing Cardmarket orders:",n),n}}static async importCardmarketArticles(t){try{const n=new Date;for(const r of t){let o=null,a=null;if(r.productId){const h=r.productId.split(" | ").map(y=>y.trim());if(h.length===1)o=await nn.getByCardmarketId(h[0]),console.log(JSON.stringify({product_ids:h,resolved_via:"cardmarket_id",cardmarket_id:h[0],final_uri:`/cards/cardmarket/${h[0]}`}));else if(h.length>1){const y=await nn.getByCardmarketIds(h);y&&y.length>0&&(o=y[0],console.log(JSON.stringify({product_ids:h,resolved_via:"cardmarket_id",cardmarket_id:h[0],final_uri:"/cards/collection"})))}a=o?.id||null}const l=h=>{const y=[/-\s*(\d+[a-zA-Z★]*)\s*-/i,/-\s*([IVXLCDM]+)\s*-/i,/\s+(\d+[a-zA-Z★]*)\s*$/i,/\((\d+[a-zA-Z★]*)\)/i];for(const v of y){const C=h.match(v);if(C)return C[1]}return""};if(!a){const h=await Km(r.expansion);let y=r.name,v=null;const C=r.name.match(/^(.+?)\s*\((V\.\d+)\)$/i);C&&(y=C[1].trim(),v=C[2]);let O=l(r.name);console.log(JSON.stringify({product_ids:r.productId?r.productId.split(" | ").map(N=>N.trim()):[],resolved_via:"set+cn",set_code:h,collector_number:O,final_uri:h?`/cards/${h}/${O}`:""})),o=await nn.hydrateCard({name:y,setCode:h||r.expansion,collectorNumber:O,version:v}),a=o?.id||null,a||console.log(JSON.stringify({product_ids:r.productId?r.productId.split(" | ").map(N=>N.trim()):[],resolved_via:"none",set_code:null,collector_number:"",final_uri:"",name:r.name,expansion:r.expansion}))}const d=Ze.parse(r.price,"EUR");if(a)if(await gn.getById(a))try{const y=n.toISOString().split("T")[0],v=`${a}:scryfall:${y}`;if(!await Ee.price_points.get(v)){const O=await nn.getPriceById(a);if(O){const N={id:v,cardId:a,provider:"scryfall",currency:O.getCurrency(),price:O.getCents(),asOf:n,createdAt:n};await Ee.price_points.put(N)}}}catch(y){console.error(`Error checking/updating price for existing card ${a}:`,y)}else{const y=o||await nn.hydrateCard({scryfall_id:a,name:r.name,setCode:r.expansion,collectorNumber:""}),v=await nn.getImageUrlById(a);let C=l(r.name);const O={id:a,oracleId:y?.oracle_id||o?.oracle_id||"",name:r.name,set:y?.set_name||o?.set_name||r.expansion,setCode:y?.set||o?.set||r.expansion,number:y?.collector_number||o?.collector_number||C||"",lang:y?.lang||o?.lang||"en",finish:"nonfoil",imageUrl:v||"",createdAt:n,updatedAt:n};await gn.add(O);try{const N=await nn.getPriceById(a);if(N){const J=n.toISOString().split("T")[0],j={id:`${a}:scryfall:${J}`,cardId:a,provider:"scryfall",currency:N.getCurrency(),price:N.getCents(),asOf:n,createdAt:n};await Ee.price_points.put(j)}}catch(N){console.error(`Error fetching price for new card ${a}:`,N)}}let f;if(r.direction==="purchase"){const h=await $t.getByCardId(a||"");let y=null;for(const v of h)if(!(await yn.getByLotId(v.id)).some(N=>N.kind==="BUY")){y=v;break}if(y)await $t.update(y.id,{unitCost:d.getCents(),source:"cardmarket",purchasedAt:new Date(r.dateOfPurchase),updatedAt:n}),f=y.id;else{const v=`lot-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,C={id:v,cardId:a||"",quantity:parseInt(r.amount)||1,unitCost:d.getCents(),condition:"",language:"",foil:!1,finish:"nonfoil",source:"cardmarket",currency:"EUR",purchasedAt:new Date(r.dateOfPurchase),createdAt:n,updatedAt:n};await $t.add(C),f=v}}const m={id:`article-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,kind:r.direction==="sale"?"SELL":"BUY",cardId:a||void 0,lotId:f,quantity:parseInt(r.amount)||1,unitPrice:d.getCents(),fees:0,shipping:0,currency:"EUR",source:"cardmarket",externalRef:`cardmarket:article:${r.shipmentId}:${r.lineNumber}`,happenedAt:new Date(r.dateOfPurchase),createdAt:n,updatedAt:n};await yn.add(m)}}catch(n){throw console.error("Error importing Cardmarket articles:",n),n}}static async getOrCreateLotForPurchase(t,n,r,o){const a=new Date,l=await $t.getByCardId(t);for(const m of l)if(!(await yn.getByLotId(m.id)).some(v=>v.kind==="BUY"))return await $t.update(m.id,{unitCost:r,quantity:m.quantity+n,source:"cardmarket",purchasedAt:o,updatedAt:a}),m.id;const d=`lot-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,f={id:d,cardId:t,quantity:n,unitCost:r,condition:"NM",language:"en",foil:!1,finish:"nonfoil",source:"cardmarket",currency:"EUR",purchasedAt:o,createdAt:a,updatedAt:a};return await $t.add(f),d}static async getLotForSale(t,n,r){const a=(await $t.getByCardId(t)).filter(l=>!l.disposedAt||l.disposedQuantity&&l.disposedQuantity<l.quantity).sort((l,d)=>l.purchasedAt.getTime()-d.purchasedAt.getTime());for(const l of a){const d=l.disposedQuantity?l.quantity-l.disposedQuantity:l.quantity;if(d>=r)return{lotId:l.id,remainingQuantity:d-r}}return null}}const Vm={class:"csv-import"},Hm={class:"import-section"},Wm={class:"file-upload"},zm={class:"file-upload"},Qm={class:"file-upload"},Ym={class:"import-section"},Gm={class:"file-upload"},Jm=nt({__name:"CsvImportView",setup(e){const t=Oe(null),n=(d,f)=>{t.value={type:d,message:f},setTimeout(()=>{t.value=null},5e3)},r=async d=>{const f=d.target,m=f.files?.[0];if(m)try{const y=(await m.text()).split(`
`),v=y[0].split(";").map(O=>O.trim()),C=[];for(let O=1;O<y.length;O++){const N=y[O].trim();if(!N)continue;const J=N.split(";"),L={};for(let j=0;j<v.length;j++){const K=v[j].toLowerCase(),X=J[j]?J[j].trim():"";switch(K){case"reference":case"referenz":case"transaktions-id":L.reference=X;break;case"date":case"datum":case"date paid":L.date=X;break;case"category":case"kategorie":L.category=X;break;case"type":case"typ":L.type=X;break;case"counterpart":case"gegenpartei":L.counterpart=X;break;case"amount":case"betrag":L.amount=X;break;case"closing balance (eur)":case"balance after":case"saldo danach (eur)":L.balanceAfter=X;break}}L.reference&&(L.currency="EUR",C.push(L))}await jr.importCardmarketTransactions(C),n("success",`Successfully imported ${C.length} transactions`),f.value=""}catch(h){console.error("Error importing transactions:",h),n("error","Failed to import transactions: "+h.message)}},o=async d=>{const f=d.target,m=f.files?.[0];if(m)try{const y=m.name.toLowerCase().includes("purchased")?"purchase":"sale",C=(await m.text()).split(`
`),O=C[0].split(";").map(J=>J.trim()),N=[];for(let J=1;J<C.length;J++){const L=C[J].trim();if(!L)continue;const j=L.split(";"),K={};for(let X=0;X<O.length;X++){const we=O[X].toLowerCase(),ve=j[X]?j[X].trim():"";switch(we){case"order id":case"orderid":case"bestellnummer":K.orderId=ve;break;case"date of purchase":case"date":case"date of payment":case"kaufdatum":case"zahlungsdatum":K.dateOfPurchase=ve;break;case"username":case"benutzername":K.username=ve;break;case"country":case"land":K.country=ve;break;case"city":case"stadt":K.city=ve;break;case"article count":case"items":case"anzahl artikel":K.articleCount=ve;break;case"merchandise value":case"warenwert":K.merchandiseValue=ve;break;case"shipment costs":case"versandkosten":K.shipmentCosts=ve;break;case"commission":case"trustee service fee":case"provision":K.commission=ve;break;case"total value":case"gesamtwert":K.totalValue=ve;break}}K.orderId&&(K.direction=y,K.currency="EUR",N.push(K))}await jr.importCardmarketOrders(N),n("success",`Successfully imported ${N.length} ${y} orders`),f.value=""}catch(h){console.error("Error importing orders:",h),n("error","Failed to import orders: "+h.message)}},a=async d=>{const f=d.target,m=f.files?.[0];if(m)try{const y=m.name.toLowerCase().includes("purchased")?"purchase":"sale",C=(await m.text()).split(`
`),O=C[0].split(";").map(J=>J.trim()),N=[];for(let J=1;J<C.length;J++){const L=C[J].trim();if(!L)continue;const j=L.split(";"),K={};for(let X=0;X<O.length;X++){const we=O[X].toLowerCase(),ve=j[X]?j[X].trim():"";switch(we){case"shipment nr.":case"shipment nr":case"shipment id":case"order id":case"bestellnummer":K.shipmentId=ve;break;case"date of purchase":case"date":K.dateOfPurchase=ve;break;case"product id":case"produkt id":K.productId=ve;break;case"article":case"artikel":case"localized product name":case"produktname":K.name=ve;break;case"expansion":case"erweiterung":K.expansion=ve;break;case"category":case"kategorie":K.category=ve;break;case"amount":case"anzahl":K.amount=ve;break;case"article value":case"price":case"preis":K.price=ve;break;case"total":K.total=ve;break;case"currency":K.currency=ve;break;case"comments":K.comments=ve;break}}K.shipmentId&&(K.direction=y,K.currency||(K.currency="EUR"),N.push(K))}await jr.importCardmarketArticles(N),n("success",`Successfully imported ${N.length} ${y} articles`),f.value=""}catch(h){console.error("Error importing articles:",h),n("error","Failed to import articles: "+h.message)}},l=async d=>{const f=d.target;f.files?.[0]&&(n("success","ManaBox import functionality would be implemented here"),f.value="")};return(d,f)=>(z(),te("div",Vm,[f[8]||(f[8]=E("h1",null,"Import CSV Files",-1)),E("div",Hm,[f[3]||(f[3]=E("h2",null,"Cardmarket Data",-1)),f[4]||(f[4]=E("p",null,"Import your Cardmarket transaction data to track your purchases and sales.",-1)),E("div",Wm,[f[0]||(f[0]=E("label",{for:"transactions-csv",class:"file-label"}," Upload Transactions CSV ",-1)),E("input",{id:"transactions-csv",type:"file",accept:".csv",onChange:r,class:"file-input"},null,32)]),E("div",zm,[f[1]||(f[1]=E("label",{for:"orders-csv",class:"file-label"}," Upload Orders CSV ",-1)),E("input",{id:"orders-csv",type:"file",accept:".csv",onChange:o,class:"file-input"},null,32)]),E("div",Qm,[f[2]||(f[2]=E("label",{for:"articles-csv",class:"file-label"}," Upload Articles CSV ",-1)),E("input",{id:"articles-csv",type:"file",accept:".csv",onChange:a,class:"file-input"},null,32)])]),E("div",Ym,[f[6]||(f[6]=E("h2",null,"ManaBox Scans",-1)),f[7]||(f[7]=E("p",null,"Import your ManaBox scan data to track your physical collection.",-1)),E("div",Gm,[f[5]||(f[5]=E("label",{for:"manabox-csv",class:"file-label"}," Upload ManaBox CSV ",-1)),E("input",{id:"manabox-csv",type:"file",accept:".csv",onChange:l,class:"file-input"},null,32)])]),t.value?(z(),te("div",{key:0,class:Kt(["status-message",t.value.type])},fe(t.value.message),3)):Te("",!0)]))}}),Xm=kn(Jm,[["__scopeId","data-v-5b86de23"]]);function Zm(e){return new Worker("/mtg-pwa/assets/cardmarketCsv-GHGAoa0o.js",{name:e?.name})}const ey={class:"cardmarket-wizard"},ty={class:"wizard-progress"},ny={class:"step-number"},ry={class:"step-label"},sy={class:"wizard-content"},oy={key:0,class:"step-content"},iy={class:"file-upload-section"},ay={class:"file-upload"},cy={key:0,class:"files-info"},ly={class:"file-list"},uy={class:"file-name"},dy={class:"file-type"},fy={class:"file-size"},py={key:0,class:"error-messages"},hy={key:1,class:"step-content"},my={key:0,class:"preview-stats"},yy={class:"stat"},gy={class:"stat-value"},vy={class:"stat"},by={class:"stat-value"},_y={class:"stat"},wy={class:"stat-value"},Cy={key:1,class:"preview-table-container"},ky={class:"preview-table-wrapper"},Ey={class:"preview-table"},xy={key:0},Ay={key:1},Sy={key:2},Py={key:3},Oy={key:4},Iy={key:5},Ry={key:6},Dy={key:7},$y={key:8},Ty={key:9},My={key:10},By={key:11},Fy={key:12},Ny={key:13},jy={key:0},Ly={key:1},qy={key:2},Ky={key:3},Uy={key:4},Vy={key:5},Hy={key:6},Wy={key:7},zy={key:8},Qy={key:9},Yy={key:10},Gy={key:11},Jy={key:12},Xy={key:13},Zy={key:0},eg=["colspan"],tg={key:2,class:"invalid-rows-section"},ng={class:"invalid-rows"},rg={class:"row-number"},sg={class:"row-errors"},og={key:0,class:"more-rows"},ig={key:2,class:"step-content"},ag={key:3,class:"step-content"},cg={class:"summary-stats"},lg={class:"stat"},ug={class:"stat-value"},dg={class:"stat"},fg={class:"stat-value"},pg={class:"summary-details"},hg={class:"summary-grid"},mg={class:"summary-item"},yg={class:"summary-value"},gg={class:"summary-item"},vg={class:"summary-value"},bg={class:"summary-item"},_g={class:"summary-value"},wg={class:"wizard-navigation"},Cg=["disabled"],kg=["disabled"],Eg=nt({__name:"CardmarketImportWizard",setup(e){const t=[{key:"upload",title:"Upload"},{key:"preview",title:"Preview"},{key:"conflicts",title:"Conflicts"},{key:"summary",title:"Summary"}],n=Oe(0),r=Oe([]),o=Oe({}),a=Oe({}),l=Oe({}),d=Oe([]),f=Oe(null),m=Oe(!1),h=ie=>{if(ie===0)return"0 Bytes";const Q=1024,F=["Bytes","KB","MB","GB"],oe=Math.floor(Math.log(ie)/Math.log(Q));return parseFloat((ie/Math.pow(Q,oe)).toFixed(2))+" "+F[oe]},y=ie=>new Intl.NumberFormat("en-EU",{style:"currency",currency:"EUR"}).format(ie/100),v=async ie=>{const F=ie.target.files;if(!(!F||F.length===0)){d.value=[],r.value=Array.from(F);try{for(const oe of r.value){if(!oe.name.endsWith(".csv")){d.value.push(`File ${oe.name} is not a CSV file.`);continue}const ue=await oe.text();o.value[oe.name]=ue,a.value[oe.name]=rt(oe.name)}await C()}catch(oe){d.value.push("Failed to read the files: "+oe.message)}}},C=async()=>{try{l.value={};for(const[ie,Q]of Object.entries(o.value)){const F=a.value[ie];if(F==="unknown"){console.warn(`Skipping unknown file type: ${ie}`);continue}const oe=new Zm;let ue="",He="sale";switch(F){case"transactions":ue="parseTransactions";break;case"sold-orders":ue="parseOrders",He="sale";break;case"purchased-orders":ue="parseOrders",He="purchase";break;case"sold-articles":ue="parseArticles",He="sale";break;case"purchased-articles":ue="parseArticles",He="purchase";break}oe.postMessage({type:ue,data:Q,direction:He});const ut=await new Promise((vt,_t)=>{oe.onmessage=At=>{const{type:en,result:tn,error:dt}=At.data;console.log("Worker response type:",en),dt?_t(new Error(dt)):vt(tn)},oe.onerror=At=>{_t(At)}});l.value[F]=ut,oe.terminate()}}catch(ie){d.value.push("Failed to parse CSV data: "+ie.message)}},O=tt(()=>n.value===0?r.value.length>0&&d.value.length===0:!0),N=async()=>{O.value&&(n.value===0&&await C(),n.value<t.length-1&&n.value++)},J=()=>{n.value>0&&n.value--},L=async()=>{if(!m.value){m.value=!0,f.value=null;try{for(const[ie,Q]of Object.entries(l.value)){if(!Q||Q.length===0)continue;const F=Ge(Q,ie);switch(ie){case"transactions":await jr.importCardmarketTransactions(F);break;case"sold-orders":case"purchased-orders":await jr.importCardmarketOrders(F);break;case"sold-articles":case"purchased-articles":await jr.importCardmarketArticles(F);break}}f.value={type:"success",message:"Successfully imported all data"}}catch(ie){f.value={type:"error",message:"Failed to import data: "+ie.message}}finally{m.value=!1}}},j=ie=>Ge(l.value[ie]||[],ie),K=()=>Object.values(l.value).reduce((ie,Q)=>ie+(Q?.length||0),0),X=()=>{let ie=0;for(const[Q,F]of Object.entries(l.value))F&&(ie+=Ge(F,Q).length);return ie},we=ie=>{if(/^\d{2}\.\d{2}\.\d{4} \d{2}:\d{2}:\d{2}$/.test(ie)){const oe=ie.split(" ")[0].split("."),ue=parseInt(oe[0],10),He=parseInt(oe[1],10)-1,ut=parseInt(oe[2],10),vt=new Date(ut,He,ue);return vt.getFullYear()===ut&&vt.getMonth()===He&&vt.getDate()===ue}if(/^\d{2}\.\d{2}\.\d{4}$/.test(ie)){const Q=ie.split("."),F=parseInt(Q[0],10),oe=parseInt(Q[1],10)-1,ue=parseInt(Q[2],10),He=new Date(ue,oe,F);return He.getFullYear()===ue&&He.getMonth()===oe&&He.getDate()===F}if(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(ie)){const Q=new Date(ie);return!isNaN(Q.getTime())}if(/^\d{4}-\d{2}-\d{2}$/.test(ie)){const Q=new Date(ie);return!isNaN(Q.getTime())}return!1},ve=ie=>{const Q=ie.replace(/[€$£\s]/g,"").replace(",",".");return!isNaN(parseFloat(Q))},Ce=ie=>{const Q=parseInt(ie,10);return!isNaN(Q)&&Q>0};function Se(ie){switch(ie){case"transactions":return"Transaction Summary";case"sold-orders":return"Sold Orders";case"purchased-orders":return"Purchased Orders";case"sold-articles":return"Sold Articles";case"purchased-articles":return"Purchased Articles";default:return"Unknown File Type"}}const Ae=ie=>{switch(ie){case"transactions":return 5;case"sold-orders":case"purchased-orders":return 6;case"sold-articles":case"purchased-articles":return 7;default:return 5}},je=(ie,Q)=>{const F=[];if(!ie.date&&!ie.dateOfPurchase)F.push("Date is required");else{const oe=ie.date||ie.dateOfPurchase;we(oe)||F.push("Invalid date format (expected DD.MM.YYYY or YYYY-MM-DD)")}return Q.includes("articles")?(ie.name||F.push("Card name is required"),ie.expansion||F.push("Expansion/Set is required"),ie.price?ve(ie.price)||F.push("Invalid price format (expected numeric value)"):F.push("Price is required"),ie.amount?Ce(ie.amount)||F.push("Invalid quantity (expected positive integer)"):F.push("Quantity is required"),ie.shipmentId||F.push("Order ID is required")):Q.includes("orders")?(ie.dateOfPurchase?we(ie.dateOfPurchase)||F.push("Invalid date format (expected DD.MM.YYYY or YYYY-MM-DD)"):F.push("Date is required"),ie.orderId||F.push("Order ID is required"),ie.articleCount?Ce(ie.articleCount)||F.push("Invalid article count (expected positive integer)"):F.push("Article count is required"),ie.merchandiseValue?ve(ie.merchandiseValue)||F.push("Invalid merchandise value format (expected numeric value)"):F.push("Merchandise value is required")):Q==="transactions"&&(ie.reference||F.push("Reference is required"),ie.amount?ve(ie.amount)||F.push("Invalid amount format (expected numeric value)"):F.push("Amount is required"),ie.category||F.push("Category is required"),ie.type||F.push("Type is required")),F},Ge=(ie,Q="articles")=>ie.filter(F=>je(F,Q).length===0),Ke=(ie,Q="articles")=>ie.map((F,oe)=>({index:oe,row:F,errors:je(F,Q)})).filter(F=>F.errors.length>0),rt=ie=>{const Q=ie.toLowerCase();return Q.includes("transaction")?"transactions":Q.includes("sold orders")?"sold-orders":Q.includes("purchased orders")?"purchased-orders":Q.includes("sold articles")?"sold-articles":Q.includes("purchased articles")?"purchased-articles":"unknown"};return(ie,Q)=>(z(),te("div",ey,[Q[23]||(Q[23]=E("h1",null,"Cardmarket Import Wizard",-1)),E("div",ty,[(z(),te(ot,null,zt(t,(F,oe)=>E("div",{key:F.key,class:Kt(["step",{active:n.value===oe,completed:oe<n.value}])},[E("div",ny,fe(oe+1),1),E("div",ry,fe(F.title),1)],2)),64))]),E("div",sy,[n.value===0?(z(),te("div",oy,[Q[2]||(Q[2]=E("h2",null,"Upload CSV Files",-1)),Q[3]||(Q[3]=E("p",null,"Please select all Cardmarket CSV export files to import. You can select multiple files at once.",-1)),E("div",iy,[E("div",ay,[Q[0]||(Q[0]=E("label",{for:"csv-files",class:"file-label"}," Choose CSV Files ",-1)),E("input",{id:"csv-files",type:"file",accept:".csv",multiple:"",onChange:v,class:"file-input"},null,32)]),r.value.length>0?(z(),te("div",cy,[Q[1]||(Q[1]=E("h3",null,"Uploaded Files",-1)),E("ul",ly,[(z(!0),te(ot,null,zt(r.value,F=>(z(),te("li",{key:F.name,class:"file-item"},[E("span",uy,fe(F.name),1),E("span",dy,"("+fe(rt(F.name))+")",1),E("span",fy,"- "+fe(h(F.size)),1)]))),128))])])):Te("",!0)]),d.value.length>0?(z(),te("div",py,[(z(!0),te(ot,null,zt(d.value,F=>(z(),te("div",{key:F,class:"error-message"},fe(F),1))),128))])):Te("",!0)])):n.value===1?(z(),te("div",hy,[Q[11]||(Q[11]=E("h2",null,"Preview Data",-1)),Q[12]||(Q[12]=E("p",null,"Review the data that will be imported. Check for any issues before proceeding.",-1)),(z(!0),te(ot,null,zt(a.value,(F,oe)=>(z(),te("div",{key:oe,class:"file-preview"},[E("h3",null,fe(Se(F)),1),l.value[F]&&l.value[F].length>0?(z(),te("div",my,[E("div",yy,[E("div",gy,fe(l.value[F].length),1),Q[4]||(Q[4]=E("div",{class:"stat-label"},"Total Rows",-1))]),E("div",vy,[E("div",by,fe(Ge(l.value[F],F).length),1),Q[5]||(Q[5]=E("div",{class:"stat-label"},"Valid Rows",-1))]),E("div",_y,[E("div",wy,fe(Ke(l.value[F],F).length),1),Q[6]||(Q[6]=E("div",{class:"stat-label"},"Invalid Rows",-1))])])):Te("",!0),l.value[F]&&l.value[F].length>0?(z(),te("div",Cy,[Q[8]||(Q[8]=E("h4",null,"Valid Data Preview",-1)),E("div",ky,[E("table",Ey,[E("thead",null,[E("tr",null,[F==="transactions"?(z(),te("th",xy,"Reference")):(z(),te("th",Ay,"Line")),Q[7]||(Q[7]=E("th",null,"Date",-1)),F.includes("articles")?(z(),te("th",Sy,"Card Name")):Te("",!0),F.includes("articles")?(z(),te("th",Py,"Expansion")):Te("",!0),F.includes("articles")?(z(),te("th",Oy,"Price")):Te("",!0),F.includes("articles")?(z(),te("th",Iy,"Quantity")):Te("",!0),F.includes("articles")?(z(),te("th",Ry,"Order ID")):Te("",!0),F.includes("orders")?(z(),te("th",Dy,"Order ID")):Te("",!0),F.includes("orders")?(z(),te("th",$y,"Username")):Te("",!0),F.includes("orders")?(z(),te("th",Ty,"Article Count")):Te("",!0),F.includes("orders")?(z(),te("th",My,"Merchandise Value")):Te("",!0),F==="transactions"?(z(),te("th",By,"Category")):Te("",!0),F==="transactions"?(z(),te("th",Fy,"Type")):Te("",!0),F==="transactions"?(z(),te("th",Ny,"Amount")):Te("",!0)])]),E("tbody",null,[(z(!0),te(ot,null,zt(Ge(l.value[F],F).slice(0,5),(ue,He)=>(z(),te("tr",{key:He},[F==="transactions"?(z(),te("td",jy,fe(ue.reference),1)):(z(),te("td",Ly,fe(ue.lineNumber),1)),E("td",null,fe(ue.date||ue.dateOfPurchase),1),F.includes("articles")?(z(),te("td",qy,fe(ue.name),1)):Te("",!0),F.includes("articles")?(z(),te("td",Ky,fe(ue.expansion),1)):Te("",!0),F.includes("articles")?(z(),te("td",Uy,fe(y(parseFloat(ue.price.replace(/[€$£\s]/g,"").replace(",","."))*100)),1)):Te("",!0),F.includes("articles")?(z(),te("td",Vy,fe(ue.amount),1)):Te("",!0),F.includes("articles")?(z(),te("td",Hy,fe(ue.shipmentId),1)):Te("",!0),F.includes("orders")?(z(),te("td",Wy,fe(ue.orderId),1)):Te("",!0),F.includes("orders")?(z(),te("td",zy,fe(ue.username),1)):Te("",!0),F.includes("orders")?(z(),te("td",Qy,fe(ue.articleCount),1)):Te("",!0),F.includes("orders")?(z(),te("td",Yy,fe(y(parseFloat(ue.merchandiseValue.replace(/[€$£\s]/g,"").replace(",","."))*100)),1)):Te("",!0),F==="transactions"?(z(),te("td",Gy,fe(ue.category),1)):Te("",!0),F==="transactions"?(z(),te("td",Jy,fe(ue.type),1)):Te("",!0),F==="transactions"?(z(),te("td",Xy,fe(y(parseFloat(ue.amount.replace(/[€$£\s]/g,"").replace(",","."))*100)),1)):Te("",!0)]))),128)),Ge(l.value[F],F).length>5?(z(),te("tr",Zy,[E("td",{colspan:Ae(F),class:"more-rows-cell"}," ... and "+fe(Ge(l.value[F],F).length-5)+" more rows ",9,eg)])):Te("",!0)])])])])):Te("",!0),Ke(l.value[F],F).length>0?(z(),te("div",tg,[Q[9]||(Q[9]=E("h4",null,"Invalid Rows",-1)),Q[10]||(Q[10]=E("p",null,"The following rows have issues and will be skipped:",-1)),E("div",ng,[(z(!0),te(ot,null,zt(Ke(l.value[F],F).slice(0,3),(ue,He)=>(z(),te("div",{key:He,class:"invalid-row"},[E("div",rg,"Row "+fe(ue.row.lineNumber||ue.row.reference),1),E("div",sg,fe(ue.errors.join(", ")),1)]))),128)),Ke(l.value[F],F).length>3?(z(),te("div",og," ... and "+fe(Ke(l.value[F],F).length-3)+" more rows ",1)):Te("",!0)])])):Te("",!0)]))),128))])):n.value===2?(z(),te("div",ig,[Q[13]||(Q[13]=E("h2",null,"Resolve Conflicts",-1)),Q[14]||(Q[14]=E("p",null,"Check for duplicate imports and resolve any conflicts.",-1)),(z(!0),te(ot,null,zt(a.value,(F,oe)=>(z(),te("div",{key:oe,class:"file-conflicts"},[E("h3",null,fe(Se(F)),1)]))),128))])):n.value===3?(z(),te("div",ag,[Q[21]||(Q[21]=E("h2",null,"Import Summary",-1)),Q[22]||(Q[22]=E("p",null,"Review the import summary before finalizing.",-1)),(z(!0),te(ot,null,zt(a.value,(F,oe)=>(z(),te("div",{key:oe,class:"file-summary"},[E("h3",null,fe(Se(F)),1),E("div",cg,[E("div",lg,[E("div",ug,fe(j(F).length),1),Q[15]||(Q[15]=E("div",{class:"stat-label"},"New Records",-1))]),E("div",dg,[E("div",fg,fe(Ke(l.value[F]||[],F).length),1),Q[16]||(Q[16]=E("div",{class:"stat-label"},"Invalid Rows",-1))])])]))),128)),E("div",pg,[Q[20]||(Q[20]=E("h3",null,"Import Details",-1)),E("div",hg,[E("div",mg,[Q[17]||(Q[17]=E("div",{class:"summary-label"},"Files Uploaded",-1)),E("div",yg,fe(r.value.length),1)]),E("div",gg,[Q[18]||(Q[18]=E("div",{class:"summary-label"},"Total Rows Parsed",-1)),E("div",vg,fe(K()),1)]),E("div",bg,[Q[19]||(Q[19]=E("div",{class:"summary-label"},"Total Valid Rows",-1)),E("div",_g,fe(X()),1)])])]),f.value?(z(),te("div",{key:0,class:Kt(["import-status",f.value.type])},fe(f.value.message),3)):Te("",!0)])):Te("",!0)]),E("div",wg,[n.value>0?(z(),te("button",{key:0,onClick:J,class:"btn btn-secondary"}," Previous ")):Te("",!0),n.value<t.length-1?(z(),te("button",{key:1,onClick:N,class:"btn btn-primary",disabled:!O.value}," Next ",8,Cg)):Te("",!0),n.value===t.length-1?(z(),te("button",{key:2,onClick:L,class:"btn btn-primary",disabled:m.value},fe(m.value?"Importing...":"Import Data"),9,kg)):Te("",!0)])]))}}),xg=kn(Eg,[["__scopeId","data-v-c4e5c377"]]);class Ag{static normalizeFingerprint(t){return{name:t.name.trim().toLowerCase(),setCode:t.setCode.trim().toLowerCase(),collectorNumber:t.collectorNumber.trim().toLowerCase(),finish:t.finish.trim().toLowerCase(),language:t.language.trim().toLowerCase()}}static compareFingerprints(t,n){const r=this.normalizeFingerprint(t),o=this.normalizeFingerprint(n);return r.name===o.name&&r.setCode===o.setCode&&r.collectorNumber===o.collectorNumber&&r.finish===o.finish&&r.language===o.language}static async resolveFingerprint(t){try{const n=await nn.hydrateCard({name:t.name,setCode:t.setCode,collectorNumber:t.collectorNumber});return n&&n.id?n.id:null}catch(n){return console.error("Error resolving fingerprint:",n),null}}}const Sg={class:"deck-import"},Pg={class:"import-section"},Og={class:"mb-3"},Ig={class:"mb-3"},Rg=["disabled"],Dg={key:0,class:"progress-container mb-4"},$g={class:"progress"},Tg={class:"progress-text"},Mg=nt({__name:"DeckImportView",setup(e){const t=Oe(""),n=Oe(""),r=Oe(!1),o=Oe(null),a=Oe(null),l=(f,m)=>{o.value={type:f,message:m},setTimeout(()=>{o.value=null},5e3)},d=async()=>{if(!t.value.trim()){l("error","Please enter a deck name");return}if(!n.value.trim()){l("error","Please paste your decklist");return}r.value=!0,a.value=0;try{const f=n.value.trim().split(`
`).filter(O=>O.trim()),m=f.length,h=O=>new Promise(N=>setTimeout(N,O)),y=`deck-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,v=new Date,C={id:y,platform:"csv",name:t.value.trim(),commander:"",url:"",importedAt:v,createdAt:v,updatedAt:v};await Ee.decks.add(C);for(let O=0;O<f.length;O++){const N=f[O].trim();if(!N)continue;a.value=Math.round((O+1)/m*100),await h(0),console.log("Processing line:",N);const J=N.match(/^(\d+)\s+(.+?)\s*\(([^)]+)\)\s*(\d+)(?:\s*\*F\*\s*)?$/i);if(J){const[,L,j,K,X]=J,we=parseInt(L)||1;if(j&&K&&X){const ve={name:j.trim(),setCode:K.trim(),collectorNumber:X.trim(),finish:"nonfoil",language:"en"},Ce=await Ag.resolveFingerprint(ve);if(Ce){if(!await gn.getById(Ce)){const Q=await nn.hydrateCard({scryfall_id:Ce,name:j.trim(),setCode:K.trim(),collectorNumber:X.trim()}),F=Q?.image_uris?.normal||Q?.image_uris?.large||Q?.image_uris?.small||"",oe=new Date,ue={id:Ce,oracleId:Q?.oracle_id||"",name:j.trim(),set:Q?.set_name||K.trim(),setCode:K.trim(),number:X.trim(),lang:Q?.lang||"en",finish:"nonfoil",imageUrl:F,createdAt:oe,updatedAt:oe};await gn.add(ue)}const ie=(await $t.getByCardId(Ce)).reduce((Q,F)=>{if(!F.disposedAt||F.disposedQuantity&&F.disposedQuantity<F.quantity){const oe=F.disposedQuantity?F.quantity-F.disposedQuantity:F.quantity;return Q+oe}return Q},0);if(ie<we){const Q=we-ie,F=new Date,ue={id:`lot-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,cardId:Ce,quantity:Q,unitCost:0,condition:"unknown",language:"en",foil:!1,finish:"nonfoil",source:"deck_import",currency:"EUR",purchasedAt:F,createdAt:F,updatedAt:F};await $t.add(ue)}}let Se;const Ae=await $t.getByCardId(Ce||"");if(Ae.length>0){for(const Ke of Ae)if((Ke.disposedQuantity?Ke.quantity-Ke.disposedQuantity:Ke.quantity)>=we&&!Ke.disposedAt){Se=Ke.id;break}!Se&&Ae.length>0&&(Se=Ae[0].id)}const je=new Date,Ge={id:`deckcard-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,deckId:y||"unknown-deck",cardId:Ce||"unknown-card",lotId:Se,quantity:typeof we=="number"&&we>0?we:1,role:"main",addedAt:je,createdAt:je};await Ee.deck_cards.put(Ge)}}}l("success",`Successfully imported deck: ${t.value}`),t.value="",n.value=""}catch(f){console.error("Error importing deck:",f),l("error","Failed to import deck: "+f.message)}finally{r.value=!1,a.value=null}};return(f,m)=>(z(),te("div",Sg,[m[7]||(m[7]=E("h1",null,"Import Deck",-1)),E("div",Pg,[m[4]||(m[4]=E("h2",null,"Moxfield Deck Import",-1)),m[5]||(m[5]=E("p",null,"Copy and paste your decklist from Moxfield to track which cards you own and which you're missing.",-1)),E("div",Og,[m[2]||(m[2]=E("label",{for:"deck-name",class:"form-label"},"Deck Name",-1)),bo(E("input",{id:"deck-name","onUpdate:modelValue":m[0]||(m[0]=h=>t.value=h),type:"text",placeholder:"Enter a name for your deck",class:"form-control"},null,512),[[Yi,t.value]])]),E("div",Ig,[m[3]||(m[3]=E("label",{for:"decklist",class:"form-label"},"Decklist",-1)),bo(E("textarea",{id:"decklist","onUpdate:modelValue":m[1]||(m[1]=h=>n.value=h),placeholder:`Paste your decklist here (e.g., 4 Lightning Bolt
2 Counterspell)`,rows:"10",class:"form-control"},null,512),[[Yi,n.value]])]),E("button",{onClick:d,disabled:r.value,class:"btn btn-primary mb-4"},fe(r.value?"Importing...":"Import Deck"),9,Rg),a.value!==null?(z(),te("div",Dg,[E("div",$g,[E("div",{class:"progress-bar",style:Ur({width:a.value+"%"})},null,4)]),E("div",Tg,fe(a.value)+"%",1)])):Te("",!0),m[6]||(m[6]=E("div",{class:"instructions"},[E("h3",null,"How to copy from Moxfield:"),E("ol",null,[E("li",null,"Open your deck on Moxfield.com"),E("li",null,'Click the "Export" button'),E("li",null,'Select "Text" format'),E("li",null,"Copy the text and paste it here")])],-1))]),o.value?(z(),te("div",{key:0,class:Kt(["status-message",o.value.type])},fe(o.value.message),3)):Te("",!0)]))}}),Bg=kn(Mg,[["__scopeId","data-v-9ad190d9"]]),Fg={class:"decks-view"},Ng={class:"header"},jg={key:0,class:"loading"},Lg={key:1,class:"empty-state"},qg={key:2,class:"row g-4"},Kg=["onClick"],Ug={class:"deck-info"},Vg={class:"platform"},Hg={class:"date"},Wg={class:"card-count"},zg=nt({__name:"DecksView",setup(e){const t=Xh(),n=Oe([]),r=Oe(!0),o=Oe({}),a=m=>new Date(m).toLocaleDateString(),l=m=>o.value[m]||0,d=m=>{t.push(`/decks/${m}`)},f=async()=>{try{const m=await Ee.decks.toArray();n.value=m;for(const h of m){const y=await Ee.deck_cards.where("deckId").equals(h.id).count();o.value[h.id]=y}}catch(m){console.error("Error loading decks:",m)}finally{r.value=!1}};return yr(()=>{f()}),(m,h)=>{const y=Bo("router-link");return z(),te("div",Fg,[E("div",Ng,[h[1]||(h[1]=E("h1",null,"Decks",-1)),qe(y,{to:"/import/deck",class:"import-button"},{default:et(()=>[...h[0]||(h[0]=[rn(" Import Deck ",-1)])]),_:1})]),r.value?(z(),te("div",jg," Loading decks... ")):n.value.length===0?(z(),te("div",Lg,[h[3]||(h[3]=E("p",null,"You haven't imported any decks yet.",-1)),qe(y,{to:"/import/deck",class:"import-button"},{default:et(()=>[...h[2]||(h[2]=[rn(" Import Your First Deck ",-1)])]),_:1})])):(z(),te("div",qg,[(z(!0),te(ot,null,zt(n.value,v=>(z(),te("div",{key:v.id,class:"col-lg-4 col-md-6"},[E("div",{class:"deck-card h-100",onClick:C=>d(v.id)},[E("h2",null,fe(v.name),1),E("p",Ug,[E("span",Vg,fe(v.platform),1),E("span",Hg,fe(a(v.importedAt)),1)]),E("p",Wg,fe(l(v.id))+" cards",1)],8,Kg)]))),128))]))])}}}),Qg=kn(zg,[["__scopeId","data-v-34fa96b4"]]);function Vu(e,t){const n=typeof e=="string"&&!t?`${e}Context`:t,r=Symbol(n);return[l=>{const d=Yt(r,l);if(d||d===null)return d;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(", ")}`:`\`${e}\``}`)},l=>(ls(r,l),l)]}function Xn(){let e=document.activeElement;if(e==null)return null;for(;e!=null&&e.shadowRoot!=null&&e.shadowRoot.activeElement!=null;)e=e.shadowRoot.activeElement;return e}function Hu(e,t,n){const r=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),r.dispatchEvent(o)}function Oa(e){return e?e.flatMap(t=>t.type===ot?Oa(t.children):[t]):[]}const[Yg,H_]=Vu("ConfigProvider");function Wu(e){return ca()?(Al(e),!0):!1}function Gg(e){let t=!1,n;const r=Ro(!0);return(...o)=>(t||(n=r.run(()=>e(...o)),t=!0),n)}function Jg(e){let t=0,n,r;const o=()=>{t-=1,r&&t<=0&&(r.stop(),n=void 0,r=void 0)};return(...a)=>(t+=1,r||(r=Ro(!0),n=r.run(()=>e(...a))),Wu(o),n)}const gr=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Xg=e=>typeof e<"u",Zg=Object.prototype.toString,ev=e=>Zg.call(e)==="[object Object]",fl=tv();function tv(){var e,t;return gr&&((e=window?.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window?.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function nv(e){return Bn()}function Ti(e){return Array.isArray(e)?e:[e]}function rv(e,t){nv()&&ru(e,t)}function sv(e,t,n){return Gt(e,t,{...n,immediate:!0})}const Ia=gr?window:void 0;function Uo(e){var t;const n=bn(e);return(t=n?.$el)!=null?t:n}function zu(...e){const t=[],n=()=>{t.forEach(d=>d()),t.length=0},r=(d,f,m,h)=>(d.addEventListener(f,m,h),()=>d.removeEventListener(f,m,h)),o=tt(()=>{const d=Ti(bn(e[0])).filter(f=>f!=null);return d.every(f=>typeof f!="string")?d:void 0}),a=sv(()=>{var d,f;return[(f=(d=o.value)==null?void 0:d.map(m=>Uo(m)))!=null?f:[Ia].filter(m=>m!=null),Ti(bn(o.value?e[1]:e[0])),Ti(xe(o.value?e[2]:e[1])),bn(o.value?e[3]:e[2])]},([d,f,m,h])=>{if(n(),!d?.length||!f?.length||!m?.length)return;const y=ev(h)?{...h}:h;t.push(...d.flatMap(v=>f.flatMap(C=>m.map(O=>r(v,C,O,y)))))},{flush:"post"}),l=()=>{a(),n()};return Wu(n),l}function ov(){const e=Ul(!1),t=Bn();return t&&yr(()=>{e.value=!0},t),e}function iv(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function av(...e){let t,n,r={};e.length===3?(t=e[0],n=e[1],r=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:o=Ia,eventName:a="keydown",passive:l=!1,dedupe:d=!1}=r,f=iv(t);return zu(o,a,h=>{h.repeat&&bn(d)||f(h)&&n(h)},l)}function cv(e){return JSON.parse(JSON.stringify(e))}function lv(e,t,n,r={}){var o,a,l;const{clone:d=!1,passive:f=!1,eventName:m,deep:h=!1,defaultValue:y,shouldEmit:v}=r,C=Bn(),O=n||C?.emit||((o=C?.$emit)==null?void 0:o.bind(C))||((l=(a=C?.proxy)==null?void 0:a.$emit)==null?void 0:l.bind(C?.proxy));let N=m;N=N||`update:${t.toString()}`;const J=K=>d?typeof d=="function"?d(K):cv(K):K,L=()=>Xg(e[t])?J(e[t]):y,j=K=>{v?v(K)&&O(N,K):O(N,K)};if(f){const K=L(),X=Oe(K);let we=!1;return Gt(()=>e[t],ve=>{we||(we=!0,X.value=J(ve),an(()=>we=!1))}),Gt(X,ve=>{!we&&(ve!==e[t]||h)&&j(ve)},{deep:h}),X}else return tt({get(){return L()},set(K){j(K)}})}function Mi(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function ra(e,t,n=".",r){if(!Mi(t))return ra(e,{},n,r);const o=Object.assign({},t);for(const a in e){if(a==="__proto__"||a==="constructor")continue;const l=e[a];l!=null&&(r&&r(o,a,l,n)||(Array.isArray(l)&&Array.isArray(o[a])?o[a]=[...l,...o[a]]:Mi(l)&&Mi(o[a])?o[a]=ra(l,o[a],(n?`${n}.`:"")+a.toString(),r):o[a]=l))}return o}function uv(e){return(...t)=>t.reduce((n,r)=>ra(n,r,"",e),{})}const dv=uv(),fv=Jg(()=>{const e=Oe(new Map),t=Oe(),n=tt(()=>{for(const l of e.value.values())if(l)return!0;return!1}),r=Yg({scrollBody:Oe(!0)});let o=null;const a=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",fl&&o?.(),t.value=void 0};return Gt(n,(l,d)=>{if(!gr)return;if(!l){d&&a();return}t.value===void 0&&(t.value=document.body.style.overflow);const f=window.innerWidth-document.documentElement.clientWidth,m={padding:f,margin:0},h=r.scrollBody?.value?typeof r.scrollBody.value=="object"?dv({padding:r.scrollBody.value.padding===!0?f:r.scrollBody.value.padding,margin:r.scrollBody.value.margin===!0?f:r.scrollBody.value.margin},m):m:{padding:0,margin:0};f>0&&(document.body.style.paddingRight=typeof h.padding=="number"?`${h.padding}px`:String(h.padding),document.body.style.marginRight=typeof h.margin=="number"?`${h.margin}px`:String(h.margin),document.documentElement.style.setProperty("--scrollbar-width",`${f}px`),document.body.style.overflow="hidden"),fl&&(o=zu(document,"touchmove",y=>hv(y),{passive:!1})),an(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function pv(e){const t=Math.random().toString(36).substring(2,7),n=fv();n.value.set(t,e);const r=tt({get:()=>n.value.get(t)??!1,set:o=>n.value.set(t,o)});return rv(()=>{n.value.delete(t)}),r}function Qu(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:Qu(n)}}function hv(e){const t=e||window.event,n=t.target;return n instanceof Element&&Qu(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}function Ra(e){const t=Bn(),n=t?.type.emits,r={};return n?.length||console.warn(`No emitted event found. Please check component: ${t?.type.__name}`),n?.forEach(o=>{r[oo(Jt(o))]=(...a)=>e(o,...a)}),r}function En(){const e=Bn(),t=Oe(),n=tt(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:Uo(t)),r=Object.assign({},e.exposed),o={};for(const l in e.props)Object.defineProperty(o,l,{enumerable:!0,configurable:!0,get:()=>e.props[l]});if(Object.keys(r).length>0)for(const l in r)Object.defineProperty(o,l,{enumerable:!0,configurable:!0,get:()=>r[l]});Object.defineProperty(o,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=o;function a(l){t.value=l,l&&(Object.defineProperty(o,"$el",{enumerable:!0,configurable:!0,get:()=>l instanceof Element?l:l.$el}),e.exposed=o)}return{forwardRef:a,currentRef:t,currentElement:n}}var mv=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Or=new WeakMap,no=new WeakMap,ro={},Bi=0,Yu=function(e){return e&&(e.host||Yu(e.parentNode))},yv=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Yu(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},gv=function(e,t,n,r){var o=yv(t,Array.isArray(e)?e:[e]);ro[n]||(ro[n]=new WeakMap);var a=ro[n],l=[],d=new Set,f=new Set(o),m=function(y){!y||d.has(y)||(d.add(y),m(y.parentNode))};o.forEach(m);var h=function(y){!y||f.has(y)||Array.prototype.forEach.call(y.children,function(v){if(d.has(v))h(v);else try{var C=v.getAttribute(r),O=C!==null&&C!=="false",N=(Or.get(v)||0)+1,J=(a.get(v)||0)+1;Or.set(v,N),a.set(v,J),l.push(v),N===1&&O&&no.set(v,!0),J===1&&v.setAttribute(n,"true"),O||v.setAttribute(r,"true")}catch(L){console.error("aria-hidden: cannot operate on ",v,L)}})};return h(t),d.clear(),Bi++,function(){l.forEach(function(y){var v=Or.get(y)-1,C=a.get(y)-1;Or.set(y,v),a.set(y,C),v||(no.has(y)||y.removeAttribute(r),no.delete(y)),C||y.removeAttribute(n)}),Bi--,Bi||(Or=new WeakMap,Or=new WeakMap,no=new WeakMap,ro={})}},vv=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=mv(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),gv(r,o,n,"aria-hidden")):function(){return null}};function bv(e){let t;Gt(()=>Uo(e),n=>{n?t=vv(n):t&&t()}),Mo(()=>{t&&t()})}function pl(e,t="reka"){return`${t}-${wf?.()}`}function _v(e,t){const n=Oe(e);function r(a){return t[n.value][a]??n.value}return{state:n,dispatch:a=>{n.value=r(a)}}}function wv(e,t){const n=Oe({}),r=Oe("none"),o=Oe(e),a=e.value?"mounted":"unmounted";let l;const d=t.value?.ownerDocument.defaultView??Ia,{state:f,dispatch:m}=_v(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),h=J=>{if(gr){const L=new CustomEvent(J,{bubbles:!1,cancelable:!1});t.value?.dispatchEvent(L)}};Gt(e,async(J,L)=>{const j=L!==J;if(await an(),j){const K=r.value,X=so(t.value);J?(m("MOUNT"),h("enter"),X==="none"&&h("after-enter")):X==="none"||X==="undefined"||n.value?.display==="none"?(m("UNMOUNT"),h("leave"),h("after-leave")):L&&K!==X?(m("ANIMATION_OUT"),h("leave")):(m("UNMOUNT"),h("after-leave"))}},{immediate:!0});const y=J=>{const L=so(t.value),j=L.includes(J.animationName),K=f.value==="mounted"?"enter":"leave";if(J.target===t.value&&j&&(h(`after-${K}`),m("ANIMATION_END"),!o.value)){const X=t.value.style.animationFillMode;t.value.style.animationFillMode="forwards",l=d?.setTimeout(()=>{t.value?.style.animationFillMode==="forwards"&&(t.value.style.animationFillMode=X)})}J.target===t.value&&L==="none"&&m("ANIMATION_END")},v=J=>{J.target===t.value&&(r.value=so(t.value))},C=Gt(t,(J,L)=>{J?(n.value=getComputedStyle(J),J.addEventListener("animationstart",v),J.addEventListener("animationcancel",y),J.addEventListener("animationend",y)):(m("ANIMATION_END"),l!==void 0&&d?.clearTimeout(l),L?.removeEventListener("animationstart",v),L?.removeEventListener("animationcancel",y),L?.removeEventListener("animationend",y))},{immediate:!0}),O=Gt(f,()=>{const J=so(t.value);r.value=f.value==="mounted"?J:"none"});return Mo(()=>{C(),O()}),{isPresent:tt(()=>["mounted","unmountSuspended"].includes(f.value))}}function so(e){return e&&getComputedStyle(e).animationName||"none"}var Gu=nt({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(e,{slots:t,expose:n}){const{present:r,forceMount:o}=ga(e),a=Oe(),{isPresent:l}=wv(r,a);n({present:l});let d=t.default({present:l.value});d=Oa(d||[]);const f=Bn();if(d&&d?.length>1){const m=f?.parent?.type.name?`<${f.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${m}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}return()=>o.value||r.value||l.value?Br(t.default({present:l.value})[0],{ref:m=>{const h=Uo(m);return typeof h?.hasAttribute>"u"||(h?.hasAttribute("data-reka-popper-content-wrapper")?a.value=h.firstElementChild:a.value=h),h}}):null}});const Cv=nt({name:"PrimitiveSlot",inheritAttrs:!1,setup(e,{attrs:t,slots:n}){return()=>{if(!n.default)return null;const r=Oa(n.default()),o=r.findIndex(f=>f.type!==wn);if(o===-1)return r;const a=r[o];delete a.props?.ref;const l=a.props?Cn(t,a.props):t,d=pr({...a,props:{}},l);return r.length===1?d:(r[o]=d,r)}}}),kv=["area","img","input"],xs=nt({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(e,{attrs:t,slots:n}){const r=e.asChild?"template":e.as;return typeof r=="string"&&kv.includes(r)?()=>Br(r,t):r!=="template"?()=>Br(e.as,t,{default:n.default}):()=>Br(Cv,t,{default:n.default})}}),[er,Ev]=Vu("DialogRoot");var xv=nt({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:t}){const n=e,o=lv(n,"open",t,{defaultValue:n.defaultOpen,passive:n.open===void 0}),a=Oe(),l=Oe(),{modal:d}=ga(n);return Ev({open:o,modal:d,openModal:()=>{o.value=!0},onOpenChange:f=>{o.value=f},onOpenToggle:()=>{o.value=!o.value},contentId:"",titleId:"",descriptionId:"",triggerElement:a,contentElement:l}),(f,m)=>Vt(f.$slots,"default",{open:xe(o),close:()=>o.value=!1})}}),Av=xv,Sv=nt({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e;En();const n=er();return(r,o)=>(z(),xt(xe(xs),Cn(t,{type:r.as==="button"?"button":void 0,onClick:o[0]||(o[0]=a=>xe(n).onOpenChange(!1))}),{default:et(()=>[Vt(r.$slots,"default")]),_:3},16,["type"]))}}),Pv=Sv;const Ov="dismissableLayer.pointerDownOutside",Iv="dismissableLayer.focusOutside";function Ju(e,t){const n=t.closest("[data-dismissable-layer]"),r=e.dataset.dismissableLayer===""?e:e.querySelector("[data-dismissable-layer]"),o=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&(r===n||o.indexOf(r)<o.indexOf(n)))}function Rv(e,t,n=!0){const r=t?.value?.ownerDocument??globalThis?.document,o=Oe(!1),a=Oe(()=>{});return Lr(l=>{if(!gr||!bn(n))return;const d=async m=>{const h=m.target;if(!(!t?.value||!h)){if(Ju(t.value,h)){o.value=!1;return}if(m.target&&!o.value){let C=function(){Hu(Ov,e,v)};var y=C;const v={originalEvent:m};m.pointerType==="touch"?(r.removeEventListener("click",a.value),a.value=C,r.addEventListener("click",a.value,{once:!0})):C()}else r.removeEventListener("click",a.value);o.value=!1}},f=window.setTimeout(()=>{r.addEventListener("pointerdown",d)},0);l(()=>{window.clearTimeout(f),r.removeEventListener("pointerdown",d),r.removeEventListener("click",a.value)})}),{onPointerDownCapture:()=>{bn(n)&&(o.value=!0)}}}function Dv(e,t,n=!0){const r=t?.value?.ownerDocument??globalThis?.document,o=Oe(!1);return Lr(a=>{if(!gr||!bn(n))return;const l=async d=>{if(!t?.value)return;await an(),await an();const f=d.target;!t.value||!f||Ju(t.value,f)||d.target&&!o.value&&Hu(Iv,e,{originalEvent:d})};r.addEventListener("focusin",l),a(()=>r.removeEventListener("focusin",l))}),{onFocusCapture:()=>{bn(n)&&(o.value=!0)},onBlurCapture:()=>{bn(n)&&(o.value=!1)}}}const On=mr({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set});var $v=nt({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:t}){const n=e,r=t,{forwardRef:o,currentElement:a}=En(),l=tt(()=>a.value?.ownerDocument??globalThis.document),d=tt(()=>On.layersRoot),f=tt(()=>a.value?Array.from(d.value).indexOf(a.value):-1),m=tt(()=>On.layersWithOutsidePointerEventsDisabled.size>0),h=tt(()=>{const O=Array.from(d.value),[N]=[...On.layersWithOutsidePointerEventsDisabled].slice(-1),J=O.indexOf(N);return f.value>=J}),y=Rv(async O=>{const N=[...On.branches].some(J=>J?.contains(O.target));!h.value||N||(r("pointerDownOutside",O),r("interactOutside",O),await an(),O.defaultPrevented||r("dismiss"))},a),v=Dv(O=>{[...On.branches].some(J=>J?.contains(O.target))||(r("focusOutside",O),r("interactOutside",O),O.defaultPrevented||r("dismiss"))},a);av("Escape",O=>{f.value===d.value.size-1&&(r("escapeKeyDown",O),O.defaultPrevented||r("dismiss"))});let C;return Lr(O=>{a.value&&(n.disableOutsidePointerEvents&&(On.layersWithOutsidePointerEventsDisabled.size===0&&(C=l.value.body.style.pointerEvents,l.value.body.style.pointerEvents="none"),On.layersWithOutsidePointerEventsDisabled.add(a.value)),d.value.add(a.value),O(()=>{n.disableOutsidePointerEvents&&On.layersWithOutsidePointerEventsDisabled.size===1&&(l.value.body.style.pointerEvents=C)}))}),Lr(O=>{O(()=>{a.value&&(d.value.delete(a.value),On.layersWithOutsidePointerEventsDisabled.delete(a.value))})}),(O,N)=>(z(),xt(xe(xs),{ref:xe(o),"as-child":O.asChild,as:O.as,"data-dismissable-layer":"",style:Ur({pointerEvents:m.value?h.value?"auto":"none":void 0}),onFocusCapture:xe(v).onFocusCapture,onBlurCapture:xe(v).onBlurCapture,onPointerdownCapture:xe(y).onPointerDownCapture},{default:et(()=>[Vt(O.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),Tv=$v;const Mv=Gg(()=>Oe([]));function Bv(){const e=Mv();return{add(t){const n=e.value[0];t!==n&&n?.pause(),e.value=hl(e.value,t),e.value.unshift(t)},remove(t){e.value=hl(e.value,t),e.value[0]?.resume()}}}function hl(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Fv(e){return e.filter(t=>t.tagName!=="A")}const Fi="focusScope.autoFocusOnMount",Ni="focusScope.autoFocusOnUnmount",ml={bubbles:!1,cancelable:!0};function Nv(e,{select:t=!1}={}){const n=Xn();for(const r of e)if(Wn(r,{select:t}),Xn()!==n)return!0}function jv(e){const t=Xu(e),n=yl(t,e),r=yl(t.reverse(),e);return[n,r]}function Xu(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function yl(e,t){for(const n of e)if(!Lv(n,{upTo:t}))return n}function Lv(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function qv(e){return e instanceof HTMLInputElement&&"select"in e}function Wn(e,{select:t=!1}={}){if(e&&e.focus){const n=Xn();e.focus({preventScroll:!0}),e!==n&&qv(e)&&t&&e.select()}}var Kv=nt({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,r=t,{currentRef:o,currentElement:a}=En(),l=Oe(null),d=Bv(),f=mr({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});Lr(h=>{if(!gr)return;const y=a.value;if(!n.trapped)return;function v(J){if(f.paused||!y)return;const L=J.target;y.contains(L)?l.value=L:Wn(l.value,{select:!0})}function C(J){if(f.paused||!y)return;const L=J.relatedTarget;L!==null&&(y.contains(L)||Wn(l.value,{select:!0}))}function O(J){y.contains(l.value)||Wn(y)}document.addEventListener("focusin",v),document.addEventListener("focusout",C);const N=new MutationObserver(O);y&&N.observe(y,{childList:!0,subtree:!0}),h(()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",C),N.disconnect()})}),Lr(async h=>{const y=a.value;if(await an(),!y)return;d.add(f);const v=Xn();if(!y.contains(v)){const O=new CustomEvent(Fi,ml);y.addEventListener(Fi,N=>r("mountAutoFocus",N)),y.dispatchEvent(O),O.defaultPrevented||(Nv(Fv(Xu(y)),{select:!0}),Xn()===v&&Wn(y))}h(()=>{y.removeEventListener(Fi,J=>r("mountAutoFocus",J));const O=new CustomEvent(Ni,ml),N=J=>{r("unmountAutoFocus",J)};y.addEventListener(Ni,N),y.dispatchEvent(O),setTimeout(()=>{O.defaultPrevented||Wn(v??document.body,{select:!0}),y.removeEventListener(Ni,N),d.remove(f)},0)})});function m(h){if(!n.loop&&!n.trapped||f.paused)return;const y=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,v=Xn();if(y&&v){const C=h.currentTarget,[O,N]=jv(C);O&&N?!h.shiftKey&&v===N?(h.preventDefault(),n.loop&&Wn(O,{select:!0})):h.shiftKey&&v===O&&(h.preventDefault(),n.loop&&Wn(N,{select:!0})):v===C&&h.preventDefault()}}return(h,y)=>(z(),xt(xe(xs),{ref_key:"currentRef",ref:o,tabindex:"-1","as-child":h.asChild,as:h.as,onKeydown:m},{default:et(()=>[Vt(h.$slots,"default")]),_:3},8,["as-child","as"]))}}),Uv=Kv;function Vv(e){return e?"open":"closed"}var Hv=nt({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,o=er(),{forwardRef:a,currentElement:l}=En();return o.titleId||=pl(void 0,"reka-dialog-title"),o.descriptionId||=pl(void 0,"reka-dialog-description"),yr(()=>{o.contentElement=l,Xn()!==document.body&&(o.triggerElement.value=Xn())}),(d,f)=>(z(),xt(xe(Uv),{"as-child":"",loop:"",trapped:n.trapFocus,onMountAutoFocus:f[5]||(f[5]=m=>r("openAutoFocus",m)),onUnmountAutoFocus:f[6]||(f[6]=m=>r("closeAutoFocus",m))},{default:et(()=>[qe(xe(Tv),Cn({id:xe(o).contentId,ref:xe(a),as:d.as,"as-child":d.asChild,"disable-outside-pointer-events":d.disableOutsidePointerEvents,role:"dialog","aria-describedby":xe(o).descriptionId,"aria-labelledby":xe(o).titleId,"data-state":xe(Vv)(xe(o).open.value)},d.$attrs,{onDismiss:f[0]||(f[0]=m=>xe(o).onOpenChange(!1)),onEscapeKeyDown:f[1]||(f[1]=m=>r("escapeKeyDown",m)),onFocusOutside:f[2]||(f[2]=m=>r("focusOutside",m)),onInteractOutside:f[3]||(f[3]=m=>r("interactOutside",m)),onPointerDownOutside:f[4]||(f[4]=m=>r("pointerDownOutside",m))}),{default:et(()=>[Vt(d.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),Zu=Hv,Wv=nt({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,o=er(),a=Ra(r),{forwardRef:l,currentElement:d}=En();return bv(d),(f,m)=>(z(),xt(Zu,Cn({...n,...xe(a)},{ref:xe(l),"trap-focus":xe(o).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:m[0]||(m[0]=h=>{h.defaultPrevented||(h.preventDefault(),xe(o).triggerElement.value?.focus())}),onPointerDownOutside:m[1]||(m[1]=h=>{const y=h.detail.originalEvent,v=y.button===0&&y.ctrlKey===!0;(y.button===2||v)&&h.preventDefault()}),onFocusOutside:m[2]||(m[2]=h=>{h.preventDefault()})}),{default:et(()=>[Vt(f.$slots,"default")]),_:3},16,["trap-focus"]))}}),zv=Wv,Qv=nt({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,o=Ra(t);En();const a=er(),l=Oe(!1),d=Oe(!1);return(f,m)=>(z(),xt(Zu,Cn({...n,...xe(o)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:m[0]||(m[0]=h=>{h.defaultPrevented||(l.value||xe(a).triggerElement.value?.focus(),h.preventDefault()),l.value=!1,d.value=!1}),onInteractOutside:m[1]||(m[1]=h=>{h.defaultPrevented||(l.value=!0,h.detail.originalEvent.type==="pointerdown"&&(d.value=!0));const y=h.target;xe(a).triggerElement.value?.contains(y)&&h.preventDefault(),h.detail.originalEvent.type==="focusin"&&d.value&&h.preventDefault()})}),{default:et(()=>[Vt(f.$slots,"default")]),_:3},16))}}),Yv=Qv,Gv=nt({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,o=er(),a=Ra(r),{forwardRef:l}=En();return(d,f)=>(z(),xt(xe(Gu),{present:d.forceMount||xe(o).open.value},{default:et(()=>[xe(o).modal.value?(z(),xt(zv,Cn({key:0,ref:xe(l)},{...n,...xe(a),...d.$attrs}),{default:et(()=>[Vt(d.$slots,"default")]),_:3},16)):(z(),xt(Yv,Cn({key:1,ref:xe(l)},{...n,...xe(a),...d.$attrs}),{default:et(()=>[Vt(d.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Jv=Gv,Xv=nt({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=er();return pv(!0),En(),(n,r)=>(z(),xt(xe(xs),{as:n.as,"as-child":n.asChild,"data-state":xe(t).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:et(()=>[Vt(n.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),Zv=Xv,eb=nt({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=er(),{forwardRef:n}=En();return(r,o)=>xe(t)?.modal.value?(z(),xt(xe(Gu),{key:0,present:r.forceMount||xe(t).open.value},{default:et(()=>[qe(Zv,Cn(r.$attrs,{ref:xe(n),as:r.as,"as-child":r.asChild}),{default:et(()=>[Vt(r.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):Te("v-if",!0)}}),tb=eb,nb=nt({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=ov();return(n,r)=>xe(t)||n.forceMount?(z(),xt(bf,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[Vt(n.$slots,"default")],8,["to","disabled","defer"])):Te("v-if",!0)}}),rb=nb,sb=nt({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(n,r)=>(z(),xt(xe(rb),Md(Cu(t)),{default:et(()=>[Vt(n.$slots,"default")]),_:3},16))}}),ob=sb,ib=nt({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(e){const t=e,n=er();return En(),(r,o)=>(z(),xt(xe(xs),Cn(t,{id:xe(n).titleId}),{default:et(()=>[Vt(r.$slots,"default")]),_:3},16,["id"]))}}),ab=ib;const cb={class:"card-image-container"},lb=["src","alt"],ub={class:"card-info"},db={class:"card-name"},fb={class:"card-set"},pb={key:0,class:"card-price"},hb={class:"price-value"},mb={key:1,class:"price-loading"},yb={class:"modal-dialog modal-dialog-centered modal-xl"},gb={class:"modal-content"},vb={class:"modal-header"},bb={class:"modal-body"},_b={class:"card-details-section"},wb={class:"card-image-large"},Cb=["src","alt"],kb={class:"card-metadata"},Eb={class:"metadata-item"},xb={class:"value"},Ab={class:"metadata-item"},Sb={class:"value"},Pb={class:"metadata-item"},Ob={class:"value"},Ib={class:"metadata-item"},Rb={class:"value"},Db={class:"price-section"},$b={key:0,class:"current-price h2 text-success"},Tb={key:1,class:"price-loading"},Mb={key:2,class:"price-unavailable text-muted"},Bb={key:0,class:"ownership-section"},Fb={class:"lots-summary d-flex gap-4 p-3 bg-light rounded"},Nb={class:"summary-item"},jb={class:"value h5"},Lb={class:"summary-item"},qb={class:"value h5"},Kb={class:"lots-list"},Ub={class:"lot-details row"},Vb={class:"lot-quantity col-md-3"},Hb={class:"value fw-medium"},Wb={class:"lot-cost col-md-3"},zb={class:"value fw-medium"},Qb={class:"lot-date col-md-3"},Yb={class:"value fw-medium"},Gb={key:0,class:"lot-disposed col-md-3"},Jb={class:"value fw-medium"},Xb={key:1,class:"transactions-section"},Zb={class:"transactions-list"},e_={class:"transaction-details row"},t_={class:"transaction-type col-md-3 fw-bold"},n_={class:"transaction-date col-md-3 text-muted"},r_={class:"transaction-quantity col-md-3 fw-medium"},s_={class:"transaction-price col-md-3 fw-medium"},o_=nt({inheritAttrs:!0,__name:"CardComponent",props:{card:{}},setup(e){const t=e,n=Pa(),r=Oe(!1),o=Oe(null),a=Oe(!1),l=Oe([]),d=Oe([]),f=tt(()=>{const L=n.getCardPrice(t.card.id);return L||o.value}),m=tt(()=>!l.value||l.value.length===0?0:l.value.reduce((L,j)=>{if(!j.disposedAt||j.disposedQuantity&&j.disposedQuantity<j.quantity){const K=j.disposedQuantity?j.quantity-j.disposedQuantity:j.quantity;return L+K}return L},0)),h=()=>{r.value=!0,N()},y=()=>{r.value=!1},v=L=>{L.target.src="https://placehold.co/200x280?text=Card+Image"},C=L=>new Date(L).toLocaleDateString(),O=(L,j)=>new Ze(L,j).format("de-DE"),N=async()=>{try{J();const L=await Ee.card_lots.where("cardId").equals(t.card.id).toArray();l.value=L;const j=await Ee.transactions.where("cardId").equals(t.card.id).toArray();d.value=j}catch(L){console.error("Error loading card details:",L)}},J=async()=>{a.value=!0;try{const L=await Ee.price_points.where("cardId").equals(t.card.id).toArray();if(L.length>0){L.sort((K,X)=>X.asOf.getTime()-K.asOf.getTime());const j=L[0];o.value=new Ze(j.price,j.currency)}}catch(L){console.error("Error loading current price:",L)}finally{a.value=!1}};return(L,j)=>(z(),te(ot,null,[E("div",{class:"card-component card-item",onClick:h},[E("div",cb,[E("img",{src:L.card.imageUrl||"https://placehold.co/200x280?text=Card+Image",alt:L.card.name,class:"card-image",onError:v},null,40,lb)]),E("div",ub,[E("h3",db,fe(L.card.name),1),E("p",fb,fe(L.card.set)+" #"+fe(L.card.number),1),f.value?(z(),te("div",pb,[j[1]||(j[1]=E("span",{class:"price-label"},"Current:",-1)),E("span",hb,fe(f.value.format("de-DE")),1)])):a.value||xe(n).loadingPrices?(z(),te("div",mb," Loading... ")):Te("",!0)])]),qe(xe(Av),{open:r.value,"onUpdate:open":j[0]||(j[0]=K=>r.value=K)},{default:et(()=>[qe(xe(ob),null,{default:et(()=>[qe(xe(tb),{class:"modal-backdrop fade show"}),qe(xe(Jv),{class:"modal d-block",onPointerDownOutside:y,onEscapeKeyDown:y},{default:et(()=>[E("div",yb,[E("div",gb,[E("div",vb,[qe(xe(ab),{class:"modal-title h2"},{default:et(()=>[rn(fe(L.card.name),1)]),_:1}),qe(xe(Pv),{"as-child":""},{default:et(()=>[E("button",{class:"btn-close",onClick:y})]),_:1})]),E("div",bb,[E("div",_b,[E("div",wb,[E("img",{src:L.card.imageUrl||"https://placehold.co/300x420?text=Card+Image",alt:L.card.name,onError:v,class:"img-fluid"},null,40,Cb)]),E("div",kb,[E("div",Eb,[j[2]||(j[2]=E("span",{class:"label"},"Set:",-1)),E("span",xb,fe(L.card.set)+" ("+fe(L.card.setCode)+")",1)]),E("div",Ab,[j[3]||(j[3]=E("span",{class:"label"},"Collector Number:",-1)),E("span",Sb,"#"+fe(L.card.number),1)]),E("div",Pb,[j[4]||(j[4]=E("span",{class:"label"},"Language:",-1)),E("span",Ob,fe(L.card.lang),1)]),E("div",Ib,[j[5]||(j[5]=E("span",{class:"label"},"Finish:",-1)),E("span",Rb,fe(L.card.finish),1)])])]),E("div",Db,[j[6]||(j[6]=E("h3",null,"Current Price",-1)),o.value?(z(),te("div",$b,fe(o.value.format("de-DE")),1)):a.value?(z(),te("div",Tb," Loading price... ")):(z(),te("div",Mb," Price unavailable "))]),l.value&&l.value.length>0?(z(),te("div",Bb,[j[13]||(j[13]=E("h3",null,"Your Collection",-1)),E("div",Fb,[E("div",Nb,[j[7]||(j[7]=E("span",{class:"label small text-muted"},"Total Lots:",-1)),E("span",jb,fe(l.value.length),1)]),E("div",Lb,[j[8]||(j[8]=E("span",{class:"label small text-muted"},"Total Cards:",-1)),E("span",qb,fe(m.value),1)])]),E("div",Kb,[(z(!0),te(ot,null,zt(l.value,K=>(z(),te("div",{key:K.id,class:"lot-item border rounded p-3 mb-2"},[E("div",Ub,[E("div",Vb,[j[9]||(j[9]=E("span",{class:"label small text-muted"},"Quantity:",-1)),E("span",Hb,fe(K.quantity),1)]),E("div",Wb,[j[10]||(j[10]=E("span",{class:"label small text-muted"},"Unit Cost:",-1)),E("span",zb,fe(O(K.unitCost,K.currency||"EUR")),1)]),E("div",Qb,[j[11]||(j[11]=E("span",{class:"label small text-muted"},"Purchased:",-1)),E("span",Yb,fe(C(K.purchasedAt)),1)]),K.disposedQuantity?(z(),te("div",Gb,[j[12]||(j[12]=E("span",{class:"label small text-muted"},"Disposed:",-1)),E("span",Jb,fe(K.disposedQuantity),1)])):Te("",!0)])]))),128))])])):Te("",!0),d.value&&d.value.length>0?(z(),te("div",Xb,[j[14]||(j[14]=E("h3",null,"Transaction History",-1)),E("div",Zb,[(z(!0),te(ot,null,zt(d.value,K=>(z(),te("div",{key:K.id,class:Kt(["transaction-item border rounded p-3 mb-2",K.kind.toLowerCase()])},[E("div",e_,[E("div",t_,fe(K.kind),1),E("div",n_,fe(C(K.happenedAt)),1),E("div",r_,"Qty: "+fe(K.quantity),1),E("div",s_,fe(O(K.unitPrice,K.currency)),1)])],2))),128))])])):Te("",!0)])])])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),ed=kn(o_,[["__scopeId","data-v-42e389ae"]]),i_={class:"deck-detail-view"},a_={key:0,class:"loading"},c_={key:1,class:"deck-detail"},l_={class:"deck-header"},u_={class:"deck-meta"},d_={class:"platform"},f_={class:"date"},p_={class:"cards-section"},h_={key:0,class:"empty-state"},m_={key:1,class:"cards-grid"},y_={key:2,class:"error"},g_=nt({__name:"DeckDetailView",setup(e){const t=Nu(),n=Oe(null),r=Oe([]),o=Oe({}),a=Oe(!0),l=m=>new Date(m).toLocaleDateString(),d=m=>o.value[m]||{id:m,name:"Unknown Card",set:"Unknown Set",setCode:"???",number:"???",lang:"en",finish:"nonfoil",imageUrl:"https://placehold.co/200x280?text=Card+Image"},f=async()=>{try{const m=t.params.id,h=await Ee.decks.get(m);if(!h)return;n.value=h;const y=await Ee.deck_cards.where("deckId").equals(m).toArray();r.value=y;const v=y.map(C=>C.cardId).filter(C=>C);if(v.length>0){const C=await Ee.cards.where("id").anyOf(v).toArray();o.value=Object.fromEntries(C.map(O=>[O.id,O]))}}catch(m){console.error("Error loading deck:",m)}finally{a.value=!1}};return yr(()=>{f()}),(m,h)=>{const y=Bo("router-link");return z(),te("div",i_,[a.value?(z(),te("div",a_," Loading deck... ")):n.value?(z(),te("div",c_,[E("div",l_,[qe(y,{to:"/decks",class:"back-link"},{default:et(()=>[...h[0]||(h[0]=[rn(" ← Back to Decks ",-1)])]),_:1}),E("h1",null,fe(n.value.name),1),E("p",u_,[E("span",d_,fe(n.value.platform),1),E("span",f_,"Imported: "+fe(l(n.value.importedAt)),1)])]),E("div",p_,[h[2]||(h[2]=E("h2",null,"Cards in Deck",-1)),r.value.length===0?(z(),te("div",h_,[...h[1]||(h[1]=[E("p",null,"No cards found in this deck.",-1)])])):(z(),te("div",m_,[(z(!0),te(ot,null,zt(r.value,v=>(z(),xt(ed,{key:v.id,card:d(v.cardId)},null,8,["card"]))),128))]))])])):(z(),te("div",y_,[h[4]||(h[4]=E("p",null,"Deck not found.",-1)),qe(y,{to:"/decks",class:"back-link"},{default:et(()=>[...h[3]||(h[3]=[rn(" ← Back to Decks ",-1)])]),_:1})]))])}}}),v_=kn(g_,[["__scopeId","data-v-aee401d9"]]),b_={class:"cards-view"},__={class:"header"},w_={class:"controls"},C_={class:"search-box"},k_={class:"sort-controls"},E_={key:0,class:"loading"},x_={key:1,class:"empty-state"},A_={key:0},S_={key:1},P_={key:2,class:"row g-4"},O_=nt({__name:"CardsView",setup(e){const t=Pa(),n=Oe(""),r=Oe("name"),o=Oe("asc"),a=tt(()=>{const d=t.getAllCards;if(!n.value)return d;const f=n.value.toLowerCase();return d.filter(m=>m.name.toLowerCase().includes(f)||m.set.toLowerCase().includes(f)||m.number.includes(f))}),l=tt(()=>{const d=[...a.value];return d.sort((f,m)=>{let h=0;switch(r.value){case"name":h=f.name.localeCompare(m.name);break;case"set":h=f.set.localeCompare(m.set);break;case"price":{const C=t.getCardPrice(f.id)?.getCents()??0,O=t.getCardPrice(m.id)?.getCents()??0;h=C-O}break;case"releasedAt":const y=f.releasedAt?new Date(f.releasedAt).getTime():0,v=m.releasedAt?new Date(m.releasedAt).getTime():0;h=y-v;break;case"owned":h=0;break;default:h=f.name.localeCompare(m.name)}return o.value==="asc"?h:-h}),d});return yr(()=>{t.loadCardsAndPrices()}),(d,f)=>(z(),te("div",b_,[E("div",__,[E("div",w_,[E("div",C_,[bo(E("input",{"onUpdate:modelValue":f[0]||(f[0]=m=>n.value=m),type:"text",placeholder:"Search cards...",class:"form-control"},null,512),[[Yi,n.value]])]),E("div",k_,[bo(E("select",{"onUpdate:modelValue":f[1]||(f[1]=m=>r.value=m),class:"form-select"},[...f[3]||(f[3]=[fp('<option value="name" data-v-21c9a9e9>Name</option><option value="set" data-v-21c9a9e9>Set</option><option value="price" data-v-21c9a9e9>Price</option><option value="releasedAt" data-v-21c9a9e9>Release Date</option><option value="owned" data-v-21c9a9e9>Owned Quantity</option>',5)])],512),[[Up,r.value]]),E("button",{onClick:f[2]||(f[2]=m=>o.value=o.value==="asc"?"desc":"asc"),class:"btn btn-outline-primary"},fe(o.value==="asc"?"↑":"↓"),1)])])]),xe(t).loading||xe(t).loadingPrices?(z(),te("div",E_," Loading cards and prices... ")):l.value.length===0?(z(),te("div",x_,[n.value?(z(),te("p",A_,"No cards match your search.")):(z(),te("p",S_,"You don't have any cards in your collection yet."))])):(z(),te("div",P_,[(z(!0),te(ot,null,zt(l.value,m=>(z(),te("div",{key:m.id,class:"col-xl-2 col-lg-3 col-md-4 col-sm-6"},[qe(ed,{card:m},null,8,["card"])]))),128))]))]))}}),I_=kn(O_,[["__scopeId","data-v-21c9a9e9"]]),R_=[{path:"/",name:"home",component:qm},{path:"/import/csv",name:"csv-import",component:Xm},{path:"/import/cardmarket",name:"cardmarket-import",component:xg},{path:"/import/deck",name:"deck-import",component:Bg},{path:"/decks",name:"decks",component:Qg},{path:"/decks/:id",name:"deck-detail",component:v_,props:!0},{path:"/cards",name:"cards",component:I_}],D_=Gh({history:xh(),routes:R_}),td=Wp(pm),$_=hm();td.use($_);td.use(D_).mount("#app");
