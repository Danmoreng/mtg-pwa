(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ca(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const at={},Fr=[],vn=()=>{},Al=()=>!1,Io=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),la=e=>e.startsWith("onUpdate:"),Bt=Object.assign,ua=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Fd=Object.prototype.hasOwnProperty,et=(e,t)=>Fd.call(e,t),Te=Array.isArray,Mr=e=>Cs(e)==="[object Map]",Po=e=>Cs(e)==="[object Set]",hc=e=>Cs(e)==="[object Date]",Ne=e=>typeof e=="function",gt=e=>typeof e=="string",on=e=>typeof e=="symbol",lt=e=>e!==null&&typeof e=="object",El=e=>(lt(e)||Ne(e))&&Ne(e.then)&&Ne(e.catch),Cl=Object.prototype.toString,Cs=e=>Cl.call(e),Md=e=>Cs(e).slice(8,-1),Sl=e=>Cs(e)==="[object Object]",da=e=>gt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,is=ca(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Oo=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},Bd=/-(\w)/g,en=Oo(e=>e.replace(Bd,(t,n)=>n?n.toUpperCase():"")),Nd=/\B([A-Z])/g,vr=Oo(e=>e.replace(Nd,"-$1").toLowerCase()),Ro=Oo(e=>e.charAt(0).toUpperCase()+e.slice(1)),lo=Oo(e=>e?`on${Ro(e)}`:""),Jn=(e,t)=>!Object.is(e,t),uo=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Il=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},go=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let mc;const Do=()=>mc||(mc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $n(e){if(Te(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=gt(r)?Ud(r):$n(r);if(o)for(const a in o)t[a]=o[a]}return t}else if(gt(e)||lt(e))return e}const jd=/;(?![^(]*\))/g,Ld=/:([^]+)/,qd=/\/\*[^]*?\*\//g;function Ud(e){const t={};return e.replace(qd,"").split(jd).forEach(n=>{if(n){const r=n.split(Ld);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function kt(e){let t="";if(gt(e))t=e;else if(Te(e))for(let n=0;n<e.length;n++){const r=kt(e[n]);r&&(t+=r+" ")}else if(lt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Kd(e){if(!e)return null;let{class:t,style:n}=e;return t&&!gt(t)&&(e.class=kt(t)),n&&(e.style=$n(n)),e}const Vd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Hd=ca(Vd);function Pl(e){return!!e||e===""}function Wd(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=$o(e[r],t[r]);return n}function $o(e,t){if(e===t)return!0;let n=hc(e),r=hc(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=on(e),r=on(t),n||r)return e===t;if(n=Te(e),r=Te(t),n||r)return n&&r?Wd(e,t):!1;if(n=lt(e),r=lt(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,a=Object.keys(t).length;if(o!==a)return!1;for(const l in e){const u=e.hasOwnProperty(l),f=t.hasOwnProperty(l);if(u&&!f||!u&&f||!$o(e[l],t[l]))return!1}}return String(e)===String(t)}function zd(e,t){return e.findIndex(n=>$o(n,t))}const Ol=e=>!!(e&&e.__v_isRef===!0),oe=e=>gt(e)?e:e==null?"":Te(e)||lt(e)&&(e.toString===Cl||!Ne(e.toString))?Ol(e)?oe(e.value):JSON.stringify(e,Rl,2):String(e),Rl=(e,t)=>Ol(t)?Rl(e,t.value):Mr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o],a)=>(n[Ai(r,a)+" =>"]=o,n),{})}:Po(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ai(n))}:on(t)?Ai(t):lt(t)&&!Te(t)&&!Sl(t)?String(t):t,Ai=(e,t="")=>{var n;return on(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Tt;class Dl{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Tt,!t&&Tt&&(this.index=(Tt.scopes||(Tt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Tt;try{return Tt=this,t()}finally{Tt=n}}}on(){++this._on===1&&(this.prevScope=Tt,Tt=this)}off(){this._on>0&&--this._on===0&&(Tt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function To(e){return new Dl(e)}function fa(){return Tt}function $l(e,t=!1){Tt&&Tt.cleanups.push(e)}let ct;const Ei=new WeakSet;class Tl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Tt&&Tt.active&&Tt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ei.has(this)&&(Ei.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ml(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,gc(this),Bl(this);const t=ct,n=sn;ct=this,sn=!0;try{return this.fn()}finally{Nl(this),ct=t,sn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ma(t);this.deps=this.depsTail=void 0,gc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ei.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ki(this)&&this.run()}get dirty(){return Ki(this)}}let Fl=0,as,cs;function Ml(e,t=!1){if(e.flags|=8,t){e.next=cs,cs=e;return}e.next=as,as=e}function pa(){Fl++}function ha(){if(--Fl>0)return;if(cs){let t=cs;for(cs=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;as;){let t=as;for(as=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Bl(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Nl(e){let t,n=e.depsTail,r=n;for(;r;){const o=r.prevDep;r.version===-1?(r===n&&(n=o),ma(r),Qd(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}e.deps=t,e.depsTail=n}function Ki(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(jl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function jl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ys)||(e.globalVersion=ys,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ki(e))))return;e.flags|=2;const t=e.dep,n=ct,r=sn;ct=e,sn=!0;try{Bl(e);const o=e.fn(e._value);(t.version===0||Jn(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{ct=n,sn=r,Nl(e),e.flags&=-3}}function ma(e,t=!1){const{dep:n,prevSub:r,nextSub:o}=e;if(r&&(r.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)ma(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Qd(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let sn=!0;const Ll=[];function Tn(){Ll.push(sn),sn=!1}function Fn(){const e=Ll.pop();sn=e===void 0?!0:e}function gc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ct;ct=void 0;try{t()}finally{ct=n}}}let ys=0;class Yd{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ga{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ct||!sn||ct===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ct)n=this.activeLink=new Yd(ct,this),ct.deps?(n.prevDep=ct.depsTail,ct.depsTail.nextDep=n,ct.depsTail=n):ct.deps=ct.depsTail=n,ql(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=ct.depsTail,n.nextDep=void 0,ct.depsTail.nextDep=n,ct.depsTail=n,ct.deps===n&&(ct.deps=r)}return n}trigger(t){this.version++,ys++,this.notify(t)}notify(t){pa();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ha()}}}function ql(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)ql(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const yo=new WeakMap,mr=Symbol(""),Vi=Symbol(""),vs=Symbol("");function Ft(e,t,n){if(sn&&ct){let r=yo.get(e);r||yo.set(e,r=new Map);let o=r.get(n);o||(r.set(n,o=new ga),o.map=r,o.key=n),o.track()}}function Rn(e,t,n,r,o,a){const l=yo.get(e);if(!l){ys++;return}const u=f=>{f&&f.trigger()};if(pa(),t==="clear")l.forEach(u);else{const f=Te(e),m=f&&da(n);if(f&&n==="length"){const h=Number(r);l.forEach((y,v)=>{(v==="length"||v===vs||!on(v)&&v>=h)&&u(y)})}else switch((n!==void 0||l.has(void 0))&&u(l.get(n)),m&&u(l.get(vs)),t){case"add":f?m&&u(l.get("length")):(u(l.get(mr)),Mr(e)&&u(l.get(Vi)));break;case"delete":f||(u(l.get(mr)),Mr(e)&&u(l.get(Vi)));break;case"set":Mr(e)&&u(l.get(mr));break}}ha()}function Gd(e,t){const n=yo.get(e);return n&&n.get(t)}function Or(e){const t=Je(e);return t===e?t:(Ft(t,"iterate",vs),nn(e)?t:t.map(Pt))}function Fo(e){return Ft(e=Je(e),"iterate",vs),e}const Jd={__proto__:null,[Symbol.iterator](){return Ci(this,Symbol.iterator,Pt)},concat(...e){return Or(this).concat(...e.map(t=>Te(t)?Or(t):t))},entries(){return Ci(this,"entries",e=>(e[1]=Pt(e[1]),e))},every(e,t){return Sn(this,"every",e,t,void 0,arguments)},filter(e,t){return Sn(this,"filter",e,t,n=>n.map(Pt),arguments)},find(e,t){return Sn(this,"find",e,t,Pt,arguments)},findIndex(e,t){return Sn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Sn(this,"findLast",e,t,Pt,arguments)},findLastIndex(e,t){return Sn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Sn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Si(this,"includes",e)},indexOf(...e){return Si(this,"indexOf",e)},join(e){return Or(this).join(e)},lastIndexOf(...e){return Si(this,"lastIndexOf",e)},map(e,t){return Sn(this,"map",e,t,void 0,arguments)},pop(){return es(this,"pop")},push(...e){return es(this,"push",e)},reduce(e,...t){return yc(this,"reduce",e,t)},reduceRight(e,...t){return yc(this,"reduceRight",e,t)},shift(){return es(this,"shift")},some(e,t){return Sn(this,"some",e,t,void 0,arguments)},splice(...e){return es(this,"splice",e)},toReversed(){return Or(this).toReversed()},toSorted(e){return Or(this).toSorted(e)},toSpliced(...e){return Or(this).toSpliced(...e)},unshift(...e){return es(this,"unshift",e)},values(){return Ci(this,"values",Pt)}};function Ci(e,t,n){const r=Fo(e),o=r[t]();return r!==e&&!nn(e)&&(o._next=o.next,o.next=()=>{const a=o._next();return a.value&&(a.value=n(a.value)),a}),o}const Xd=Array.prototype;function Sn(e,t,n,r,o,a){const l=Fo(e),u=l!==e&&!nn(e),f=l[t];if(f!==Xd[t]){const y=f.apply(e,a);return u?Pt(y):y}let m=n;l!==e&&(u?m=function(y,v){return n.call(this,Pt(y),v,e)}:n.length>2&&(m=function(y,v){return n.call(this,y,v,e)}));const h=f.call(l,m,r);return u&&o?o(h):h}function yc(e,t,n,r){const o=Fo(e);let a=n;return o!==e&&(nn(e)?n.length>3&&(a=function(l,u,f){return n.call(this,l,u,f,e)}):a=function(l,u,f){return n.call(this,l,Pt(u),f,e)}),o[t](a,...r)}function Si(e,t,n){const r=Je(e);Ft(r,"iterate",vs);const o=r[t](...n);return(o===-1||o===!1)&&ba(n[0])?(n[0]=Je(n[0]),r[t](...n)):o}function es(e,t,n=[]){Tn(),pa();const r=Je(e)[t].apply(e,n);return ha(),Fn(),r}const Zd=ca("__proto__,__v_isRef,__isVue"),Ul=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(on));function ef(e){on(e)||(e=String(e));const t=Je(this);return Ft(t,"has",e),t.hasOwnProperty(e)}class Kl{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return a;if(n==="__v_raw")return r===(o?a?df:zl:a?Wl:Hl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const l=Te(t);if(!o){let f;if(l&&(f=Jd[n]))return f;if(n==="hasOwnProperty")return ef}const u=Reflect.get(t,n,bt(t)?t:r);return(on(n)?Ul.has(n):Zd(n))||(o||Ft(t,"get",n),a)?u:bt(u)?l&&da(n)?u:u.value:lt(u)?o?Yl(u):br(u):u}}class Vl extends Kl{constructor(t=!1){super(!1,t)}set(t,n,r,o){let a=t[n];if(!this._isShallow){const f=er(a);if(!nn(r)&&!er(r)&&(a=Je(a),r=Je(r)),!Te(t)&&bt(a)&&!bt(r))return f||(a.value=r),!0}const l=Te(t)&&da(n)?Number(n)<t.length:et(t,n),u=Reflect.set(t,n,r,bt(t)?t:o);return t===Je(o)&&(l?Jn(r,a)&&Rn(t,"set",n,r):Rn(t,"add",n,r)),u}deleteProperty(t,n){const r=et(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&r&&Rn(t,"delete",n,void 0),o}has(t,n){const r=Reflect.has(t,n);return(!on(n)||!Ul.has(n))&&Ft(t,"has",n),r}ownKeys(t){return Ft(t,"iterate",Te(t)?"length":mr),Reflect.ownKeys(t)}}class tf extends Kl{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const nf=new Vl,rf=new tf,sf=new Vl(!0);const Hi=e=>e,eo=e=>Reflect.getPrototypeOf(e);function of(e,t,n){return function(...r){const o=this.__v_raw,a=Je(o),l=Mr(a),u=e==="entries"||e===Symbol.iterator&&l,f=e==="keys"&&l,m=o[e](...r),h=n?Hi:t?vo:Pt;return!t&&Ft(a,"iterate",f?Vi:mr),{next(){const{value:y,done:v}=m.next();return v?{value:y,done:v}:{value:u?[h(y[0]),h(y[1])]:h(y),done:v}},[Symbol.iterator](){return this}}}}function to(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function af(e,t){const n={get(o){const a=this.__v_raw,l=Je(a),u=Je(o);e||(Jn(o,u)&&Ft(l,"get",o),Ft(l,"get",u));const{has:f}=eo(l),m=t?Hi:e?vo:Pt;if(f.call(l,o))return m(a.get(o));if(f.call(l,u))return m(a.get(u));a!==l&&a.get(o)},get size(){const o=this.__v_raw;return!e&&Ft(Je(o),"iterate",mr),o.size},has(o){const a=this.__v_raw,l=Je(a),u=Je(o);return e||(Jn(o,u)&&Ft(l,"has",o),Ft(l,"has",u)),o===u?a.has(o):a.has(o)||a.has(u)},forEach(o,a){const l=this,u=l.__v_raw,f=Je(u),m=t?Hi:e?vo:Pt;return!e&&Ft(f,"iterate",mr),u.forEach((h,y)=>o.call(a,m(h),m(y),l))}};return Bt(n,e?{add:to("add"),set:to("set"),delete:to("delete"),clear:to("clear")}:{add(o){!t&&!nn(o)&&!er(o)&&(o=Je(o));const a=Je(this);return eo(a).has.call(a,o)||(a.add(o),Rn(a,"add",o,o)),this},set(o,a){!t&&!nn(a)&&!er(a)&&(a=Je(a));const l=Je(this),{has:u,get:f}=eo(l);let m=u.call(l,o);m||(o=Je(o),m=u.call(l,o));const h=f.call(l,o);return l.set(o,a),m?Jn(a,h)&&Rn(l,"set",o,a):Rn(l,"add",o,a),this},delete(o){const a=Je(this),{has:l,get:u}=eo(a);let f=l.call(a,o);f||(o=Je(o),f=l.call(a,o)),u&&u.call(a,o);const m=a.delete(o);return f&&Rn(a,"delete",o,void 0),m},clear(){const o=Je(this),a=o.size!==0,l=o.clear();return a&&Rn(o,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=of(o,e,t)}),n}function ya(e,t){const n=af(e,t);return(r,o,a)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(et(n,o)&&o in r?n:r,o,a)}const cf={get:ya(!1,!1)},lf={get:ya(!1,!0)},uf={get:ya(!0,!1)};const Hl=new WeakMap,Wl=new WeakMap,zl=new WeakMap,df=new WeakMap;function ff(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pf(e){return e.__v_skip||!Object.isExtensible(e)?0:ff(Md(e))}function br(e){return er(e)?e:va(e,!1,nf,cf,Hl)}function Ql(e){return va(e,!1,sf,lf,Wl)}function Yl(e){return va(e,!0,rf,uf,zl)}function va(e,t,n,r,o){if(!lt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=pf(e);if(a===0)return e;const l=o.get(e);if(l)return l;const u=new Proxy(e,a===2?r:n);return o.set(e,u),u}function Xn(e){return er(e)?Xn(e.__v_raw):!!(e&&e.__v_isReactive)}function er(e){return!!(e&&e.__v_isReadonly)}function nn(e){return!!(e&&e.__v_isShallow)}function ba(e){return e?!!e.__v_raw:!1}function Je(e){const t=e&&e.__v_raw;return t?Je(t):e}function _a(e){return!et(e,"__v_skip")&&Object.isExtensible(e)&&Il(e,"__v_skip",!0),e}const Pt=e=>lt(e)?br(e):e,vo=e=>lt(e)?Yl(e):e;function bt(e){return e?e.__v_isRef===!0:!1}function Ae(e){return Jl(e,!1)}function Gl(e){return Jl(e,!0)}function Jl(e,t){return bt(e)?e:new hf(e,t)}class hf{constructor(t,n){this.dep=new ga,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Je(t),this._value=n?t:Pt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||nn(t)||er(t);t=r?t:Je(t),Jn(t,n)&&(this._rawValue=t,this._value=r?t:Pt(t),this.dep.trigger())}}function we(e){return bt(e)?e.value:e}function bn(e){return Ne(e)?e():we(e)}const mf={get:(e,t,n)=>t==="__v_raw"?e:we(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return bt(o)&&!bt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function Xl(e){return Xn(e)?e:new Proxy(e,mf)}function wa(e){const t=Te(e)?new Array(e.length):{};for(const n in e)t[n]=yf(e,n);return t}class gf{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Gd(Je(this._object),this._key)}}function yf(e,t,n){const r=e[t];return bt(r)?r:new gf(e,t,n)}class vf{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new ga(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ys-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ct!==this)return Ml(this,!0),!0}get value(){const t=this.dep.track();return jl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function bf(e,t,n=!1){let r,o;return Ne(e)?r=e:(r=e.get,o=e.set),new vf(r,o,n)}const no={},bo=new WeakMap;let fr;function _f(e,t=!1,n=fr){if(n){let r=bo.get(n);r||bo.set(n,r=[]),r.push(e)}}function wf(e,t,n=at){const{immediate:r,deep:o,once:a,scheduler:l,augmentJob:u,call:f}=n,m=$=>o?$:nn($)||o===!1||o===0?Dn($,1):Dn($);let h,y,v,k,C=!1,N=!1;if(bt(e)?(y=()=>e.value,C=nn(e)):Xn(e)?(y=()=>m(e),C=!0):Te(e)?(N=!0,C=e.some($=>Xn($)||nn($)),y=()=>e.map($=>{if(bt($))return $.value;if(Xn($))return m($);if(Ne($))return f?f($,2):$()})):Ne(e)?t?y=f?()=>f(e,2):e:y=()=>{if(v){Tn();try{v()}finally{Fn()}}const $=fr;fr=h;try{return f?f(e,3,[k]):e(k)}finally{fr=$}}:y=vn,t&&o){const $=y,se=o===!0?1/0:o;y=()=>Dn($(),se)}const H=fa(),K=()=>{h.stop(),H&&H.active&&ua(H.effects,h)};if(a&&t){const $=t;t=(...se)=>{$(...se),K()}}let X=N?new Array(e.length).fill(no):no;const j=$=>{if(!(!(h.flags&1)||!h.dirty&&!$))if(t){const se=h.run();if(o||C||(N?se.some((ge,Ee)=>Jn(ge,X[Ee])):Jn(se,X))){v&&v();const ge=fr;fr=h;try{const Ee=[se,X===no?void 0:N&&X[0]===no?[]:X,k];X=se,f?f(t,3,Ee):t(...Ee)}finally{fr=ge}}}else h.run()};return u&&u(j),h=new Tl(y),h.scheduler=l?()=>l(j,!1):j,k=$=>_f($,!1,h),v=h.onStop=()=>{const $=bo.get(h);if($){if(f)f($,4);else for(const se of $)se();bo.delete(h)}},t?r?j(!0):X=h.run():l?l(j.bind(null,!0),!0):h.run(),K.pause=h.pause.bind(h),K.resume=h.resume.bind(h),K.stop=K,K}function Dn(e,t=1/0,n){if(t<=0||!lt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,bt(e))Dn(e.value,t,n);else if(Te(e))for(let r=0;r<e.length;r++)Dn(e[r],t,n);else if(Po(e)||Mr(e))e.forEach(r=>{Dn(r,t,n)});else if(Sl(e)){for(const r in e)Dn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Dn(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ss(e,t,n,r){try{return r?e(...r):e()}catch(o){Mo(o,t,n)}}function _n(e,t,n,r){if(Ne(e)){const o=Ss(e,t,n,r);return o&&El(o)&&o.catch(a=>{Mo(a,t,n)}),o}if(Te(e)){const o=[];for(let a=0;a<e.length;a++)o.push(_n(e[a],t,n,r));return o}}function Mo(e,t,n,r=!0){const o=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||at;if(t){let u=t.parent;const f=t.proxy,m=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const h=u.ec;if(h){for(let y=0;y<h.length;y++)if(h[y](e,f,m)===!1)return}u=u.parent}if(a){Tn(),Ss(a,null,10,[e,f,m]),Fn();return}}kf(e,n,o,r,l)}function kf(e,t,n,r=!0,o=!1){if(o)throw e;console.error(e)}const Vt=[];let hn=-1;const Br=[];let Qn=null,$r=0;const Zl=Promise.resolve();let _o=null;function an(e){const t=_o||Zl;return e?t.then(this?e.bind(this):e):t}function xf(e){let t=hn+1,n=Vt.length;for(;t<n;){const r=t+n>>>1,o=Vt[r],a=bs(o);a<e||a===e&&o.flags&2?t=r+1:n=r}return t}function ka(e){if(!(e.flags&1)){const t=bs(e),n=Vt[Vt.length-1];!n||!(e.flags&2)&&t>=bs(n)?Vt.push(e):Vt.splice(xf(t),0,e),e.flags|=1,eu()}}function eu(){_o||(_o=Zl.then(nu))}function Af(e){Te(e)?Br.push(...e):Qn&&e.id===-1?Qn.splice($r+1,0,e):e.flags&1||(Br.push(e),e.flags|=1),eu()}function vc(e,t,n=hn+1){for(;n<Vt.length;n++){const r=Vt[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Vt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function tu(e){if(Br.length){const t=[...new Set(Br)].sort((n,r)=>bs(n)-bs(r));if(Br.length=0,Qn){Qn.push(...t);return}for(Qn=t,$r=0;$r<Qn.length;$r++){const n=Qn[$r];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Qn=null,$r=0}}const bs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function nu(e){try{for(hn=0;hn<Vt.length;hn++){const t=Vt[hn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ss(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;hn<Vt.length;hn++){const t=Vt[hn];t&&(t.flags&=-2)}hn=-1,Vt.length=0,tu(),_o=null,(Vt.length||Br.length)&&nu()}}let Ot=null,ru=null;function wo(e){const t=Ot;return Ot=e,ru=e&&e.type.__scopeId||null,t}function rt(e,t=Ot,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&Rc(-1);const a=wo(t);let l;try{l=e(...o)}finally{wo(a),r._d&&Rc(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function _s(e,t){if(Ot===null)return e;const n=Uo(Ot),r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[a,l,u,f=at]=t[o];a&&(Ne(a)&&(a={mounted:a,updated:a}),a.deep&&Dn(l),r.push({dir:a,instance:n,value:l,oldValue:void 0,arg:u,modifiers:f}))}return e}function lr(e,t,n,r){const o=e.dirs,a=t&&t.dirs;for(let l=0;l<o.length;l++){const u=o[l];a&&(u.oldValue=a[l].value);let f=u.dir[r];f&&(Tn(),_n(f,n,8,[e.el,u,e,t]),Fn())}}const su=Symbol("_vte"),Ef=e=>e.__isTeleport,ls=e=>e&&(e.disabled||e.disabled===""),bc=e=>e&&(e.defer||e.defer===""),_c=e=>typeof SVGElement<"u"&&e instanceof SVGElement,wc=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Wi=(e,t)=>{const n=e&&e.to;return gt(n)?t?t(n):null:n},ou={name:"Teleport",__isTeleport:!0,process(e,t,n,r,o,a,l,u,f,m){const{mc:h,pc:y,pbc:v,o:{insert:k,querySelector:C,createText:N,createComment:H}}=m,K=ls(t.props);let{shapeFlag:X,children:j,dynamicChildren:$}=t;if(e==null){const se=t.el=N(""),ge=t.anchor=N("");k(se,n,r),k(ge,n,r);const Ee=(Ce,qe)=>{X&16&&(o&&o.isCE&&(o.ce._teleportTarget=Ce),h(j,Ce,qe,o,a,l,u,f))},Se=()=>{const Ce=t.target=Wi(t.props,C),qe=iu(Ce,t,N,k);Ce&&(l!=="svg"&&_c(Ce)?l="svg":l!=="mathml"&&wc(Ce)&&(l="mathml"),K||(Ee(Ce,qe),fo(t,!1)))};K&&(Ee(n,ge),fo(t,!0)),bc(t.props)?(t.el.__isMounted=!1,Ut(()=>{Se(),delete t.el.__isMounted},a)):Se()}else{if(bc(t.props)&&e.el.__isMounted===!1){Ut(()=>{ou.process(e,t,n,r,o,a,l,u,f,m)},a);return}t.el=e.el,t.targetStart=e.targetStart;const se=t.anchor=e.anchor,ge=t.target=e.target,Ee=t.targetAnchor=e.targetAnchor,Se=ls(e.props),Ce=Se?n:ge,qe=Se?se:Ee;if(l==="svg"||_c(ge)?l="svg":(l==="mathml"||wc(ge))&&(l="mathml"),$?(v(e.dynamicChildren,$,Ce,o,a,l,u),Ca(e,t,!0)):f||y(e,t,Ce,qe,o,a,l,u,!1),K)Se?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ro(t,n,se,m,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const ut=t.target=Wi(t.props,C);ut&&ro(t,ut,null,m,0)}else Se&&ro(t,ge,Ee,m,1);fo(t,K)}},remove(e,t,n,{um:r,o:{remove:o}},a){const{shapeFlag:l,children:u,anchor:f,targetStart:m,targetAnchor:h,target:y,props:v}=e;if(y&&(o(m),o(h)),a&&o(f),l&16){const k=a||!ls(v);for(let C=0;C<u.length;C++){const N=u[C];r(N,t,n,k,!!N.dynamicChildren)}}},move:ro,hydrate:Cf};function ro(e,t,n,{o:{insert:r},m:o},a=2){a===0&&r(e.targetAnchor,t,n);const{el:l,anchor:u,shapeFlag:f,children:m,props:h}=e,y=a===2;if(y&&r(l,t,n),(!y||ls(h))&&f&16)for(let v=0;v<m.length;v++)o(m[v],t,n,2);y&&r(u,t,n)}function Cf(e,t,n,r,o,a,{o:{nextSibling:l,parentNode:u,querySelector:f,insert:m,createText:h}},y){const v=t.target=Wi(t.props,f);if(v){const k=ls(t.props),C=v._lpa||v.firstChild;if(t.shapeFlag&16)if(k)t.anchor=y(l(e),t,u(e),n,r,o,a),t.targetStart=C,t.targetAnchor=C&&l(C);else{t.anchor=l(e);let N=C;for(;N;){if(N&&N.nodeType===8){if(N.data==="teleport start anchor")t.targetStart=N;else if(N.data==="teleport anchor"){t.targetAnchor=N,v._lpa=t.targetAnchor&&l(t.targetAnchor);break}}N=l(N)}t.targetAnchor||iu(v,t,h,m),y(C&&l(C),t,v,n,r,o,a)}fo(t,k)}return t.anchor&&l(t.anchor)}const Sf=ou;function fo(e,t){const n=e.ctx;if(n&&n.ut){let r,o;for(t?(r=e.el,o=e.anchor):(r=e.targetStart,o=e.targetAnchor);r&&r!==o;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function iu(e,t,n,r){const o=t.targetStart=n(""),a=t.targetAnchor=n("");return o[su]=a,e&&(r(o,e),r(a,e)),a}const If=Symbol("_leaveCb");function xa(e,t){e.shapeFlag&6&&e.component?(e.transition=t,xa(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function ot(e,t){return Ne(e)?Bt({name:e.name},t,{setup:e}):e}function Pf(){const e=Bn();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function au(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function us(e,t,n,r,o=!1){if(Te(e)){e.forEach((C,N)=>us(C,t&&(Te(t)?t[N]:t),n,r,o));return}if(Nr(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&us(e,t,n,r.component.subTree);return}const a=r.shapeFlag&4?Uo(r.component):r.el,l=o?null:a,{i:u,r:f}=e,m=t&&t.r,h=u.refs===at?u.refs={}:u.refs,y=u.setupState,v=Je(y),k=y===at?Al:C=>et(v,C);if(m!=null&&m!==f){if(gt(m))h[m]=null,k(m)&&(y[m]=null);else if(bt(m)){m.value=null;const C=t;C.k&&(h[C.k]=null)}}if(Ne(f))Ss(f,u,12,[l,h]);else{const C=gt(f),N=bt(f);if(C||N){const H=()=>{if(e.f){const K=C?k(f)?y[f]:h[f]:f.value;if(o)Te(K)&&ua(K,a);else if(Te(K))K.includes(a)||K.push(a);else if(C)h[f]=[a],k(f)&&(y[f]=h[f]);else{const X=[a];f.value=X,e.k&&(h[e.k]=X)}}else C?(h[f]=l,k(f)&&(y[f]=l)):N&&(f.value=l,e.k&&(h[e.k]=l))};l?(H.id=-1,Ut(H,n)):H()}}}Do().requestIdleCallback;Do().cancelIdleCallback;const Nr=e=>!!e.type.__asyncLoader,cu=e=>e.type.__isKeepAlive;function Of(e,t){lu(e,"a",t)}function Rf(e,t){lu(e,"da",t)}function lu(e,t,n=Mt){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Bo(t,r,n),n){let o=n.parent;for(;o&&o.parent;)cu(o.parent.vnode)&&Df(r,t,n,o),o=o.parent}}function Df(e,t,n,r){const o=Bo(t,e,r,!0);No(()=>{ua(r[t],o)},n)}function Bo(e,t,n=Mt,r=!1){if(n){const o=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...l)=>{Tn();const u=Is(n),f=_n(t,n,e,l);return u(),Fn(),f});return r?o.unshift(a):o.push(a),a}}const Mn=e=>(t,n=Mt)=>{(!xs||e==="sp")&&Bo(e,(...r)=>t(...r),n)},$f=Mn("bm"),tr=Mn("m"),Tf=Mn("bu"),Ff=Mn("u"),uu=Mn("bum"),No=Mn("um"),Mf=Mn("sp"),Bf=Mn("rtg"),Nf=Mn("rtc");function jf(e,t=Mt){Bo("ec",e,t)}const Lf="components";function jo(e,t){return Uf(Lf,e,!0,t)||e}const qf=Symbol.for("v-ndc");function Uf(e,t,n=!0,r=!1){const o=Ot||Mt;if(o){const a=o.type;{const u=Sp(a,!1);if(u&&(u===t||u===en(t)||u===Ro(en(t))))return a}const l=kc(o[e]||a[e],t)||kc(o.appContext[e],t);return!l&&r?a:l}}function kc(e,t){return e&&(e[t]||e[en(t)]||e[Ro(en(t))])}function Kt(e,t,n,r){let o;const a=n,l=Te(e);if(l||gt(e)){const u=l&&Xn(e);let f=!1,m=!1;u&&(f=!nn(e),m=er(e),e=Fo(e)),o=new Array(e.length);for(let h=0,y=e.length;h<y;h++)o[h]=t(f?m?vo(Pt(e[h])):Pt(e[h]):e[h],h,void 0,a)}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,a)}else if(lt(e))if(e[Symbol.iterator])o=Array.from(e,(u,f)=>t(u,f,void 0,a));else{const u=Object.keys(e);o=new Array(u.length);for(let f=0,m=u.length;f<m;f++){const h=u[f];o[f]=t(e[h],h,f,a)}}else o=[];return o}function Qt(e,t,n={},r,o){if(Ot.ce||Ot.parent&&Nr(Ot.parent)&&Ot.parent.ce)return U(),St(nt,null,[Ke("slot",n,r)],64);let a=e[t];a&&a._c&&(a._d=!1),U();const l=a&&du(a(n)),u=n.key||l&&l.key,f=St(nt,{key:(u&&!on(u)?u:`_${t}`)+(!l&&r?"_fb":"")},l||[],l&&e._===1?64:-2);return f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),a&&a._c&&(a._d=!0),f}function du(e){return e.some(t=>ks(t)?!(t.type===wn||t.type===nt&&!du(t.children)):!0)?e:null}const zi=e=>e?Ou(e)?Uo(e):zi(e.parent):null,ds=Bt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>zi(e.parent),$root:e=>zi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>pu(e),$forceUpdate:e=>e.f||(e.f=()=>{ka(e.update)}),$nextTick:e=>e.n||(e.n=an.bind(e.proxy)),$watch:e=>up.bind(e)}),Ii=(e,t)=>e!==at&&!e.__isScriptSetup&&et(e,t),Kf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:o,props:a,accessCache:l,type:u,appContext:f}=e;let m;if(t[0]!=="$"){const k=l[t];if(k!==void 0)switch(k){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return a[t]}else{if(Ii(r,t))return l[t]=1,r[t];if(o!==at&&et(o,t))return l[t]=2,o[t];if((m=e.propsOptions[0])&&et(m,t))return l[t]=3,a[t];if(n!==at&&et(n,t))return l[t]=4,n[t];Qi&&(l[t]=0)}}const h=ds[t];let y,v;if(h)return t==="$attrs"&&Ft(e.attrs,"get",""),h(e);if((y=u.__cssModules)&&(y=y[t]))return y;if(n!==at&&et(n,t))return l[t]=4,n[t];if(v=f.config.globalProperties,et(v,t))return v[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:a}=e;return Ii(o,t)?(o[t]=n,!0):r!==at&&et(r,t)?(r[t]=n,!0):et(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:a,type:l}},u){let f,m;return!!(n[u]||e!==at&&u[0]!=="$"&&et(e,u)||Ii(t,u)||(f=a[0])&&et(f,u)||et(r,u)||et(ds,u)||et(o.config.globalProperties,u)||(m=l.__cssModules)&&m[u])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:et(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function xc(e){return Te(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Qi=!0;function Vf(e){const t=pu(e),n=e.proxy,r=e.ctx;Qi=!1,t.beforeCreate&&Ac(t.beforeCreate,e,"bc");const{data:o,computed:a,methods:l,watch:u,provide:f,inject:m,created:h,beforeMount:y,mounted:v,beforeUpdate:k,updated:C,activated:N,deactivated:H,beforeDestroy:K,beforeUnmount:X,destroyed:j,unmounted:$,render:se,renderTracked:ge,renderTriggered:Ee,errorCaptured:Se,serverPrefetch:Ce,expose:qe,inheritAttrs:ut,components:Xe,directives:ze,filters:wt}=t;if(m&&Hf(m,r,null),l)for(const Oe in l){const Y=l[Oe];Ne(Y)&&(r[Oe]=Y.bind(n))}if(o){const Oe=o.call(n,n);lt(Oe)&&(e.data=br(Oe))}if(Qi=!0,a)for(const Oe in a){const Y=a[Oe],W=Ne(Y)?Y.bind(n,n):Ne(Y.get)?Y.get.bind(n,n):vn,L=!Ne(Y)&&Ne(Y.set)?Y.set.bind(n):vn,Ie=st({get:W,set:L});Object.defineProperty(r,Oe,{enumerable:!0,configurable:!0,get:()=>Ie.value,set:ve=>Ie.value=ve})}if(u)for(const Oe in u)fu(u[Oe],r,n,Oe);if(f){const Oe=Ne(f)?f.call(n):f;Reflect.ownKeys(Oe).forEach(Y=>{fs(Y,Oe[Y])})}h&&Ac(h,e,"c");function Fe(Oe,Y){Te(Y)?Y.forEach(W=>Oe(W.bind(n))):Y&&Oe(Y.bind(n))}if(Fe($f,y),Fe(tr,v),Fe(Tf,k),Fe(Ff,C),Fe(Of,N),Fe(Rf,H),Fe(jf,Se),Fe(Nf,ge),Fe(Bf,Ee),Fe(uu,X),Fe(No,$),Fe(Mf,Ce),Te(qe))if(qe.length){const Oe=e.exposed||(e.exposed={});qe.forEach(Y=>{Object.defineProperty(Oe,Y,{get:()=>n[Y],set:W=>n[Y]=W,enumerable:!0})})}else e.exposed||(e.exposed={});se&&e.render===vn&&(e.render=se),ut!=null&&(e.inheritAttrs=ut),Xe&&(e.components=Xe),ze&&(e.directives=ze),Ce&&au(e)}function Hf(e,t,n=vn){Te(e)&&(e=Yi(e));for(const r in e){const o=e[r];let a;lt(o)?"default"in o?a=Xt(o.from||r,o.default,!0):a=Xt(o.from||r):a=Xt(o),bt(a)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[r]=a}}function Ac(e,t,n){_n(Te(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function fu(e,t,n,r){let o=r.includes(".")?Au(n,r):()=>n[r];if(gt(e)){const a=t[e];Ne(a)&&Zt(o,a)}else if(Ne(e))Zt(o,e.bind(n));else if(lt(e))if(Te(e))e.forEach(a=>fu(a,t,n,r));else{const a=Ne(e.handler)?e.handler.bind(n):t[e.handler];Ne(a)&&Zt(o,a,e)}}function pu(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:a,config:{optionMergeStrategies:l}}=e.appContext,u=a.get(t);let f;return u?f=u:!o.length&&!n&&!r?f=t:(f={},o.length&&o.forEach(m=>ko(f,m,l,!0)),ko(f,t,l)),lt(t)&&a.set(t,f),f}function ko(e,t,n,r=!1){const{mixins:o,extends:a}=t;a&&ko(e,a,n,!0),o&&o.forEach(l=>ko(e,l,n,!0));for(const l in t)if(!(r&&l==="expose")){const u=Wf[l]||n&&n[l];e[l]=u?u(e[l],t[l]):t[l]}return e}const Wf={data:Ec,props:Cc,emits:Cc,methods:ss,computed:ss,beforeCreate:qt,created:qt,beforeMount:qt,mounted:qt,beforeUpdate:qt,updated:qt,beforeDestroy:qt,beforeUnmount:qt,destroyed:qt,unmounted:qt,activated:qt,deactivated:qt,errorCaptured:qt,serverPrefetch:qt,components:ss,directives:ss,watch:Qf,provide:Ec,inject:zf};function Ec(e,t){return t?e?function(){return Bt(Ne(e)?e.call(this,this):e,Ne(t)?t.call(this,this):t)}:t:e}function zf(e,t){return ss(Yi(e),Yi(t))}function Yi(e){if(Te(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function qt(e,t){return e?[...new Set([].concat(e,t))]:t}function ss(e,t){return e?Bt(Object.create(null),e,t):t}function Cc(e,t){return e?Te(e)&&Te(t)?[...new Set([...e,...t])]:Bt(Object.create(null),xc(e),xc(t??{})):t}function Qf(e,t){if(!e)return t;if(!t)return e;const n=Bt(Object.create(null),e);for(const r in t)n[r]=qt(e[r],t[r]);return n}function hu(){return{app:null,config:{isNativeTag:Al,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yf=0;function Gf(e,t){return function(r,o=null){Ne(r)||(r=Bt({},r)),o!=null&&!lt(o)&&(o=null);const a=hu(),l=new WeakSet,u=[];let f=!1;const m=a.app={_uid:Yf++,_component:r,_props:o,_container:null,_context:a,_instance:null,version:Pp,get config(){return a.config},set config(h){},use(h,...y){return l.has(h)||(h&&Ne(h.install)?(l.add(h),h.install(m,...y)):Ne(h)&&(l.add(h),h(m,...y))),m},mixin(h){return a.mixins.includes(h)||a.mixins.push(h),m},component(h,y){return y?(a.components[h]=y,m):a.components[h]},directive(h,y){return y?(a.directives[h]=y,m):a.directives[h]},mount(h,y,v){if(!f){const k=m._ceVNode||Ke(r,o);return k.appContext=a,v===!0?v="svg":v===!1&&(v=void 0),e(k,h,v),f=!0,m._container=h,h.__vue_app__=m,Uo(k.component)}},onUnmount(h){u.push(h)},unmount(){f&&(_n(u,m._instance,16),e(null,m._container),delete m._container.__vue_app__)},provide(h,y){return a.provides[h]=y,m},runWithContext(h){const y=gr;gr=m;try{return h()}finally{gr=y}}};return m}}let gr=null;function fs(e,t){if(Mt){let n=Mt.provides;const r=Mt.parent&&Mt.parent.provides;r===n&&(n=Mt.provides=Object.create(r)),n[e]=t}}function Xt(e,t,n=!1){const r=Bn();if(r||gr){let o=gr?gr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Ne(t)?t.call(r&&r.proxy):t}}function Jf(){return!!(Bn()||gr)}const mu={},gu=()=>Object.create(mu),yu=e=>Object.getPrototypeOf(e)===mu;function Xf(e,t,n,r=!1){const o={},a=gu();e.propsDefaults=Object.create(null),vu(e,t,o,a);for(const l in e.propsOptions[0])l in o||(o[l]=void 0);n?e.props=r?o:Ql(o):e.type.props?e.props=o:e.props=a,e.attrs=a}function Zf(e,t,n,r){const{props:o,attrs:a,vnode:{patchFlag:l}}=e,u=Je(o),[f]=e.propsOptions;let m=!1;if((r||l>0)&&!(l&16)){if(l&8){const h=e.vnode.dynamicProps;for(let y=0;y<h.length;y++){let v=h[y];if(Lo(e.emitsOptions,v))continue;const k=t[v];if(f)if(et(a,v))k!==a[v]&&(a[v]=k,m=!0);else{const C=en(v);o[C]=Gi(f,u,C,k,e,!1)}else k!==a[v]&&(a[v]=k,m=!0)}}}else{vu(e,t,o,a)&&(m=!0);let h;for(const y in u)(!t||!et(t,y)&&((h=vr(y))===y||!et(t,h)))&&(f?n&&(n[y]!==void 0||n[h]!==void 0)&&(o[y]=Gi(f,u,y,void 0,e,!0)):delete o[y]);if(a!==u)for(const y in a)(!t||!et(t,y))&&(delete a[y],m=!0)}m&&Rn(e.attrs,"set","")}function vu(e,t,n,r){const[o,a]=e.propsOptions;let l=!1,u;if(t)for(let f in t){if(is(f))continue;const m=t[f];let h;o&&et(o,h=en(f))?!a||!a.includes(h)?n[h]=m:(u||(u={}))[h]=m:Lo(e.emitsOptions,f)||(!(f in r)||m!==r[f])&&(r[f]=m,l=!0)}if(a){const f=Je(n),m=u||at;for(let h=0;h<a.length;h++){const y=a[h];n[y]=Gi(o,f,y,m[y],e,!et(m,y))}}return l}function Gi(e,t,n,r,o,a){const l=e[n];if(l!=null){const u=et(l,"default");if(u&&r===void 0){const f=l.default;if(l.type!==Function&&!l.skipFactory&&Ne(f)){const{propsDefaults:m}=o;if(n in m)r=m[n];else{const h=Is(o);r=m[n]=f.call(null,t),h()}}else r=f;o.ce&&o.ce._setProp(n,r)}l[0]&&(a&&!u?r=!1:l[1]&&(r===""||r===vr(n))&&(r=!0))}return r}const ep=new WeakMap;function bu(e,t,n=!1){const r=n?ep:t.propsCache,o=r.get(e);if(o)return o;const a=e.props,l={},u=[];let f=!1;if(!Ne(e)){const h=y=>{f=!0;const[v,k]=bu(y,t,!0);Bt(l,v),k&&u.push(...k)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!a&&!f)return lt(e)&&r.set(e,Fr),Fr;if(Te(a))for(let h=0;h<a.length;h++){const y=en(a[h]);Sc(y)&&(l[y]=at)}else if(a)for(const h in a){const y=en(h);if(Sc(y)){const v=a[h],k=l[y]=Te(v)||Ne(v)?{type:v}:Bt({},v),C=k.type;let N=!1,H=!0;if(Te(C))for(let K=0;K<C.length;++K){const X=C[K],j=Ne(X)&&X.name;if(j==="Boolean"){N=!0;break}else j==="String"&&(H=!1)}else N=Ne(C)&&C.name==="Boolean";k[0]=N,k[1]=H,(N||et(k,"default"))&&u.push(y)}}const m=[l,u];return lt(e)&&r.set(e,m),m}function Sc(e){return e[0]!=="$"&&!is(e)}const Aa=e=>e==="_"||e==="_ctx"||e==="$stable",Ea=e=>Te(e)?e.map(mn):[mn(e)],tp=(e,t,n)=>{if(t._n)return t;const r=rt((...o)=>Ea(t(...o)),n);return r._c=!1,r},_u=(e,t,n)=>{const r=e._ctx;for(const o in e){if(Aa(o))continue;const a=e[o];if(Ne(a))t[o]=tp(o,a,r);else if(a!=null){const l=Ea(a);t[o]=()=>l}}},wu=(e,t)=>{const n=Ea(t);e.slots.default=()=>n},ku=(e,t,n)=>{for(const r in t)(n||!Aa(r))&&(e[r]=t[r])},np=(e,t,n)=>{const r=e.slots=gu();if(e.vnode.shapeFlag&32){const o=t._;o?(ku(r,t,n),n&&Il(r,"_",o,!0)):_u(t,r)}else t&&wu(e,t)},rp=(e,t,n)=>{const{vnode:r,slots:o}=e;let a=!0,l=at;if(r.shapeFlag&32){const u=t._;u?n&&u===1?a=!1:ku(o,t,n):(a=!t.$stable,_u(t,o)),l=t}else t&&(wu(e,t),l={default:1});if(a)for(const u in o)!Aa(u)&&l[u]==null&&delete o[u]},Ut=yp;function sp(e){return op(e)}function op(e,t){const n=Do();n.__VUE__=!0;const{insert:r,remove:o,patchProp:a,createElement:l,createText:u,createComment:f,setText:m,setElementText:h,parentNode:y,nextSibling:v,setScopeId:k=vn,insertStaticContent:C}=e,N=(_,E,B,G=null,te=null,ee=null,fe=void 0,ue=null,ce=!!E.dynamicChildren)=>{if(_===E)return;_&&!ts(_,E)&&(G=Z(_),ve(_,te,ee,!0),_=null),E.patchFlag===-2&&(ce=!1,E.dynamicChildren=null);const{type:ne,ref:Re,shapeFlag:pe}=E;switch(ne){case qo:H(_,E,B,G);break;case wn:K(_,E,B,G);break;case Oi:_==null&&X(E,B,G,fe);break;case nt:Xe(_,E,B,G,te,ee,fe,ue,ce);break;default:pe&1?se(_,E,B,G,te,ee,fe,ue,ce):pe&6?ze(_,E,B,G,te,ee,fe,ue,ce):(pe&64||pe&128)&&ne.process(_,E,B,G,te,ee,fe,ue,ce,xe)}Re!=null&&te?us(Re,_&&_.ref,ee,E||_,!E):Re==null&&_&&_.ref!=null&&us(_.ref,null,ee,_,!0)},H=(_,E,B,G)=>{if(_==null)r(E.el=u(E.children),B,G);else{const te=E.el=_.el;E.children!==_.children&&m(te,E.children)}},K=(_,E,B,G)=>{_==null?r(E.el=f(E.children||""),B,G):E.el=_.el},X=(_,E,B,G)=>{[_.el,_.anchor]=C(_.children,E,B,G,_.el,_.anchor)},j=({el:_,anchor:E},B,G)=>{let te;for(;_&&_!==E;)te=v(_),r(_,B,G),_=te;r(E,B,G)},$=({el:_,anchor:E})=>{let B;for(;_&&_!==E;)B=v(_),o(_),_=B;o(E)},se=(_,E,B,G,te,ee,fe,ue,ce)=>{E.type==="svg"?fe="svg":E.type==="math"&&(fe="mathml"),_==null?ge(E,B,G,te,ee,fe,ue,ce):Ce(_,E,te,ee,fe,ue,ce)},ge=(_,E,B,G,te,ee,fe,ue)=>{let ce,ne;const{props:Re,shapeFlag:pe,transition:Pe,dirs:$e}=_;if(ce=_.el=l(_.type,ee,Re&&Re.is,Re),pe&8?h(ce,_.children):pe&16&&Se(_.children,ce,null,G,te,Pi(_,ee),fe,ue),$e&&lr(_,null,G,"created"),Ee(ce,_,_.scopeId,fe,G),Re){for(const He in Re)He!=="value"&&!is(He)&&a(ce,He,null,Re[He],ee,G);"value"in Re&&a(ce,"value",null,Re.value,ee),(ne=Re.onVnodeBeforeMount)&&pn(ne,G,_)}$e&&lr(_,null,G,"beforeMount");const je=ip(te,Pe);je&&Pe.beforeEnter(ce),r(ce,E,B),((ne=Re&&Re.onVnodeMounted)||je||$e)&&Ut(()=>{ne&&pn(ne,G,_),je&&Pe.enter(ce),$e&&lr(_,null,G,"mounted")},te)},Ee=(_,E,B,G,te)=>{if(B&&k(_,B),G)for(let ee=0;ee<G.length;ee++)k(_,G[ee]);if(te){let ee=te.subTree;if(E===ee||Cu(ee.type)&&(ee.ssContent===E||ee.ssFallback===E)){const fe=te.vnode;Ee(_,fe,fe.scopeId,fe.slotScopeIds,te.parent)}}},Se=(_,E,B,G,te,ee,fe,ue,ce=0)=>{for(let ne=ce;ne<_.length;ne++){const Re=_[ne]=ue?Yn(_[ne]):mn(_[ne]);N(null,Re,E,B,G,te,ee,fe,ue)}},Ce=(_,E,B,G,te,ee,fe)=>{const ue=E.el=_.el;let{patchFlag:ce,dynamicChildren:ne,dirs:Re}=E;ce|=_.patchFlag&16;const pe=_.props||at,Pe=E.props||at;let $e;if(B&&ur(B,!1),($e=Pe.onVnodeBeforeUpdate)&&pn($e,B,E,_),Re&&lr(E,_,B,"beforeUpdate"),B&&ur(B,!0),(pe.innerHTML&&Pe.innerHTML==null||pe.textContent&&Pe.textContent==null)&&h(ue,""),ne?qe(_.dynamicChildren,ne,ue,B,G,Pi(E,te),ee):fe||Y(_,E,ue,null,B,G,Pi(E,te),ee,!1),ce>0){if(ce&16)ut(ue,pe,Pe,B,te);else if(ce&2&&pe.class!==Pe.class&&a(ue,"class",null,Pe.class,te),ce&4&&a(ue,"style",pe.style,Pe.style,te),ce&8){const je=E.dynamicProps;for(let He=0;He<je.length;He++){const Qe=je[He],_t=pe[Qe],xt=Pe[Qe];(xt!==_t||Qe==="value")&&a(ue,Qe,_t,xt,te,B)}}ce&1&&_.children!==E.children&&h(ue,E.children)}else!fe&&ne==null&&ut(ue,pe,Pe,B,te);(($e=Pe.onVnodeUpdated)||Re)&&Ut(()=>{$e&&pn($e,B,E,_),Re&&lr(E,_,B,"updated")},G)},qe=(_,E,B,G,te,ee,fe)=>{for(let ue=0;ue<E.length;ue++){const ce=_[ue],ne=E[ue],Re=ce.el&&(ce.type===nt||!ts(ce,ne)||ce.shapeFlag&198)?y(ce.el):B;N(ce,ne,Re,null,G,te,ee,fe,!0)}},ut=(_,E,B,G,te)=>{if(E!==B){if(E!==at)for(const ee in E)!is(ee)&&!(ee in B)&&a(_,ee,E[ee],null,te,G);for(const ee in B){if(is(ee))continue;const fe=B[ee],ue=E[ee];fe!==ue&&ee!=="value"&&a(_,ee,ue,fe,te,G)}"value"in B&&a(_,"value",E.value,B.value,te)}},Xe=(_,E,B,G,te,ee,fe,ue,ce)=>{const ne=E.el=_?_.el:u(""),Re=E.anchor=_?_.anchor:u("");let{patchFlag:pe,dynamicChildren:Pe,slotScopeIds:$e}=E;$e&&(ue=ue?ue.concat($e):$e),_==null?(r(ne,B,G),r(Re,B,G),Se(E.children||[],B,Re,te,ee,fe,ue,ce)):pe>0&&pe&64&&Pe&&_.dynamicChildren?(qe(_.dynamicChildren,Pe,B,te,ee,fe,ue),(E.key!=null||te&&E===te.subTree)&&Ca(_,E,!0)):Y(_,E,B,Re,te,ee,fe,ue,ce)},ze=(_,E,B,G,te,ee,fe,ue,ce)=>{E.slotScopeIds=ue,_==null?E.shapeFlag&512?te.ctx.activate(E,B,G,fe,ce):wt(E,B,G,te,ee,fe,ce):it(_,E,ce)},wt=(_,E,B,G,te,ee,fe)=>{const ue=_.component=kp(_,G,te);if(cu(_)&&(ue.ctx.renderer=xe),xp(ue,!1,fe),ue.asyncDep){if(te&&te.registerDep(ue,Fe,fe),!_.el){const ce=ue.subTree=Ke(wn);K(null,ce,E,B),_.placeholder=ce.el}}else Fe(ue,_,E,B,te,ee,fe)},it=(_,E,B)=>{const G=E.component=_.component;if(mp(_,E,B))if(G.asyncDep&&!G.asyncResolved){Oe(G,E,B);return}else G.next=E,G.update();else E.el=_.el,G.vnode=E},Fe=(_,E,B,G,te,ee,fe)=>{const ue=()=>{if(_.isMounted){let{next:pe,bu:Pe,u:$e,parent:je,vnode:He}=_;{const At=xu(_);if(At){pe&&(pe.el=He.el,Oe(_,pe,fe)),At.asyncDep.then(()=>{_.isUnmounted||ue()});return}}let Qe=pe,_t;ur(_,!1),pe?(pe.el=He.el,Oe(_,pe,fe)):pe=He,Pe&&uo(Pe),(_t=pe.props&&pe.props.onVnodeBeforeUpdate)&&pn(_t,je,pe,He),ur(_,!0);const xt=Pc(_),jt=_.subTree;_.subTree=xt,N(jt,xt,y(jt.el),Z(jt),_,te,ee),pe.el=xt.el,Qe===null&&gp(_,xt.el),$e&&Ut($e,te),(_t=pe.props&&pe.props.onVnodeUpdated)&&Ut(()=>pn(_t,je,pe,He),te)}else{let pe;const{el:Pe,props:$e}=E,{bm:je,m:He,parent:Qe,root:_t,type:xt}=_,jt=Nr(E);ur(_,!1),je&&uo(je),!jt&&(pe=$e&&$e.onVnodeBeforeMount)&&pn(pe,Qe,E),ur(_,!0);{_t.ce&&_t.ce._def.shadowRoot!==!1&&_t.ce._injectChildStyle(xt);const At=_.subTree=Pc(_);N(null,At,B,G,_,te,ee),E.el=At.el}if(He&&Ut(He,te),!jt&&(pe=$e&&$e.onVnodeMounted)){const At=E;Ut(()=>pn(pe,Qe,At),te)}(E.shapeFlag&256||Qe&&Nr(Qe.vnode)&&Qe.vnode.shapeFlag&256)&&_.a&&Ut(_.a,te),_.isMounted=!0,E=B=G=null}};_.scope.on();const ce=_.effect=new Tl(ue);_.scope.off();const ne=_.update=ce.run.bind(ce),Re=_.job=ce.runIfDirty.bind(ce);Re.i=_,Re.id=_.uid,ce.scheduler=()=>ka(Re),ur(_,!0),ne()},Oe=(_,E,B)=>{E.component=_;const G=_.vnode.props;_.vnode=E,_.next=null,Zf(_,E.props,G,B),rp(_,E.children,B),Tn(),vc(_),Fn()},Y=(_,E,B,G,te,ee,fe,ue,ce=!1)=>{const ne=_&&_.children,Re=_?_.shapeFlag:0,pe=E.children,{patchFlag:Pe,shapeFlag:$e}=E;if(Pe>0){if(Pe&128){L(ne,pe,B,G,te,ee,fe,ue,ce);return}else if(Pe&256){W(ne,pe,B,G,te,ee,fe,ue,ce);return}}$e&8?(Re&16&&pt(ne,te,ee),pe!==ne&&h(B,pe)):Re&16?$e&16?L(ne,pe,B,G,te,ee,fe,ue,ce):pt(ne,te,ee,!0):(Re&8&&h(B,""),$e&16&&Se(pe,B,G,te,ee,fe,ue,ce))},W=(_,E,B,G,te,ee,fe,ue,ce)=>{_=_||Fr,E=E||Fr;const ne=_.length,Re=E.length,pe=Math.min(ne,Re);let Pe;for(Pe=0;Pe<pe;Pe++){const $e=E[Pe]=ce?Yn(E[Pe]):mn(E[Pe]);N(_[Pe],$e,B,null,te,ee,fe,ue,ce)}ne>Re?pt(_,te,ee,!0,!1,pe):Se(E,B,G,te,ee,fe,ue,ce,pe)},L=(_,E,B,G,te,ee,fe,ue,ce)=>{let ne=0;const Re=E.length;let pe=_.length-1,Pe=Re-1;for(;ne<=pe&&ne<=Pe;){const $e=_[ne],je=E[ne]=ce?Yn(E[ne]):mn(E[ne]);if(ts($e,je))N($e,je,B,null,te,ee,fe,ue,ce);else break;ne++}for(;ne<=pe&&ne<=Pe;){const $e=_[pe],je=E[Pe]=ce?Yn(E[Pe]):mn(E[Pe]);if(ts($e,je))N($e,je,B,null,te,ee,fe,ue,ce);else break;pe--,Pe--}if(ne>pe){if(ne<=Pe){const $e=Pe+1,je=$e<Re?E[$e].el:G;for(;ne<=Pe;)N(null,E[ne]=ce?Yn(E[ne]):mn(E[ne]),B,je,te,ee,fe,ue,ce),ne++}}else if(ne>Pe)for(;ne<=pe;)ve(_[ne],te,ee,!0),ne++;else{const $e=ne,je=ne,He=new Map;for(ne=je;ne<=Pe;ne++){const ht=E[ne]=ce?Yn(E[ne]):mn(E[ne]);ht.key!=null&&He.set(ht.key,ne)}let Qe,_t=0;const xt=Pe-je+1;let jt=!1,At=0;const ln=new Array(xt);for(ne=0;ne<xt;ne++)ln[ne]=0;for(ne=$e;ne<=pe;ne++){const ht=_[ne];if(_t>=xt){ve(ht,te,ee,!0);continue}let _e;if(ht.key!=null)_e=He.get(ht.key);else for(Qe=je;Qe<=Pe;Qe++)if(ln[Qe-je]===0&&ts(ht,E[Qe])){_e=Qe;break}_e===void 0?ve(ht,te,ee,!0):(ln[_e-je]=ne+1,_e>=At?At=_e:jt=!0,N(ht,E[_e],B,null,te,ee,fe,ue,ce),_t++)}const wr=jt?ap(ln):Fr;for(Qe=wr.length-1,ne=xt-1;ne>=0;ne--){const ht=je+ne,_e=E[ht],Nn=E[ht+1],un=ht+1<Re?Nn.el||Nn.placeholder:G;ln[ne]===0?N(null,_e,B,un,te,ee,fe,ue,ce):jt&&(Qe<0||ne!==wr[Qe]?Ie(_e,B,un,2):Qe--)}}},Ie=(_,E,B,G,te=null)=>{const{el:ee,type:fe,transition:ue,children:ce,shapeFlag:ne}=_;if(ne&6){Ie(_.component.subTree,E,B,G);return}if(ne&128){_.suspense.move(E,B,G);return}if(ne&64){fe.move(_,E,B,xe);return}if(fe===nt){r(ee,E,B);for(let pe=0;pe<ce.length;pe++)Ie(ce[pe],E,B,G);r(_.anchor,E,B);return}if(fe===Oi){j(_,E,B);return}if(G!==2&&ne&1&&ue)if(G===0)ue.beforeEnter(ee),r(ee,E,B),Ut(()=>ue.enter(ee),te);else{const{leave:pe,delayLeave:Pe,afterLeave:$e}=ue,je=()=>{_.ctx.isUnmounted?o(ee):r(ee,E,B)},He=()=>{ee._isLeaving&&ee[If](!0),pe(ee,()=>{je(),$e&&$e()})};Pe?Pe(ee,je,He):He()}else r(ee,E,B)},ve=(_,E,B,G=!1,te=!1)=>{const{type:ee,props:fe,ref:ue,children:ce,dynamicChildren:ne,shapeFlag:Re,patchFlag:pe,dirs:Pe,cacheIndex:$e}=_;if(pe===-2&&(te=!1),ue!=null&&(Tn(),us(ue,null,B,_,!0),Fn()),$e!=null&&(E.renderCache[$e]=void 0),Re&256){E.ctx.deactivate(_);return}const je=Re&1&&Pe,He=!Nr(_);let Qe;if(He&&(Qe=fe&&fe.onVnodeBeforeUnmount)&&pn(Qe,E,_),Re&6)Nt(_.component,B,G);else{if(Re&128){_.suspense.unmount(B,G);return}je&&lr(_,null,E,"beforeUnmount"),Re&64?_.type.remove(_,E,B,xe,G):ne&&!ne.hasOnce&&(ee!==nt||pe>0&&pe&64)?pt(ne,E,B,!1,!0):(ee===nt&&pe&384||!te&&Re&16)&&pt(ce,E,B),G&&Ve(_)}(He&&(Qe=fe&&fe.onVnodeUnmounted)||je)&&Ut(()=>{Qe&&pn(Qe,E,_),je&&lr(_,null,E,"unmounted")},B)},Ve=_=>{const{type:E,el:B,anchor:G,transition:te}=_;if(E===nt){Ht(B,G);return}if(E===Oi){$(_);return}const ee=()=>{o(B),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if(_.shapeFlag&1&&te&&!te.persisted){const{leave:fe,delayLeave:ue}=te,ce=()=>fe(B,ee);ue?ue(_.el,ee,ce):ce()}else ee()},Ht=(_,E)=>{let B;for(;_!==E;)B=v(_),o(_),_=B;o(E)},Nt=(_,E,B)=>{const{bum:G,scope:te,job:ee,subTree:fe,um:ue,m:ce,a:ne}=_;Ic(ce),Ic(ne),G&&uo(G),te.stop(),ee&&(ee.flags|=8,ve(fe,_,E,B)),ue&&Ut(ue,E),Ut(()=>{_.isUnmounted=!0},E)},pt=(_,E,B,G=!1,te=!1,ee=0)=>{for(let fe=ee;fe<_.length;fe++)ve(_[fe],E,B,G,te)},Z=_=>{if(_.shapeFlag&6)return Z(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const E=v(_.anchor||_.el),B=E&&E[su];return B?v(B):E};let be=!1;const z=(_,E,B)=>{_==null?E._vnode&&ve(E._vnode,null,null,!0):N(E._vnode||null,_,E,null,null,null,B),E._vnode=_,be||(be=!0,vc(),tu(),be=!1)},xe={p:N,um:ve,m:Ie,r:Ve,mt:wt,mc:Se,pc:Y,pbc:qe,n:Z,o:e};return{render:z,hydrate:void 0,createApp:Gf(z)}}function Pi({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ur({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ip(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ca(e,t,n=!1){const r=e.children,o=t.children;if(Te(r)&&Te(o))for(let a=0;a<r.length;a++){const l=r[a];let u=o[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=o[a]=Yn(o[a]),u.el=l.el),!n&&u.patchFlag!==-2&&Ca(l,u)),u.type===qo&&u.patchFlag!==-1&&(u.el=l.el),u.type===wn&&!u.el&&(u.el=l.el)}}function ap(e){const t=e.slice(),n=[0];let r,o,a,l,u;const f=e.length;for(r=0;r<f;r++){const m=e[r];if(m!==0){if(o=n[n.length-1],e[o]<m){t[r]=o,n.push(r);continue}for(a=0,l=n.length-1;a<l;)u=a+l>>1,e[n[u]]<m?a=u+1:l=u;m<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,l=n[a-1];a-- >0;)n[a]=l,l=t[l];return n}function xu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:xu(t)}function Ic(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const cp=Symbol.for("v-scx"),lp=()=>Xt(cp);function Ur(e,t){return Sa(e,null,t)}function Zt(e,t,n){return Sa(e,t,n)}function Sa(e,t,n=at){const{immediate:r,deep:o,flush:a,once:l}=n,u=Bt({},n),f=t&&r||!t&&a!=="post";let m;if(xs){if(a==="sync"){const k=lp();m=k.__watcherHandles||(k.__watcherHandles=[])}else if(!f){const k=()=>{};return k.stop=vn,k.resume=vn,k.pause=vn,k}}const h=Mt;u.call=(k,C,N)=>_n(k,h,C,N);let y=!1;a==="post"?u.scheduler=k=>{Ut(k,h&&h.suspense)}:a!=="sync"&&(y=!0,u.scheduler=(k,C)=>{C?k():ka(k)}),u.augmentJob=k=>{t&&(k.flags|=4),y&&(k.flags|=2,h&&(k.id=h.uid,k.i=h))};const v=wf(e,t,u);return xs&&(m?m.push(v):f&&v()),v}function up(e,t,n){const r=this.proxy,o=gt(e)?e.includes(".")?Au(r,e):()=>r[e]:e.bind(r,r);let a;Ne(t)?a=t:(a=t.handler,n=t);const l=Is(this),u=Sa(o,a.bind(r),n);return l(),u}function Au(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}const dp=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${en(t)}Modifiers`]||e[`${vr(t)}Modifiers`];function fp(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||at;let o=n;const a=t.startsWith("update:"),l=a&&dp(r,t.slice(7));l&&(l.trim&&(o=n.map(h=>gt(h)?h.trim():h)),l.number&&(o=n.map(go)));let u,f=r[u=lo(t)]||r[u=lo(en(t))];!f&&a&&(f=r[u=lo(vr(t))]),f&&_n(f,e,6,o);const m=r[u+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,_n(m,e,6,o)}}function Eu(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const a=e.emits;let l={},u=!1;if(!Ne(e)){const f=m=>{const h=Eu(m,t,!0);h&&(u=!0,Bt(l,h))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!a&&!u?(lt(e)&&r.set(e,null),null):(Te(a)?a.forEach(f=>l[f]=null):Bt(l,a),lt(e)&&r.set(e,l),l)}function Lo(e,t){return!e||!Io(t)?!1:(t=t.slice(2).replace(/Once$/,""),et(e,t[0].toLowerCase()+t.slice(1))||et(e,vr(t))||et(e,t))}function Pc(e){const{type:t,vnode:n,proxy:r,withProxy:o,propsOptions:[a],slots:l,attrs:u,emit:f,render:m,renderCache:h,props:y,data:v,setupState:k,ctx:C,inheritAttrs:N}=e,H=wo(e);let K,X;try{if(n.shapeFlag&4){const $=o||r,se=$;K=mn(m.call(se,$,h,y,k,v,C)),X=u}else{const $=t;K=mn($.length>1?$(y,{attrs:u,slots:l,emit:f}):$(y,null)),X=t.props?u:pp(u)}}catch($){ps.length=0,Mo($,e,1),K=Ke(wn)}let j=K;if(X&&N!==!1){const $=Object.keys(X),{shapeFlag:se}=j;$.length&&se&7&&(a&&$.some(la)&&(X=hp(X,a)),j=yr(j,X,!1,!0))}return n.dirs&&(j=yr(j,null,!1,!0),j.dirs=j.dirs?j.dirs.concat(n.dirs):n.dirs),n.transition&&xa(j,n.transition),K=j,wo(H),K}const pp=e=>{let t;for(const n in e)(n==="class"||n==="style"||Io(n))&&((t||(t={}))[n]=e[n]);return t},hp=(e,t)=>{const n={};for(const r in e)(!la(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function mp(e,t,n){const{props:r,children:o,component:a}=e,{props:l,children:u,patchFlag:f}=t,m=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?Oc(r,l,m):!!l;if(f&8){const h=t.dynamicProps;for(let y=0;y<h.length;y++){const v=h[y];if(l[v]!==r[v]&&!Lo(m,v))return!0}}}else return(o||u)&&(!u||!u.$stable)?!0:r===l?!1:r?l?Oc(r,l,m):!0:!!l;return!1}function Oc(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const a=r[o];if(t[a]!==e[a]&&!Lo(n,a))return!0}return!1}function gp({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Cu=e=>e.__isSuspense;function yp(e,t){t&&t.pendingBranch?Te(e)?t.effects.push(...e):t.effects.push(e):Af(e)}const nt=Symbol.for("v-fgt"),qo=Symbol.for("v-txt"),wn=Symbol.for("v-cmt"),Oi=Symbol.for("v-stc"),ps=[];let Jt=null;function U(e=!1){ps.push(Jt=e?null:[])}function vp(){ps.pop(),Jt=ps[ps.length-1]||null}let ws=1;function Rc(e,t=!1){ws+=e,e<0&&Jt&&t&&(Jt.hasOnce=!0)}function Su(e){return e.dynamicChildren=ws>0?Jt||Fr:null,vp(),ws>0&&Jt&&Jt.push(e),e}function J(e,t,n,r,o,a){return Su(w(e,t,n,r,o,a,!0))}function St(e,t,n,r,o){return Su(Ke(e,t,n,r,o,!0))}function ks(e){return e?e.__v_isVNode===!0:!1}function ts(e,t){return e.type===t.type&&e.key===t.key}const Iu=({key:e})=>e??null,po=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?gt(e)||bt(e)||Ne(e)?{i:Ot,r:e,k:t,f:!!n}:e:null);function w(e,t=null,n=null,r=0,o=null,a=e===nt?0:1,l=!1,u=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Iu(t),ref:t&&po(t),scopeId:ru,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Ot};return u?(Ia(f,n),a&128&&e.normalize(f)):n&&(f.shapeFlag|=gt(n)?8:16),ws>0&&!l&&Jt&&(f.patchFlag>0||a&6)&&f.patchFlag!==32&&Jt.push(f),f}const Ke=bp;function bp(e,t=null,n=null,r=0,o=null,a=!1){if((!e||e===qf)&&(e=wn),ks(e)){const u=yr(e,t,!0);return n&&Ia(u,n),ws>0&&!a&&Jt&&(u.shapeFlag&6?Jt[Jt.indexOf(e)]=u:Jt.push(u)),u.patchFlag=-2,u}if(Ip(e)&&(e=e.__vccOpts),t){t=Pu(t);let{class:u,style:f}=t;u&&!gt(u)&&(t.class=kt(u)),lt(f)&&(ba(f)&&!Te(f)&&(f=Bt({},f)),t.style=$n(f))}const l=gt(e)?1:Cu(e)?128:Ef(e)?64:lt(e)?4:Ne(e)?2:0;return w(e,t,n,r,o,l,a,!0)}function Pu(e){return e?ba(e)||yu(e)?Bt({},e):e:null}function yr(e,t,n=!1,r=!1){const{props:o,ref:a,patchFlag:l,children:u,transition:f}=e,m=t?kn(o||{},t):o,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:m,key:m&&Iu(m),ref:t&&t.ref?n&&a?Te(a)?a.concat(po(t)):[a,po(t)]:po(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==nt?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:f,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&yr(e.ssContent),ssFallback:e.ssFallback&&yr(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return f&&r&&xa(h,f.clone(h)),h}function zt(e=" ",t=0){return Ke(qo,null,e,t)}function De(e="",t=!1){return t?(U(),St(wn,null,e)):Ke(wn,null,e)}function mn(e){return e==null||typeof e=="boolean"?Ke(wn):Te(e)?Ke(nt,null,e.slice()):ks(e)?Yn(e):Ke(qo,null,String(e))}function Yn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:yr(e)}function Ia(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Te(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),Ia(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!yu(t)?t._ctx=Ot:o===3&&Ot&&(Ot.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ne(t)?(t={default:t,_ctx:Ot},n=32):(t=String(t),r&64?(n=16,t=[zt(t)]):n=8);e.children=t,e.shapeFlag|=n}function kn(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=kt([t.class,r.class]));else if(o==="style")t.style=$n([t.style,r.style]);else if(Io(o)){const a=t[o],l=r[o];l&&a!==l&&!(Te(a)&&a.includes(l))&&(t[o]=a?[].concat(a,l):l)}else o!==""&&(t[o]=r[o])}return t}function pn(e,t,n,r=null){_n(e,t,7,[n,r])}const _p=hu();let wp=0;function kp(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||_p,a={uid:wp++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Dl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bu(r,o),emitsOptions:Eu(r,o),emit:null,emitted:null,propsDefaults:at,inheritAttrs:r.inheritAttrs,ctx:at,data:at,props:at,attrs:at,slots:at,refs:at,setupState:at,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=fp.bind(null,a),e.ce&&e.ce(a),a}let Mt=null;const Bn=()=>Mt||Ot;let xo,Ji;{const e=Do(),t=(n,r)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(r),a=>{o.length>1?o.forEach(l=>l(a)):o[0](a)}};xo=t("__VUE_INSTANCE_SETTERS__",n=>Mt=n),Ji=t("__VUE_SSR_SETTERS__",n=>xs=n)}const Is=e=>{const t=Mt;return xo(e),e.scope.on(),()=>{e.scope.off(),xo(t)}},Dc=()=>{Mt&&Mt.scope.off(),xo(null)};function Ou(e){return e.vnode.shapeFlag&4}let xs=!1;function xp(e,t=!1,n=!1){t&&Ji(t);const{props:r,children:o}=e.vnode,a=Ou(e);Xf(e,r,a,t),np(e,o,n||t);const l=a?Ap(e,t):void 0;return t&&Ji(!1),l}function Ap(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Kf);const{setup:r}=n;if(r){Tn();const o=e.setupContext=r.length>1?Cp(e):null,a=Is(e),l=Ss(r,e,0,[e.props,o]),u=El(l);if(Fn(),a(),(u||e.sp)&&!Nr(e)&&au(e),u){if(l.then(Dc,Dc),t)return l.then(f=>{$c(e,f)}).catch(f=>{Mo(f,e,0)});e.asyncDep=l}else $c(e,l)}else Ru(e)}function $c(e,t,n){Ne(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:lt(t)&&(e.setupState=Xl(t)),Ru(e)}function Ru(e,t,n){const r=e.type;e.render||(e.render=r.render||vn);{const o=Is(e);Tn();try{Vf(e)}finally{Fn(),o()}}}const Ep={get(e,t){return Ft(e,"get",""),e[t]}};function Cp(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Ep),slots:e.slots,emit:e.emit,expose:t}}function Uo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Xl(_a(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ds)return ds[n](e)},has(t,n){return n in t||n in ds}})):e.proxy}function Sp(e,t=!0){return Ne(e)?e.displayName||e.name:e.name||t&&e.__name}function Ip(e){return Ne(e)&&"__vccOpts"in e}const st=(e,t)=>bf(e,t,xs);function jr(e,t,n){const r=arguments.length;return r===2?lt(t)&&!Te(t)?ks(t)?Ke(e,null,[t]):Ke(e,t):Ke(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ks(n)&&(n=[n]),Ke(e,t,n))}const Pp="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xi;const Tc=typeof window<"u"&&window.trustedTypes;if(Tc)try{Xi=Tc.createPolicy("vue",{createHTML:e=>e})}catch{}const Du=Xi?e=>Xi.createHTML(e):e=>e,Op="http://www.w3.org/2000/svg",Rp="http://www.w3.org/1998/Math/MathML",On=typeof document<"u"?document:null,Fc=On&&On.createElement("template"),Dp={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t==="svg"?On.createElementNS(Op,e):t==="mathml"?On.createElementNS(Rp,e):n?On.createElement(e,{is:n}):On.createElement(e);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>On.createTextNode(e),createComment:e=>On.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>On.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,a){const l=n?n.previousSibling:t.lastChild;if(o&&(o===a||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===a||!(o=o.nextSibling)););else{Fc.innerHTML=Du(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const u=Fc.content;if(r==="svg"||r==="mathml"){const f=u.firstChild;for(;f.firstChild;)u.appendChild(f.firstChild);u.removeChild(f)}t.insertBefore(u,n)}return[l?l.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},$p=Symbol("_vtc");function Tp(e,t,n){const r=e[$p];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ao=Symbol("_vod"),$u=Symbol("_vsh"),Fp={name:"show",beforeMount(e,{value:t},{transition:n}){e[Ao]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ns(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),ns(e,!0),r.enter(e)):r.leave(e,()=>{ns(e,!1)}):ns(e,t))},beforeUnmount(e,{value:t}){ns(e,t)}};function ns(e,t){e.style.display=t?e[Ao]:"none",e[$u]=!t}const Mp=Symbol(""),Bp=/(^|;)\s*display\s*:/;function Np(e,t,n){const r=e.style,o=gt(n);let a=!1;if(n&&!o){if(t)if(gt(t))for(const l of t.split(";")){const u=l.slice(0,l.indexOf(":")).trim();n[u]==null&&ho(r,u,"")}else for(const l in t)n[l]==null&&ho(r,l,"");for(const l in n)l==="display"&&(a=!0),ho(r,l,n[l])}else if(o){if(t!==n){const l=r[Mp];l&&(n+=";"+l),r.cssText=n,a=Bp.test(n)}}else t&&e.removeAttribute("style");Ao in e&&(e[Ao]=a?r.display:"",e[$u]&&(r.display="none"))}const Mc=/\s*!important$/;function ho(e,t,n){if(Te(n))n.forEach(r=>ho(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=jp(e,t);Mc.test(n)?e.setProperty(vr(r),n.replace(Mc,""),"important"):e[r]=n}}const Bc=["Webkit","Moz","ms"],Ri={};function jp(e,t){const n=Ri[t];if(n)return n;let r=en(t);if(r!=="filter"&&r in e)return Ri[t]=r;r=Ro(r);for(let o=0;o<Bc.length;o++){const a=Bc[o]+r;if(a in e)return Ri[t]=a}return t}const Nc="http://www.w3.org/1999/xlink";function jc(e,t,n,r,o,a=Hd(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Nc,t.slice(6,t.length)):e.setAttributeNS(Nc,t,n):n==null||a&&!Pl(n)?e.removeAttribute(t):e.setAttribute(t,a?"":on(n)?String(n):n)}function Lc(e,t,n,r,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Du(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?e.getAttribute("value")||"":e.value,f=n==null?e.type==="checkbox"?"on":"":String(n);(u!==f||!("_value"in e))&&(e.value=f),n==null&&e.removeAttribute(t),e._value=n;return}let l=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=Pl(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(o||t)}function pr(e,t,n,r){e.addEventListener(t,n,r)}function Lp(e,t,n,r){e.removeEventListener(t,n,r)}const qc=Symbol("_vei");function qp(e,t,n,r,o=null){const a=e[qc]||(e[qc]={}),l=a[t];if(r&&l)l.value=r;else{const[u,f]=Up(t);if(r){const m=a[t]=Hp(r,o);pr(e,u,m,f)}else l&&(Lp(e,u,l,f),a[t]=void 0)}}const Uc=/(?:Once|Passive|Capture)$/;function Up(e){let t;if(Uc.test(e)){t={};let r;for(;r=e.match(Uc);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):vr(e.slice(2)),t]}let Di=0;const Kp=Promise.resolve(),Vp=()=>Di||(Kp.then(()=>Di=0),Di=Date.now());function Hp(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;_n(Wp(r,n.value),t,5,[r])};return n.value=e,n.attached=Vp(),n}function Wp(e,t){if(Te(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const Kc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,zp=(e,t,n,r,o,a)=>{const l=o==="svg";t==="class"?Tp(e,r,l):t==="style"?Np(e,n,r):Io(t)?la(t)||qp(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Qp(e,t,r,l))?(Lc(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&jc(e,t,r,l,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!gt(r))?Lc(e,en(t),r,a,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),jc(e,t,r,l))};function Qp(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Kc(t)&&Ne(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Kc(t)&&gt(n)?!1:t in e}const Eo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Te(t)?n=>uo(t,n):t};function Yp(e){e.target.composing=!0}function Vc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Lr=Symbol("_assign"),Zi={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e[Lr]=Eo(o);const a=r||o.props&&o.props.type==="number";pr(e,t?"change":"input",l=>{if(l.target.composing)return;let u=e.value;n&&(u=u.trim()),a&&(u=go(u)),e[Lr](u)}),n&&pr(e,"change",()=>{e.value=e.value.trim()}),t||(pr(e,"compositionstart",Yp),pr(e,"compositionend",Vc),pr(e,"change",Vc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:o,number:a}},l){if(e[Lr]=Eo(l),e.composing)return;const u=(a||e.type==="number")&&!/^0\d/.test(e.value)?go(e.value):e.value,f=t??"";u!==f&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||o&&e.value.trim()===f)||(e.value=f))}},Gp={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=Po(t);pr(e,"change",()=>{const a=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>n?go(Co(l)):Co(l));e[Lr](e.multiple?o?new Set(a):a:a[0]),e._assigning=!0,an(()=>{e._assigning=!1})}),e[Lr]=Eo(r)},mounted(e,{value:t}){Hc(e,t)},beforeUpdate(e,t,n){e[Lr]=Eo(n)},updated(e,{value:t}){e._assigning||Hc(e,t)}};function Hc(e,t){const n=e.multiple,r=Te(t);if(!(n&&!r&&!Po(t))){for(let o=0,a=e.options.length;o<a;o++){const l=e.options[o],u=Co(l);if(n)if(r){const f=typeof u;f==="string"||f==="number"?l.selected=t.some(m=>String(m)===String(u)):l.selected=zd(t,u)>-1}else l.selected=t.has(u);else if($o(Co(l),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Co(e){return"_value"in e?e._value:e.value}const Jp=Bt({patchProp:zp},Dp);let Wc;function Xp(){return Wc||(Wc=sp(Jp))}const Zp=((...e)=>{const t=Xp().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=th(r);if(!o)return;const a=t._component;!Ne(a)&&!a.render&&!a.template&&(a.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const l=n(o,!1,eh(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),l},t});function eh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function th(e){return gt(e)?document.querySelector(e):e}const nh="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201024%201024'%20width='1024'%20height='1024'%3e%3cdefs%3e%3clinearGradient%20id='bgGrad'%20x1='0'%20y1='0'%20x2='1'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23137ef2'/%3e%3cstop%20offset='100%25'%20stop-color='%235cb5f9'/%3e%3c/linearGradient%3e%3c!--%20Subtle%20soft%20shadow%20for%20floating%20cards%20--%3e%3cfilter%20id='softShadow'%20x='-20%25'%20y='-20%25'%20width='140%25'%20height='140%25'%3e%3cfeDropShadow%20dx='0'%20dy='14'%20stdDeviation='18'%20flood-color='%23000000'%20flood-opacity='0.22'/%3e%3c/filter%3e%3cfilter%20id='pageShadow'%20x='-20%25'%20y='-20%25'%20width='140%25'%20height='140%25'%3e%3cfeDropShadow%20dx='0'%20dy='10'%20stdDeviation='12'%20flood-color='%23000000'%20flood-opacity='0.18'/%3e%3c/filter%3e%3cfilter%20id='coinShadow'%20x='-20%25'%20y='-20%25'%20width='140%25'%20height='140%25'%3e%3cfeDropShadow%20dx='0'%20dy='10'%20stdDeviation='10'%20flood-color='%23000000'%20flood-opacity='0.25'/%3e%3c/filter%3e%3clinearGradient%20id='coinGrad'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23ffc02e'/%3e%3cstop%20offset='100%25'%20stop-color='%23ffaa19'/%3e%3c/linearGradient%3e%3clinearGradient%20id='coinRingGrad'%20x1='0'%20y1='0'%20x2='0'%20y2='1'%3e%3cstop%20offset='0%25'%20stop-color='%23FFC83A'/%3e%3cstop%20offset='100%25'%20stop-color='%23E59200'/%3e%3c/linearGradient%3e%3c/defs%3e%3c!--%20Rounded%20square%20background%20--%3e%3crect%20x='72'%20y='72'%20width='880'%20height='880'%20rx='220'%20fill='url(%23bgGrad)'/%3e%3c!--%20Back%20pages%20(slightly%20tilted)%20--%3e%3cg%20filter='url(%23softShadow)'%3e%3crect%20x='340'%20y='210'%20width='460'%20height='560'%20rx='42'%20fill='%23DDEBFF'%20opacity='0.9'%20transform='rotate(18%20750%20480)'/%3e%3crect%20x='300'%20y='230'%20width='470'%20height='560'%20rx='46'%20fill='%23EAF3FF'%20opacity='0.95'%20transform='rotate(12%20715%20490)'/%3e%3c/g%3e%3c!--%20Main%20notebook%20page%20--%3e%3cg%20filter='url(%23pageShadow)'%3e%3crect%20id='page'%20x='260'%20y='240'%20width='520'%20height='560'%20rx='54'%20fill='%23FFFFFF'/%3e%3c!--%20Inner%20card%20area%20--%3e%3crect%20x='356'%20y='322'%20width='330'%20height='420'%20rx='34'%20fill='%23EDEFF2'/%3e%3c/g%3e%3c!--%20Binder%20rings%20--%3e%3cg%3e%3ccircle%20cx='260'%20cy='360'%20r='34'%20fill='%232B2F38'/%3e%3ccircle%20cx='260'%20cy='520'%20r='34'%20fill='%232B2F38'/%3e%3ccircle%20cx='260'%20cy='680'%20r='34'%20fill='%232B2F38'/%3e%3c!--%20little%20highlights%20--%3e%3ccircle%20cx='248'%20cy='350'%20r='10'%20fill='%23FFFFFF'%20opacity='0.35'/%3e%3ccircle%20cx='248'%20cy='510'%20r='10'%20fill='%23FFFFFF'%20opacity='0.35'/%3e%3ccircle%20cx='248'%20cy='670'%20r='10'%20fill='%23FFFFFF'%20opacity='0.35'/%3e%3c/g%3e%3c!--%20Gold%20checkmark%20coin%20--%3e%3cg%20filter='url(%23coinShadow)'%3e%3c!--%20ring%20--%3e%3ccircle%20cx='690'%20cy='680'%20r='148'%20fill='url(%23coinRingGrad)'/%3e%3ccircle%20cx='690'%20cy='680'%20r='112'%20fill='url(%23coinGrad)'/%3e%3c!--%20check%20--%3e%3cg%20transform='translate(10,60)'%3e%3cpath%20d='M635%20683%20l-36%20-36%20a18%2018%200%200%201%2025%20-25%20l25%2025%2072%20-72%20a18%2018%200%201%201%2025%2025%20l-84%2084%20a18%2018%200%200%201%20-27%200z'%20fill='%23FFFFFF'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e";/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Tr=typeof document<"u";function Tu(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function rh(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Tu(e.default)}const Ze=Object.assign;function $i(e,t){const n={};for(const r in t){const o=t[r];n[r]=cn(o)?o.map(e):e(o)}return n}const hs=()=>{},cn=Array.isArray,Fu=/#/g,sh=/&/g,oh=/\//g,ih=/=/g,ah=/\?/g,Mu=/\+/g,ch=/%5B/g,lh=/%5D/g,Bu=/%5E/g,uh=/%60/g,Nu=/%7B/g,dh=/%7C/g,ju=/%7D/g,fh=/%20/g;function Pa(e){return encodeURI(""+e).replace(dh,"|").replace(ch,"[").replace(lh,"]")}function ph(e){return Pa(e).replace(Nu,"{").replace(ju,"}").replace(Bu,"^")}function ea(e){return Pa(e).replace(Mu,"%2B").replace(fh,"+").replace(Fu,"%23").replace(sh,"%26").replace(uh,"`").replace(Nu,"{").replace(ju,"}").replace(Bu,"^")}function hh(e){return ea(e).replace(ih,"%3D")}function mh(e){return Pa(e).replace(Fu,"%23").replace(ah,"%3F")}function gh(e){return e==null?"":mh(e).replace(oh,"%2F")}function As(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const yh=/\/$/,vh=e=>e.replace(yh,"");function Ti(e,t,n="/"){let r,o={},a="",l="";const u=t.indexOf("#");let f=t.indexOf("?");return u<f&&u>=0&&(f=-1),f>-1&&(r=t.slice(0,f),a=t.slice(f+1,u>-1?u:t.length),o=e(a)),u>-1&&(r=r||t.slice(0,u),l=t.slice(u,t.length)),r=kh(r??t,n),{fullPath:r+(a&&"?")+a+l,path:r,query:o,hash:As(l)}}function bh(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function zc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function _h(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&Kr(t.matched[r],n.matched[o])&&Lu(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Kr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Lu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!wh(e[n],t[n]))return!1;return!0}function wh(e,t){return cn(e)?Qc(e,t):cn(t)?Qc(t,e):e===t}function Qc(e,t){return cn(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function kh(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let a=n.length-1,l,u;for(l=0;l<r.length;l++)if(u=r[l],u!==".")if(u==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+r.slice(l).join("/")}const Hn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Es;(function(e){e.pop="pop",e.push="push"})(Es||(Es={}));var ms;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ms||(ms={}));function xh(e){if(!e)if(Tr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),vh(e)}const Ah=/^[^#]+#/;function Eh(e,t){return e.replace(Ah,"#")+t}function Ch(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Ko=()=>({left:window.scrollX,top:window.scrollY});function Sh(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=Ch(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Yc(e,t){return(history.state?history.state.position-t:-1)+e}const ta=new Map;function Ih(e,t){ta.set(e,t)}function Ph(e){const t=ta.get(e);return ta.delete(e),t}let Oh=()=>location.protocol+"//"+location.host;function qu(e,t){const{pathname:n,search:r,hash:o}=t,a=e.indexOf("#");if(a>-1){let u=o.includes(e.slice(a))?e.slice(a).length:1,f=o.slice(u);return f[0]!=="/"&&(f="/"+f),zc(f,"")}return zc(n,e)+r+o}function Rh(e,t,n,r){let o=[],a=[],l=null;const u=({state:v})=>{const k=qu(e,location),C=n.value,N=t.value;let H=0;if(v){if(n.value=k,t.value=v,l&&l===C){l=null;return}H=N?v.position-N.position:0}else r(k);o.forEach(K=>{K(n.value,C,{delta:H,type:Es.pop,direction:H?H>0?ms.forward:ms.back:ms.unknown})})};function f(){l=n.value}function m(v){o.push(v);const k=()=>{const C=o.indexOf(v);C>-1&&o.splice(C,1)};return a.push(k),k}function h(){const{history:v}=window;v.state&&v.replaceState(Ze({},v.state,{scroll:Ko()}),"")}function y(){for(const v of a)v();a=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:f,listen:m,destroy:y}}function Gc(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?Ko():null}}function Dh(e){const{history:t,location:n}=window,r={value:qu(e,n)},o={value:t.state};o.value||a(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(f,m,h){const y=e.indexOf("#"),v=y>-1?(n.host&&document.querySelector("base")?e:e.slice(y))+f:Oh()+e+f;try{t[h?"replaceState":"pushState"](m,"",v),o.value=m}catch(k){console.error(k),n[h?"replace":"assign"](v)}}function l(f,m){const h=Ze({},t.state,Gc(o.value.back,f,o.value.forward,!0),m,{position:o.value.position});a(f,h,!0),r.value=f}function u(f,m){const h=Ze({},o.value,t.state,{forward:f,scroll:Ko()});a(h.current,h,!0);const y=Ze({},Gc(r.value,f,null),{position:h.position+1},m);a(f,y,!1),r.value=f}return{location:r,state:o,push:u,replace:l}}function $h(e){e=xh(e);const t=Dh(e),n=Rh(e,t.state,t.location,t.replace);function r(a,l=!0){l||n.pauseListeners(),history.go(a)}const o=Ze({location:"",base:e,go:r,createHref:Eh.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Th(e){return typeof e=="string"||e&&typeof e=="object"}function Uu(e){return typeof e=="string"||typeof e=="symbol"}const Ku=Symbol("");var Jc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Jc||(Jc={}));function Vr(e,t){return Ze(new Error,{type:e,[Ku]:!0},t)}function In(e,t){return e instanceof Error&&Ku in e&&(t==null||!!(e.type&t))}const Xc="[^/]+?",Fh={sensitive:!1,strict:!1,start:!0,end:!0},Mh=/[.+*?^${}()[\]/\\]/g;function Bh(e,t){const n=Ze({},Fh,t),r=[];let o=n.start?"^":"";const a=[];for(const m of e){const h=m.length?[]:[90];n.strict&&!m.length&&(o+="/");for(let y=0;y<m.length;y++){const v=m[y];let k=40+(n.sensitive?.25:0);if(v.type===0)y||(o+="/"),o+=v.value.replace(Mh,"\\$&"),k+=40;else if(v.type===1){const{value:C,repeatable:N,optional:H,regexp:K}=v;a.push({name:C,repeatable:N,optional:H});const X=K||Xc;if(X!==Xc){k+=10;try{new RegExp(`(${X})`)}catch($){throw new Error(`Invalid custom RegExp for param "${C}" (${X}): `+$.message)}}let j=N?`((?:${X})(?:/(?:${X}))*)`:`(${X})`;y||(j=H&&m.length<2?`(?:/${j})`:"/"+j),H&&(j+="?"),o+=j,k+=20,H&&(k+=-8),N&&(k+=-20),X===".*"&&(k+=-50)}h.push(k)}r.push(h)}if(n.strict&&n.end){const m=r.length-1;r[m][r[m].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const l=new RegExp(o,n.sensitive?"":"i");function u(m){const h=m.match(l),y={};if(!h)return null;for(let v=1;v<h.length;v++){const k=h[v]||"",C=a[v-1];y[C.name]=k&&C.repeatable?k.split("/"):k}return y}function f(m){let h="",y=!1;for(const v of e){(!y||!h.endsWith("/"))&&(h+="/"),y=!1;for(const k of v)if(k.type===0)h+=k.value;else if(k.type===1){const{value:C,repeatable:N,optional:H}=k,K=C in m?m[C]:"";if(cn(K)&&!N)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const X=cn(K)?K.join("/"):K;if(!X)if(H)v.length<2&&(h.endsWith("/")?h=h.slice(0,-1):y=!0);else throw new Error(`Missing required param "${C}"`);h+=X}}return h||"/"}return{re:l,score:r,keys:a,parse:u,stringify:f}}function Nh(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Vu(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const a=Nh(r[n],o[n]);if(a)return a;n++}if(Math.abs(o.length-r.length)===1){if(Zc(r))return 1;if(Zc(o))return-1}return o.length-r.length}function Zc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const jh={type:0,value:""},Lh=/[a-zA-Z0-9_]/;function qh(e){if(!e)return[[]];if(e==="/")return[[jh]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(k){throw new Error(`ERR (${n})/"${m}": ${k}`)}let n=0,r=n;const o=[];let a;function l(){a&&o.push(a),a=[]}let u=0,f,m="",h="";function y(){m&&(n===0?a.push({type:0,value:m}):n===1||n===2||n===3?(a.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${m}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:m,regexp:h,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),m="")}function v(){m+=f}for(;u<e.length;){if(f=e[u++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(m&&y(),l()):f===":"?(y(),n=1):v();break;case 4:v(),n=r;break;case 1:f==="("?n=2:Lh.test(f)?v():(y(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&u--);break;case 2:f===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+f:n=3:h+=f;break;case 3:y(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&u--,h="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${m}"`),y(),l(),o}function Uh(e,t,n){const r=Bh(qh(e.path),n),o=Ze(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Kh(e,t){const n=[],r=new Map;t=rl({strict:!1,end:!0,sensitive:!1},t);function o(y){return r.get(y)}function a(y,v,k){const C=!k,N=tl(y);N.aliasOf=k&&k.record;const H=rl(t,y),K=[N];if("alias"in y){const $=typeof y.alias=="string"?[y.alias]:y.alias;for(const se of $)K.push(tl(Ze({},N,{components:k?k.record.components:N.components,path:se,aliasOf:k?k.record:N})))}let X,j;for(const $ of K){const{path:se}=$;if(v&&se[0]!=="/"){const ge=v.record.path,Ee=ge[ge.length-1]==="/"?"":"/";$.path=v.record.path+(se&&Ee+se)}if(X=Uh($,v,H),k?k.alias.push(X):(j=j||X,j!==X&&j.alias.push(X),C&&y.name&&!nl(X)&&l(y.name)),Hu(X)&&f(X),N.children){const ge=N.children;for(let Ee=0;Ee<ge.length;Ee++)a(ge[Ee],X,k&&k.children[Ee])}k=k||X}return j?()=>{l(j)}:hs}function l(y){if(Uu(y)){const v=r.get(y);v&&(r.delete(y),n.splice(n.indexOf(v),1),v.children.forEach(l),v.alias.forEach(l))}else{const v=n.indexOf(y);v>-1&&(n.splice(v,1),y.record.name&&r.delete(y.record.name),y.children.forEach(l),y.alias.forEach(l))}}function u(){return n}function f(y){const v=Wh(y,n);n.splice(v,0,y),y.record.name&&!nl(y)&&r.set(y.record.name,y)}function m(y,v){let k,C={},N,H;if("name"in y&&y.name){if(k=r.get(y.name),!k)throw Vr(1,{location:y});H=k.record.name,C=Ze(el(v.params,k.keys.filter(j=>!j.optional).concat(k.parent?k.parent.keys.filter(j=>j.optional):[]).map(j=>j.name)),y.params&&el(y.params,k.keys.map(j=>j.name))),N=k.stringify(C)}else if(y.path!=null)N=y.path,k=n.find(j=>j.re.test(N)),k&&(C=k.parse(N),H=k.record.name);else{if(k=v.name?r.get(v.name):n.find(j=>j.re.test(v.path)),!k)throw Vr(1,{location:y,currentLocation:v});H=k.record.name,C=Ze({},v.params,y.params),N=k.stringify(C)}const K=[];let X=k;for(;X;)K.unshift(X.record),X=X.parent;return{name:H,path:N,params:C,matched:K,meta:Hh(K)}}e.forEach(y=>a(y));function h(){n.length=0,r.clear()}return{addRoute:a,resolve:m,removeRoute:l,clearRoutes:h,getRoutes:u,getRecordMatcher:o}}function el(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function tl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Vh(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Vh(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function nl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Hh(e){return e.reduce((t,n)=>Ze(t,n.meta),{})}function rl(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Wh(e,t){let n=0,r=t.length;for(;n!==r;){const a=n+r>>1;Vu(e,t[a])<0?r=a:n=a+1}const o=zh(e);return o&&(r=t.lastIndexOf(o,r-1)),r}function zh(e){let t=e;for(;t=t.parent;)if(Hu(t)&&Vu(e,t)===0)return t}function Hu({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Qh(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const a=r[o].replace(Mu," "),l=a.indexOf("="),u=As(l<0?a:a.slice(0,l)),f=l<0?null:As(a.slice(l+1));if(u in t){let m=t[u];cn(m)||(m=t[u]=[m]),m.push(f)}else t[u]=f}return t}function sl(e){let t="";for(let n in e){const r=e[n];if(n=hh(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(cn(r)?r.map(a=>a&&ea(a)):[r&&ea(r)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+n,a!=null&&(t+="="+a))})}return t}function Yh(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=cn(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const Gh=Symbol(""),ol=Symbol(""),Vo=Symbol(""),Oa=Symbol(""),na=Symbol("");function rs(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Gn(e,t,n,r,o,a=l=>l()){const l=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((u,f)=>{const m=v=>{v===!1?f(Vr(4,{from:n,to:t})):v instanceof Error?f(v):Th(v)?f(Vr(2,{from:t,to:v})):(l&&r.enterCallbacks[o]===l&&typeof v=="function"&&l.push(v),u())},h=a(()=>e.call(r&&r.instances[o],t,n,m));let y=Promise.resolve(h);e.length<3&&(y=y.then(m)),y.catch(v=>f(v))})}function Fi(e,t,n,r,o=a=>a()){const a=[];for(const l of e)for(const u in l.components){let f=l.components[u];if(!(t!=="beforeRouteEnter"&&!l.instances[u]))if(Tu(f)){const h=(f.__vccOpts||f)[t];h&&a.push(Gn(h,n,r,l,u,o))}else{let m=f();a.push(()=>m.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${u}" at "${l.path}"`);const y=rh(h)?h.default:h;l.mods[u]=h,l.components[u]=y;const k=(y.__vccOpts||y)[t];return k&&Gn(k,n,r,l,u,o)()}))}}return a}function il(e){const t=Xt(Vo),n=Xt(Oa),r=st(()=>{const f=we(e.to);return t.resolve(f)}),o=st(()=>{const{matched:f}=r.value,{length:m}=f,h=f[m-1],y=n.matched;if(!h||!y.length)return-1;const v=y.findIndex(Kr.bind(null,h));if(v>-1)return v;const k=al(f[m-2]);return m>1&&al(h)===k&&y[y.length-1].path!==k?y.findIndex(Kr.bind(null,f[m-2])):v}),a=st(()=>o.value>-1&&tm(n.params,r.value.params)),l=st(()=>o.value>-1&&o.value===n.matched.length-1&&Lu(n.params,r.value.params));function u(f={}){if(em(f)){const m=t[we(e.replace)?"replace":"push"](we(e.to)).catch(hs);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>m),m}return Promise.resolve()}return{route:r,href:st(()=>r.value.href),isActive:a,isExactActive:l,navigate:u}}function Jh(e){return e.length===1?e[0]:e}const Xh=ot({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:il,setup(e,{slots:t}){const n=br(il(e)),{options:r}=Xt(Vo),o=st(()=>({[cl(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[cl(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&Jh(t.default(n));return e.custom?a:jr("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},a)}}}),Zh=Xh;function em(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function tm(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!cn(o)||o.length!==r.length||r.some((a,l)=>a!==o[l]))return!1}return!0}function al(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const cl=(e,t,n)=>e??t??n,nm=ot({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Xt(na),o=st(()=>e.route||r.value),a=Xt(ol,0),l=st(()=>{let m=we(a);const{matched:h}=o.value;let y;for(;(y=h[m])&&!y.components;)m++;return m}),u=st(()=>o.value.matched[l.value]);fs(ol,st(()=>l.value+1)),fs(Gh,u),fs(na,o);const f=Ae();return Zt(()=>[f.value,u.value,e.name],([m,h,y],[v,k,C])=>{h&&(h.instances[y]=m,k&&k!==h&&m&&m===v&&(h.leaveGuards.size||(h.leaveGuards=k.leaveGuards),h.updateGuards.size||(h.updateGuards=k.updateGuards))),m&&h&&(!k||!Kr(h,k)||!v)&&(h.enterCallbacks[y]||[]).forEach(N=>N(m))},{flush:"post"}),()=>{const m=o.value,h=e.name,y=u.value,v=y&&y.components[h];if(!v)return ll(n.default,{Component:v,route:m});const k=y.props[h],C=k?k===!0?m.params:typeof k=="function"?k(m):k:null,H=jr(v,Ze({},C,t,{onVnodeUnmounted:K=>{K.component.isUnmounted&&(y.instances[h]=null)},ref:f}));return ll(n.default,{Component:H,route:m})||H}}});function ll(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const rm=nm;function sm(e){const t=Kh(e.routes,e),n=e.parseQuery||Qh,r=e.stringifyQuery||sl,o=e.history,a=rs(),l=rs(),u=rs(),f=Gl(Hn);let m=Hn;Tr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=$i.bind(null,Z=>""+Z),y=$i.bind(null,gh),v=$i.bind(null,As);function k(Z,be){let z,xe;return Uu(Z)?(z=t.getRecordMatcher(Z),xe=be):xe=Z,t.addRoute(xe,z)}function C(Z){const be=t.getRecordMatcher(Z);be&&t.removeRoute(be)}function N(){return t.getRoutes().map(Z=>Z.record)}function H(Z){return!!t.getRecordMatcher(Z)}function K(Z,be){if(be=Ze({},be||f.value),typeof Z=="string"){const B=Ti(n,Z,be.path),G=t.resolve({path:B.path},be),te=o.createHref(B.fullPath);return Ze(B,G,{params:v(G.params),hash:As(B.hash),redirectedFrom:void 0,href:te})}let z;if(Z.path!=null)z=Ze({},Z,{path:Ti(n,Z.path,be.path).path});else{const B=Ze({},Z.params);for(const G in B)B[G]==null&&delete B[G];z=Ze({},Z,{params:y(B)}),be.params=y(be.params)}const xe=t.resolve(z,be),Ye=Z.hash||"";xe.params=h(v(xe.params));const _=bh(r,Ze({},Z,{hash:ph(Ye),path:xe.path})),E=o.createHref(_);return Ze({fullPath:_,hash:Ye,query:r===sl?Yh(Z.query):Z.query||{}},xe,{redirectedFrom:void 0,href:E})}function X(Z){return typeof Z=="string"?Ti(n,Z,f.value.path):Ze({},Z)}function j(Z,be){if(m!==Z)return Vr(8,{from:be,to:Z})}function $(Z){return Ee(Z)}function se(Z){return $(Ze(X(Z),{replace:!0}))}function ge(Z){const be=Z.matched[Z.matched.length-1];if(be&&be.redirect){const{redirect:z}=be;let xe=typeof z=="function"?z(Z):z;return typeof xe=="string"&&(xe=xe.includes("?")||xe.includes("#")?xe=X(xe):{path:xe},xe.params={}),Ze({query:Z.query,hash:Z.hash,params:xe.path!=null?{}:Z.params},xe)}}function Ee(Z,be){const z=m=K(Z),xe=f.value,Ye=Z.state,_=Z.force,E=Z.replace===!0,B=ge(z);if(B)return Ee(Ze(X(B),{state:typeof B=="object"?Ze({},Ye,B.state):Ye,force:_,replace:E}),be||z);const G=z;G.redirectedFrom=be;let te;return!_&&_h(r,xe,z)&&(te=Vr(16,{to:G,from:xe}),Ie(xe,xe,!0,!1)),(te?Promise.resolve(te):qe(G,xe)).catch(ee=>In(ee)?In(ee,2)?ee:L(ee):Y(ee,G,xe)).then(ee=>{if(ee){if(In(ee,2))return Ee(Ze({replace:E},X(ee.to),{state:typeof ee.to=="object"?Ze({},Ye,ee.to.state):Ye,force:_}),be||G)}else ee=Xe(G,xe,!0,E,Ye);return ut(G,xe,ee),ee})}function Se(Z,be){const z=j(Z,be);return z?Promise.reject(z):Promise.resolve()}function Ce(Z){const be=Ht.values().next().value;return be&&typeof be.runWithContext=="function"?be.runWithContext(Z):Z()}function qe(Z,be){let z;const[xe,Ye,_]=om(Z,be);z=Fi(xe.reverse(),"beforeRouteLeave",Z,be);for(const B of xe)B.leaveGuards.forEach(G=>{z.push(Gn(G,Z,be))});const E=Se.bind(null,Z,be);return z.push(E),pt(z).then(()=>{z=[];for(const B of a.list())z.push(Gn(B,Z,be));return z.push(E),pt(z)}).then(()=>{z=Fi(Ye,"beforeRouteUpdate",Z,be);for(const B of Ye)B.updateGuards.forEach(G=>{z.push(Gn(G,Z,be))});return z.push(E),pt(z)}).then(()=>{z=[];for(const B of _)if(B.beforeEnter)if(cn(B.beforeEnter))for(const G of B.beforeEnter)z.push(Gn(G,Z,be));else z.push(Gn(B.beforeEnter,Z,be));return z.push(E),pt(z)}).then(()=>(Z.matched.forEach(B=>B.enterCallbacks={}),z=Fi(_,"beforeRouteEnter",Z,be,Ce),z.push(E),pt(z))).then(()=>{z=[];for(const B of l.list())z.push(Gn(B,Z,be));return z.push(E),pt(z)}).catch(B=>In(B,8)?B:Promise.reject(B))}function ut(Z,be,z){u.list().forEach(xe=>Ce(()=>xe(Z,be,z)))}function Xe(Z,be,z,xe,Ye){const _=j(Z,be);if(_)return _;const E=be===Hn,B=Tr?history.state:{};z&&(xe||E?o.replace(Z.fullPath,Ze({scroll:E&&B&&B.scroll},Ye)):o.push(Z.fullPath,Ye)),f.value=Z,Ie(Z,be,z,E),L()}let ze;function wt(){ze||(ze=o.listen((Z,be,z)=>{if(!Nt.listening)return;const xe=K(Z),Ye=ge(xe);if(Ye){Ee(Ze(Ye,{replace:!0,force:!0}),xe).catch(hs);return}m=xe;const _=f.value;Tr&&Ih(Yc(_.fullPath,z.delta),Ko()),qe(xe,_).catch(E=>In(E,12)?E:In(E,2)?(Ee(Ze(X(E.to),{force:!0}),xe).then(B=>{In(B,20)&&!z.delta&&z.type===Es.pop&&o.go(-1,!1)}).catch(hs),Promise.reject()):(z.delta&&o.go(-z.delta,!1),Y(E,xe,_))).then(E=>{E=E||Xe(xe,_,!1),E&&(z.delta&&!In(E,8)?o.go(-z.delta,!1):z.type===Es.pop&&In(E,20)&&o.go(-1,!1)),ut(xe,_,E)}).catch(hs)}))}let it=rs(),Fe=rs(),Oe;function Y(Z,be,z){L(Z);const xe=Fe.list();return xe.length?xe.forEach(Ye=>Ye(Z,be,z)):console.error(Z),Promise.reject(Z)}function W(){return Oe&&f.value!==Hn?Promise.resolve():new Promise((Z,be)=>{it.add([Z,be])})}function L(Z){return Oe||(Oe=!Z,wt(),it.list().forEach(([be,z])=>Z?z(Z):be()),it.reset()),Z}function Ie(Z,be,z,xe){const{scrollBehavior:Ye}=e;if(!Tr||!Ye)return Promise.resolve();const _=!z&&Ph(Yc(Z.fullPath,0))||(xe||!z)&&history.state&&history.state.scroll||null;return an().then(()=>Ye(Z,be,_)).then(E=>E&&Sh(E)).catch(E=>Y(E,Z,be))}const ve=Z=>o.go(Z);let Ve;const Ht=new Set,Nt={currentRoute:f,listening:!0,addRoute:k,removeRoute:C,clearRoutes:t.clearRoutes,hasRoute:H,getRoutes:N,resolve:K,options:e,push:$,replace:se,go:ve,back:()=>ve(-1),forward:()=>ve(1),beforeEach:a.add,beforeResolve:l.add,afterEach:u.add,onError:Fe.add,isReady:W,install(Z){const be=this;Z.component("RouterLink",Zh),Z.component("RouterView",rm),Z.config.globalProperties.$router=be,Object.defineProperty(Z.config.globalProperties,"$route",{enumerable:!0,get:()=>we(f)}),Tr&&!Ve&&f.value===Hn&&(Ve=!0,$(o.location).catch(Ye=>{}));const z={};for(const Ye in Hn)Object.defineProperty(z,Ye,{get:()=>f.value[Ye],enumerable:!0});Z.provide(Vo,be),Z.provide(Oa,Ql(z)),Z.provide(na,f);const xe=Z.unmount;Ht.add(Z),Z.unmount=function(){Ht.delete(Z),Ht.size<1&&(m=Hn,ze&&ze(),ze=null,f.value=Hn,Ve=!1,Oe=!1),xe()}}};function pt(Z){return Z.reduce((be,z)=>be.then(()=>Ce(z)),Promise.resolve())}return Nt}function om(e,t){const n=[],r=[],o=[],a=Math.max(t.matched.length,e.matched.length);for(let l=0;l<a;l++){const u=t.matched[l];u&&(e.matched.find(m=>Kr(m,u))?r.push(u):n.push(u));const f=e.matched[l];f&&(t.matched.find(m=>Kr(m,f))||o.push(f))}return[n,r,o]}function im(){return Xt(Vo)}function Wu(e){return Xt(Oa)}const am=["aria-label"],cm={key:0},lm={key:1},um=ot({__name:"ThemeSwitcher",setup(e){const t=Ae("light"),n=()=>{const r=t.value==="light"?"dark":"light";t.value=r,document.documentElement.setAttribute("data-theme",r),document.documentElement.setAttribute("data-bs-theme",r),localStorage.setItem("theme",r)};return tr(()=>{const r=localStorage.getItem("theme"),o=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;let a="light";r?a=r:o&&(a="dark"),t.value=a,document.documentElement.setAttribute("data-theme",a),document.documentElement.setAttribute("data-bs-theme",a)}),(r,o)=>(U(),J("button",{type:"button",class:"btn btn-outline-primary",onClick:n,"aria-label":`Switch to ${t.value==="light"?"dark":"light"} mode`},[t.value==="light"?(U(),J("span",cm,"  Dark ")):(U(),J("span",lm,"  Light "))],8,am))}}),xn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},dm=xn(um,[["__scopeId","data-v-c333c158"]]),fm={class:"navbar navbar-expand-md navbar-light bg-body fixed-top border-bottom"},pm={class:"container-fluid"},hm=["aria-expanded"],mm={class:"navbar-nav me-auto"},gm={class:"nav-item"},ym={class:"nav-item"},vm={class:"nav-item"},bm={class:"nav-item"},_m={class:"d-flex"},wm=ot({__name:"Navigation",setup(e){const t=Wu(),n=st(()=>t.name==="decks"||t.name==="deck-detail"||t.name==="deck-import"),r=Ae(!1);return(o,a)=>{const l=jo("router-link");return U(),J("nav",fm,[w("div",pm,[Ke(l,{to:"/",class:"navbar-brand"},{default:rt(()=>[...a[1]||(a[1]=[w("img",{style:{"max-width":"40px"},src:nh,alt:"logo"},null,-1),zt(" MTG Collection Tracker ",-1)])]),_:1}),w("button",{class:"navbar-toggler",type:"button",onClick:a[0]||(a[0]=u=>r.value=!r.value),"aria-controls":"navbarNav","aria-expanded":r.value,"aria-label":"Toggle navigation"},[...a[2]||(a[2]=[w("span",{class:"navbar-toggler-icon"},null,-1)])],8,hm),w("div",{id:"navbarNav",class:kt(["collapse navbar-collapse",{show:r.value}])},[w("ul",mm,[w("li",gm,[Ke(l,{to:"/",class:kt(["nav-link",{active:we(t).name==="home"}])},{default:rt(()=>[...a[3]||(a[3]=[zt(" Dashboard ",-1)])]),_:1},8,["class"])]),w("li",ym,[Ke(l,{to:"/decks",class:kt(["nav-link",{active:n.value}])},{default:rt(()=>[...a[4]||(a[4]=[zt(" Decks ",-1)])]),_:1},8,["class"])]),w("li",vm,[Ke(l,{to:"/cards",class:kt(["nav-link",{active:we(t).name==="cards"}])},{default:rt(()=>[...a[5]||(a[5]=[zt(" Cards ",-1)])]),_:1},8,["class"])]),w("li",bm,[Ke(l,{to:"/import/cardmarket",class:kt(["nav-link",{active:we(t).name==="cardmarket-import"}])},{default:rt(()=>[...a[6]||(a[6]=[zt(" Cardmarket Import ",-1)])]),_:1},8,["class"])])]),w("div",_m,[Ke(dm)])],2)])])}}}),km=xn(wm,[["__scopeId","data-v-8877d044"]]),xm={class:"container-lg",style:{"padding-top":"calc(var(--app-navbar-h) + 1.5rem)","padding-bottom":"1.5rem"}},Am=ot({__name:"App",setup(e){return(t,n)=>{const r=jo("router-view");return U(),J(nt,null,[Ke(km),w("main",xm,[Ke(r)])],64)}}});/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let zu;const Ho=e=>zu=e,Qu=Symbol();function ra(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var gs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(gs||(gs={}));function Em(){const e=To(!0),t=e.run(()=>Ae({}));let n=[],r=[];const o=_a({install(a){Ho(o),o._a=a,a.provide(Qu,o),a.config.globalProperties.$pinia=o,r.forEach(l=>n.push(l)),r=[]},use(a){return this._a?n.push(a):r.push(a),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const Yu=()=>{};function ul(e,t,n,r=Yu){e.push(t);const o=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),r())};return!n&&fa()&&$l(o),o}function Rr(e,...t){e.slice().forEach(n=>{n(...t)})}const Cm=e=>e(),dl=Symbol(),Mi=Symbol();function sa(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];ra(o)&&ra(r)&&e.hasOwnProperty(n)&&!bt(r)&&!Xn(r)?e[n]=sa(o,r):e[n]=r}return e}const Sm=Symbol();function Im(e){return!ra(e)||!Object.prototype.hasOwnProperty.call(e,Sm)}const{assign:Wn}=Object;function Pm(e){return!!(bt(e)&&e.effect)}function Om(e,t,n,r){const{state:o,actions:a,getters:l}=t,u=n.state.value[e];let f;function m(){u||(n.state.value[e]=o?o():{});const h=wa(n.state.value[e]);return Wn(h,a,Object.keys(l||{}).reduce((y,v)=>(y[v]=_a(st(()=>{Ho(n);const k=n._s.get(e);return l[v].call(k,k)})),y),{}))}return f=Gu(e,m,t,n,r,!0),f}function Gu(e,t,n={},r,o,a){let l;const u=Wn({actions:{}},n),f={deep:!0};let m,h,y=[],v=[],k;const C=r.state.value[e];!a&&!C&&(r.state.value[e]={}),Ae({});let N;function H(Se){let Ce;m=h=!1,typeof Se=="function"?(Se(r.state.value[e]),Ce={type:gs.patchFunction,storeId:e,events:k}):(sa(r.state.value[e],Se),Ce={type:gs.patchObject,payload:Se,storeId:e,events:k});const qe=N=Symbol();an().then(()=>{N===qe&&(m=!0)}),h=!0,Rr(y,Ce,r.state.value[e])}const K=a?function(){const{state:Ce}=n,qe=Ce?Ce():{};this.$patch(ut=>{Wn(ut,qe)})}:Yu;function X(){l.stop(),y=[],v=[],r._s.delete(e)}const j=(Se,Ce="")=>{if(dl in Se)return Se[Mi]=Ce,Se;const qe=function(){Ho(r);const ut=Array.from(arguments),Xe=[],ze=[];function wt(Oe){Xe.push(Oe)}function it(Oe){ze.push(Oe)}Rr(v,{args:ut,name:qe[Mi],store:se,after:wt,onError:it});let Fe;try{Fe=Se.apply(this&&this.$id===e?this:se,ut)}catch(Oe){throw Rr(ze,Oe),Oe}return Fe instanceof Promise?Fe.then(Oe=>(Rr(Xe,Oe),Oe)).catch(Oe=>(Rr(ze,Oe),Promise.reject(Oe))):(Rr(Xe,Fe),Fe)};return qe[dl]=!0,qe[Mi]=Ce,qe},$={_p:r,$id:e,$onAction:ul.bind(null,v),$patch:H,$reset:K,$subscribe(Se,Ce={}){const qe=ul(y,Se,Ce.detached,()=>ut()),ut=l.run(()=>Zt(()=>r.state.value[e],Xe=>{(Ce.flush==="sync"?h:m)&&Se({storeId:e,type:gs.direct,events:k},Xe)},Wn({},f,Ce)));return qe},$dispose:X},se=br($);r._s.set(e,se);const Ee=(r._a&&r._a.runWithContext||Cm)(()=>r._e.run(()=>(l=To()).run(()=>t({action:j}))));for(const Se in Ee){const Ce=Ee[Se];if(bt(Ce)&&!Pm(Ce)||Xn(Ce))a||(C&&Im(Ce)&&(bt(Ce)?Ce.value=C[Se]:sa(Ce,C[Se])),r.state.value[e][Se]=Ce);else if(typeof Ce=="function"){const qe=j(Ce,Se);Ee[Se]=qe,u.actions[Se]=Ce}}return Wn(se,Ee),Wn(Je(se),Ee),Object.defineProperty(se,"$state",{get:()=>r.state.value[e],set:Se=>{H(Ce=>{Wn(Ce,Se)})}}),r._p.forEach(Se=>{Wn(se,l.run(()=>Se({store:se,app:r._a,pinia:r,options:u})))}),C&&a&&n.hydrate&&n.hydrate(se.$state,C),m=!0,h=!0,se}/*! #__NO_SIDE_EFFECTS__ */function Ra(e,t,n){let r;const o=typeof t=="function";r=o?n:t;function a(l,u){const f=Jf();return l=l||(f?Xt(Qu,null):null),l&&Ho(l),l=zu,l._s.has(e)||(o?Gu(e,t,r,l):Om(e,r,l)),l._s.get(e)}return a.$id=e,a}var Rm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mo={exports:{}},$m=mo.exports,fl;function Tm(){return fl||(fl=1,(function(e,t){(function(n,r){e.exports=r()})($m,function(){var n=function(s,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(c[p]=d[p])})(s,i)},r=function(){return(r=Object.assign||function(s){for(var i,c=1,d=arguments.length;c<d;c++)for(var p in i=arguments[c])Object.prototype.hasOwnProperty.call(i,p)&&(s[p]=i[p]);return s}).apply(this,arguments)};function o(s,i,c){for(var d,p=0,g=i.length;p<g;p++)!d&&p in i||((d=d||Array.prototype.slice.call(i,0,p))[p]=i[p]);return s.concat(d||Array.prototype.slice.call(i))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Rm,l=Object.keys,u=Array.isArray;function f(s,i){return typeof i!="object"||l(i).forEach(function(c){s[c]=i[c]}),s}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var m=Object.getPrototypeOf,h={}.hasOwnProperty;function y(s,i){return h.call(s,i)}function v(s,i){typeof i=="function"&&(i=i(m(s))),(typeof Reflect>"u"?l:Reflect.ownKeys)(i).forEach(function(c){C(s,c,i[c])})}var k=Object.defineProperty;function C(s,i,c,d){k(s,i,f(c&&y(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},d))}function N(s){return{from:function(i){return s.prototype=Object.create(i.prototype),C(s.prototype,"constructor",s),{extend:v.bind(null,s.prototype)}}}}var H=Object.getOwnPropertyDescriptor,K=[].slice;function X(s,i,c){return K.call(s,i,c)}function j(s,i){return i(s)}function $(s){if(!s)throw new Error("Assertion Failed")}function se(s){a.setImmediate?setImmediate(s):setTimeout(s,0)}function ge(s,i){if(typeof i=="string"&&y(s,i))return s[i];if(!i)return s;if(typeof i!="string"){for(var c=[],d=0,p=i.length;d<p;++d){var g=ge(s,i[d]);c.push(g)}return c}var b=i.indexOf(".");if(b!==-1){var x=s[i.substr(0,b)];return x==null?void 0:ge(x,i.substr(b+1))}}function Ee(s,i,c){if(s&&i!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof i!="string"&&"length"in i){$(typeof c!="string"&&"length"in c);for(var d=0,p=i.length;d<p;++d)Ee(s,i[d],c[d])}else{var g,b,x=i.indexOf(".");x!==-1?(g=i.substr(0,x),(b=i.substr(x+1))===""?c===void 0?u(s)&&!isNaN(parseInt(g))?s.splice(g,1):delete s[g]:s[g]=c:Ee(x=!(x=s[g])||!y(s,g)?s[g]={}:x,b,c)):c===void 0?u(s)&&!isNaN(parseInt(i))?s.splice(i,1):delete s[i]:s[i]=c}}function Se(s){var i,c={};for(i in s)y(s,i)&&(c[i]=s[i]);return c}var Ce=[].concat;function qe(s){return Ce.apply([],s)}var je="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(qe([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(i){return i+s+"Array"})}))).filter(function(s){return a[s]}),ut=new Set(je.map(function(s){return a[s]})),Xe=null;function ze(s){return Xe=new WeakMap,s=(function i(c){if(!c||typeof c!="object")return c;var d=Xe.get(c);if(d)return d;if(u(c)){d=[],Xe.set(c,d);for(var p=0,g=c.length;p<g;++p)d.push(i(c[p]))}else if(ut.has(c.constructor))d=c;else{var b,x=m(c);for(b in d=x===Object.prototype?{}:Object.create(x),Xe.set(c,d),c)y(c,b)&&(d[b]=i(c[b]))}return d})(s),Xe=null,s}var wt={}.toString;function it(s){return wt.call(s).slice(8,-1)}var Fe=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Oe=typeof Fe=="symbol"?function(s){var i;return s!=null&&(i=s[Fe])&&i.apply(s)}:function(){return null};function Y(s,i){return i=s.indexOf(i),0<=i&&s.splice(i,1),0<=i}var W={};function L(s){var i,c,d,p;if(arguments.length===1){if(u(s))return s.slice();if(this===W&&typeof s=="string")return[s];if(p=Oe(s)){for(c=[];!(d=p.next()).done;)c.push(d.value);return c}if(s==null)return[s];if(typeof(i=s.length)!="number")return[s];for(c=new Array(i);i--;)c[i]=s[i];return c}for(i=arguments.length,c=new Array(i);i--;)c[i]=arguments[i];return c}var Ie=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},$e=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],tn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat($e),ve={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ve(s,i){this.name=s,this.message=i}function Ht(s,i){return s+". Errors: "+Object.keys(i).map(function(c){return i[c].toString()}).filter(function(c,d,p){return p.indexOf(c)===d}).join(`
`)}function Nt(s,i,c,d){this.failures=i,this.failedKeys=d,this.successCount=c,this.message=Ht(s,i)}function pt(s,i){this.name="BulkError",this.failures=Object.keys(i).map(function(c){return i[c]}),this.failuresByPos=i,this.message=Ht(s,this.failures)}N(Ve).from(Error).extend({toString:function(){return this.name+": "+this.message}}),N(Nt).from(Ve),N(pt).from(Ve);var Z=tn.reduce(function(s,i){return s[i]=i+"Error",s},{}),be=Ve,z=tn.reduce(function(s,i){var c=i+"Error";function d(p,g){this.name=c,p?typeof p=="string"?(this.message="".concat(p).concat(g?`
 `+g:""),this.inner=g||null):typeof p=="object"&&(this.message="".concat(p.name," ").concat(p.message),this.inner=p):(this.message=ve[i]||c,this.inner=null)}return N(d).from(be),s[i]=d,s},{});z.Syntax=SyntaxError,z.Type=TypeError,z.Range=RangeError;var xe=$e.reduce(function(s,i){return s[i+"Error"]=z[i],s},{}),Ye=tn.reduce(function(s,i){return["Syntax","Type","Range"].indexOf(i)===-1&&(s[i+"Error"]=z[i]),s},{});function _(){}function E(s){return s}function B(s,i){return s==null||s===E?i:function(c){return i(s(c))}}function G(s,i){return function(){s.apply(this,arguments),i.apply(this,arguments)}}function te(s,i){return s===_?i:function(){var c=s.apply(this,arguments);c!==void 0&&(arguments[0]=c);var d=this.onsuccess,p=this.onerror;this.onsuccess=null,this.onerror=null;var g=i.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?G(d,this.onsuccess):d),p&&(this.onerror=this.onerror?G(p,this.onerror):p),g!==void 0?g:c}}function ee(s,i){return s===_?i:function(){s.apply(this,arguments);var c=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,i.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?G(c,this.onsuccess):c),d&&(this.onerror=this.onerror?G(d,this.onerror):d)}}function fe(s,i){return s===_?i:function(c){var d=s.apply(this,arguments);f(c,d);var p=this.onsuccess,g=this.onerror;return this.onsuccess=null,this.onerror=null,c=i.apply(this,arguments),p&&(this.onsuccess=this.onsuccess?G(p,this.onsuccess):p),g&&(this.onerror=this.onerror?G(g,this.onerror):g),d===void 0?c===void 0?void 0:c:f(d,c)}}function ue(s,i){return s===_?i:function(){return i.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function ce(s,i){return s===_?i:function(){var c=s.apply(this,arguments);if(c&&typeof c.then=="function"){for(var d=this,p=arguments.length,g=new Array(p);p--;)g[p]=arguments[p];return c.then(function(){return i.apply(d,g)})}return i.apply(this,arguments)}}Ye.ModifyError=Nt,Ye.DexieError=Ve,Ye.BulkError=pt;var ne=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Re(s){ne=s}var pe={},Pe=100,je=typeof Promise>"u"?[]:(function(){var s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,m(s),s];var i=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[i,m(i),s]})(),$e=je[0],tn=je[1],je=je[2],tn=tn&&tn.then,He=$e&&$e.constructor,Qe=!!je,_t=function(s,i){Nn.push([s,i]),jt&&(queueMicrotask(dd),jt=!1)},xt=!0,jt=!0,At=[],ln=[],wr=E,ht={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:_,pgp:!1,env:{},finalize:_},_e=ht,Nn=[],un=0,Os=[];function me(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var i=this._PSD=_e;if(typeof s!="function"){if(s!==pe)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Qo(this,this._value))}this._state=null,this._value=null,++i.ref,(function c(d,p){try{p(function(g){if(d._state===null){if(g===d)throw new TypeError("A promise cannot be resolved with itself.");var b=d._lib&&kr();g&&typeof g.then=="function"?c(d,function(x,S){g instanceof me?g._then(x,S):g.then(x,S)}):(d._state=!0,d._value=g,Ba(d)),b&&xr()}},Qo.bind(null,d))}catch(g){Qo(d,g)}})(this,s)}var zo={get:function(){var s=_e,i=Ts;function c(d,p){var g=this,b=!s.global&&(s!==_e||i!==Ts),x=b&&!Ln(),S=new me(function(P,R){Yo(g,new Ma(ja(d,s,b,x),ja(p,s,b,x),P,R,s))});return this._consoleTask&&(S._consoleTask=this._consoleTask),S}return c.prototype=pe,c},set:function(s){C(this,"then",s&&s.prototype===pe?zo:{get:function(){return s},set:zo.set})}};function Ma(s,i,c,d,p){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof i=="function"?i:null,this.resolve=c,this.reject=d,this.psd=p}function Qo(s,i){var c,d;ln.push(i),s._state===null&&(c=s._lib&&kr(),i=wr(i),s._state=!1,s._value=i,d=s,At.some(function(p){return p._value===d._value})||At.push(d),Ba(s),c&&xr())}function Ba(s){var i=s._listeners;s._listeners=[];for(var c=0,d=i.length;c<d;++c)Yo(s,i[c]);var p=s._PSD;--p.ref||p.finalize(),un===0&&(++un,_t(function(){--un==0&&Go()},[]))}function Yo(s,i){if(s._state!==null){var c=s._state?i.onFulfilled:i.onRejected;if(c===null)return(s._state?i.resolve:i.reject)(s._value);++i.psd.ref,++un,_t(ud,[c,s,i])}else s._listeners.push(i)}function ud(s,i,c){try{var d,p=i._value;!i._state&&ln.length&&(ln=[]),d=ne&&i._consoleTask?i._consoleTask.run(function(){return s(p)}):s(p),i._state||ln.indexOf(p)!==-1||(function(g){for(var b=At.length;b;)if(At[--b]._value===g._value)return At.splice(b,1)})(i),c.resolve(d)}catch(g){c.reject(g)}finally{--un==0&&Go(),--c.psd.ref||c.psd.finalize()}}function dd(){rr(ht,function(){kr()&&xr()})}function kr(){var s=xt;return jt=xt=!1,s}function xr(){var s,i,c;do for(;0<Nn.length;)for(s=Nn,Nn=[],c=s.length,i=0;i<c;++i){var d=s[i];d[0].apply(null,d[1])}while(0<Nn.length);jt=xt=!0}function Go(){var s=At;At=[],s.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)});for(var i=Os.slice(0),c=i.length;c;)i[--c]()}function Rs(s){return new me(pe,!1,s)}function ft(s,i){var c=_e;return function(){var d=kr(),p=_e;try{return qn(c,!0),s.apply(this,arguments)}catch(g){i&&i(g)}finally{qn(p,!1),d&&xr()}}}v(me.prototype,{then:zo,_then:function(s,i){Yo(this,new Ma(null,null,s,i,_e))},catch:function(s){if(arguments.length===1)return this.then(null,s);var i=s,c=arguments[1];return typeof i=="function"?this.then(null,function(d){return(d instanceof i?c:Rs)(d)}):this.then(null,function(d){return(d&&d.name===i?c:Rs)(d)})},finally:function(s){return this.then(function(i){return me.resolve(s()).then(function(){return i})},function(i){return me.resolve(s()).then(function(){return Rs(i)})})},timeout:function(s,i){var c=this;return s<1/0?new me(function(d,p){var g=setTimeout(function(){return p(new z.Timeout(i))},s);c.then(d,p).finally(clearTimeout.bind(null,g))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&C(me.prototype,Symbol.toStringTag,"Dexie.Promise"),ht.env=Na(),v(me,{all:function(){var s=L.apply(null,arguments).map(Fs);return new me(function(i,c){s.length===0&&i([]);var d=s.length;s.forEach(function(p,g){return me.resolve(p).then(function(b){s[g]=b,--d||i(s)},c)})})},resolve:function(s){return s instanceof me?s:s&&typeof s.then=="function"?new me(function(i,c){s.then(i,c)}):new me(pe,!0,s)},reject:Rs,race:function(){var s=L.apply(null,arguments).map(Fs);return new me(function(i,c){s.map(function(d){return me.resolve(d).then(i,c)})})},PSD:{get:function(){return _e},set:function(s){return _e=s}},totalEchoes:{get:function(){return Ts}},newPSD:jn,usePSD:rr,scheduler:{get:function(){return _t},set:function(s){_t=s}},rejectionMapper:{get:function(){return wr},set:function(s){wr=s}},follow:function(s,i){return new me(function(c,d){return jn(function(p,g){var b=_e;b.unhandleds=[],b.onunhandled=g,b.finalize=G(function(){var x,S=this;x=function(){S.unhandleds.length===0?p():g(S.unhandleds[0])},Os.push(function P(){x(),Os.splice(Os.indexOf(P),1)}),++un,_t(function(){--un==0&&Go()},[])},b.finalize),s()},i,c,d)})}}),He&&(He.allSettled&&C(me,"allSettled",function(){var s=L.apply(null,arguments).map(Fs);return new me(function(i){s.length===0&&i([]);var c=s.length,d=new Array(c);s.forEach(function(p,g){return me.resolve(p).then(function(b){return d[g]={status:"fulfilled",value:b}},function(b){return d[g]={status:"rejected",reason:b}}).then(function(){return--c||i(d)})})})}),He.any&&typeof AggregateError<"u"&&C(me,"any",function(){var s=L.apply(null,arguments).map(Fs);return new me(function(i,c){s.length===0&&c(new AggregateError([]));var d=s.length,p=new Array(d);s.forEach(function(g,b){return me.resolve(g).then(function(x){return i(x)},function(x){p[b]=x,--d||c(new AggregateError(p))})})})}),He.withResolvers&&(me.withResolvers=He.withResolvers));var Et={awaits:0,echoes:0,id:0},fd=0,Ds=[],$s=0,Ts=0,pd=0;function jn(s,i,c,d){var p=_e,g=Object.create(p);return g.parent=p,g.ref=0,g.global=!1,g.id=++pd,ht.env,g.env=Qe?{Promise:me,PromiseProp:{value:me,configurable:!0,writable:!0},all:me.all,race:me.race,allSettled:me.allSettled,any:me.any,resolve:me.resolve,reject:me.reject}:{},i&&f(g,i),++p.ref,g.finalize=function(){--this.parent.ref||this.parent.finalize()},d=rr(g,s,c,d),g.ref===0&&g.finalize(),d}function Ar(){return Et.id||(Et.id=++fd),++Et.awaits,Et.echoes+=Pe,Et.id}function Ln(){return!!Et.awaits&&(--Et.awaits==0&&(Et.id=0),Et.echoes=Et.awaits*Pe,!0)}function Fs(s){return Et.echoes&&s&&s.constructor===He?(Ar(),s.then(function(i){return Ln(),i},function(i){return Ln(),yt(i)})):s}function hd(){var s=Ds[Ds.length-1];Ds.pop(),qn(s,!1)}function qn(s,i){var c,d=_e;(i?!Et.echoes||$s++&&s===_e:!$s||--$s&&s===_e)||queueMicrotask(i?(function(p){++Ts,Et.echoes&&--Et.echoes!=0||(Et.echoes=Et.awaits=Et.id=0),Ds.push(_e),qn(p,!0)}).bind(null,s):hd),s!==_e&&(_e=s,d===ht&&(ht.env=Na()),Qe&&(c=ht.env.Promise,i=s.env,(d.global||s.global)&&(Object.defineProperty(a,"Promise",i.PromiseProp),c.all=i.all,c.race=i.race,c.resolve=i.resolve,c.reject=i.reject,i.allSettled&&(c.allSettled=i.allSettled),i.any&&(c.any=i.any))))}function Na(){var s=a.Promise;return Qe?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function rr(s,i,c,d,p){var g=_e;try{return qn(s,!0),i(c,d,p)}finally{qn(g,!1)}}function ja(s,i,c,d){return typeof s!="function"?s:function(){var p=_e;c&&Ar(),qn(i,!0);try{return s.apply(this,arguments)}finally{qn(p,!1),d&&queueMicrotask(Ln)}}}function Jo(s){Promise===He&&Et.echoes===0?$s===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+tn).indexOf("[native code]")===-1&&(Ar=Ln=_);var yt=me.reject,sr="",En="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",La="String expected.",Er=[],Ms="__dbnames",Xo="readonly",Zo="readwrite";function or(s,i){return s?i?function(){return s.apply(this,arguments)&&i.apply(this,arguments)}:s:i}var qa={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Bs(s){return typeof s!="string"||/\./.test(s)?function(i){return i}:function(i){return i[s]===void 0&&s in i&&delete(i=ze(i))[s],i}}function Ua(){throw z.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Ue(s,i){try{var c=Ka(s),d=Ka(i);if(c!==d)return c==="Array"?1:d==="Array"?-1:c==="binary"?1:d==="binary"?-1:c==="string"?1:d==="string"?-1:c==="Date"?1:d!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return i<s?1:s<i?-1:0;case"binary":return(function(p,g){for(var b=p.length,x=g.length,S=b<x?b:x,P=0;P<S;++P)if(p[P]!==g[P])return p[P]<g[P]?-1:1;return b===x?0:b<x?-1:1})(Va(s),Va(i));case"Array":return(function(p,g){for(var b=p.length,x=g.length,S=b<x?b:x,P=0;P<S;++P){var R=Ue(p[P],g[P]);if(R!==0)return R}return b===x?0:b<x?-1:1})(s,i)}}catch{}return NaN}function Ka(s){var i=typeof s;return i!="object"?i:ArrayBuffer.isView(s)?"binary":(s=it(s),s==="ArrayBuffer"?"binary":s)}function Va(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function Ns(s,i,c){var d=s.schema.yProps;return d?(i&&0<c.numFailures&&(i=i.filter(function(p,g){return!c.failures[g]})),Promise.all(d.map(function(p){return p=p.updatesTable,i?s.db.table(p).where("k").anyOf(i).delete():s.db.table(p).clear()})).then(function(){return c})):c}var Ha=(dt.prototype._trans=function(s,i,c){var d=this._tx||_e.trans,p=this.name,g=ne&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function b(P,R,A){if(!A.schema[p])throw new z.NotFound("Table "+p+" not part of transaction");return i(A.idbtrans,A)}var x=kr();try{var S=d&&d.db._novip===this.db._novip?d===_e.trans?d._promise(s,b,c):jn(function(){return d._promise(s,b,c)},{trans:d,transless:_e.transless||_e}):(function P(R,A,F,I){if(R.idbdb&&(R._state.openComplete||_e.letThrough||R._vip)){var O=R._createTransaction(A,F,R._dbSchema);try{O.create(),R._state.PR1398_maxLoop=3}catch(T){return T.name===Z.InvalidState&&R.isOpen()&&0<--R._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),R.close({disableAutoOpen:!1}),R.open().then(function(){return P(R,A,F,I)})):yt(T)}return O._promise(A,function(T,D){return jn(function(){return _e.trans=O,I(T,D,O)})}).then(function(T){if(A==="readwrite")try{O.idbtrans.commit()}catch{}return A==="readonly"?T:O._completion.then(function(){return T})})}if(R._state.openComplete)return yt(new z.DatabaseClosed(R._state.dbOpenError));if(!R._state.isBeingOpened){if(!R._state.autoOpen)return yt(new z.DatabaseClosed);R.open().catch(_)}return R._state.dbReadyPromise.then(function(){return P(R,A,F,I)})})(this.db,s,[this.name],b);return g&&(S._consoleTask=g,S=S.catch(function(P){return console.trace(P),yt(P)})),S}finally{x&&xr()}},dt.prototype.get=function(s,i){var c=this;return s&&s.constructor===Object?this.where(s).first(i):s==null?yt(new z.Type("Invalid argument to Table.get()")):this._trans("readonly",function(d){return c.core.get({trans:d,key:s}).then(function(p){return c.hook.reading.fire(p)})}).then(i)},dt.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(u(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var i=l(s);if(i.length===1)return this.where(i[0]).equals(s[i[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(x){if(x.compound&&i.every(function(P){return 0<=x.keyPath.indexOf(P)})){for(var S=0;S<i.length;++S)if(i.indexOf(x.keyPath[S])===-1)return!1;return!0}return!1}).sort(function(x,S){return x.keyPath.length-S.keyPath.length})[0];if(c&&this.db._maxKey!==sr){var g=c.keyPath.slice(0,i.length);return this.where(g).equals(g.map(function(S){return s[S]}))}!c&&ne&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(i.join("+"),"]"));var d=this.schema.idxByName;function p(x,S){return Ue(x,S)===0}var b=i.reduce(function(A,S){var P=A[0],R=A[1],A=d[S],F=s[S];return[P||A,P||!A?or(R,A&&A.multi?function(I){return I=ge(I,S),u(I)&&I.some(function(O){return p(F,O)})}:function(I){return p(F,ge(I,S))}):R]},[null,null]),g=b[0],b=b[1];return g?this.where(g.name).equals(s[g.keyPath]).filter(b):c?this.filter(b):this.where(i).equals("")},dt.prototype.filter=function(s){return this.toCollection().and(s)},dt.prototype.count=function(s){return this.toCollection().count(s)},dt.prototype.offset=function(s){return this.toCollection().offset(s)},dt.prototype.limit=function(s){return this.toCollection().limit(s)},dt.prototype.each=function(s){return this.toCollection().each(s)},dt.prototype.toArray=function(s){return this.toCollection().toArray(s)},dt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},dt.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,u(s)?"[".concat(s.join("+"),"]"):s))},dt.prototype.reverse=function(){return this.toCollection().reverse()},dt.prototype.mapToClass=function(s){var i,c=this.db,d=this.name;function p(){return i!==null&&i.apply(this,arguments)||this}(this.schema.mappedClass=s).prototype instanceof Ua&&((function(S,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function R(){this.constructor=S}n(S,P),S.prototype=P===null?Object.create(P):(R.prototype=P.prototype,new R)})(p,i=s),Object.defineProperty(p.prototype,"db",{get:function(){return c},enumerable:!1,configurable:!0}),p.prototype.table=function(){return d},s=p);for(var g=new Set,b=s.prototype;b;b=m(b))Object.getOwnPropertyNames(b).forEach(function(S){return g.add(S)});function x(S){if(!S)return S;var P,R=Object.create(s.prototype);for(P in S)if(!g.has(P))try{R[P]=S[P]}catch{}return R}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=x,this.hook("reading",x),s},dt.prototype.defineClass=function(){return this.mapToClass(function(s){f(this,s)})},dt.prototype.add=function(s,i){var c=this,d=this.schema.primKey,p=d.auto,g=d.keyPath,b=s;return g&&p&&(b=Bs(g)(s)),this._trans("readwrite",function(x){return c.core.mutate({trans:x,type:"add",keys:i!=null?[i]:null,values:[b]})}).then(function(x){return x.numFailures?me.reject(x.failures[0]):x.lastResult}).then(function(x){if(g)try{Ee(s,g,x)}catch{}return x})},dt.prototype.update=function(s,i){return typeof s!="object"||u(s)?this.where(":id").equals(s).modify(i):(s=ge(s,this.schema.primKey.keyPath),s===void 0?yt(new z.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(i))},dt.prototype.put=function(s,i){var c=this,d=this.schema.primKey,p=d.auto,g=d.keyPath,b=s;return g&&p&&(b=Bs(g)(s)),this._trans("readwrite",function(x){return c.core.mutate({trans:x,type:"put",values:[b],keys:i!=null?[i]:null})}).then(function(x){return x.numFailures?me.reject(x.failures[0]):x.lastResult}).then(function(x){if(g)try{Ee(s,g,x)}catch{}return x})},dt.prototype.delete=function(s){var i=this;return this._trans("readwrite",function(c){return i.core.mutate({trans:c,type:"delete",keys:[s]}).then(function(d){return Ns(i,[s],d)}).then(function(d){return d.numFailures?me.reject(d.failures[0]):void 0})})},dt.prototype.clear=function(){var s=this;return this._trans("readwrite",function(i){return s.core.mutate({trans:i,type:"deleteRange",range:qa}).then(function(c){return Ns(s,null,c)})}).then(function(i){return i.numFailures?me.reject(i.failures[0]):void 0})},dt.prototype.bulkGet=function(s){var i=this;return this._trans("readonly",function(c){return i.core.getMany({keys:s,trans:c}).then(function(d){return d.map(function(p){return i.hook.reading.fire(p)})})})},dt.prototype.bulkAdd=function(s,i,c){var d=this,p=Array.isArray(i)?i:void 0,g=(c=c||(p?void 0:i))?c.allKeys:void 0;return this._trans("readwrite",function(b){var P=d.schema.primKey,x=P.auto,P=P.keyPath;if(P&&p)throw new z.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(p&&p.length!==s.length)throw new z.InvalidArgument("Arguments objects and keys must have the same length");var S=s.length,P=P&&x?s.map(Bs(P)):s;return d.core.mutate({trans:b,type:"add",keys:p,values:P,wantResults:g}).then(function(O){var A=O.numFailures,F=O.results,I=O.lastResult,O=O.failures;if(A===0)return g?F:I;throw new pt("".concat(d.name,".bulkAdd(): ").concat(A," of ").concat(S," operations failed"),O)})})},dt.prototype.bulkPut=function(s,i,c){var d=this,p=Array.isArray(i)?i:void 0,g=(c=c||(p?void 0:i))?c.allKeys:void 0;return this._trans("readwrite",function(b){var P=d.schema.primKey,x=P.auto,P=P.keyPath;if(P&&p)throw new z.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(p&&p.length!==s.length)throw new z.InvalidArgument("Arguments objects and keys must have the same length");var S=s.length,P=P&&x?s.map(Bs(P)):s;return d.core.mutate({trans:b,type:"put",keys:p,values:P,wantResults:g}).then(function(O){var A=O.numFailures,F=O.results,I=O.lastResult,O=O.failures;if(A===0)return g?F:I;throw new pt("".concat(d.name,".bulkPut(): ").concat(A," of ").concat(S," operations failed"),O)})})},dt.prototype.bulkUpdate=function(s){var i=this,c=this.core,d=s.map(function(b){return b.key}),p=s.map(function(b){return b.changes}),g=[];return this._trans("readwrite",function(b){return c.getMany({trans:b,keys:d,cache:"clone"}).then(function(x){var S=[],P=[];s.forEach(function(A,F){var I=A.key,O=A.changes,T=x[F];if(T){for(var D=0,M=Object.keys(O);D<M.length;D++){var q=M[D],V=O[q];if(q===i.schema.primKey.keyPath){if(Ue(V,I)!==0)throw new z.Constraint("Cannot update primary key in bulkUpdate()")}else Ee(T,q,V)}g.push(F),S.push(I),P.push(T)}});var R=S.length;return c.mutate({trans:b,type:"put",keys:S,values:P,updates:{keys:d,changeSpecs:p}}).then(function(A){var F=A.numFailures,I=A.failures;if(F===0)return R;for(var O=0,T=Object.keys(I);O<T.length;O++){var D,M=T[O],q=g[Number(M)];q!=null&&(D=I[M],delete I[M],I[q]=D)}throw new pt("".concat(i.name,".bulkUpdate(): ").concat(F," of ").concat(R," operations failed"),I)})})})},dt.prototype.bulkDelete=function(s){var i=this,c=s.length;return this._trans("readwrite",function(d){return i.core.mutate({trans:d,type:"delete",keys:s}).then(function(p){return Ns(i,s,p)})}).then(function(b){var p=b.numFailures,g=b.lastResult,b=b.failures;if(p===0)return g;throw new pt("".concat(i.name,".bulkDelete(): ").concat(p," of ").concat(c," operations failed"),b)})},dt);function dt(){}function Hr(s){function i(b,x){if(x){for(var S=arguments.length,P=new Array(S-1);--S;)P[S-1]=arguments[S];return c[b].subscribe.apply(null,P),s}if(typeof b=="string")return c[b]}var c={};i.addEventType=g;for(var d=1,p=arguments.length;d<p;++d)g(arguments[d]);return i;function g(b,x,S){if(typeof b!="object"){var P;x=x||ue;var R={subscribers:[],fire:S=S||_,subscribe:function(A){R.subscribers.indexOf(A)===-1&&(R.subscribers.push(A),R.fire=x(R.fire,A))},unsubscribe:function(A){R.subscribers=R.subscribers.filter(function(F){return F!==A}),R.fire=R.subscribers.reduce(x,S)}};return c[b]=i[b]=R}l(P=b).forEach(function(A){var F=P[A];if(u(F))g(A,P[A][0],P[A][1]);else{if(F!=="asap")throw new z.InvalidArgument("Invalid event config");var I=g(A,E,function(){for(var O=arguments.length,T=new Array(O);O--;)T[O]=arguments[O];I.subscribers.forEach(function(D){se(function(){D.apply(null,T)})})})}})}}function Wr(s,i){return N(i).from({prototype:s}),i}function Cr(s,i){return!(s.filter||s.algorithm||s.or)&&(i?s.justLimit:!s.replayFilter)}function ei(s,i){s.filter=or(s.filter,i)}function ti(s,i,c){var d=s.replayFilter;s.replayFilter=d?function(){return or(d(),i())}:i,s.justLimit=c&&!d}function js(s,i){if(s.isPrimKey)return i.primaryKey;var c=i.getIndexByKeyPath(s.index);if(!c)throw new z.Schema("KeyPath "+s.index+" on object store "+i.name+" is not indexed");return c}function Wa(s,i,c){var d=js(s,i.schema);return i.openCursor({trans:c,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:d,range:s.range}})}function Ls(s,i,c,d){var p=s.replayFilter?or(s.filter,s.replayFilter()):s.filter;if(s.or){var g={},b=function(x,S,P){var R,A;p&&!p(S,P,function(F){return S.stop(F)},function(F){return S.fail(F)})||((A=""+(R=S.primaryKey))=="[object ArrayBuffer]"&&(A=""+new Uint8Array(R)),y(g,A)||(g[A]=!0,i(x,S,P)))};return Promise.all([s.or._iterate(b,c),za(Wa(s,d,c),s.algorithm,b,!s.keysOnly&&s.valueMapper)])}return za(Wa(s,d,c),or(s.algorithm,p),i,!s.keysOnly&&s.valueMapper)}function za(s,i,c,d){var p=ft(d?function(g,b,x){return c(d(g),b,x)}:c);return s.then(function(g){if(g)return g.start(function(){var b=function(){return g.continue()};i&&!i(g,function(x){return b=x},function(x){g.stop(x),b=_},function(x){g.fail(x),b=_})||p(g.value,g,function(x){return b=x}),b()})})}var zr=(Qa.prototype.execute=function(s){var i=this["@@propmod"];if(i.add!==void 0){var c=i.add;if(u(c))return o(o([],u(s)?s:[],!0),c).sort();if(typeof c=="number")return(Number(s)||0)+c;if(typeof c=="bigint")try{return BigInt(s)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(i.remove!==void 0){var d=i.remove;if(u(d))return u(s)?s.filter(function(p){return!d.includes(p)}).sort():[];if(typeof d=="number")return Number(s)-d;if(typeof d=="bigint")try{return BigInt(s)-d}catch{return BigInt(0)-d}throw new TypeError("Invalid subtrahend ".concat(d))}return c=(c=i.replacePrefix)===null||c===void 0?void 0:c[0],c&&typeof s=="string"&&s.startsWith(c)?i.replacePrefix[1]+s.substring(c.length):s},Qa);function Qa(s){this["@@propmod"]=s}var md=(Ge.prototype._read=function(s,i){var c=this._ctx;return c.error?c.table._trans(null,yt.bind(null,c.error)):c.table._trans("readonly",s).then(i)},Ge.prototype._write=function(s){var i=this._ctx;return i.error?i.table._trans(null,yt.bind(null,i.error)):i.table._trans("readwrite",s,"locked")},Ge.prototype._addAlgorithm=function(s){var i=this._ctx;i.algorithm=or(i.algorithm,s)},Ge.prototype._iterate=function(s,i){return Ls(this._ctx,s,i,this._ctx.table.core)},Ge.prototype.clone=function(s){var i=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return s&&f(c,s),i._ctx=c,i},Ge.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ge.prototype.each=function(s){var i=this._ctx;return this._read(function(c){return Ls(i,s,c,i.table.core)})},Ge.prototype.count=function(s){var i=this;return this._read(function(c){var d=i._ctx,p=d.table.core;if(Cr(d,!0))return p.count({trans:c,query:{index:js(d,p.schema),range:d.range}}).then(function(b){return Math.min(b,d.limit)});var g=0;return Ls(d,function(){return++g,!1},c,p).then(function(){return g})}).then(s)},Ge.prototype.sortBy=function(s,i){var c=s.split(".").reverse(),d=c[0],p=c.length-1;function g(S,P){return P?g(S[c[P]],P-1):S[d]}var b=this._ctx.dir==="next"?1:-1;function x(S,P){return Ue(g(S,p),g(P,p))*b}return this.toArray(function(S){return S.sort(x)}).then(i)},Ge.prototype.toArray=function(s){var i=this;return this._read(function(c){var d=i._ctx;if(d.dir==="next"&&Cr(d,!0)&&0<d.limit){var p=d.valueMapper,g=js(d,d.table.core.schema);return d.table.core.query({trans:c,limit:d.limit,values:!0,query:{index:g,range:d.range}}).then(function(x){return x=x.result,p?x.map(p):x})}var b=[];return Ls(d,function(x){return b.push(x)},c,d.table.core).then(function(){return b})},s)},Ge.prototype.offset=function(s){var i=this._ctx;return s<=0||(i.offset+=s,Cr(i)?ti(i,function(){var c=s;return function(d,p){return c===0||(c===1?--c:p(function(){d.advance(c),c=0}),!1)}}):ti(i,function(){var c=s;return function(){return--c<0}})),this},Ge.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),ti(this._ctx,function(){var i=s;return function(c,d,p){return--i<=0&&d(p),0<=i}},!0),this},Ge.prototype.until=function(s,i){return ei(this._ctx,function(c,d,p){return!s(c.value)||(d(p),i)}),this},Ge.prototype.first=function(s){return this.limit(1).toArray(function(i){return i[0]}).then(s)},Ge.prototype.last=function(s){return this.reverse().first(s)},Ge.prototype.filter=function(s){var i;return ei(this._ctx,function(c){return s(c.value)}),(i=this._ctx).isMatch=or(i.isMatch,s),this},Ge.prototype.and=function(s){return this.filter(s)},Ge.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},Ge.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ge.prototype.desc=function(){return this.reverse()},Ge.prototype.eachKey=function(s){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(c,d){s(d.key,d)})},Ge.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},Ge.prototype.eachPrimaryKey=function(s){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(c,d){s(d.primaryKey,d)})},Ge.prototype.keys=function(s){var i=this._ctx;i.keysOnly=!i.isMatch;var c=[];return this.each(function(d,p){c.push(p.key)}).then(function(){return c}).then(s)},Ge.prototype.primaryKeys=function(s){var i=this._ctx;if(i.dir==="next"&&Cr(i,!0)&&0<i.limit)return this._read(function(d){var p=js(i,i.table.core.schema);return i.table.core.query({trans:d,values:!1,limit:i.limit,query:{index:p,range:i.range}})}).then(function(d){return d.result}).then(s);i.keysOnly=!i.isMatch;var c=[];return this.each(function(d,p){c.push(p.primaryKey)}).then(function(){return c}).then(s)},Ge.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},Ge.prototype.firstKey=function(s){return this.limit(1).keys(function(i){return i[0]}).then(s)},Ge.prototype.lastKey=function(s){return this.reverse().firstKey(s)},Ge.prototype.distinct=function(){var s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];if(!s||!s.multi)return this;var i={};return ei(this._ctx,function(p){var d=p.primaryKey.toString(),p=y(i,d);return i[d]=!0,!p}),this},Ge.prototype.modify=function(s){var i=this,c=this._ctx;return this._write(function(d){var p,g,b;b=typeof s=="function"?s:(p=l(s),g=p.length,function(M){for(var q=!1,V=0;V<g;++V){var Q=p[V],re=s[Q],le=ge(M,Q);re instanceof zr?(Ee(M,Q,re.execute(le)),q=!0):le!==re&&(Ee(M,Q,re),q=!0)}return q});var x=c.table.core,A=x.schema.primaryKey,S=A.outbound,P=A.extractKey,R=200,A=i.db._options.modifyChunkSize;A&&(R=typeof A=="object"?A[x.name]||A["*"]||200:A);function F(M,Q){var V=Q.failures,Q=Q.numFailures;O+=M-Q;for(var re=0,le=l(V);re<le.length;re++){var ie=le[re];I.push(V[ie])}}var I=[],O=0,T=[],D=s===Ya;return i.clone().primaryKeys().then(function(M){function q(Q){var re=Math.min(R,M.length-Q),le=M.slice(Q,Q+re);return(D?Promise.resolve([]):x.getMany({trans:d,keys:le,cache:"immutable"})).then(function(ie){var ae=[],he=[],de=S?[]:null,ye=D?le:[];if(!D)for(var Le=0;Le<re;++Le){var We=ie[Le],Be={value:ze(We),primKey:M[Q+Le]};b.call(Be,Be.value,Be)!==!1&&(Be.value==null?ye.push(M[Q+Le]):S||Ue(P(We),P(Be.value))===0?(he.push(Be.value),S&&de.push(M[Q+Le])):(ye.push(M[Q+Le]),ae.push(Be.value)))}return Promise.resolve(0<ae.length&&x.mutate({trans:d,type:"add",values:ae}).then(function(mt){for(var Me in mt.failures)ye.splice(parseInt(Me),1);F(ae.length,mt)})).then(function(){return(0<he.length||V&&typeof s=="object")&&x.mutate({trans:d,type:"put",keys:de,values:he,criteria:V,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<Q}).then(function(mt){return F(he.length,mt)})}).then(function(){return(0<ye.length||V&&D)&&x.mutate({trans:d,type:"delete",keys:ye,criteria:V,isAdditionalChunk:0<Q}).then(function(mt){return Ns(c.table,ye,mt)}).then(function(mt){return F(ye.length,mt)})}).then(function(){return M.length>Q+re&&q(Q+R)})})}var V=Cr(c)&&c.limit===1/0&&(typeof s!="function"||D)&&{index:c.index,range:c.range};return q(0).then(function(){if(0<I.length)throw new Nt("Error modifying one or more objects",I,O,T);return M.length})})})},Ge.prototype.delete=function(){var s=this._ctx,i=s.range;return!Cr(s)||s.table.schema.yProps||!s.isPrimKey&&i.type!==3?this.modify(Ya):this._write(function(c){var d=s.table.core.schema.primaryKey,p=i;return s.table.core.count({trans:c,query:{index:d,range:p}}).then(function(g){return s.table.core.mutate({trans:c,type:"deleteRange",range:p}).then(function(S){var x=S.failures,S=S.numFailures;if(S)throw new Nt("Could not delete some values",Object.keys(x).map(function(P){return x[P]}),g-S);return g-S})})})},Ge);function Ge(){}var Ya=function(s,i){return i.value=null};function gd(s,i){return s<i?-1:s===i?0:1}function yd(s,i){return i<s?-1:s===i?0:1}function Yt(s,i,c){return s=s instanceof Ja?new s.Collection(s):s,s._ctx.error=new(c||TypeError)(i),s}function Sr(s){return new s.Collection(s,function(){return Ga("")}).limit(0)}function qs(s,i,c,d){var p,g,b,x,S,P,R,A=c.length;if(!c.every(function(O){return typeof O=="string"}))return Yt(s,La);function F(O){p=O==="next"?function(D){return D.toUpperCase()}:function(D){return D.toLowerCase()},g=O==="next"?function(D){return D.toLowerCase()}:function(D){return D.toUpperCase()},b=O==="next"?gd:yd;var T=c.map(function(D){return{lower:g(D),upper:p(D)}}).sort(function(D,M){return b(D.lower,M.lower)});x=T.map(function(D){return D.upper}),S=T.map(function(D){return D.lower}),R=(P=O)==="next"?"":d}F("next"),s=new s.Collection(s,function(){return Un(x[0],S[A-1]+d)}),s._ondirectionchange=function(O){F(O)};var I=0;return s._addAlgorithm(function(O,T,D){var M=O.key;if(typeof M!="string")return!1;var q=g(M);if(i(q,S,I))return!0;for(var V=null,Q=I;Q<A;++Q){var re=(function(le,ie,ae,he,de,ye){for(var Le=Math.min(le.length,he.length),We=-1,Be=0;Be<Le;++Be){var mt=ie[Be];if(mt!==he[Be])return de(le[Be],ae[Be])<0?le.substr(0,Be)+ae[Be]+ae.substr(Be+1):de(le[Be],he[Be])<0?le.substr(0,Be)+he[Be]+ae.substr(Be+1):0<=We?le.substr(0,We)+ie[We]+ae.substr(We+1):null;de(le[Be],mt)<0&&(We=Be)}return Le<he.length&&ye==="next"?le+ae.substr(le.length):Le<le.length&&ye==="prev"?le.substr(0,ae.length):We<0?null:le.substr(0,We)+he[We]+ae.substr(We+1)})(M,q,x[Q],S[Q],b,P);re===null&&V===null?I=Q+1:(V===null||0<b(V,re))&&(V=re)}return T(V!==null?function(){O.continue(V+R)}:D),!1}),s}function Un(s,i,c,d){return{type:2,lower:s,upper:i,lowerOpen:c,upperOpen:d}}function Ga(s){return{type:1,lower:s,upper:s}}var Ja=(Object.defineProperty(Ct.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ct.prototype.between=function(s,i,c,d){c=c!==!1,d=d===!0;try{return 0<this._cmp(s,i)||this._cmp(s,i)===0&&(c||d)&&(!c||!d)?Sr(this):new this.Collection(this,function(){return Un(s,i,!c,!d)})}catch{return Yt(this,En)}},Ct.prototype.equals=function(s){return s==null?Yt(this,En):new this.Collection(this,function(){return Ga(s)})},Ct.prototype.above=function(s){return s==null?Yt(this,En):new this.Collection(this,function(){return Un(s,void 0,!0)})},Ct.prototype.aboveOrEqual=function(s){return s==null?Yt(this,En):new this.Collection(this,function(){return Un(s,void 0,!1)})},Ct.prototype.below=function(s){return s==null?Yt(this,En):new this.Collection(this,function(){return Un(void 0,s,!1,!0)})},Ct.prototype.belowOrEqual=function(s){return s==null?Yt(this,En):new this.Collection(this,function(){return Un(void 0,s)})},Ct.prototype.startsWith=function(s){return typeof s!="string"?Yt(this,La):this.between(s,s+sr,!0,!0)},Ct.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):qs(this,function(i,c){return i.indexOf(c[0])===0},[s],sr)},Ct.prototype.equalsIgnoreCase=function(s){return qs(this,function(i,c){return i===c[0]},[s],"")},Ct.prototype.anyOfIgnoreCase=function(){var s=L.apply(W,arguments);return s.length===0?Sr(this):qs(this,function(i,c){return c.indexOf(i)!==-1},s,"")},Ct.prototype.startsWithAnyOfIgnoreCase=function(){var s=L.apply(W,arguments);return s.length===0?Sr(this):qs(this,function(i,c){return c.some(function(d){return i.indexOf(d)===0})},s,sr)},Ct.prototype.anyOf=function(){var s=this,i=L.apply(W,arguments),c=this._cmp;try{i.sort(c)}catch{return Yt(this,En)}if(i.length===0)return Sr(this);var d=new this.Collection(this,function(){return Un(i[0],i[i.length-1])});d._ondirectionchange=function(g){c=g==="next"?s._ascending:s._descending,i.sort(c)};var p=0;return d._addAlgorithm(function(g,b,x){for(var S=g.key;0<c(S,i[p]);)if(++p===i.length)return b(x),!1;return c(S,i[p])===0||(b(function(){g.continue(i[p])}),!1)}),d},Ct.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ct.prototype.noneOf=function(){var s=L.apply(W,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return Yt(this,En)}var i=s.reduce(function(c,d){return c?c.concat([[c[c.length-1][1],d]]):[[-1/0,d]]},null);return i.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(i,{includeLowers:!1,includeUppers:!1})},Ct.prototype.inAnyRange=function(M,i){var c=this,d=this._cmp,p=this._ascending,g=this._descending,b=this._min,x=this._max;if(M.length===0)return Sr(this);if(!M.every(function(q){return q[0]!==void 0&&q[1]!==void 0&&p(q[0],q[1])<=0}))return Yt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",z.InvalidArgument);var S=!i||i.includeLowers!==!1,P=i&&i.includeUppers===!0,R,A=p;function F(q,V){return A(q[0],V[0])}try{(R=M.reduce(function(q,V){for(var Q=0,re=q.length;Q<re;++Q){var le=q[Q];if(d(V[0],le[1])<0&&0<d(V[1],le[0])){le[0]=b(le[0],V[0]),le[1]=x(le[1],V[1]);break}}return Q===re&&q.push(V),q},[])).sort(F)}catch{return Yt(this,En)}var I=0,O=P?function(q){return 0<p(q,R[I][1])}:function(q){return 0<=p(q,R[I][1])},T=S?function(q){return 0<g(q,R[I][0])}:function(q){return 0<=g(q,R[I][0])},D=O,M=new this.Collection(this,function(){return Un(R[0][0],R[R.length-1][1],!S,!P)});return M._ondirectionchange=function(q){A=q==="next"?(D=O,p):(D=T,g),R.sort(F)},M._addAlgorithm(function(q,V,Q){for(var re,le=q.key;D(le);)if(++I===R.length)return V(Q),!1;return!O(re=le)&&!T(re)||(c._cmp(le,R[I][1])===0||c._cmp(le,R[I][0])===0||V(function(){A===p?q.continue(R[I][0]):q.continue(R[I][1])}),!1)}),M},Ct.prototype.startsWithAnyOf=function(){var s=L.apply(W,arguments);return s.every(function(i){return typeof i=="string"})?s.length===0?Sr(this):this.inAnyRange(s.map(function(i){return[i,i+sr]})):Yt(this,"startsWithAnyOf() only works with strings")},Ct);function Ct(){}function dn(s){return ft(function(i){return Qr(i),s(i.target.error),!1})}function Qr(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var Yr="storagemutated",ni="x-storagemutated-1",Kn=Hr(null,Yr),vd=(fn.prototype._lock=function(){return $(!_e.global),++this._reculock,this._reculock!==1||_e.global||(_e.lockOwnerFor=this),this},fn.prototype._unlock=function(){if($(!_e.global),--this._reculock==0)for(_e.global||(_e.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{rr(s[1],s[0])}catch{}}return this},fn.prototype._locked=function(){return this._reculock&&_e.lockOwnerFor!==this},fn.prototype.create=function(s){var i=this;if(!this.mode)return this;var c=this.db.idbdb,d=this.db._state.dbOpenError;if($(!this.idbtrans),!s&&!c)switch(d&&d.name){case"DatabaseClosedError":throw new z.DatabaseClosed(d);case"MissingAPIError":throw new z.MissingAPI(d.message,d);default:throw new z.OpenFailed(d)}if(!this.active)throw new z.TransactionInactive;return $(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ft(function(p){Qr(p),i._reject(s.error)}),s.onabort=ft(function(p){Qr(p),i.active&&i._reject(new z.Abort(s.error)),i.active=!1,i.on("abort").fire(p)}),s.oncomplete=ft(function(){i.active=!1,i._resolve(),"mutatedParts"in s&&Kn.storagemutated.fire(s.mutatedParts)}),this},fn.prototype._promise=function(s,i,c){var d=this;if(s==="readwrite"&&this.mode!=="readwrite")return yt(new z.ReadOnly("Transaction is readonly"));if(!this.active)return yt(new z.TransactionInactive);if(this._locked())return new me(function(g,b){d._blockedFuncs.push([function(){d._promise(s,i,c).then(g,b)},_e])});if(c)return jn(function(){var g=new me(function(b,x){d._lock();var S=i(b,x,d);S&&S.then&&S.then(b,x)});return g.finally(function(){return d._unlock()}),g._lib=!0,g});var p=new me(function(g,b){var x=i(g,b,d);x&&x.then&&x.then(g,b)});return p._lib=!0,p},fn.prototype._root=function(){return this.parent?this.parent._root():this},fn.prototype.waitFor=function(s){var i,c=this._root(),d=me.resolve(s);c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return d}):(c._waitingFor=d,c._waitingQueue=[],i=c.idbtrans.objectStore(c.storeNames[0]),(function g(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(i.get(-1/0).onsuccess=g)})());var p=c._waitingFor;return new me(function(g,b){d.then(function(x){return c._waitingQueue.push(ft(g.bind(null,x)))},function(x){return c._waitingQueue.push(ft(b.bind(null,x)))}).finally(function(){c._waitingFor===p&&(c._waitingFor=null)})})},fn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new z.Abort))},fn.prototype.table=function(s){var i=this._memoizedTables||(this._memoizedTables={});if(y(i,s))return i[s];var c=this.schema[s];if(!c)throw new z.NotFound("Table "+s+" not part of transaction");return c=new this.db.Table(s,c,this),c.core=this.db.core.table(s),i[s]=c},fn);function fn(){}function ri(s,i,c,d,p,g,b,x){return{name:s,keyPath:i,unique:c,multi:d,auto:p,compound:g,src:(c&&!b?"&":"")+(d?"*":"")+(p?"++":"")+Xa(i),type:x}}function Xa(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function si(s,i,c){return{name:s,primKey:i,indexes:c,mappedClass:null,idxByName:(d=function(p){return[p.name,p]},c.reduce(function(p,g,b){return b=d(g,b),b&&(p[b[0]]=b[1]),p},{}))};var d}var Gr=function(s){try{return s.only([[]]),Gr=function(){return[[]]},[[]]}catch{return Gr=function(){return sr},sr}};function oi(s){return s==null?function(){}:typeof s=="string"?(i=s).split(".").length===1?function(c){return c[i]}:function(c){return ge(c,i)}:function(c){return ge(c,s)};var i}function Za(s){return[].slice.call(s)}var bd=0;function Jr(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function _d(s,i,S){function d(D){if(D.type===3)return null;if(D.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var I=D.lower,O=D.upper,T=D.lowerOpen,D=D.upperOpen;return I===void 0?O===void 0?null:i.upperBound(O,!!D):O===void 0?i.lowerBound(I,!!T):i.bound(I,O,!!T,!!D)}function p(F){var I,O=F.name;return{name:O,schema:F,mutate:function(T){var D=T.trans,M=T.type,q=T.keys,V=T.values,Q=T.range;return new Promise(function(re,le){re=ft(re);var ie=D.objectStore(O),ae=ie.keyPath==null,he=M==="put"||M==="add";if(!he&&M!=="delete"&&M!=="deleteRange")throw new Error("Invalid operation type: "+M);var de,ye=(q||V||{length:1}).length;if(q&&V&&q.length!==V.length)throw new Error("Given keys array must have same length as given values array.");if(ye===0)return re({numFailures:0,failures:{},results:[],lastResult:void 0});function Le(Lt){++mt,Qr(Lt)}var We=[],Be=[],mt=0;if(M==="deleteRange"){if(Q.type===4)return re({numFailures:mt,failures:Be,results:[],lastResult:void 0});Q.type===3?We.push(de=ie.clear()):We.push(de=ie.delete(d(Q)))}else{var ae=he?ae?[V,q]:[V,null]:[q,null],Me=ae[0],Dt=ae[1];if(he)for(var $t=0;$t<ye;++$t)We.push(de=Dt&&Dt[$t]!==void 0?ie[M](Me[$t],Dt[$t]):ie[M](Me[$t])),de.onerror=Le;else for($t=0;$t<ye;++$t)We.push(de=ie[M](Me[$t])),de.onerror=Le}function Zs(Lt){Lt=Lt.target.result,We.forEach(function(cr,xi){return cr.error!=null&&(Be[xi]=cr.error)}),re({numFailures:mt,failures:Be,results:M==="delete"?q:We.map(function(cr){return cr.result}),lastResult:Lt})}de.onerror=function(Lt){Le(Lt),Zs(Lt)},de.onsuccess=Zs})},getMany:function(T){var D=T.trans,M=T.keys;return new Promise(function(q,V){q=ft(q);for(var Q,re=D.objectStore(O),le=M.length,ie=new Array(le),ae=0,he=0,de=function(We){We=We.target,ie[We._pos]=We.result,++he===ae&&q(ie)},ye=dn(V),Le=0;Le<le;++Le)M[Le]!=null&&((Q=re.get(M[Le]))._pos=Le,Q.onsuccess=de,Q.onerror=ye,++ae);ae===0&&q(ie)})},get:function(T){var D=T.trans,M=T.key;return new Promise(function(q,V){q=ft(q);var Q=D.objectStore(O).get(M);Q.onsuccess=function(re){return q(re.target.result)},Q.onerror=dn(V)})},query:(I=P,function(T){return new Promise(function(D,M){D=ft(D);var q,V,Q,ae=T.trans,re=T.values,le=T.limit,de=T.query,ie=le===1/0?void 0:le,he=de.index,de=de.range,ae=ae.objectStore(O),he=he.isPrimaryKey?ae:ae.index(he.name),de=d(de);if(le===0)return D({result:[]});I?((ie=re?he.getAll(de,ie):he.getAllKeys(de,ie)).onsuccess=function(ye){return D({result:ye.target.result})},ie.onerror=dn(M)):(q=0,V=!re&&"openKeyCursor"in he?he.openKeyCursor(de):he.openCursor(de),Q=[],V.onsuccess=function(ye){var Le=V.result;return Le?(Q.push(re?Le.value:Le.primaryKey),++q===le?D({result:Q}):void Le.continue()):D({result:Q})},V.onerror=dn(M))})}),openCursor:function(T){var D=T.trans,M=T.values,q=T.query,V=T.reverse,Q=T.unique;return new Promise(function(re,le){re=ft(re);var he=q.index,ie=q.range,ae=D.objectStore(O),ae=he.isPrimaryKey?ae:ae.index(he.name),he=V?Q?"prevunique":"prev":Q?"nextunique":"next",de=!M&&"openKeyCursor"in ae?ae.openKeyCursor(d(ie),he):ae.openCursor(d(ie),he);de.onerror=dn(le),de.onsuccess=ft(function(ye){var Le,We,Be,mt,Me=de.result;Me?(Me.___id=++bd,Me.done=!1,Le=Me.continue.bind(Me),We=(We=Me.continuePrimaryKey)&&We.bind(Me),Be=Me.advance.bind(Me),mt=function(){throw new Error("Cursor not stopped")},Me.trans=D,Me.stop=Me.continue=Me.continuePrimaryKey=Me.advance=function(){throw new Error("Cursor not started")},Me.fail=ft(le),Me.next=function(){var Dt=this,$t=1;return this.start(function(){return $t--?Dt.continue():Dt.stop()}).then(function(){return Dt})},Me.start=function(Dt){function $t(){if(de.result)try{Dt()}catch(Lt){Me.fail(Lt)}else Me.done=!0,Me.start=function(){throw new Error("Cursor behind last entry")},Me.stop()}var Zs=new Promise(function(Lt,cr){Lt=ft(Lt),de.onerror=dn(cr),Me.fail=cr,Me.stop=function(xi){Me.stop=Me.continue=Me.continuePrimaryKey=Me.advance=mt,Lt(xi)}});return de.onsuccess=ft(function(Lt){de.onsuccess=$t,$t()}),Me.continue=Le,Me.continuePrimaryKey=We,Me.advance=Be,$t(),Zs},re(Me)):re(null)},le)})},count:function(T){var D=T.query,M=T.trans,q=D.index,V=D.range;return new Promise(function(Q,re){var le=M.objectStore(O),ie=q.isPrimaryKey?le:le.index(q.name),le=d(V),ie=le?ie.count(le):ie.count();ie.onsuccess=ft(function(ae){return Q(ae.target.result)}),ie.onerror=dn(re)})}}}var g,b,x,R=(b=S,x=Za((g=s).objectStoreNames),{schema:{name:g.name,tables:x.map(function(F){return b.objectStore(F)}).map(function(F){var I=F.keyPath,D=F.autoIncrement,O=u(I),T={},D={name:F.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:I==null,compound:O,keyPath:I,autoIncrement:D,unique:!0,extractKey:oi(I)},indexes:Za(F.indexNames).map(function(M){return F.index(M)}).map(function(Q){var q=Q.name,V=Q.unique,re=Q.multiEntry,Q=Q.keyPath,re={name:q,compound:u(Q),keyPath:Q,unique:V,multiEntry:re,extractKey:oi(Q)};return T[Jr(Q)]=re}),getIndexByKeyPath:function(M){return T[Jr(M)]}};return T[":id"]=D.primaryKey,I!=null&&(T[Jr(I)]=D.primaryKey),D})},hasGetAll:0<x.length&&"getAll"in b.objectStore(x[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),S=R.schema,P=R.hasGetAll,R=S.tables.map(p),A={};return R.forEach(function(F){return A[F.name]=F}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(F){if(!A[F])throw new Error("Table '".concat(F,"' not found"));return A[F]},MIN_KEY:-1/0,MAX_KEY:Gr(i),schema:S}}function wd(s,i,c,d){var p=c.IDBKeyRange;return c.indexedDB,{dbcore:(d=_d(i,p,d),s.dbcore.reduce(function(g,b){return b=b.create,r(r({},g),b(g))},d))}}function Us(s,d){var c=d.db,d=wd(s._middlewares,c,s._deps,d);s.core=d.dbcore,s.tables.forEach(function(p){var g=p.name;s.core.schema.tables.some(function(b){return b.name===g})&&(p.core=s.core.table(g),s[g]instanceof s.Table&&(s[g].core=p.core))})}function Ks(s,i,c,d){c.forEach(function(p){var g=d[p];i.forEach(function(b){var x=(function S(P,R){return H(P,R)||(P=m(P))&&S(P,R)})(b,p);(!x||"value"in x&&x.value===void 0)&&(b===s.Transaction.prototype||b instanceof s.Transaction?C(b,p,{get:function(){return this.table(p)},set:function(S){k(this,p,{value:S,writable:!0,configurable:!0,enumerable:!0})}}):b[p]=new s.Table(p,g))})})}function ii(s,i){i.forEach(function(c){for(var d in c)c[d]instanceof s.Table&&delete c[d]})}function kd(s,i){return s._cfg.version-i._cfg.version}function xd(s,i,c,d){var p=s._dbSchema;c.objectStoreNames.contains("$meta")&&!p.$meta&&(p.$meta=si("$meta",tc("")[0],[]),s._storeNames.push("$meta"));var g=s._createTransaction("readwrite",s._storeNames,p);g.create(c),g._completion.catch(d);var b=g._reject.bind(g),x=_e.transless||_e;jn(function(){return _e.trans=g,_e.transless=x,i!==0?(Us(s,c),P=i,((S=g).storeNames.includes("$meta")?S.table("$meta").get("version").then(function(R){return R??P}):me.resolve(P)).then(function(R){return F=R,I=g,O=c,T=[],R=(A=s)._versions,D=A._dbSchema=Hs(0,A.idbdb,O),(R=R.filter(function(M){return M._cfg.version>=F})).length!==0?(R.forEach(function(M){T.push(function(){var q=D,V=M._cfg.dbschema;Ws(A,q,O),Ws(A,V,O),D=A._dbSchema=V;var Q=ai(q,V);Q.add.forEach(function(he){ci(O,he[0],he[1].primKey,he[1].indexes)}),Q.change.forEach(function(he){if(he.recreate)throw new z.Upgrade("Not yet support for changing primary key");var de=O.objectStore(he.name);he.add.forEach(function(ye){return Vs(de,ye)}),he.change.forEach(function(ye){de.deleteIndex(ye.name),Vs(de,ye)}),he.del.forEach(function(ye){return de.deleteIndex(ye)})});var re=M._cfg.contentUpgrade;if(re&&M._cfg.version>F){Us(A,O),I._memoizedTables={};var le=Se(V);Q.del.forEach(function(he){le[he]=q[he]}),ii(A,[A.Transaction.prototype]),Ks(A,[A.Transaction.prototype],l(le),le),I.schema=le;var ie,ae=Ie(re);return ae&&Ar(),Q=me.follow(function(){var he;(ie=re(I))&&ae&&(he=Ln.bind(null,null),ie.then(he,he))}),ie&&typeof ie.then=="function"?me.resolve(ie):Q.then(function(){return ie})}}),T.push(function(q){var V,Q,re=M._cfg.dbschema;V=re,Q=q,[].slice.call(Q.db.objectStoreNames).forEach(function(le){return V[le]==null&&Q.db.deleteObjectStore(le)}),ii(A,[A.Transaction.prototype]),Ks(A,[A.Transaction.prototype],A._storeNames,A._dbSchema),I.schema=A._dbSchema}),T.push(function(q){A.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(A.idbdb.version/10)===M._cfg.version?(A.idbdb.deleteObjectStore("$meta"),delete A._dbSchema.$meta,A._storeNames=A._storeNames.filter(function(V){return V!=="$meta"})):q.objectStore("$meta").put(M._cfg.version,"version"))})}),(function M(){return T.length?me.resolve(T.shift()(I.idbtrans)).then(M):me.resolve()})().then(function(){ec(D,O)})):me.resolve();var A,F,I,O,T,D}).catch(b)):(l(p).forEach(function(R){ci(c,R,p[R].primKey,p[R].indexes)}),Us(s,c),void me.follow(function(){return s.on.populate.fire(g)}).catch(b));var S,P})}function Ad(s,i){ec(s._dbSchema,i),i.db.version%10!=0||i.objectStoreNames.contains("$meta")||i.db.createObjectStore("$meta").add(Math.ceil(i.db.version/10-1),"version");var c=Hs(0,s.idbdb,i);Ws(s,s._dbSchema,i);for(var d=0,p=ai(c,s._dbSchema).change;d<p.length;d++){var g=(function(b){if(b.change.length||b.recreate)return console.warn("Unable to patch indexes of table ".concat(b.name," because it has changes on the type of index or primary key.")),{value:void 0};var x=i.objectStore(b.name);b.add.forEach(function(S){ne&&console.debug("Dexie upgrade patch: Creating missing index ".concat(b.name,".").concat(S.src)),Vs(x,S)})})(p[d]);if(typeof g=="object")return g.value}}function ai(s,i){var c,d={del:[],add:[],change:[]};for(c in s)i[c]||d.del.push(c);for(c in i){var p=s[c],g=i[c];if(p){var b={name:c,def:g,recreate:!1,del:[],add:[],change:[]};if(""+(p.primKey.keyPath||"")!=""+(g.primKey.keyPath||"")||p.primKey.auto!==g.primKey.auto)b.recreate=!0,d.change.push(b);else{var x=p.idxByName,S=g.idxByName,P=void 0;for(P in x)S[P]||b.del.push(P);for(P in S){var R=x[P],A=S[P];R?R.src!==A.src&&b.change.push(A):b.add.push(A)}(0<b.del.length||0<b.add.length||0<b.change.length)&&d.change.push(b)}}else d.add.push([c,g])}return d}function ci(s,i,c,d){var p=s.db.createObjectStore(i,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return d.forEach(function(g){return Vs(p,g)}),p}function ec(s,i){l(s).forEach(function(c){i.db.objectStoreNames.contains(c)||(ne&&console.debug("Dexie: Creating missing table",c),ci(i,c,s[c].primKey,s[c].indexes))})}function Vs(s,i){s.createIndex(i.name,i.keyPath,{unique:i.unique,multiEntry:i.multi})}function Hs(s,i,c){var d={};return X(i.objectStoreNames,0).forEach(function(p){for(var g=c.objectStore(p),b=ri(Xa(P=g.keyPath),P||"",!0,!1,!!g.autoIncrement,P&&typeof P!="string",!0),x=[],S=0;S<g.indexNames.length;++S){var R=g.index(g.indexNames[S]),P=R.keyPath,R=ri(R.name,P,!!R.unique,!!R.multiEntry,!1,P&&typeof P!="string",!1);x.push(R)}d[p]=si(p,b,x)}),d}function Ws(s,i,c){for(var d=c.db.objectStoreNames,p=0;p<d.length;++p){var g=d[p],b=c.objectStore(g);s._hasGetAll="getAll"in b;for(var x=0;x<b.indexNames.length;++x){var S=b.indexNames[x],P=b.index(S).keyPath,R=typeof P=="string"?P:"["+X(P).join("+")+"]";!i[g]||(P=i[g].idxByName[R])&&(P.name=S,delete i[g].idxByName[R],i[g].idxByName[S]=P)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function tc(s){return s.split(",").map(function(i,c){var g=i.split(":"),d=(p=g[1])===null||p===void 0?void 0:p.trim(),p=(i=g[0].trim()).replace(/([&*]|\+\+)/g,""),g=/^\[/.test(p)?p.match(/^\[(.*)\]$/)[1].split("+"):p;return ri(p,g||null,/\&/.test(i),/\*/.test(i),/\+\+/.test(i),u(g),c===0,d)})}var Ed=(Ir.prototype._createTableSchema=si,Ir.prototype._parseIndexSyntax=tc,Ir.prototype._parseStoresSpec=function(s,i){var c=this;l(s).forEach(function(d){if(s[d]!==null){var p=c._parseIndexSyntax(s[d]),g=p.shift();if(!g)throw new z.Schema("Invalid schema for table "+d+": "+s[d]);if(g.unique=!0,g.multi)throw new z.Schema("Primary key cannot be multiEntry*");p.forEach(function(b){if(b.auto)throw new z.Schema("Only primary key can be marked as autoIncrement (++)");if(!b.keyPath)throw new z.Schema("Index must have a name and cannot be an empty string")}),p=c._createTableSchema(d,g,p),i[d]=p}})},Ir.prototype.stores=function(c){var i=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,c):c;var c=i._versions,d={},p={};return c.forEach(function(g){f(d,g._cfg.storesSource),p=g._cfg.dbschema={},g._parseStoresSpec(d,p)}),i._dbSchema=p,ii(i,[i._allTables,i,i.Transaction.prototype]),Ks(i,[i._allTables,i,i.Transaction.prototype,this._cfg.tables],l(p),p),i._storeNames=l(p),this},Ir.prototype.upgrade=function(s){return this._cfg.contentUpgrade=ce(this._cfg.contentUpgrade||_,s),this},Ir);function Ir(){}function li(s,i){var c=s._dbNamesDB;return c||(c=s._dbNamesDB=new Cn(Ms,{addons:[],indexedDB:s,IDBKeyRange:i})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function ui(s){return s&&typeof s.databases=="function"}function di(s){return jn(function(){return _e.letThrough=!0,s()})}function fi(s){return!("from"in s)}var Rt=function(s,i){if(!this){var c=new Rt;return s&&"d"in s&&f(c,s),c}f(this,arguments.length?{d:1,from:s,to:1<arguments.length?i:s}:{d:0})};function Xr(s,i,c){var d=Ue(i,c);if(!isNaN(d)){if(0<d)throw RangeError();if(fi(s))return f(s,{from:i,to:c,d:1});var p=s.l,d=s.r;if(Ue(c,s.from)<0)return p?Xr(p,i,c):s.l={from:i,to:c,d:1,l:null,r:null},rc(s);if(0<Ue(i,s.to))return d?Xr(d,i,c):s.r={from:i,to:c,d:1,l:null,r:null},rc(s);Ue(i,s.from)<0&&(s.from=i,s.l=null,s.d=d?d.d+1:1),0<Ue(c,s.to)&&(s.to=c,s.r=null,s.d=s.l?s.l.d+1:1),c=!s.r,p&&!s.l&&Zr(s,p),d&&c&&Zr(s,d)}}function Zr(s,i){fi(i)||(function c(d,S){var g=S.from,b=S.to,x=S.l,S=S.r;Xr(d,g,b),x&&c(d,x),S&&c(d,S)})(s,i)}function nc(s,i){var c=zs(i),d=c.next();if(d.done)return!1;for(var p=d.value,g=zs(s),b=g.next(p.from),x=b.value;!d.done&&!b.done;){if(Ue(x.from,p.to)<=0&&0<=Ue(x.to,p.from))return!0;Ue(p.from,x.from)<0?p=(d=c.next(x.from)).value:x=(b=g.next(p.from)).value}return!1}function zs(s){var i=fi(s)?null:{s:0,n:s};return{next:function(c){for(var d=0<arguments.length;i;)switch(i.s){case 0:if(i.s=1,d)for(;i.n.l&&Ue(c,i.n.from)<0;)i={up:i,n:i.n.l,s:1};else for(;i.n.l;)i={up:i,n:i.n.l,s:1};case 1:if(i.s=2,!d||Ue(c,i.n.to)<=0)return{value:i.n,done:!1};case 2:if(i.n.r){i.s=3,i={up:i,n:i.n.r,s:0};continue}case 3:i=i.up}return{done:!0}}}}function rc(s){var i,c,d=(((i=s.r)===null||i===void 0?void 0:i.d)||0)-(((c=s.l)===null||c===void 0?void 0:c.d)||0),p=1<d?"r":d<-1?"l":"";p&&(i=p=="r"?"l":"r",c=r({},s),d=s[p],s.from=d.from,s.to=d.to,s[p]=d[p],c[p]=d[i],(s[i]=c).d=sc(c)),s.d=sc(s)}function sc(c){var i=c.r,c=c.l;return(i?c?Math.max(i.d,c.d):i.d:c?c.d:0)+1}function Qs(s,i){return l(i).forEach(function(c){s[c]?Zr(s[c],i[c]):s[c]=(function d(p){var g,b,x={};for(g in p)y(p,g)&&(b=p[g],x[g]=!b||typeof b!="object"||ut.has(b.constructor)?b:d(b));return x})(i[c])}),s}function pi(s,i){return s.all||i.all||Object.keys(s).some(function(c){return i[c]&&nc(i[c],s[c])})}v(Rt.prototype,((tn={add:function(s){return Zr(this,s),this},addKey:function(s){return Xr(this,s,s),this},addKeys:function(s){var i=this;return s.forEach(function(c){return Xr(i,c,c)}),this},hasKey:function(s){var i=zs(this).next(s).value;return i&&Ue(i.from,s)<=0&&0<=Ue(i.to,s)}})[Fe]=function(){return zs(this)},tn));var ir={},hi={},mi=!1;function Ys(s){Qs(hi,s),mi||(mi=!0,setTimeout(function(){mi=!1,gi(hi,!(hi={}))},0))}function gi(s,i){i===void 0&&(i=!1);var c=new Set;if(s.all)for(var d=0,p=Object.values(ir);d<p.length;d++)oc(b=p[d],s,c,i);else for(var g in s){var b,x=/^idb\:\/\/(.*)\/(.*)\//.exec(g);x&&(g=x[1],x=x[2],(b=ir["idb://".concat(g,"/").concat(x)])&&oc(b,s,c,i))}c.forEach(function(S){return S()})}function oc(s,i,c,d){for(var p=[],g=0,b=Object.entries(s.queries.query);g<b.length;g++){for(var x=b[g],S=x[0],P=[],R=0,A=x[1];R<A.length;R++){var F=A[R];pi(i,F.obsSet)?F.subscribers.forEach(function(D){return c.add(D)}):d&&P.push(F)}d&&p.push([S,P])}if(d)for(var I=0,O=p;I<O.length;I++){var T=O[I],S=T[0],P=T[1];s.queries.query[S]=P}}function Cd(s){var i=s._state,c=s._deps.indexedDB;if(i.isBeingOpened||s.idbdb)return i.dbReadyPromise.then(function(){return i.dbOpenError?yt(i.dbOpenError):s});i.isBeingOpened=!0,i.dbOpenError=null,i.openComplete=!1;var d=i.openCanceller,p=Math.round(10*s.verno),g=!1;function b(){if(i.openCanceller!==d)throw new z.DatabaseClosed("db.open() was cancelled")}function x(){return new me(function(F,I){if(b(),!c)throw new z.MissingAPI;var O=s.name,T=i.autoSchema||!p?c.open(O):c.open(O,p);if(!T)throw new z.MissingAPI;T.onerror=dn(I),T.onblocked=ft(s._fireOnBlocked),T.onupgradeneeded=ft(function(D){var M;R=T.transaction,i.autoSchema&&!s._options.allowEmptyDB?(T.onerror=Qr,R.abort(),T.result.close(),(M=c.deleteDatabase(O)).onsuccess=M.onerror=ft(function(){I(new z.NoSuchDatabase("Database ".concat(O," doesnt exist")))})):(R.onerror=dn(I),D=D.oldVersion>Math.pow(2,62)?0:D.oldVersion,A=D<1,s.idbdb=T.result,g&&Ad(s,R),xd(s,D/10,R,I))},I),T.onsuccess=ft(function(){R=null;var D,M,q,V,Q,re=s.idbdb=T.result,le=X(re.objectStoreNames);if(0<le.length)try{var ie=re.transaction((V=le).length===1?V[0]:V,"readonly");if(i.autoSchema)M=re,q=ie,(D=s).verno=M.version/10,q=D._dbSchema=Hs(0,M,q),D._storeNames=X(M.objectStoreNames,0),Ks(D,[D._allTables],l(q),q);else if(Ws(s,s._dbSchema,ie),((Q=ai(Hs(0,(Q=s).idbdb,ie),Q._dbSchema)).add.length||Q.change.some(function(ae){return ae.add.length||ae.change.length}))&&!g)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),re.close(),p=re.version+1,g=!0,F(x());Us(s,ie)}catch{}Er.push(s),re.onversionchange=ft(function(ae){i.vcFired=!0,s.on("versionchange").fire(ae)}),re.onclose=ft(function(ae){s.on("close").fire(ae)}),A&&(Q=s._deps,ie=O,re=Q.indexedDB,Q=Q.IDBKeyRange,ui(re)||ie===Ms||li(re,Q).put({name:ie}).catch(_)),F()},I)}).catch(function(F){switch(F?.name){case"UnknownError":if(0<i.PR1398_maxLoop)return i.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),x();break;case"VersionError":if(0<p)return p=0,x()}return me.reject(F)})}var S,P=i.dbReadyResolve,R=null,A=!1;return me.race([d,(typeof navigator>"u"?me.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(F){function I(){return indexedDB.databases().finally(F)}S=setInterval(I,100),I()}).finally(function(){return clearInterval(S)}):Promise.resolve()).then(x)]).then(function(){return b(),i.onReadyBeingFired=[],me.resolve(di(function(){return s.on.ready.fire(s.vip)})).then(function F(){if(0<i.onReadyBeingFired.length){var I=i.onReadyBeingFired.reduce(ce,_);return i.onReadyBeingFired=[],me.resolve(di(function(){return I(s.vip)})).then(F)}})}).finally(function(){i.openCanceller===d&&(i.onReadyBeingFired=null,i.isBeingOpened=!1)}).catch(function(F){i.dbOpenError=F;try{R&&R.abort()}catch{}return d===i.openCanceller&&s._close(),yt(F)}).finally(function(){i.openComplete=!0,P()}).then(function(){var F;return A&&(F={},s.tables.forEach(function(I){I.schema.indexes.forEach(function(O){O.name&&(F["idb://".concat(s.name,"/").concat(I.name,"/").concat(O.name)]=new Rt(-1/0,[[[]]]))}),F["idb://".concat(s.name,"/").concat(I.name,"/")]=F["idb://".concat(s.name,"/").concat(I.name,"/:dels")]=new Rt(-1/0,[[[]]])}),Kn(Yr).fire(F),gi(F,!0)),s})}function yi(s){function i(g){return s.next(g)}var c=p(i),d=p(function(g){return s.throw(g)});function p(g){return function(S){var x=g(S),S=x.value;return x.done?S:S&&typeof S.then=="function"?S.then(c,d):u(S)?Promise.all(S).then(c,d):c(S)}}return p(i)()}function Gs(s,i,c){for(var d=u(s)?s.slice():[s],p=0;p<c;++p)d.push(i);return d}var Sd={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return r(r({},s),{table:function(i){var c=s.table(i),d=c.schema,p={},g=[];function b(A,F,I){var O=Jr(A),T=p[O]=p[O]||[],D=A==null?0:typeof A=="string"?1:A.length,M=0<F,M=r(r({},I),{name:M?"".concat(O,"(virtual-from:").concat(I.name,")"):I.name,lowLevelIndex:I,isVirtual:M,keyTail:F,keyLength:D,extractKey:oi(A),unique:!M&&I.unique});return T.push(M),M.isPrimaryKey||g.push(M),1<D&&b(D===2?A[0]:A.slice(0,D-1),F+1,I),T.sort(function(q,V){return q.keyTail-V.keyTail}),M}i=b(d.primaryKey.keyPath,0,d.primaryKey),p[":id"]=[i];for(var x=0,S=d.indexes;x<S.length;x++){var P=S[x];b(P.keyPath,0,P)}function R(A){var F,I=A.query.index;return I.isVirtual?r(r({},A),{query:{index:I.lowLevelIndex,range:(F=A.query.range,I=I.keyTail,{type:F.type===1?2:F.type,lower:Gs(F.lower,F.lowerOpen?s.MAX_KEY:s.MIN_KEY,I),lowerOpen:!0,upper:Gs(F.upper,F.upperOpen?s.MIN_KEY:s.MAX_KEY,I),upperOpen:!0})}}):A}return r(r({},c),{schema:r(r({},d),{primaryKey:i,indexes:g,getIndexByKeyPath:function(A){return(A=p[Jr(A)])&&A[0]}}),count:function(A){return c.count(R(A))},query:function(A){return c.query(R(A))},openCursor:function(A){var F=A.query.index,I=F.keyTail,O=F.isVirtual,T=F.keyLength;return O?c.openCursor(R(A)).then(function(M){return M&&D(M)}):c.openCursor(A);function D(M){return Object.create(M,{continue:{value:function(q){q!=null?M.continue(Gs(q,A.reverse?s.MAX_KEY:s.MIN_KEY,I)):A.unique?M.continue(M.key.slice(0,T).concat(A.reverse?s.MIN_KEY:s.MAX_KEY,I)):M.continue()}},continuePrimaryKey:{value:function(q,V){M.continuePrimaryKey(Gs(q,s.MAX_KEY,I),V)}},primaryKey:{get:function(){return M.primaryKey}},key:{get:function(){var q=M.key;return T===1?q[0]:q.slice(0,T)}},value:{get:function(){return M.value}}})}}})}})}};function vi(s,i,c,d){return c=c||{},d=d||"",l(s).forEach(function(p){var g,b,x;y(i,p)?(g=s[p],b=i[p],typeof g=="object"&&typeof b=="object"&&g&&b?(x=it(g))!==it(b)?c[d+p]=i[p]:x==="Object"?vi(g,b,c,d+p+"."):g!==b&&(c[d+p]=i[p]):g!==b&&(c[d+p]=i[p])):c[d+p]=void 0}),l(i).forEach(function(p){y(s,p)||(c[d+p]=i[p])}),c}function bi(s,i){return i.type==="delete"?i.keys:i.keys||i.values.map(s.extractKey)}var Id={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return r(r({},s),{table:function(i){var c=s.table(i),d=c.schema.primaryKey;return r(r({},c),{mutate:function(p){var g=_e.trans,b=g.table(i).hook,x=b.deleting,S=b.creating,P=b.updating;switch(p.type){case"add":if(S.fire===_)break;return g._promise("readwrite",function(){return R(p)},!0);case"put":if(S.fire===_&&P.fire===_)break;return g._promise("readwrite",function(){return R(p)},!0);case"delete":if(x.fire===_)break;return g._promise("readwrite",function(){return R(p)},!0);case"deleteRange":if(x.fire===_)break;return g._promise("readwrite",function(){return(function A(F,I,O){return c.query({trans:F,values:!1,query:{index:d,range:I},limit:O}).then(function(T){var D=T.result;return R({type:"delete",keys:D,trans:F}).then(function(M){return 0<M.numFailures?Promise.reject(M.failures[0]):D.length<O?{failures:[],numFailures:0,lastResult:void 0}:A(F,r(r({},I),{lower:D[D.length-1],lowerOpen:!0}),O)})})})(p.trans,p.range,1e4)},!0)}return c.mutate(p);function R(A){var F,I,O,T=_e.trans,D=A.keys||bi(d,A);if(!D)throw new Error("Keys missing");return(A=A.type==="add"||A.type==="put"?r(r({},A),{keys:D}):r({},A)).type!=="delete"&&(A.values=o([],A.values)),A.keys&&(A.keys=o([],A.keys)),F=c,O=D,((I=A).type==="add"?Promise.resolve([]):F.getMany({trans:I.trans,keys:O,cache:"immutable"})).then(function(M){var q=D.map(function(V,Q){var re,le,ie,ae=M[Q],he={onerror:null,onsuccess:null};return A.type==="delete"?x.fire.call(he,V,ae,T):A.type==="add"||ae===void 0?(re=S.fire.call(he,V,A.values[Q],T),V==null&&re!=null&&(A.keys[Q]=V=re,d.outbound||Ee(A.values[Q],d.keyPath,V))):(re=vi(ae,A.values[Q]),(le=P.fire.call(he,re,V,ae,T))&&(ie=A.values[Q],Object.keys(le).forEach(function(de){y(ie,de)?ie[de]=le[de]:Ee(ie,de,le[de])}))),he});return c.mutate(A).then(function(V){for(var Q=V.failures,re=V.results,le=V.numFailures,V=V.lastResult,ie=0;ie<D.length;++ie){var ae=(re||D)[ie],he=q[ie];ae==null?he.onerror&&he.onerror(Q[ie]):he.onsuccess&&he.onsuccess(A.type==="put"&&M[ie]?A.values[ie]:ae)}return{failures:Q,results:re,numFailures:le,lastResult:V}}).catch(function(V){return q.forEach(function(Q){return Q.onerror&&Q.onerror(V)}),Promise.reject(V)})})}}})}})}};function ic(s,i,c){try{if(!i||i.keys.length<s.length)return null;for(var d=[],p=0,g=0;p<i.keys.length&&g<s.length;++p)Ue(i.keys[p],s[g])===0&&(d.push(c?ze(i.values[p]):i.values[p]),++g);return d.length===s.length?d:null}catch{return null}}var Pd={stack:"dbcore",level:-1,create:function(s){return{table:function(i){var c=s.table(i);return r(r({},c),{getMany:function(d){if(!d.cache)return c.getMany(d);var p=ic(d.keys,d.trans._cache,d.cache==="clone");return p?me.resolve(p):c.getMany(d).then(function(g){return d.trans._cache={keys:d.keys,values:d.cache==="clone"?ze(g):g},g})},mutate:function(d){return d.type!=="add"&&(d.trans._cache=null),c.mutate(d)}})}}}};function ac(s,i){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!i.schema.primaryKey.outbound}function cc(s,i){switch(s){case"query":return i.values&&!i.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Od={stack:"dbcore",level:0,name:"Observability",create:function(s){var i=s.schema.name,c=new Rt(s.MIN_KEY,s.MAX_KEY);return r(r({},s),{transaction:function(d,p,g){if(_e.subscr&&p!=="readonly")throw new z.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(_e.querier));return s.transaction(d,p,g)},table:function(d){var p=s.table(d),g=p.schema,b=g.primaryKey,A=g.indexes,x=b.extractKey,S=b.outbound,P=b.autoIncrement&&A.filter(function(I){return I.compound&&I.keyPath.includes(b.keyPath)}),R=r(r({},p),{mutate:function(I){function O(de){return de="idb://".concat(i,"/").concat(d,"/").concat(de),V[de]||(V[de]=new Rt)}var T,D,M,q=I.trans,V=I.mutatedParts||(I.mutatedParts={}),Q=O(""),re=O(":dels"),le=I.type,he=I.type==="deleteRange"?[I.range]:I.type==="delete"?[I.keys]:I.values.length<50?[bi(b,I).filter(function(de){return de}),I.values]:[],ie=he[0],ae=he[1],he=I.trans._cache;return u(ie)?(Q.addKeys(ie),(he=le==="delete"||ie.length===ae.length?ic(ie,he):null)||re.addKeys(ie),(he||ae)&&(T=O,D=he,M=ae,g.indexes.forEach(function(de){var ye=T(de.name||"");function Le(Be){return Be!=null?de.extractKey(Be):null}function We(Be){return de.multiEntry&&u(Be)?Be.forEach(function(mt){return ye.addKey(mt)}):ye.addKey(Be)}(D||M).forEach(function(Be,Dt){var Me=D&&Le(D[Dt]),Dt=M&&Le(M[Dt]);Ue(Me,Dt)!==0&&(Me!=null&&We(Me),Dt!=null&&We(Dt))})}))):ie?(ae={from:(ae=ie.lower)!==null&&ae!==void 0?ae:s.MIN_KEY,to:(ae=ie.upper)!==null&&ae!==void 0?ae:s.MAX_KEY},re.add(ae),Q.add(ae)):(Q.add(c),re.add(c),g.indexes.forEach(function(de){return O(de.name).add(c)})),p.mutate(I).then(function(de){return!ie||I.type!=="add"&&I.type!=="put"||(Q.addKeys(de.results),P&&P.forEach(function(ye){for(var Le=I.values.map(function(Me){return ye.extractKey(Me)}),We=ye.keyPath.findIndex(function(Me){return Me===b.keyPath}),Be=0,mt=de.results.length;Be<mt;++Be)Le[Be][We]=de.results[Be];O(ye.name).addKeys(Le)})),q.mutatedParts=Qs(q.mutatedParts||{},V),de})}}),A=function(O){var T=O.query,O=T.index,T=T.range;return[O,new Rt((O=T.lower)!==null&&O!==void 0?O:s.MIN_KEY,(T=T.upper)!==null&&T!==void 0?T:s.MAX_KEY)]},F={get:function(I){return[b,new Rt(I.key)]},getMany:function(I){return[b,new Rt().addKeys(I.keys)]},count:A,query:A,openCursor:A};return l(F).forEach(function(I){R[I]=function(O){var T=_e.subscr,D=!!T,M=ac(_e,p)&&cc(I,O)?O.obsSet={}:T;if(D){var q=function(ae){return ae="idb://".concat(i,"/").concat(d,"/").concat(ae),M[ae]||(M[ae]=new Rt)},V=q(""),Q=q(":dels"),T=F[I](O),D=T[0],T=T[1];if((I==="query"&&D.isPrimaryKey&&!O.values?Q:q(D.name||"")).add(T),!D.isPrimaryKey){if(I!=="count"){var re=I==="query"&&S&&O.values&&p.query(r(r({},O),{values:!1}));return p[I].apply(this,arguments).then(function(ae){if(I==="query"){if(S&&O.values)return re.then(function(Le){return Le=Le.result,V.addKeys(Le),ae});var he=O.values?ae.result.map(x):ae.result;(O.values?V:Q).addKeys(he)}else if(I==="openCursor"){var de=ae,ye=O.values;return de&&Object.create(de,{key:{get:function(){return Q.addKey(de.primaryKey),de.key}},primaryKey:{get:function(){var Le=de.primaryKey;return Q.addKey(Le),Le}},value:{get:function(){return ye&&V.addKey(de.primaryKey),de.value}}})}return ae})}Q.add(c)}}return p[I].apply(this,arguments)}}),R}})}};function lc(s,i,c){if(c.numFailures===0)return i;if(i.type==="deleteRange")return null;var d=i.keys?i.keys.length:"values"in i&&i.values?i.values.length:1;return c.numFailures===d?null:(i=r({},i),u(i.keys)&&(i.keys=i.keys.filter(function(p,g){return!(g in c.failures)})),"values"in i&&u(i.values)&&(i.values=i.values.filter(function(p,g){return!(g in c.failures)})),i)}function _i(s,i){return c=s,((d=i).lower===void 0||(d.lowerOpen?0<Ue(c,d.lower):0<=Ue(c,d.lower)))&&(s=s,(i=i).upper===void 0||(i.upperOpen?Ue(s,i.upper)<0:Ue(s,i.upper)<=0));var c,d}function uc(s,i,F,d,p,g){if(!F||F.length===0)return s;var b=i.query.index,x=b.multiEntry,S=i.query.range,P=d.schema.primaryKey.extractKey,R=b.extractKey,A=(b.lowLevelIndex||b).extractKey,F=F.reduce(function(I,O){var T=I,D=[];if(O.type==="add"||O.type==="put")for(var M=new Rt,q=O.values.length-1;0<=q;--q){var V,Q=O.values[q],re=P(Q);M.hasKey(re)||(V=R(Q),(x&&u(V)?V.some(function(de){return _i(de,S)}):_i(V,S))&&(M.addKey(re),D.push(Q)))}switch(O.type){case"add":var le=new Rt().addKeys(i.values?I.map(function(ye){return P(ye)}):I),T=I.concat(i.values?D.filter(function(ye){return ye=P(ye),!le.hasKey(ye)&&(le.addKey(ye),!0)}):D.map(function(ye){return P(ye)}).filter(function(ye){return!le.hasKey(ye)&&(le.addKey(ye),!0)}));break;case"put":var ie=new Rt().addKeys(O.values.map(function(ye){return P(ye)}));T=I.filter(function(ye){return!ie.hasKey(i.values?P(ye):ye)}).concat(i.values?D:D.map(function(ye){return P(ye)}));break;case"delete":var ae=new Rt().addKeys(O.keys);T=I.filter(function(ye){return!ae.hasKey(i.values?P(ye):ye)});break;case"deleteRange":var he=O.range;T=I.filter(function(ye){return!_i(P(ye),he)})}return T},s);return F===s?s:(F.sort(function(I,O){return Ue(A(I),A(O))||Ue(P(I),P(O))}),i.limit&&i.limit<1/0&&(F.length>i.limit?F.length=i.limit:s.length===i.limit&&F.length<i.limit&&(p.dirty=!0)),g?Object.freeze(F):F)}function dc(s,i){return Ue(s.lower,i.lower)===0&&Ue(s.upper,i.upper)===0&&!!s.lowerOpen==!!i.lowerOpen&&!!s.upperOpen==!!i.upperOpen}function Rd(s,i){return(function(c,d,p,g){if(c===void 0)return d!==void 0?-1:0;if(d===void 0)return 1;if((d=Ue(c,d))===0){if(p&&g)return 0;if(p)return 1;if(g)return-1}return d})(s.lower,i.lower,s.lowerOpen,i.lowerOpen)<=0&&0<=(function(c,d,p,g){if(c===void 0)return d!==void 0?1:0;if(d===void 0)return-1;if((d=Ue(c,d))===0){if(p&&g)return 0;if(p)return-1;if(g)return 1}return d})(s.upper,i.upper,s.upperOpen,i.upperOpen)}function Dd(s,i,c,d){s.subscribers.add(c),d.addEventListener("abort",function(){var p,g;s.subscribers.delete(c),s.subscribers.size===0&&(p=s,g=i,setTimeout(function(){p.subscribers.size===0&&Y(g,p)},3e3))})}var $d={stack:"dbcore",level:0,name:"Cache",create:function(s){var i=s.schema.name;return r(r({},s),{transaction:function(c,d,p){var g,b,x=s.transaction(c,d,p);return d==="readwrite"&&(b=(g=new AbortController).signal,p=function(S){return function(){if(g.abort(),d==="readwrite"){for(var P=new Set,R=0,A=c;R<A.length;R++){var F=A[R],I=ir["idb://".concat(i,"/").concat(F)];if(I){var O=s.table(F),T=I.optimisticOps.filter(function(ye){return ye.trans===x});if(x._explicit&&S&&x.mutatedParts)for(var D=0,M=Object.values(I.queries.query);D<M.length;D++)for(var q=0,V=(le=M[D]).slice();q<V.length;q++)pi((ie=V[q]).obsSet,x.mutatedParts)&&(Y(le,ie),ie.subscribers.forEach(function(ye){return P.add(ye)}));else if(0<T.length){I.optimisticOps=I.optimisticOps.filter(function(ye){return ye.trans!==x});for(var Q=0,re=Object.values(I.queries.query);Q<re.length;Q++)for(var le,ie,ae,he=0,de=(le=re[Q]).slice();he<de.length;he++)(ie=de[he]).res!=null&&x.mutatedParts&&(S&&!ie.dirty?(ae=Object.isFrozen(ie.res),ae=uc(ie.res,ie.req,T,O,ie,ae),ie.dirty?(Y(le,ie),ie.subscribers.forEach(function(ye){return P.add(ye)})):ae!==ie.res&&(ie.res=ae,ie.promise=me.resolve({result:ae}))):(ie.dirty&&Y(le,ie),ie.subscribers.forEach(function(ye){return P.add(ye)})))}}}P.forEach(function(ye){return ye()})}}},x.addEventListener("abort",p(!1),{signal:b}),x.addEventListener("error",p(!1),{signal:b}),x.addEventListener("complete",p(!0),{signal:b})),x},table:function(c){var d=s.table(c),p=d.schema.primaryKey;return r(r({},d),{mutate:function(g){var b=_e.trans;if(p.outbound||b.db._options.cache==="disabled"||b.explicit||b.idbtrans.mode!=="readwrite")return d.mutate(g);var x=ir["idb://".concat(i,"/").concat(c)];return x?(b=d.mutate(g),g.type!=="add"&&g.type!=="put"||!(50<=g.values.length||bi(p,g).some(function(S){return S==null}))?(x.optimisticOps.push(g),g.mutatedParts&&Ys(g.mutatedParts),b.then(function(S){0<S.numFailures&&(Y(x.optimisticOps,g),(S=lc(0,g,S))&&x.optimisticOps.push(S),g.mutatedParts&&Ys(g.mutatedParts))}),b.catch(function(){Y(x.optimisticOps,g),g.mutatedParts&&Ys(g.mutatedParts)})):b.then(function(S){var P=lc(0,r(r({},g),{values:g.values.map(function(R,A){var F;return S.failures[A]?R:(R=(F=p.keyPath)!==null&&F!==void 0&&F.includes(".")?ze(R):r({},R),Ee(R,p.keyPath,S.results[A]),R)})}),S);x.optimisticOps.push(P),queueMicrotask(function(){return g.mutatedParts&&Ys(g.mutatedParts)})}),b):d.mutate(g)},query:function(g){if(!ac(_e,d)||!cc("query",g))return d.query(g);var b=((P=_e.trans)===null||P===void 0?void 0:P.db._options.cache)==="immutable",A=_e,x=A.requery,S=A.signal,P=(function(O,T,D,M){var q=ir["idb://".concat(O,"/").concat(T)];if(!q)return[];if(!(T=q.queries[D]))return[null,!1,q,null];var V=T[(M.query?M.query.index.name:null)||""];if(!V)return[null,!1,q,null];switch(D){case"query":var Q=V.find(function(re){return re.req.limit===M.limit&&re.req.values===M.values&&dc(re.req.query.range,M.query.range)});return Q?[Q,!0,q,V]:[V.find(function(re){return("limit"in re.req?re.req.limit:1/0)>=M.limit&&(!M.values||re.req.values)&&Rd(re.req.query.range,M.query.range)}),!1,q,V];case"count":return Q=V.find(function(re){return dc(re.req.query.range,M.query.range)}),[Q,!!Q,q,V]}})(i,c,"query",g),R=P[0],A=P[1],F=P[2],I=P[3];return R&&A?R.obsSet=g.obsSet:(A=d.query(g).then(function(O){var T=O.result;if(R&&(R.res=T),b){for(var D=0,M=T.length;D<M;++D)Object.freeze(T[D]);Object.freeze(T)}else O.result=ze(T);return O}).catch(function(O){return I&&R&&Y(I,R),Promise.reject(O)}),R={obsSet:g.obsSet,promise:A,subscribers:new Set,type:"query",req:g,dirty:!1},I?I.push(R):(I=[R],(F=F||(ir["idb://".concat(i,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[g.query.index.name||""]=I)),Dd(R,I,x,S),R.promise.then(function(O){return{result:uc(O.result,g,F?.optimisticOps,d,R,b)}})}})}})}};function Js(s,i){return new Proxy(s,{get:function(c,d,p){return d==="db"?i:Reflect.get(c,d,p)}})}var Cn=(vt.prototype.version=function(s){if(isNaN(s)||s<.1)throw new z.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new z.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var i=this._versions,c=i.filter(function(d){return d._cfg.version===s})[0];return c||(c=new this.Version(s),i.push(c),i.sort(kd),c.stores({}),this._state.autoSchema=!1,c)},vt.prototype._whenReady=function(s){var i=this;return this.idbdb&&(this._state.openComplete||_e.letThrough||this._vip)?s():new me(function(c,d){if(i._state.openComplete)return d(new z.DatabaseClosed(i._state.dbOpenError));if(!i._state.isBeingOpened){if(!i._state.autoOpen)return void d(new z.DatabaseClosed);i.open().catch(_)}i._state.dbReadyPromise.then(c,d)}).then(s)},vt.prototype.use=function(s){var i=s.stack,c=s.create,d=s.level,p=s.name;return p&&this.unuse({stack:i,name:p}),s=this._middlewares[i]||(this._middlewares[i]=[]),s.push({stack:i,create:c,level:d??10,name:p}),s.sort(function(g,b){return g.level-b.level}),this},vt.prototype.unuse=function(s){var i=s.stack,c=s.name,d=s.create;return i&&this._middlewares[i]&&(this._middlewares[i]=this._middlewares[i].filter(function(p){return d?p.create!==d:!!c&&p.name!==c})),this},vt.prototype.open=function(){var s=this;return rr(ht,function(){return Cd(s)})},vt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,i=Er.indexOf(this);if(0<=i&&Er.splice(i,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new me(function(c){s.dbReadyResolve=c}),s.openCanceller=new me(function(c,d){s.cancelOpen=d}))},vt.prototype.close=function(c){var i=(c===void 0?{disableAutoOpen:!0}:c).disableAutoOpen,c=this._state;i?(c.isBeingOpened&&c.cancelOpen(new z.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new z.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},vt.prototype.delete=function(s){var i=this;s===void 0&&(s={disableAutoOpen:!0});var c=0<arguments.length&&typeof arguments[0]!="object",d=this._state;return new me(function(p,g){function b(){i.close(s);var x=i._deps.indexedDB.deleteDatabase(i.name);x.onsuccess=ft(function(){var S,P,R;S=i._deps,P=i.name,R=S.indexedDB,S=S.IDBKeyRange,ui(R)||P===Ms||li(R,S).delete(P).catch(_),p()}),x.onerror=dn(g),x.onblocked=i._fireOnBlocked}if(c)throw new z.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(b):b()})},vt.prototype.backendDB=function(){return this.idbdb},vt.prototype.isOpen=function(){return this.idbdb!==null},vt.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},vt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},vt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(vt.prototype,"tables",{get:function(){var s=this;return l(this._allTables).map(function(i){return s._allTables[i]})},enumerable:!1,configurable:!0}),vt.prototype.transaction=function(){var s=(function(i,c,d){var p=arguments.length;if(p<2)throw new z.InvalidArgument("Too few arguments");for(var g=new Array(p-1);--p;)g[p-1]=arguments[p];return d=g.pop(),[i,qe(g),d]}).apply(this,arguments);return this._transaction.apply(this,s)},vt.prototype._transaction=function(s,i,c){var d=this,p=_e.trans;p&&p.db===this&&s.indexOf("!")===-1||(p=null);var g,b,x=s.indexOf("?")!==-1;s=s.replace("!","").replace("?","");try{if(b=i.map(function(P){if(P=P instanceof d.Table?P.name:P,typeof P!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return P}),s=="r"||s===Xo)g=Xo;else{if(s!="rw"&&s!=Zo)throw new z.InvalidArgument("Invalid transaction mode: "+s);g=Zo}if(p){if(p.mode===Xo&&g===Zo){if(!x)throw new z.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");p=null}p&&b.forEach(function(P){if(p&&p.storeNames.indexOf(P)===-1){if(!x)throw new z.SubTransaction("Table "+P+" not included in parent transaction.");p=null}}),x&&p&&!p.active&&(p=null)}}catch(P){return p?p._promise(null,function(R,A){A(P)}):yt(P)}var S=(function P(R,A,F,I,O){return me.resolve().then(function(){var T=_e.transless||_e,D=R._createTransaction(A,F,R._dbSchema,I);if(D.explicit=!0,T={trans:D,transless:T},I)D.idbtrans=I.idbtrans;else try{D.create(),D.idbtrans._explicit=!0,R._state.PR1398_maxLoop=3}catch(V){return V.name===Z.InvalidState&&R.isOpen()&&0<--R._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),R.close({disableAutoOpen:!1}),R.open().then(function(){return P(R,A,F,null,O)})):yt(V)}var M,q=Ie(O);return q&&Ar(),T=me.follow(function(){var V;(M=O.call(D,D))&&(q?(V=Ln.bind(null,null),M.then(V,V)):typeof M.next=="function"&&typeof M.throw=="function"&&(M=yi(M)))},T),(M&&typeof M.then=="function"?me.resolve(M).then(function(V){return D.active?V:yt(new z.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):T.then(function(){return M})).then(function(V){return I&&D._resolve(),D._completion.then(function(){return V})}).catch(function(V){return D._reject(V),yt(V)})})}).bind(null,this,g,b,p,c);return p?p._promise(g,S,"lock"):_e.trans?rr(_e.transless,function(){return d._whenReady(S)}):this._whenReady(S)},vt.prototype.table=function(s){if(!y(this._allTables,s))throw new z.InvalidTable("Table ".concat(s," does not exist"));return this._allTables[s]},vt);function vt(s,i){var c=this;this._middlewares={},this.verno=0;var d=vt.dependencies;this._options=i=r({addons:vt.addons,autoOpen:!0,indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange,cache:"cloned"},i),this._deps={indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},d=i.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var p,g,b,x,S,P={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:_,dbReadyPromise:null,cancelOpen:_,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:i.autoOpen};P.dbReadyPromise=new me(function(A){P.dbReadyResolve=A}),P.openCanceller=new me(function(A,F){P.cancelOpen=F}),this._state=P,this.name=s,this.on=Hr(this,"populate","blocked","versionchange","close",{ready:[ce,_]}),this.once=function(A,F){var I=function(){for(var O=[],T=0;T<arguments.length;T++)O[T]=arguments[T];c.on(A).unsubscribe(I),F.apply(c,O)};return c.on(A,I)},this.on.ready.subscribe=j(this.on.ready.subscribe,function(A){return function(F,I){vt.vip(function(){var O,T=c._state;T.openComplete?(T.dbOpenError||me.resolve().then(F),I&&A(F)):T.onReadyBeingFired?(T.onReadyBeingFired.push(F),I&&A(F)):(A(F),O=c,I||A(function D(){O.on.ready.unsubscribe(F),O.on.ready.unsubscribe(D)}))})}}),this.Collection=(p=this,Wr(md.prototype,function(M,D){this.db=p;var I=qa,O=null;if(D)try{I=D()}catch(q){O=q}var T=M._ctx,D=T.table,M=D.hook.reading.fire;this._ctx={table:D,index:T.index,isPrimKey:!T.index||D.schema.primKey.keyPath&&T.index===D.schema.primKey.name,range:I,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:O,or:T.or,valueMapper:M!==E?M:null}})),this.Table=(g=this,Wr(Ha.prototype,function(A,F,I){this.db=g,this._tx=I,this.name=A,this.schema=F,this.hook=g._allTables[A]?g._allTables[A].hook:Hr(null,{creating:[te,_],reading:[B,E],updating:[fe,_],deleting:[ee,_]})})),this.Transaction=(b=this,Wr(vd.prototype,function(A,F,I,O,T){var D=this;A!=="readonly"&&F.forEach(function(M){M=(M=I[M])===null||M===void 0?void 0:M.yProps,M&&(F=F.concat(M.map(function(q){return q.updatesTable})))}),this.db=b,this.mode=A,this.storeNames=F,this.schema=I,this.chromeTransactionDurability=O,this.idbtrans=null,this.on=Hr(this,"complete","error","abort"),this.parent=T||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new me(function(M,q){D._resolve=M,D._reject=q}),this._completion.then(function(){D.active=!1,D.on.complete.fire()},function(M){var q=D.active;return D.active=!1,D.on.error.fire(M),D.parent?D.parent._reject(M):q&&D.idbtrans&&D.idbtrans.abort(),yt(M)})})),this.Version=(x=this,Wr(Ed.prototype,function(A){this.db=x,this._cfg={version:A,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(S=this,Wr(Ja.prototype,function(A,F,I){if(this.db=S,this._ctx={table:A,index:F===":id"?null:F,or:I},this._cmp=this._ascending=Ue,this._descending=function(O,T){return Ue(T,O)},this._max=function(O,T){return 0<Ue(O,T)?O:T},this._min=function(O,T){return Ue(O,T)<0?O:T},this._IDBKeyRange=S._deps.IDBKeyRange,!this._IDBKeyRange)throw new z.MissingAPI})),this.on("versionchange",function(A){0<A.newVersion?console.warn("Another connection wants to upgrade database '".concat(c.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(c.name,"'. Closing db now to resume the delete request.")),c.close({disableAutoOpen:!1})}),this.on("blocked",function(A){!A.newVersion||A.newVersion<A.oldVersion?console.warn("Dexie.delete('".concat(c.name,"') was blocked")):console.warn("Upgrade '".concat(c.name,"' blocked by other connection holding version ").concat(A.oldVersion/10))}),this._maxKey=Gr(i.IDBKeyRange),this._createTransaction=function(A,F,I,O){return new c.Transaction(A,F,I,c._options.chromeTransactionDurability,O)},this._fireOnBlocked=function(A){c.on("blocked").fire(A),Er.filter(function(F){return F.name===c.name&&F!==c&&!F._state.vcFired}).map(function(F){return F.on("versionchange").fire(A)})},this.use(Pd),this.use($d),this.use(Od),this.use(Sd),this.use(Id);var R=new Proxy(this,{get:function(A,F,I){if(F==="_vip")return!0;if(F==="table")return function(T){return Js(c.table(T),R)};var O=Reflect.get(A,F,I);return O instanceof Ha?Js(O,R):F==="tables"?O.map(function(T){return Js(T,R)}):F==="_createTransaction"?function(){return Js(O.apply(this,arguments),R)}:O}});this.vip=R,d.forEach(function(A){return A(c)})}var Xs,tn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Td=(wi.prototype.subscribe=function(s,i,c){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:i,complete:c})},wi.prototype[tn]=function(){return this},wi);function wi(s){this._subscribe=s}try{Xs={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Xs={indexedDB:null,IDBKeyRange:null}}function fc(s){var i,c=!1,d=new Td(function(p){var g=Ie(s),b,x=!1,S={},P={},R={get closed(){return x},unsubscribe:function(){x||(x=!0,b&&b.abort(),A&&Kn.storagemutated.unsubscribe(I))}};p.start&&p.start(R);var A=!1,F=function(){return Jo(O)},I=function(T){Qs(S,T),pi(P,S)&&F()},O=function(){var T,D,M;!x&&Xs.indexedDB&&(S={},T={},b&&b.abort(),b=new AbortController,M=(function(q){var V=kr();try{g&&Ar();var Q=jn(s,q);return Q=g?Q.finally(Ln):Q}finally{V&&xr()}})(D={subscr:T,signal:b.signal,requery:F,querier:s,trans:null}),Promise.resolve(M).then(function(q){c=!0,i=q,x||D.signal.aborted||(S={},(function(V){for(var Q in V)if(y(V,Q))return;return 1})(P=T)||A||(Kn(Yr,I),A=!0),Jo(function(){return!x&&p.next&&p.next(q)}))},function(q){c=!1,["DatabaseClosedError","AbortError"].includes(q?.name)||x||Jo(function(){x||p.error&&p.error(q)})}))};return setTimeout(F,0),R});return d.hasValue=function(){return c},d.getValue=function(){return i},d}var ar=Cn;function ki(s){var i=Vn;try{Vn=!0,Kn.storagemutated.fire(s),gi(s,!0)}finally{Vn=i}}v(ar,r(r({},Ye),{delete:function(s){return new ar(s,{addons:[]}).delete()},exists:function(s){return new ar(s,{addons:[]}).open().then(function(i){return i.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return i=ar.dependencies,c=i.indexedDB,i=i.IDBKeyRange,(ui(c)?Promise.resolve(c.databases()).then(function(d){return d.map(function(p){return p.name}).filter(function(p){return p!==Ms})}):li(c,i).toCollection().primaryKeys()).then(s)}catch{return yt(new z.MissingAPI)}var i,c},defineClass:function(){return function(s){f(this,s)}},ignoreTransaction:function(s){return _e.trans?rr(_e.transless,s):s()},vip:di,async:function(s){return function(){try{var i=yi(s.apply(this,arguments));return i&&typeof i.then=="function"?i:me.resolve(i)}catch(c){return yt(c)}}},spawn:function(s,i,c){try{var d=yi(s.apply(c,i||[]));return d&&typeof d.then=="function"?d:me.resolve(d)}catch(p){return yt(p)}},currentTransaction:{get:function(){return _e.trans||null}},waitFor:function(s,i){return i=me.resolve(typeof s=="function"?ar.ignoreTransaction(s):s).timeout(i||6e4),_e.trans?_e.trans.waitFor(i):i},Promise:me,debug:{get:function(){return ne},set:function(s){Re(s)}},derive:N,extend:f,props:v,override:j,Events:Hr,on:Kn,liveQuery:fc,extendObservabilitySet:Qs,getByKeyPath:ge,setByKeyPath:Ee,delByKeyPath:function(s,i){typeof i=="string"?Ee(s,i,void 0):"length"in i&&[].map.call(i,function(c){Ee(s,c,void 0)})},shallowClone:Se,deepClone:ze,getObjectDiff:vi,cmp:Ue,asap:se,minKey:-1/0,addons:[],connections:Er,errnames:Z,dependencies:Xs,cache:ir,semVer:"4.2.0",version:"4.2.0".split(".").map(function(s){return parseInt(s)}).reduce(function(s,i,c){return s+i/Math.pow(10,2*c)})})),ar.maxKey=Gr(ar.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Kn(Yr,function(s){Vn||(s=new CustomEvent(ni,{detail:s}),Vn=!0,dispatchEvent(s),Vn=!1)}),addEventListener(ni,function(s){s=s.detail,Vn||ki(s)}));var Pr,Vn=!1,pc=function(){};return typeof BroadcastChannel<"u"&&((pc=function(){(Pr=new BroadcastChannel(ni)).onmessage=function(s){return s.data&&ki(s.data)}})(),typeof Pr.unref=="function"&&Pr.unref(),Kn(Yr,function(s){Vn||Pr.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!Cn.disableBfCache&&s.persisted){ne&&console.debug("Dexie: handling persisted pagehide"),Pr?.close();for(var i=0,c=Er;i<c.length;i++)c[i].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!Cn.disableBfCache&&s.persisted&&(ne&&console.debug("Dexie: handling persisted pageshow"),pc(),ki({all:new Rt(-1/0,[[]])}))})),me.rejectionMapper=function(s,i){return!s||s instanceof Ve||s instanceof TypeError||s instanceof SyntaxError||!s.name||!xe[s.name]?s:(i=new xe[s.name](i||s.message,s),"stack"in s&&C(i,"stack",{get:function(){return this.inner.stack}}),i)},Re(ne),r(Cn,Object.freeze({__proto__:null,Dexie:Cn,liveQuery:fc,Entity:Ua,cmp:Ue,PropModification:zr,replacePrefix:function(s,i){return new zr({replacePrefix:[s,i]})},add:function(s){return new zr({add:s})},remove:function(s){return new zr({remove:s})},default:Cn,RangeSet:Rt,mergeRanges:Zr,rangesOverlap:nc}),{default:Cn}),Cn})})(mo)),mo.exports}var Fm=Tm();const oa=Dm(Fm),pl=Symbol.for("Dexie"),So=globalThis[pl]||(globalThis[pl]=oa);if(oa.semVer!==So.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${oa.semVer} and ${So.semVer}`);const{liveQuery:k0,mergeRanges:x0,rangesOverlap:A0,RangeSet:E0,cmp:C0,Entity:S0,PropModification:I0,replacePrefix:P0,add:O0,remove:R0,DexieYProvider:D0}=So;class Mm extends So{cards;card_lots;holdings;transactions;scans;decks;deck_cards;price_points;valuations;settings;scan_sale_links;constructor(){super("MtgTrackerDb"),this.version(1).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish",holdings:"id, cardId, acquisitionId, source, createdAt",transactions:"id, kind, cardId, source, externalRef, happenedAt",scans:"id, cardFingerprint, cardId, source, scannedAt",decks:"id, platform, name, importedAt",deck_cards:"[deckId+cardId], deckId, cardId",price_points:"id, cardId, provider, asOf",valuations:"id, asOf",settings:"k"}),this.version(2).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish, createdAt, updatedAt",holdings:"id, cardId, acquisitionId, source, createdAt, updatedAt",transactions:"id, kind, cardId, source, externalRef, happenedAt, createdAt, updatedAt",scans:"id, cardFingerprint, cardId, source, scannedAt, createdAt, updatedAt",decks:"id, platform, name, importedAt, createdAt, updatedAt",deck_cards:"[deckId+cardId], deckId, cardId, createdAt",price_points:"id, cardId, provider, asOf, createdAt",valuations:"id, asOf, createdAt",settings:"k, createdAt, updatedAt",scan_sale_links:"id, scanId, transactionId, matchedAt, createdAt"}).upgrade(async t=>{const n=new Date;await t.table("cards").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n}),await t.table("holdings").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n}),await t.table("transactions").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n}),await t.table("scans").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n}),await t.table("decks").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n}),await t.table("deck_cards").toCollection().modify(r=>{r.createdAt=r.createdAt||n}),await t.table("price_points").toCollection().modify(r=>{r.createdAt=r.createdAt||n}),await t.table("valuations").toCollection().modify(r=>{r.createdAt=r.createdAt||n}),await t.table("settings").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n})}),this.version(3).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish, createdAt, updatedAt",holdings:"id, cardId, acquisitionId, source, createdAt, updatedAt",transactions:"id, kind, cardId, source, externalRef, happenedAt, createdAt, updatedAt",scans:"id, cardFingerprint, cardId, source, scannedAt, createdAt, updatedAt",decks:"id, platform, name, importedAt, createdAt, updatedAt",deck_cards:"[deckId+cardId], deckId, cardId, createdAt",price_points:"id, cardId, provider, currency, asOf, createdAt, [cardId+asOf], [provider+asOf]",valuations:"id, asOf, createdAt, [asOf+createdAt]",settings:"k, createdAt, updatedAt",scan_sale_links:"id, scanId, transactionId, matchedAt, createdAt"}),this.version(4).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish, createdAt, updatedAt",card_lots:"id, cardId, acquisitionId, source, purchasedAt, disposedAt, createdAt, updatedAt, [cardId+purchasedAt], [acquisitionId+cardId]",holdings:"id, cardId, acquisitionId, source, createdAt, updatedAt",transactions:"id, kind, cardId, lotId, source, externalRef, happenedAt, relatedTransactionId, createdAt, updatedAt, [lotId+kind]",scans:"id, cardFingerprint, cardId, lotId, source, scannedAt, boosterPackId, createdAt, updatedAt, [lotId+scannedAt]",decks:"id, platform, name, importedAt, createdAt, updatedAt",deck_cards:"id, deckId, cardId, lotId, addedAt, removedAt, createdAt, [deckId+cardId], [lotId+addedAt]",price_points:"id, cardId, provider, currency, asOf, source, createdAt, [cardId+asOf], [provider+asOf]",valuations:"id, asOf, createdAt, [asOf+createdAt]",settings:"k, createdAt, updatedAt",scan_sale_links:"id, scanId, transactionId, quantity, matchedAt, createdAt"}).upgrade(async t=>{const n=new Date;await t.table("deck_cards").toCollection().modify(r=>{try{r.id||(r.id=`deckcard-${Date.now()}-${Math.random().toString(36).substr(2,9)}`),r.addedAt||(r.addedAt=r.createdAt||n),r.role||(r.role="main"),(!r.cardId||r.cardId==="")&&(r.cardId="unknown-card"),r.deckId||(r.deckId="unknown-deck"),typeof r.quantity!="number"&&(r.quantity=1),r.createdAt||(r.createdAt=n)}catch(o){console.error("Error upgrading deck card:",o,r);return}})}),this.version(6).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish, imageUrl, imageUrlBack, createdAt, updatedAt",card_lots:"id, cardId, acquisitionId, source, purchasedAt, disposedAt, createdAt, updatedAt, externalRef, [cardId+purchasedAt], [acquisitionId+cardId], [externalRef]",holdings:"id, cardId, acquisitionId, source, createdAt, updatedAt",transactions:"id, kind, cardId, lotId, source, externalRef, happenedAt, relatedTransactionId, createdAt, updatedAt, [lotId+kind]",scans:"id, cardFingerprint, cardId, lotId, source, scannedAt, boosterPackId, createdAt, updatedAt, [lotId+scannedAt]",decks:"id, platform, name, importedAt, createdAt, updatedAt",deck_cards:"id, deckId, cardId, lotId, addedAt, removedAt, createdAt, [deckId+cardId], [lotId+addedAt]",price_points:"id, cardId, provider, currency, asOf, source, createdAt, [cardId+asOf], [provider+asOf]",valuations:"id, asOf, createdAt, [asOf+createdAt]",settings:"k, createdAt, updatedAt",scan_sale_links:"id, scanId, transactionId, quantity, matchedAt, createdAt"}),this.version(5).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish, createdAt, updatedAt",card_lots:"id, cardId, acquisitionId, source, purchasedAt, disposedAt, createdAt, updatedAt, externalRef, [cardId+purchasedAt], [acquisitionId+cardId], [externalRef]",holdings:"id, cardId, acquisitionId, source, createdAt, updatedAt",transactions:"id, kind, cardId, lotId, source, externalRef, happenedAt, relatedTransactionId, createdAt, updatedAt, [lotId+kind]",scans:"id, cardFingerprint, cardId, lotId, source, scannedAt, boosterPackId, createdAt, updatedAt, [lotId+scannedAt]",decks:"id, platform, name, importedAt, createdAt, updatedAt",deck_cards:"id, deckId, cardId, lotId, addedAt, removedAt, createdAt, [deckId+cardId], [lotId+addedAt]",price_points:"id, cardId, provider, currency, asOf, source, createdAt, [cardId+asOf], [provider+asOf]",valuations:"id, asOf, createdAt, [asOf+createdAt]",settings:"k, createdAt, updatedAt",scan_sale_links:"id, scanId, transactionId, quantity, matchedAt, createdAt"})}}const ke=new Mm,yn={async add(e){return await ke.cards.add(e)},async getById(e){return await ke.cards.get(e)},async getAll(){return await ke.cards.toArray()},async update(e,t){return await ke.cards.update(e,t)},async delete(e){await ke.cards.delete(e)}},It={async add(e){return await ke.card_lots.add(e)},async getById(e){return await ke.card_lots.get(e)},async getAll(){return await ke.card_lots.toArray()},async getByCardId(e){return await ke.card_lots.where("cardId").equals(e).toArray()},async getByExternalRef(e){return await ke.card_lots.where("externalRef").equals(e).toArray()},async getActiveLotsByCardId(e){return await ke.card_lots.where("cardId").equals(e).and(t=>!t.disposedAt).toArray()},async update(e,t){return await ke.card_lots.update(e,t)},async delete(e){await ke.card_lots.delete(e)}},so={async add(e){return await ke.holdings.add(e)},async getById(e){return await ke.holdings.get(e)},async getAll(){return await ke.holdings.toArray()},async getByCardId(e){return await ke.holdings.where("cardId").equals(e).toArray()},async update(e,t){return await ke.holdings.update(e,t)},async delete(e){await ke.holdings.delete(e)}},gn={async add(e){return await ke.transactions.add(e)},async getById(e){return await ke.transactions.get(e)},async getAll(){return await ke.transactions.toArray()},async getByCardId(e){return await ke.transactions.where("cardId").equals(e).toArray()},async getByLotId(e){return await ke.transactions.where("lotId").equals(e).toArray()},async getByKind(e){return await ke.transactions.where("kind").equals(e).toArray()},async getBuyTransactionsByCardId(e){return await ke.transactions.where("cardId").equals(e).and(t=>t.kind==="BUY").toArray()},async getSellTransactionsByCardId(e){return await ke.transactions.where("cardId").equals(e).and(t=>t.kind==="SELL").toArray()},async update(e,t){return await ke.transactions.update(e,t)},async delete(e){await ke.transactions.delete(e)}},ia={async add(e){return await ke.price_points.add(e)},async getById(e){return await ke.price_points.get(e)},async getByCardId(e){return await ke.price_points.where("cardId").equals(e).toArray()},async update(e,t){return await ke.price_points.update(e,t)},async delete(e){await ke.price_points.delete(e)}},Bi={async set(e,t){const n={k:e,v:t,createdAt:new Date,updatedAt:new Date};return await ke.settings.put(n)},async get(e){return(await ke.settings.get(e))?.v},async getAll(){return await ke.settings.toArray()},async delete(e){await ke.settings.delete(e)}};class tt{cents;currency;constructor(t,n="EUR"){this.cents=Math.round(t),this.currency=n}static parse(t,n="EUR"){if(typeof t=="number")return new tt(t*100,n);const r=t.replace(/[$\s]/g,"").replace(",","."),o=parseFloat(r);return new tt(isNaN(o)?0:o*100,n)}getCents(){return this.cents}getDecimal(){return this.cents/100}getCurrency(){return this.currency}add(t){if(this.currency!==t.currency)throw new Error("Cannot add Money values with different currencies");return new tt(this.cents+t.cents,this.currency)}subtract(t){if(this.currency!==t.currency)throw new Error("Cannot subtract Money values with different currencies");return new tt(this.cents-t.cents,this.currency)}multiply(t){return new tt(this.cents*t,this.currency)}divide(t){return new tt(this.cents/t,this.currency)}format(t="de-DE"){return new Intl.NumberFormat(t,{style:"currency",currency:this.currency,minimumFractionDigits:2,maximumFractionDigits:2}).format(this.getDecimal())}isZero(){return this.cents===0}isPositive(){return this.cents>0}isNegative(){return this.cents<0}}const Da=Ra("cards",{state:()=>({cards:{},cardPrices:{},loading:!1,loadingPrices:!1,error:null}),getters:{getCardById:e=>t=>e.cards[t],getAllCards:e=>Object.values(e.cards),getCardsBySet:e=>t=>Object.values(e.cards).filter(n=>n.setCode===t),getCardPrice:e=>t=>e.cardPrices[t]||null},actions:{async loadCards(){this.loading=!0,this.error=null;try{const e=await yn.getAll();this.cards=e.reduce((t,n)=>(t[n.id]=n,t),{})}catch(e){this.error=e instanceof Error?e.message:"Failed to load cards",console.error("Error loading cards:",e)}finally{this.loading=!1}},async loadCardPrices(){this.loadingPrices=!0,this.error=null;try{const e=await ke.price_points.toArray(),t={},n={};e.forEach(r=>{n[r.cardId]||(n[r.cardId]=[]),n[r.cardId].push(r)}),Object.keys(n).forEach(r=>{const o=n[r];if(o.length>0){o.sort((l,u)=>u.asOf.getTime()-l.asOf.getTime());const a=o[0];t[r]=new tt(a.price,a.currency)}}),this.cardPrices=t}catch(e){this.error=e instanceof Error?e.message:"Failed to load card prices",console.error("Error loading card prices:",e)}finally{this.loadingPrices=!1}},async loadCardsAndPrices(){await Promise.all([this.loadCards(),this.loadCardPrices()])},async addCard(e){try{await yn.add(e),this.cards[e.id]=e}catch(t){throw this.error=t instanceof Error?t.message:"Failed to add card",console.error("Error adding card:",t),t}},async updateCard(e,t){try{await yn.update(e,t),this.cards[e]&&(this.cards[e]={...this.cards[e],...t})}catch(n){throw this.error=n instanceof Error?n.message:"Failed to update card",console.error("Error updating card:",n),n}},async removeCard(e){try{await yn.delete(e),delete this.cards[e],delete this.cardPrices[e]}catch(t){throw this.error=t instanceof Error?t.message:"Failed to remove card",console.error("Error removing card:",t),t}}}}),Bm=Ra("holdings",{state:()=>({holdings:{},loading:!1,error:null}),getters:{getHoldingById:e=>t=>e.holdings[t],getAllHoldings:e=>Object.values(e.holdings),getHoldingsByCardId:e=>t=>Object.values(e.holdings).filter(n=>n.cardId===t),getTotalQuantityByCardId:e=>t=>Object.values(e.holdings).filter(n=>n.cardId===t).reduce((n,r)=>n+r.quantity,0)},actions:{async loadHoldings(){this.loading=!0,this.error=null;try{const e=await so.getAll();this.holdings=e.reduce((t,n)=>(t[n.id]=n,t),{})}catch(e){this.error=e instanceof Error?e.message:"Failed to load holdings",console.error("Error loading holdings:",e)}finally{this.loading=!1}},async addHolding(e){try{await so.add(e),this.holdings[e.id]=e}catch(t){throw this.error=t instanceof Error?t.message:"Failed to add holding",console.error("Error adding holding:",t),t}},async updateHolding(e,t){try{await so.update(e,t),this.holdings[e]&&(this.holdings[e]={...this.holdings[e],...t})}catch(n){throw this.error=n instanceof Error?n.message:"Failed to update holding",console.error("Error updating holding:",n),n}},async removeHolding(e){try{await so.delete(e),delete this.holdings[e]}catch(t){throw this.error=t instanceof Error?t.message:"Failed to remove holding",console.error("Error removing holding:",t),t}}}}),Nm=Ra("transactions",{state:()=>({transactions:{},loading:!1,error:null}),getters:{getTransactionById:e=>t=>e.transactions[t],getAllTransactions:e=>Object.values(e.transactions),getTransactionsByCardId:e=>t=>Object.values(e.transactions).filter(n=>n.cardId===t),getTransactionsByKind:e=>t=>Object.values(e.transactions).filter(n=>n.kind===t),getTotalValueByKind:e=>t=>Object.values(e.transactions).filter(n=>n.kind===t).reduce((n,r)=>{const o=r.unitPrice*r.quantity,a=r.fees||0,l=r.shipping||0;return t==="BUY"?n+o+a+l:n+o-a-l},0)},actions:{async loadTransactions(){this.loading=!0,this.error=null;try{const e=await gn.getAll();this.transactions=e.reduce((t,n)=>(t[n.id]=n,t),{})}catch(e){this.error=e instanceof Error?e.message:"Failed to load transactions",console.error("Error loading transactions:",e)}finally{this.loading=!1}},async addTransaction(e){try{await gn.add(e),this.transactions[e.id]=e}catch(t){throw this.error=t instanceof Error?t.message:"Failed to add transaction",console.error("Error adding transaction:",t),t}},async updateTransaction(e,t){try{await gn.update(e,t),this.transactions[e]&&(this.transactions[e]={...this.transactions[e],...t})}catch(n){throw this.error=n instanceof Error?n.message:"Failed to update transaction",console.error("Error updating transaction:",n),n}},async removeTransaction(e){try{await gn.delete(e),delete this.transactions[e]}catch(t){throw this.error=t instanceof Error?t.message:"Failed to remove transaction",console.error("Error removing transaction:",t),t}}}});class oo{static async calculateLotValue(t){if(t.cardId){const n=await ia.getByCardId(t.cardId);if(n.length>0){n.sort((l,u)=>u.asOf.getTime()-l.asOf.getTime());const r=n[0],o=new tt(r.price,r.currency),a=t.disposedQuantity?t.quantity-t.disposedQuantity:t.quantity;return o.multiply(a)}}return new tt(0,"EUR")}static async calculateLotCostBasis(t){const n=new tt(t.unitCost,t.currency||"EUR"),r=t.disposedQuantity?t.quantity-t.disposedQuantity:t.quantity;return n.multiply(r)}static async calculateRealizedPnL(){const t=await gn.getByKind("SELL");let n=new tt(0,"EUR");for(const r of t){const o=new tt(r.unitPrice,r.currency).multiply(r.quantity);let a=new tt(0,"EUR");if(r.lotId){const m=await It.getById(r.lotId);m&&(a=new tt(m.unitCost,m.currency||"EUR").multiply(r.quantity))}else r.cardId&&(a=await this.calculateFIFOCostForCard(r.cardId,r.quantity));const l=new tt(r.fees,r.currency),u=new tt(r.shipping,r.currency),f=o.subtract(a).subtract(l).subtract(u);n=n.add(f)}return n}static async calculateFIFOCostForCard(t,n){const o=(await It.getByCardId(t)).filter(u=>!u.disposedAt||u.disposedQuantity&&u.disposedQuantity<u.quantity).sort((u,f)=>u.purchasedAt.getTime()-f.purchasedAt.getTime());let a=n,l=new tt(0,"EUR");for(const u of o){if(a<=0)break;const f=u.disposedQuantity?u.quantity-u.disposedQuantity:u.quantity,m=Math.min(a,f),y=new tt(u.unitCost,u.currency||"EUR").multiply(m);l=l.add(y),a-=m}return l}static async calculatePortfolioValue(){const t=await It.getAll();let n=new tt(0,"EUR");for(const r of t)if(!r.disposedAt||r.disposedQuantity&&r.disposedQuantity<r.quantity){const o=await this.calculateLotValue(r);n=n.add(o)}return n}static async calculateTotalCostBasis(){const t=await It.getAll();let n=new tt(0,"EUR");for(const r of t)if(!r.disposedAt||r.disposedQuantity&&r.disposedQuantity<r.quantity){const o=await this.calculateLotCostBasis(r);n=n.add(o)}return n}static async calculateUnrealizedPnL(){const t=await this.calculatePortfolioValue(),n=await this.calculateTotalCostBasis();return t.subtract(n)}static async getActiveLots(){return(await It.getAll()).filter(n=>!n.disposedAt||n.disposedQuantity&&n.disposedQuantity<n.quantity)}static async getOwnedQuantity(t){const n=await It.getByCardId(t);let r=0;for(const o of n)o.disposedAt?o.disposedQuantity&&o.disposedQuantity<o.quantity&&(r+=o.quantity-o.disposedQuantity):r+=o.quantity;return r}}class rn{static BASE_URL="https://api.scryfall.com";static lastRequestTime=0;static RATE_LIMIT_DELAY=100;static async enforceRateLimit(){const n=Date.now()-this.lastRequestTime;if(n<this.RATE_LIMIT_DELAY){const r=this.RATE_LIMIT_DELAY-n;await new Promise(o=>setTimeout(o,r))}this.lastRequestTime=Date.now()}static async getPriceById(t){try{await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/${t}`);if(!n.ok)return null;const o=(await n.json()).prices?.eur;return o?tt.parse(o,"EUR"):null}catch(n){return console.error("Error fetching price from Scryfall:",n),null}}static async getPriceBySetAndNumber(t,n){try{await this.enforceRateLimit();const r=await fetch(`${this.BASE_URL}/cards/${t}/${n}`);if(!r.ok)return null;const a=(await r.json()).prices?.eur;return a?tt.parse(a,"EUR"):null}catch(r){return console.error("Error fetching price from Scryfall:",r),null}}static async getImageUrlById(t){try{await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/${t}`);if(!n.ok)return null;const r=await n.json();return r.layout==="transform"&&r.card_faces&&r.card_faces.length===2?{front:r.card_faces[0].image_uris?.normal||r.card_faces[0].image_uris?.large||r.card_faces[0].image_uris?.small||null,back:r.card_faces[1].image_uris?.normal||r.card_faces[1].image_uris?.large||r.card_faces[1].image_uris?.small||null}:r.image_uris?.normal||r.image_uris?.large||r.image_uris?.small||null}catch(n){return console.error("Error fetching image from Scryfall:",n),null}}static async getImageUrlBySetAndNumber(t,n){try{await this.enforceRateLimit();const r=await fetch(`${this.BASE_URL}/cards/${t}/${n}`);if(!r.ok)return null;const o=await r.json();return o.layout==="transform"&&o.card_faces&&o.card_faces.length===2?{front:o.card_faces[0].image_uris?.normal||o.card_faces[0].image_uris?.large||o.card_faces[0].image_uris?.small||null,back:o.card_faces[1].image_uris?.normal||o.card_faces[1].image_uris?.large||o.card_faces[1].image_uris?.small||null}:o.image_uris?.normal||o.image_uris?.large||o.image_uris?.small||null}catch(r){return console.error("Error fetching image from Scryfall:",r),null}}static async getByCardmarketId(t){try{await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/cardmarket/${t}`);if(!n.ok){console.error(`Scryfall API error for cardmarket_id ${t}: ${n.status} ${n.statusText}`);try{const r=await n.text();console.error(`Scryfall API error details: ${r}`)}catch{console.error("Could not read error response body")}return null}return await n.json()}catch(n){return console.error("Error fetching card by Cardmarket ID from Scryfall:",n),null}}static async getByCardmarketIds(t){try{if(!t||t.length===0)return[];if(t.length===1){const o=await this.getByCardmarketId(t[0]);return o?[o]:[]}await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/collection`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifiers:t.map(o=>({cardmarket_id:o}))})});if(!n.ok){console.error(`Scryfall API error for batch cardmarket_ids: ${n.status} ${n.statusText}`);try{const o=await n.text();console.error(`Scryfall API error details: ${o}`)}catch{console.error("Could not read error response body")}return await this.getByCardmarketIdsIndividually(t)}return(await n.json()).data||[]}catch(n){return console.error("Error fetching cards by Cardmarket IDs from Scryfall:",n),await this.getByCardmarketIdsIndividually(t)}}static async getByCardmarketIdsIndividually(t){const n=[];for(const r of t){const o=await this.getByCardmarketId(r);o&&n.push(o)}return n}static async hydrateCard(t){try{if(t.scryfall_id){await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/${t.scryfall_id}`);if(n.ok)return await n.json()}if(t.setCode&&t.collectorNumber){await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/${t.setCode}/${t.collectorNumber}`);if(n.ok)return await n.json()}if(t.name&&t.setCode){await this.enforceRateLimit();let n=await fetch(`${this.BASE_URL}/cards/named?exact=${encodeURIComponent(t.name)}&set=${encodeURIComponent(t.setCode)}`);if(n.ok)return await n.json();if(t.version&&(await this.enforceRateLimit(),n=await fetch(`${this.BASE_URL}/cards/named?exact=${encodeURIComponent(t.name)}&set=${encodeURIComponent(t.setCode)}&include_variations=true`),n.ok))return await n.json();if(await this.enforceRateLimit(),n=await fetch(`${this.BASE_URL}/cards/named?fuzzy=${encodeURIComponent(t.name)}&set=${encodeURIComponent(t.setCode)}`),n.ok)return await n.json()}return null}catch(n){return console.error("Error hydrating card with Scryfall data:",n),null}}}class jm{static async syncPrices(){try{const t=new Date,n=await yn.getAll();for(const r of n)try{const o=await rn.getPriceById(r.id);if(o){const a=t.toISOString().split("T")[0],u={id:`${r.id}:scryfall:${a}`,cardId:r.id,provider:"scryfall",currency:o.getCurrency(),price:o.getCents(),asOf:t,createdAt:t};await ke.price_points.put(u)}}catch(o){console.error(`Error syncing price for card ${r.id}:`,o)}}catch(t){throw console.error("Error syncing prices:",t),t}}static async syncPriceForCard(t){try{const n=new Date,r=await yn.getById(t);if(!r){console.warn(`Card with ID ${t} not found`);return}const o=await rn.getPriceById(r.id);if(o){const a=n.toISOString().split("T")[0],u={id:`${r.id}:scryfall:${a}`,cardId:r.id,provider:"scryfall",currency:o.getCurrency(),price:o.getCents(),asOf:n,createdAt:n};await ke.price_points.put(u)}}catch(n){throw console.error(`Error syncing price for card ${t}:`,n),n}}static async needsPriceUpdate(){try{const t=await ke.price_points.orderBy("asOf").last();if(!t)return!0;const n=new Date,r=new Date(t.asOf);return(n.getTime()-r.getTime())/(1e3*60*60)>=24}catch(t){return console.error("Error checking if price update is needed:",t),!0}}static async needsPriceUpdateForCard(t){try{const n=await ia.getByCardId(t);if(n.length===0)return!0;n.sort((u,f)=>f.asOf.getTime()-u.asOf.getTime());const r=n[0],o=new Date,a=new Date(r.asOf);return(o.getTime()-a.getTime())/(1e3*60*60)>=24}catch(n){return console.error(`Error checking if price update is needed for card ${t}:`,n),!0}}static async getLatestPriceForCard(t){try{const n=await ia.getByCardId(t);if(n.length===0)return null;n.sort((o,a)=>a.asOf.getTime()-o.asOf.getTime());const r=n[0];return{price:r.price,asOf:r.asOf}}catch(n){return console.error(`Error getting latest price for card ${t}:`,n),null}}}class os{static async needsPriceUpdate(){try{const t=await Bi.get("last_price_update_timestamp");if(!t)return!0;const n=Date.now(),r=new Date(t).getTime();return(n-r)/(1e3*60*60)>=24}catch(t){return console.error("Error checking if price update is needed:",t),!0}}static async schedulePriceUpdate(){try{await this.needsPriceUpdate()&&await this.updatePrices()}catch(t){throw console.error("Error scheduling price update:",t),t}}static async updatePrices(){try{await jm.syncPrices();const t=new Date().toISOString();await Bi.set("last_price_update_timestamp",t),console.log(`Prices updated successfully at ${t}`)}catch(t){throw console.error("Error updating prices:",t),t}}static async getLastUpdateTime(){try{const t=await Bi.get("last_price_update_timestamp");return t?new Date(t):null}catch(t){return console.error("Error getting last update time:",t),null}}static async getNextUpdateTime(){try{const t=await this.getLastUpdateTime();return t?new Date(t.getTime()+1440*60*1e3):new Date}catch(t){return console.error("Error calculating next update time:",t),null}}}const hl=Ae(null),ml=Ae(null),dr=Ae(!1);function Lm(){const e=o=>o?o.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",t=async()=>{try{hl.value=await os.getLastUpdateTime(),ml.value=await os.getNextUpdateTime()}catch(o){console.error("Error updating price info:",o)}};return{lastUpdate:hl,nextUpdate:ml,isUpdating:dr,formatDate:e,updatePriceInfo:t,checkAndScheduleUpdate:async()=>{if(!dr.value){dr.value=!0;try{await os.schedulePriceUpdate(),await t()}catch(o){console.error("Error scheduling price update:",o)}finally{dr.value=!1}}},forceUpdatePrices:async()=>{if(!dr.value){dr.value=!0;try{await os.updatePrices(),await t()}catch(o){throw console.error("Error updating prices:",o),o}finally{dr.value=!1}}}}}const qm={class:"home"},Um={class:"price-update-info card mb-4"},Km={class:"card-body"},Vm={class:"price-update-details"},Hm={class:"update-info"},Wm={class:"value"},zm={class:"update-info"},Qm={class:"value"},Ym={class:"update-actions"},Gm=["disabled"],Jm={class:"dashboard-stats row g-4"},Xm={class:"col-lg-3 col-md-6"},Zm={class:"card h-100 border"},eg={class:"card-body"},tg={class:"stat-value"},ng={class:"col-lg-3 col-md-6"},rg={class:"card h-100 border"},sg={class:"card-body"},og={class:"stat-value"},ig={class:"col-lg-3 col-md-6"},ag={class:"card h-100 border"},cg={class:"card-body"},lg={class:"col-lg-3 col-md-6"},ug={class:"card h-100 border"},dg={class:"card-body"},fg=ot({__name:"HomeView",setup(e){const t=Da(),n=Bm(),r=Nm(),{formatDate:o,checkAndScheduleUpdate:a,forceUpdatePrices:l,lastUpdate:u,nextUpdate:f,isUpdating:m}=Lm(),h=Ae("0.00"),y=Ae("0.00"),v=Ae("0.00"),k=Ae("0.00"),C=K=>K.format("de-DE"),N=async()=>{try{await t.loadCards(),await n.loadHoldings(),await r.loadTransactions();const K=await oo.calculatePortfolioValue(),X=await oo.calculateTotalCostBasis(),j=await oo.calculateUnrealizedPnL(),$=await oo.calculateRealizedPnL();h.value=C(K),y.value=C(X),v.value=C(j),k.value=C($)}catch(K){console.error("Error loading dashboard data:",K)}},H=async()=>{try{await l(),await N(),alert("Prices refreshed successfully")}catch(K){console.error("Error refreshing prices:",K),alert("Failed to refresh prices: "+K.message)}};return tr(async()=>{await a(),await N()}),(K,X)=>(U(),J("div",qm,[X[7]||(X[7]=w("h1",null,"MTG Collection Tracker",-1)),w("div",Um,[w("div",Km,[X[2]||(X[2]=w("h2",{class:"card-title"},"Price Updates",-1)),w("div",Vm,[w("div",Hm,[X[0]||(X[0]=w("span",{class:"label"},"Last Update:",-1)),w("span",Wm,oe(we(o)(we(u))),1)]),w("div",zm,[X[1]||(X[1]=w("span",{class:"label"},"Next Update:",-1)),w("span",Qm,oe(we(o)(we(f))),1)])]),w("div",Ym,[w("button",{onClick:H,class:"btn btn-primary",disabled:we(m)},oe(we(m)?"Updating...":"Refresh Prices Now"),9,Gm)])])]),w("div",Jm,[w("div",Xm,[w("div",Zm,[w("div",eg,[X[3]||(X[3]=w("h2",{class:"card-title"},"Portfolio Value",-1)),w("p",tg,oe(h.value),1)])])]),w("div",ng,[w("div",rg,[w("div",sg,[X[4]||(X[4]=w("h2",{class:"card-title"},"Total Cost",-1)),w("p",og,oe(y.value),1)])])]),w("div",ig,[w("div",ag,[w("div",cg,[X[5]||(X[5]=w("h2",{class:"card-title"},"Unrealized P/L",-1)),w("p",{class:kt(["stat-value",parseFloat(v.value)>=0?"positive":"negative"])},oe(v.value),3)])])]),w("div",lg,[w("div",ug,[w("div",dg,[X[6]||(X[6]=w("h2",{class:"card-title"},"Realized P/L",-1)),w("p",{class:kt(["stat-value",parseFloat(k.value)>=0?"positive":"negative"])},oe(k.value),3)])])])])]))}}),pg=xn(fg,[["__scopeId","data-v-1e962a3a"]]),Wt=e=>e.toLowerCase().normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"").replace(/[\s-]+/g," ").replace(/[:'"]/g,"").trim();function qr(e){const t=new Map;for(const n of e)t.set(Wt(n.name),n);return{byName:t}}async function gl(e){const t=e.trim(),n=Wt(t),r=await yl(),a=(await hg()).get(n);if(a)return console.log(`Set code resolved from alias: ${t} -> ${a}`),a;const l=r.byName.get(n);if(l)return console.log(`Set code resolved from exact match: ${t} -> ${l.code}`),await Gt(n,l.code),l.code;if(/^commander:\s*/i.test(t)&&/: extras$/i.test(t)){const m=t.replace(/^commander:\s*/i,"").replace(/: extras$/i,"").trim(),h=r.byName.get(Wt(`${m} Commander`));if(h)return console.log(`Set code resolved from commander + extras nested: ${t} -> ${h.code}`),await Gt(n,h.code),h.code;const y=r.byName.get(Wt(m));if(y)return console.log(`Set code resolved from commander + extras nested (base): ${t} -> ${y.code}`),await Gt(n,y.code),y.code}if(/^commander:\s*/i.test(t)){const m=t.replace(/^commander:\s*/i,"").trim(),h=r.byName.get(Wt(`${m} Commander`));if(h)return console.log(`Set code resolved from commander rewrite (commander): ${t} -> ${h.code}`),await Gt(n,h.code),h.code;const y=r.byName.get(Wt(m));if(y)return console.log(`Set code resolved from commander rewrite (base): ${t} -> ${y.code}`),await Gt(n,y.code),y.code}if(/: extras$/i.test(t)){const m=Wt(t.replace(/: extras$/i,"")),h=r.byName.get(m);if(h)return console.log(`Set code resolved from extras suffix: ${t} -> ${h.code}`),await Gt(n,h.code),h.code}if(/^universes beyond:\s*/i.test(t)){const m=t.replace(/^universes beyond:\s*/i,"").trim();if(/: extras$/i.test(m)){const y=Wt(m.replace(/: extras$/i,"")),v=r.byName.get(y);if(v)return console.log(`Set code resolved from universes beyond + extras: ${t} -> ${v.code}`),await Gt(n,v.code),v.code}const h=r.byName.get(Wt(m));if(h)return console.log(`Set code resolved from universes beyond: ${t} -> ${h.code}`),await Gt(n,h.code),h.code}if(/^magic: the gathering -\s*/i.test(t)){const m=t.replace(/^magic: the gathering -\s*/i,"").trim();if(/: extras$/i.test(m)){const y=Wt(m.replace(/: extras$/i,"")),v=r.byName.get(y);if(v)return console.log(`Set code resolved from magic: the gathering - extras: ${t} -> ${v.code}`),await Gt(n,v.code),v.code}const h=r.byName.get(Wt(m));if(h)return console.log(`Set code resolved from magic: the gathering -: ${t} -> ${h.code}`),await Gt(n,h.code),h.code}if(/^secret lair drop series:/i.test(t)){const m=t.replace(/^secret lair drop series:/i,"").trim();if(/: extras$/i.test(m)){const y=Wt(m.replace(/: extras$/i,"")),v=r.byName.get(y);if(v)return console.log(`Set code resolved from secret lair drop series + extras: ${t} -> ${v.code}`),await Gt(n,v.code),v.code}const h=r.byName.get(Wt(m));if(h)return console.log(`Set code resolved from secret lair drop series: ${t} -> ${h.code}`),await Gt(n,h.code),h.code}console.log(`Set code unresolved: ${t}`),await Ju();const f=(await yl()).byName.get(n);return f?(console.log(`Set code resolved from fresh exact match: ${t} -> ${f.code}`),f.code):(await Gt(n,null),null)}async function yl(){try{const e=Date.now()-6048e5,t=await ke.settings.get("scryfall_sets_cache");return t&&t.v&&t.v.fetchedAt>e?(console.log("Using cached Scryfall sets data"),qr(t.v.sets)):(console.log("Refreshing Scryfall sets cache (no cache or old cache)"),await Ju())}catch(e){console.error("Error in getSetIndex:",e);try{const t=await ke.settings.get("scryfall_sets_cache");if(t&&t.v)return console.log("Using old cached Scryfall sets data due to error"),qr(t.v.sets)}catch(t){console.error("Error accessing cached Scryfall sets data:",t)}return console.log("Returning empty Scryfall sets index"),qr([])}}async function Ju(){try{console.log("Fetching Scryfall sets data...");const e=await fetch("https://api.scryfall.com/sets");if(!e.ok)throw new Error(`Failed to fetch sets: ${e.status} ${e.statusText}`);const n=(await e.json()).data||[];return console.log(`Fetched ${n.length} Scryfall sets`),await ke.settings.put({k:"scryfall_sets_cache",v:{sets:n,fetchedAt:Date.now()},createdAt:new Date,updatedAt:new Date}),qr(n)}catch(e){console.error("Error refreshing Scryfall sets cache:",e);try{const t=await ke.settings.get("scryfall_sets_cache");if(t&&t.v)return console.log("Using old cached Scryfall sets data due to fetch error"),qr(t.v.sets)}catch(t){console.error("Error accessing cached Scryfall sets data:",t)}return console.log("Returning empty Scryfall sets index due to errors"),qr([])}}async function hg(){const e=new Map,t=await ke.settings.get("set_code_aliases");if(t&&t.v)for(const[n,r]of Object.entries(t.v))e.set(n,r);return e}async function Gt(e,t){try{const n=Wt(e),r=await ke.settings.get("set_code_aliases");let o={};r&&r.v&&(o={...r.v}),o[n]=t,await ke.settings.put({k:"set_code_aliases",v:o,createdAt:r?.createdAt||new Date,updatedAt:new Date})}catch(n){console.error("Error storing set code alias:",n)}}class hr{static async importCardmarketTransactions(t){try{const n=new Date;for(const r of t){const o=`cardmarket:${r.reference}:${r.lineNumber}`;if(await ke.transactions.where("externalRef").equals(o).first())continue;const l=tt.parse(r.amount,"EUR"),u={id:`tx-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,kind:l.isPositive()?"SELL":"BUY",quantity:1,unitPrice:l.getCents(),fees:0,shipping:0,currency:"EUR",source:"cardmarket",externalRef:o,happenedAt:new Date(r.date),createdAt:n,updatedAt:n};await gn.add(u)}}catch(n){throw console.error("Error importing Cardmarket transactions:",n),n}}static async importCardmarketOrders(t){try{const n=new Date;for(const r of t){const o=`cardmarket:order:${r.orderId}:${r.lineNumber}`;if(await ke.transactions.where("externalRef").equals(o).first())continue;const l=tt.parse(r.merchandiseValue,"EUR"),u=tt.parse(r.shipmentCosts,"EUR"),f=tt.parse(r.commission,"EUR"),m={id:`order-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,kind:r.direction==="sale"?"SELL":"BUY",quantity:parseInt(r.articleCount)||1,unitPrice:Math.round(l.getCents()/(parseInt(r.articleCount)||1)),fees:f.getCents(),shipping:u.getCents(),currency:"EUR",source:"cardmarket",externalRef:o,happenedAt:new Date(r.dateOfPurchase),createdAt:n,updatedAt:n};await gn.add(m)}}catch(n){throw console.error("Error importing Cardmarket orders:",n),n}}static async importCardmarketArticles(t){try{const n=new Date;for(const r of t){let o=null,a=null;if(r.productId){const k=r.productId.split(" | ").map(C=>C.trim());if(k.length===1)o=await rn.getByCardmarketId(k[0]),console.log(JSON.stringify({product_ids:k,resolved_via:"cardmarket_id",cardmarket_id:k[0],final_uri:`/cards/cardmarket/${k[0]}`}));else if(k.length>1){const C=await rn.getByCardmarketIds(k);C&&C.length>0&&(o=C[0],console.log(JSON.stringify({product_ids:k,resolved_via:"cardmarket_id",cardmarket_id:k[0],final_uri:"/cards/collection"})))}a=o?.id||null}const l=k=>{const C=[/-\s*(\d+[a-zA-Z]*)\s*-/i,/-\s*([IVXLCDM]+)\s*-/i,/\s+(\d+[a-zA-Z]*)\s*$/i,/\((\d+[a-zA-Z]*)\)/i];for(const N of C){const H=k.match(N);if(H)return H[1]}return""};let u=l(r.name);if(!a){const k=await gl(r.expansion);let C=r.name,N=null;const H=r.name.match(/^(.+?)\s*\((V\.\d+)\)$/i);H&&(C=H[1].trim(),N=H[2]),u=l(r.name),console.log(JSON.stringify({product_ids:r.productId?r.productId.split(" | ").map(K=>K.trim()):[],resolved_via:"set+cn",set_code:k,collector_number:u,final_uri:k?`/cards/${k}/${u}`:""})),o=await rn.hydrateCard({name:C,setCode:k||r.expansion,collectorNumber:u,version:N}),a=o?.id||null,a||console.log(JSON.stringify({product_ids:r.productId?r.productId.split(" | ").map(K=>K.trim()):[],resolved_via:"none",set_code:null,collector_number:"",final_uri:"",name:r.name,expansion:r.expansion}))}const f=tt.parse(r.price,"EUR");if(a)if(await yn.getById(a))try{const C=n.toISOString().split("T")[0],N=`${a}:scryfall:${C}`;if(!await ke.price_points.get(N)){const K=await rn.getPriceById(a);if(K){const X={id:N,cardId:a,provider:"scryfall",currency:K.getCurrency(),price:K.getCents(),asOf:n,createdAt:n};await ke.price_points.put(X)}}}catch(C){console.error(`Error checking/updating price for existing card ${a}:`,C)}else{const C=o||await rn.hydrateCard({scryfall_id:a,name:r.name,setCode:r.expansion,collectorNumber:""}),N=await rn.getImageUrlById(a);let H="",K="";typeof N=="string"?H=N:N&&(H=N.front,K=N.back);const X={id:a,oracleId:C?.oracle_id||o?.oracle_id||"",name:r.name,set:C?.set_name||o?.set_name||r.expansion,setCode:C?.set||o?.set||await gl(r.expansion)||"",number:C?.collector_number||o?.collector_number||u||"",lang:C?.lang||o?.lang||"en",finish:"nonfoil",imageUrl:H,imageUrlBack:K,createdAt:n,updatedAt:n};await yn.add(X);try{const j=await rn.getPriceById(a);if(j){const $=n.toISOString().split("T")[0],ge={id:`${a}:scryfall:${$}`,cardId:a,provider:"scryfall",currency:j.getCurrency(),price:j.getCents(),asOf:n,createdAt:n};await ke.price_points.put(ge)}}catch(j){console.error(`Error fetching price for new card ${a}:`,j)}}let m;if(r.direction==="purchase"){const k=`cardmarket:lot:${r.shipmentId}:${r.lineNumber}`,C=await It.getByExternalRef(k);let N=null;if(C.length>0)N=C[0];else{const H=await It.getByCardId(a||"");for(const K of H)if(!(await gn.getByLotId(K.id)).some($=>$.kind==="BUY")){N=K;break}}if(N)await It.update(N.id,{unitCost:f.getCents(),source:"cardmarket",purchasedAt:new Date(r.dateOfPurchase),updatedAt:n}),m=N.id;else{const H=`lot-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,K={id:H,cardId:a||"",quantity:parseInt(r.amount)||1,unitCost:f.getCents(),condition:"",language:"",foil:!1,finish:"nonfoil",source:"cardmarket",currency:"EUR",externalRef:k,purchasedAt:new Date(r.dateOfPurchase),createdAt:n,updatedAt:n};await It.add(K),m=H}}const h=`cardmarket:article:${r.shipmentId}:${r.lineNumber}`;if(await ke.transactions.where("externalRef").equals(h).first())continue;const v={id:`article-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,kind:r.direction==="sale"?"SELL":"BUY",cardId:a||void 0,lotId:m,quantity:parseInt(r.amount)||1,unitPrice:f.getCents(),fees:0,shipping:0,currency:"EUR",source:"cardmarket",externalRef:h,happenedAt:new Date(r.dateOfPurchase),createdAt:n,updatedAt:n};await gn.add(v)}}catch(n){throw console.error("Error importing Cardmarket articles:",n),n}}static async getOrCreateLotForPurchase(t,n,r,o){const a=new Date,l=await It.getByCardId(t);for(const m of l)if(!(await gn.getByLotId(m.id)).some(v=>v.kind==="BUY"))return await It.update(m.id,{unitCost:r,quantity:m.quantity+n,source:"cardmarket",purchasedAt:o,updatedAt:a}),m.id;const u=`lot-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,f={id:u,cardId:t,quantity:n,unitCost:r,condition:"NM",language:"en",foil:!1,finish:"nonfoil",source:"cardmarket",currency:"EUR",purchasedAt:o,createdAt:a,updatedAt:a};return await It.add(f),u}static async getLotForSale(t,n){const o=(await It.getByCardId(t)).filter(a=>!a.disposedAt||a.disposedQuantity&&a.disposedQuantity<a.quantity).sort((a,l)=>a.purchasedAt.getTime()-l.purchasedAt.getTime());for(const a of o){const l=a.disposedQuantity?a.quantity-a.disposedQuantity:a.quantity;if(l>=n)return{lotId:a.id,remainingQuantity:l-n}}return null}static async checkForExistingImports(t){const n=[];for(const r of t){const o=`cardmarket:article:${r.shipmentId}:${r.lineNumber}`,a=await ke.transactions.where("externalRef").equals(o).first();n.push({article:r,exists:!!a})}return n}}const mg={class:"csv-import"},gg={class:"import-section"},yg={class:"mb-3"},vg={class:"mb-3"},bg={class:"mb-3"},_g={class:"import-section"},wg={class:"mb-3"},kg=ot({__name:"CsvImportView",setup(e){const t=Ae(null),n=(u,f)=>{t.value={type:u,message:f},setTimeout(()=>{t.value=null},5e3)},r=async u=>{const f=u.target,m=f.files?.[0];if(m)try{const y=(await m.text()).split(`
`),v=y[0].split(";").map(C=>C.trim()),k=[];for(let C=1;C<y.length;C++){const N=y[C].trim();if(!N)continue;const H=N.split(";"),K={};for(let X=0;X<v.length;X++){const j=v[X].toLowerCase(),$=H[X]?H[X].trim():"";switch(j){case"reference":case"referenz":case"transaktions-id":K.reference=$;break;case"date":case"datum":case"date paid":K.date=$;break;case"category":case"kategorie":K.category=$;break;case"type":case"typ":K.type=$;break;case"counterpart":case"gegenpartei":K.counterpart=$;break;case"amount":case"betrag":K.amount=$;break;case"closing balance (eur)":case"balance after":case"saldo danach (eur)":K.balanceAfter=$;break}}K.reference&&(K.currency="EUR",k.push(K))}await hr.importCardmarketTransactions(k),n("success",`Successfully imported ${k.length} transactions`),f.value=""}catch(h){console.error("Error importing transactions:",h),n("error","Failed to import transactions: "+h.message)}},o=async u=>{const f=u.target,m=f.files?.[0];if(m)try{const y=m.name.toLowerCase().includes("purchased")?"purchase":"sale",k=(await m.text()).split(`
`),C=k[0].split(";").map(H=>H.trim()),N=[];for(let H=1;H<k.length;H++){const K=k[H].trim();if(!K)continue;const X=K.split(";"),j={};for(let $=0;$<C.length;$++){const se=C[$].toLowerCase(),ge=X[$]?X[$].trim():"";switch(se){case"order id":case"orderid":case"bestellnummer":j.orderId=ge;break;case"date of purchase":case"date":case"date of payment":case"kaufdatum":case"zahlungsdatum":j.dateOfPurchase=ge;break;case"username":case"benutzername":j.username=ge;break;case"country":case"land":j.country=ge;break;case"city":case"stadt":j.city=ge;break;case"article count":case"items":case"anzahl artikel":j.articleCount=ge;break;case"merchandise value":case"warenwert":j.merchandiseValue=ge;break;case"shipment costs":case"versandkosten":j.shipmentCosts=ge;break;case"commission":case"trustee service fee":case"provision":j.commission=ge;break;case"total value":case"gesamtwert":j.totalValue=ge;break}}j.orderId&&(j.direction=y,j.currency="EUR",N.push(j))}await hr.importCardmarketOrders(N),n("success",`Successfully imported ${N.length} ${y} orders`),f.value=""}catch(h){console.error("Error importing orders:",h),n("error","Failed to import orders: "+h.message)}},a=async u=>{const f=u.target,m=f.files?.[0];if(m)try{const y=m.name.toLowerCase().includes("purchased")?"purchase":"sale",k=(await m.text()).split(`
`),C=k[0].split(";").map(H=>H.trim()),N=[];for(let H=1;H<k.length;H++){const K=k[H].trim();if(!K)continue;const X=K.split(";"),j={};for(let $=0;$<C.length;$++){const se=C[$].toLowerCase(),ge=X[$]?X[$].trim():"";switch(se){case"shipment nr.":case"shipment nr":case"shipment id":case"order id":case"bestellnummer":j.shipmentId=ge;break;case"date of purchase":case"date":j.dateOfPurchase=ge;break;case"product id":case"produkt id":j.productId=ge;break;case"article":case"artikel":case"localized product name":case"produktname":j.name=ge;break;case"expansion":case"erweiterung":j.expansion=ge;break;case"category":case"kategorie":j.category=ge;break;case"amount":case"anzahl":j.amount=ge;break;case"article value":case"price":case"preis":j.price=ge;break;case"total":j.total=ge;break;case"currency":j.currency=ge;break;case"comments":j.comments=ge;break}}j.shipmentId&&(j.direction=y,j.currency||(j.currency="EUR"),N.push(j))}await hr.importCardmarketArticles(N),n("success",`Successfully imported ${N.length} ${y} articles`),f.value=""}catch(h){console.error("Error importing articles:",h),n("error","Failed to import articles: "+h.message)}},l=async u=>{const f=u.target;f.files?.[0]&&(n("success","ManaBox import functionality would be implemented here"),f.value="")};return(u,f)=>(U(),J("div",mg,[f[8]||(f[8]=w("h1",null,"Import CSV Files",-1)),w("div",gg,[f[3]||(f[3]=w("h2",null,"Cardmarket Data",-1)),f[4]||(f[4]=w("p",null,"Import your Cardmarket transaction data to track your purchases and sales.",-1)),w("div",yg,[f[0]||(f[0]=w("label",{for:"transactions-csv",class:"form-label"}," Upload Transactions CSV ",-1)),w("input",{id:"transactions-csv",type:"file",accept:".csv",onChange:r,class:"form-control"},null,32)]),w("div",vg,[f[1]||(f[1]=w("label",{for:"orders-csv",class:"form-label"}," Upload Orders CSV ",-1)),w("input",{id:"orders-csv",type:"file",accept:".csv",onChange:o,class:"form-control"},null,32)]),w("div",bg,[f[2]||(f[2]=w("label",{for:"articles-csv",class:"form-label"}," Upload Articles CSV ",-1)),w("input",{id:"articles-csv",type:"file",accept:".csv",onChange:a,class:"form-control"},null,32)])]),w("div",_g,[f[6]||(f[6]=w("h2",null,"ManaBox Scans",-1)),f[7]||(f[7]=w("p",null,"Import your ManaBox scan data to track your physical collection.",-1)),w("div",wg,[f[5]||(f[5]=w("label",{for:"manabox-csv",class:"form-label"}," Upload ManaBox CSV ",-1)),w("input",{id:"manabox-csv",type:"file",accept:".csv",onChange:l,class:"form-control"},null,32)])]),t.value?(U(),J("div",{key:0,class:kt(["status-message",t.value.type])},oe(t.value.message),3)):De("",!0)]))}}),xg=xn(kg,[["__scopeId","data-v-a64310e9"]]);function Ag(e){return new Worker("/mtg-pwa/assets/cardmarketCsv-GHGAoa0o.js",{name:e?.name})}const Eg={class:"cardmarket-wizard"},Cg={class:"wizard-progress"},Sg={class:"step-number"},Ig={class:"step-label"},Pg={class:"card"},Og={class:"card-body"},Rg={class:"wizard-content"},Dg={key:0,class:"step-content"},$g={class:"file-upload-section"},Tg={class:"mb-3"},Fg={key:0,class:"files-info"},Mg={class:"file-list"},Bg={class:"file-name"},Ng={class:"file-type"},jg={class:"file-size"},Lg={key:0,class:"error-messages"},qg={key:1,class:"step-content"},Ug={key:0,class:"preview-stats"},Kg={class:"stat"},Vg={class:"stat-value"},Hg={class:"stat"},Wg={class:"stat-value"},zg={class:"stat"},Qg={class:"stat-value"},Yg={key:1,class:"preview-table-container"},Gg={class:"preview-table-wrapper"},Jg={class:"preview-table"},Xg={key:0},Zg={key:1},ey={key:2},ty={key:3},ny={key:4},ry={key:5},sy={key:6},oy={key:7},iy={key:8},ay={key:9},cy={key:10},ly={key:11},uy={key:12},dy={key:13},fy={key:14},py={key:0},hy={key:1},my={key:2},gy={key:3},yy={key:4},vy={key:5},by={key:6},_y={key:7},wy={key:8},ky={key:9},xy={key:10},Ay={key:11},Ey={key:12},Cy={key:13},Sy={key:14},Iy={key:0},Py=["colspan"],Oy={key:2,class:"invalid-rows-section"},Ry={class:"invalid-rows"},Dy={class:"row-number"},$y={class:"row-errors"},Ty={key:0,class:"more-rows"},Fy={key:2,class:"step-content"},My={key:0,class:"conflicts-section"},By={class:"conflicts-list"},Ny={class:"flex-grow-1"},jy={class:"fw-medium"},Ly={class:"small text-muted"},qy={key:1,class:"conflicts-section"},Uy={class:"conflicts-list"},Ky={class:"flex-grow-1"},Vy={class:"fw-medium"},Hy={class:"small text-muted"},Wy={key:3,class:"step-content"},zy={class:"summary-stats"},Qy={class:"stat"},Yy={class:"stat-value"},Gy={class:"stat"},Jy={class:"stat-value"},Xy={key:0,class:"stat"},Zy={class:"stat-value"},ev={class:"summary-details"},tv={class:"summary-grid"},nv={class:"summary-item"},rv={class:"summary-value"},sv={class:"summary-item"},ov={class:"summary-value"},iv={class:"summary-item"},av={class:"summary-value"},cv={class:"wizard-navigation pt-3"},lv=["disabled"],uv=["disabled"],dv=ot({__name:"CardmarketImportWizard",setup(e){const t=[{key:"upload",title:"Upload"},{key:"preview",title:"Preview"},{key:"conflicts",title:"Conflicts"},{key:"summary",title:"Summary"}],n=Ae(0),r=Ae([]),o=Ae({}),a=Ae({}),l=Ae({}),u=Ae(null),f=Ae(!1),m=Ae({}),h=Ae([]),y=Y=>{if(Y===0)return"0 Bytes";const W=1024,L=["Bytes","KB","MB","GB"],Ie=Math.floor(Math.log(Y)/Math.log(W));return parseFloat((Y/Math.pow(W,Ie)).toFixed(2))+" "+L[Ie]},v=Y=>new Intl.NumberFormat("en-EU",{style:"currency",currency:"EUR"}).format(Y/100),k=async Y=>{const L=Y.target.files;if(!(!L||L.length===0)){h.value=[],r.value=Array.from(L);try{for(const Ie of r.value){if(!Ie.name.endsWith(".csv")){h.value.push(`File ${Ie.name} is not a CSV file.`);continue}const ve=await Ie.text();o.value[Ie.name]=ve,a.value[Ie.name]=it(Ie.name)}await C()}catch(Ie){h.value.push("Failed to read the files: "+Ie.message)}}},C=async()=>{try{l.value={};for(const[Y,W]of Object.entries(o.value)){const L=a.value[Y];if(L==="unknown"){console.warn(`Skipping unknown file type: ${Y}`);continue}const Ie=new Ag;let ve="",Ve="sale";switch(L){case"transactions":ve="parseTransactions";break;case"sold-orders":ve="parseOrders",Ve="sale";break;case"purchased-orders":ve="parseOrders",Ve="purchase";break;case"sold-articles":ve="parseArticles",Ve="sale";break;case"purchased-articles":ve="parseArticles",Ve="purchase";break}Ie.postMessage({type:ve,data:W,direction:Ve});const Ht=await new Promise((Nt,pt)=>{Ie.onmessage=Z=>{const{type:be,result:z,error:xe}=Z.data;console.log("Worker response type:",be),xe?pt(new Error(xe)):Nt(z)},Ie.onerror=Z=>{pt(Z)}});l.value[L]=Ht,Ie.terminate()}await Fe()}catch(Y){h.value.push("Failed to parse CSV data: "+Y.message)}},N=st(()=>n.value===0?r.value.length>0&&h.value.length===0:!0),H=async()=>{N.value&&(n.value===0&&await C(),n.value<t.length-1&&n.value++)},K=()=>{n.value>0&&n.value--},X=async()=>{if(!f.value){f.value=!0,u.value=null;try{for(const[Y,W]of Object.entries(l.value)){if(!W||W.length===0)continue;const L=ze(W,Y);switch(Y){case"transactions":await hr.importCardmarketTransactions(L);break;case"sold-orders":case"purchased-orders":await hr.importCardmarketOrders(L);break;case"sold-articles":case"purchased-articles":await hr.importCardmarketArticles(L);break}}u.value={type:"success",message:"Successfully imported all data"}}catch(Y){u.value={type:"error",message:"Failed to import data: "+Y.message}}finally{f.value=!1}}},j=Y=>ze(l.value[Y]||[],Y),$=Y=>ze(l.value[Y]||[],Y).filter(L=>Oe(Y,L)),se=()=>Object.values(l.value).reduce((Y,W)=>Y+(W?.length||0),0),ge=()=>{let Y=0;for(const[W,L]of Object.entries(l.value))L&&(Y+=ze(L,W).length);return Y},Ee=Y=>{if(/^\d{2}\.\d{2}\.\d{4} \d{2}:\d{2}:\d{2}$/.test(Y)){const Ie=Y.split(" ")[0].split("."),ve=parseInt(Ie[0],10),Ve=parseInt(Ie[1],10)-1,Ht=parseInt(Ie[2],10),Nt=new Date(Ht,Ve,ve);return Nt.getFullYear()===Ht&&Nt.getMonth()===Ve&&Nt.getDate()===ve}if(/^\d{2}\.\d{2}\.\d{4}$/.test(Y)){const W=Y.split("."),L=parseInt(W[0],10),Ie=parseInt(W[1],10)-1,ve=parseInt(W[2],10),Ve=new Date(ve,Ie,L);return Ve.getFullYear()===ve&&Ve.getMonth()===Ie&&Ve.getDate()===L}if(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(Y)){const W=new Date(Y);return!isNaN(W.getTime())}if(/^\d{4}-\d{2}-\d{2}$/.test(Y)){const W=new Date(Y);return!isNaN(W.getTime())}return!1},Se=Y=>{const W=Y.replace(/[$\s]/g,"").replace(",",".");return!isNaN(parseFloat(W))},Ce=Y=>{const W=parseInt(Y,10);return!isNaN(W)&&W>0};function qe(Y){switch(Y){case"transactions":return"Transaction Summary";case"sold-orders":return"Sold Orders";case"purchased-orders":return"Purchased Orders";case"sold-articles":return"Sold Articles";case"purchased-articles":return"Purchased Articles";default:return"Unknown File Type"}}const ut=Y=>{switch(Y){case"transactions":return 5;case"sold-orders":case"purchased-orders":return 6;case"sold-articles":case"purchased-articles":return 8;default:return 5}},Xe=(Y,W)=>{const L=[];if(!Y.date&&!Y.dateOfPurchase)L.push("Date is required");else{const Ie=Y.date||Y.dateOfPurchase;Ee(Ie)||L.push("Invalid date format (expected DD.MM.YYYY or YYYY-MM-DD)")}return W.includes("articles")?(Y.name||L.push("Card name is required"),Y.expansion||L.push("Expansion/Set is required"),Y.price?Se(Y.price)||L.push("Invalid price format (expected numeric value)"):L.push("Price is required"),Y.amount?Ce(Y.amount)||L.push("Invalid quantity (expected positive integer)"):L.push("Quantity is required"),Y.shipmentId||L.push("Order ID is required")):W.includes("orders")?(Y.dateOfPurchase?Ee(Y.dateOfPurchase)||L.push("Invalid date format (expected DD.MM.YYYY or YYYY-MM-DD)"):L.push("Date is required"),Y.orderId||L.push("Order ID is required"),Y.articleCount?Ce(Y.articleCount)||L.push("Invalid article count (expected positive integer)"):L.push("Article count is required"),Y.merchandiseValue?Se(Y.merchandiseValue)||L.push("Invalid merchandise value format (expected numeric value)"):L.push("Merchandise value is required")):W==="transactions"&&(Y.reference||L.push("Reference is required"),Y.amount?Se(Y.amount)||L.push("Invalid amount format (expected numeric value)"):L.push("Amount is required"),Y.category||L.push("Category is required"),Y.type||L.push("Type is required")),L},ze=(Y,W="articles")=>Y.filter(L=>Xe(L,W).length===0),wt=(Y,W="articles")=>Y.map((L,Ie)=>({index:Ie,row:L,errors:Xe(L,W)})).filter(L=>L.errors.length>0),it=Y=>{const W=Y.toLowerCase();return W.includes("transaction")?"transactions":W.includes("sold orders")?"sold-orders":W.includes("purchased orders")?"purchased-orders":W.includes("sold articles")?"sold-articles":W.includes("purchased articles")?"purchased-articles":"unknown"},Fe=async()=>{try{m.value={};for(const[Y,W]of Object.entries(l.value))if(!(!W||W.length===0)&&Y.includes("articles")){const L=await hr.checkForExistingImports(W);for(const Ie of L){const ve=`${Y}:${Ie.article.shipmentId}:${Ie.article.lineNumber}`;m.value[ve]=Ie.exists}}}catch(Y){console.error("Error checking for existing imports:",Y)}},Oe=(Y,W)=>{const L=`${Y}:${W.shipmentId}:${W.lineNumber}`;return!!m.value[L]};return(Y,W)=>(U(),J("div",Eg,[W[30]||(W[30]=w("h1",null,"Cardmarket Import Wizard",-1)),w("div",Cg,[(U(),J(nt,null,Kt(t,(L,Ie)=>w("div",{key:L.key,class:kt(["step",{active:n.value===Ie,completed:Ie<n.value}])},[w("div",Sg,oe(Ie+1),1),w("div",Ig,oe(L.title),1)],2)),64))]),w("div",Pg,[w("div",Og,[w("div",Rg,[n.value===0?(U(),J("div",Dg,[W[2]||(W[2]=w("h2",null,"Upload CSV Files",-1)),W[3]||(W[3]=w("p",null,"Please select all Cardmarket CSV export files to import. You can select multiple files at once.",-1)),w("div",$g,[w("div",Tg,[W[0]||(W[0]=w("label",{for:"csv-files",class:"form-label"}," Choose CSV Files ",-1)),w("input",{id:"csv-files",type:"file",accept:".csv",multiple:"",onChange:k,class:"form-control"},null,32)]),r.value.length>0?(U(),J("div",Fg,[W[1]||(W[1]=w("h3",null,"Uploaded Files",-1)),w("ul",Mg,[(U(!0),J(nt,null,Kt(r.value,L=>(U(),J("li",{key:L.name,class:"file-item"},[w("span",Bg,oe(L.name),1),w("span",Ng,"("+oe(it(L.name))+")",1),w("span",jg,"- "+oe(y(L.size)),1)]))),128))])])):De("",!0)]),h.value.length>0?(U(),J("div",Lg,[(U(!0),J(nt,null,Kt(h.value,L=>(U(),J("div",{key:L,class:"error-message"},oe(L),1))),128))])):De("",!0)])):n.value===1?(U(),J("div",qg,[W[11]||(W[11]=w("h2",null,"Preview Data",-1)),W[12]||(W[12]=w("p",null,"Review the data that will be imported. Check for any issues before proceeding.",-1)),(U(!0),J(nt,null,Kt(a.value,(L,Ie)=>(U(),J("div",{key:Ie,class:"file-preview"},[w("h3",null,oe(qe(L)),1),l.value[L]&&l.value[L].length>0?(U(),J("div",Ug,[w("div",Kg,[w("div",Vg,oe(l.value[L].length),1),W[4]||(W[4]=w("div",{class:"stat-label"},"Total Rows",-1))]),w("div",Hg,[w("div",Wg,oe(ze(l.value[L],L).length),1),W[5]||(W[5]=w("div",{class:"stat-label"},"Valid Rows",-1))]),w("div",zg,[w("div",Qg,oe(wt(l.value[L],L).length),1),W[6]||(W[6]=w("div",{class:"stat-label"},"Invalid Rows",-1))])])):De("",!0),l.value[L]&&l.value[L].length>0?(U(),J("div",Yg,[W[8]||(W[8]=w("h4",null,"Valid Data Preview",-1)),w("div",Gg,[w("table",Jg,[w("thead",null,[w("tr",null,[L==="transactions"?(U(),J("th",Xg,"Reference")):(U(),J("th",Zg,"Line")),W[7]||(W[7]=w("th",null,"Date",-1)),L.includes("articles")?(U(),J("th",ey,"Card Name")):De("",!0),L.includes("articles")?(U(),J("th",ty,"Expansion")):De("",!0),L.includes("articles")?(U(),J("th",ny,"Price")):De("",!0),L.includes("articles")?(U(),J("th",ry,"Quantity")):De("",!0),L.includes("articles")?(U(),J("th",sy,"Order ID")):De("",!0),L.includes("articles")?(U(),J("th",oy,"Status")):De("",!0),L.includes("orders")?(U(),J("th",iy,"Order ID")):De("",!0),L.includes("orders")?(U(),J("th",ay,"Username")):De("",!0),L.includes("orders")?(U(),J("th",cy,"Article Count")):De("",!0),L.includes("orders")?(U(),J("th",ly,"Merchandise Value")):De("",!0),L==="transactions"?(U(),J("th",uy,"Category")):De("",!0),L==="transactions"?(U(),J("th",dy,"Type")):De("",!0),L==="transactions"?(U(),J("th",fy,"Amount")):De("",!0)])]),w("tbody",null,[(U(!0),J(nt,null,Kt(ze(l.value[L],L).slice(0,5),(ve,Ve)=>(U(),J("tr",{key:Ve},[L==="transactions"?(U(),J("td",py,oe(ve.reference),1)):(U(),J("td",hy,oe(ve.lineNumber),1)),w("td",null,oe(ve.date||ve.dateOfPurchase),1),L.includes("articles")?(U(),J("td",my,oe(ve.name),1)):De("",!0),L.includes("articles")?(U(),J("td",gy,oe(ve.expansion),1)):De("",!0),L.includes("articles")?(U(),J("td",yy,oe(v(parseFloat(ve.price.replace(/[$\s]/g,"").replace(",","."))*100)),1)):De("",!0),L.includes("articles")?(U(),J("td",vy,oe(ve.amount),1)):De("",!0),L.includes("articles")?(U(),J("td",by,oe(ve.shipmentId),1)):De("",!0),L.includes("articles")?(U(),J("td",_y,[w("span",{class:kt(Oe(L,ve)?"text-success":"text-primary")},oe(Oe(L,ve)?"Already Imported":"New"),3)])):De("",!0),L.includes("orders")?(U(),J("td",wy,oe(ve.orderId),1)):De("",!0),L.includes("orders")?(U(),J("td",ky,oe(ve.username),1)):De("",!0),L.includes("orders")?(U(),J("td",xy,oe(ve.articleCount),1)):De("",!0),L.includes("orders")?(U(),J("td",Ay,oe(v(parseFloat(ve.merchandiseValue.replace(/[$\s]/g,"").replace(",","."))*100)),1)):De("",!0),L==="transactions"?(U(),J("td",Ey,oe(ve.category),1)):De("",!0),L==="transactions"?(U(),J("td",Cy,oe(ve.type),1)):De("",!0),L==="transactions"?(U(),J("td",Sy,oe(v(parseFloat(ve.amount.replace(/[$\s]/g,"").replace(",","."))*100)),1)):De("",!0)]))),128)),ze(l.value[L],L).length>5?(U(),J("tr",Iy,[w("td",{colspan:ut(L),class:"more-rows-cell"}," ... and "+oe(ze(l.value[L],L).length-5)+" more rows ",9,Py)])):De("",!0)])])])])):De("",!0),wt(l.value[L],L).length>0?(U(),J("div",Oy,[W[9]||(W[9]=w("h4",null,"Invalid Rows",-1)),W[10]||(W[10]=w("p",null,"The following rows have issues and will be skipped:",-1)),w("div",Ry,[(U(!0),J(nt,null,Kt(wt(l.value[L],L).slice(0,3),(ve,Ve)=>(U(),J("div",{key:Ve,class:"invalid-row"},[w("div",Dy,"Row "+oe(ve.row.lineNumber||ve.row.reference),1),w("div",$y,oe(ve.errors.join(", ")),1)]))),128)),wt(l.value[L],L).length>3?(U(),J("div",Ty," ... and "+oe(wt(l.value[L],L).length-3)+" more rows ",1)):De("",!0)])])):De("",!0)]))),128))])):n.value===2?(U(),J("div",Fy,[W[19]||(W[19]=w("h2",null,"Resolve Conflicts",-1)),W[20]||(W[20]=w("p",null,"Check for duplicate imports and resolve any conflicts.",-1)),(U(!0),J(nt,null,Kt(a.value,(L,Ie)=>(U(),J("div",{key:Ie,class:"file-conflicts"},[w("h3",null,oe(qe(L)),1),L.includes("articles")&&$(L).length>0?(U(),J("div",My,[W[14]||(W[14]=w("h4",null,"Already Imported Articles",-1)),W[15]||(W[15]=w("p",null,"The following articles have already been imported and will be skipped:",-1)),w("div",By,[(U(!0),J(nt,null,Kt($(L),(ve,Ve)=>(U(),J("div",{key:Ve,class:"d-flex justify-content-between align-items-center p-2 bg-light rounded"},[w("div",Ny,[w("div",jy,oe(ve.name),1),w("div",Ly,oe(ve.expansion)+"  "+oe(ve.amount)+"  "+oe(v(parseFloat(ve.price.replace(/[$\s]/g,"").replace(",","."))*100))+"  Order #"+oe(ve.shipmentId),1)]),W[13]||(W[13]=w("div",{class:"ms-3"},[w("span",{class:"text-success fw-medium"},"Already Imported")],-1))]))),128))])])):De("",!0),L.includes("articles")&&j(L).length>0?(U(),J("div",qy,[W[17]||(W[17]=w("h4",null,"New Articles to Import",-1)),W[18]||(W[18]=w("p",null,"The following articles will be imported:",-1)),w("div",Uy,[(U(!0),J(nt,null,Kt(j(L).filter(ve=>!Oe(L,ve)),(ve,Ve)=>(U(),J("div",{key:Ve,class:"d-flex justify-content-between align-items-center p-2 bg-light rounded"},[w("div",Ky,[w("div",Vy,oe(ve.name),1),w("div",Hy,oe(ve.expansion)+"  "+oe(ve.amount)+"  "+oe(v(parseFloat(ve.price.replace(/[$\s]/g,"").replace(",","."))*100))+"  Order #"+oe(ve.shipmentId),1)]),W[16]||(W[16]=w("div",{class:"ms-3"},[w("span",{class:"text-primary fw-medium"},"New")],-1))]))),128))])])):De("",!0)]))),128))])):n.value===3?(U(),J("div",Wy,[W[28]||(W[28]=w("h2",null,"Import Summary",-1)),W[29]||(W[29]=w("p",null,"Review the import summary before finalizing.",-1)),(U(!0),J(nt,null,Kt(a.value,(L,Ie)=>(U(),J("div",{key:Ie,class:"file-summary"},[w("h3",null,oe(qe(L)),1),w("div",zy,[w("div",Qy,[w("div",Yy,oe(j(L).length),1),W[21]||(W[21]=w("div",{class:"stat-label"},"New Records",-1))]),w("div",Gy,[w("div",Jy,oe(wt(l.value[L]||[],L).length),1),W[22]||(W[22]=w("div",{class:"stat-label"},"Invalid Rows",-1))]),L.includes("articles")?(U(),J("div",Xy,[w("div",Zy,oe($(L).length),1),W[23]||(W[23]=w("div",{class:"stat-label"},"Already Imported",-1))])):De("",!0)])]))),128)),w("div",ev,[W[27]||(W[27]=w("h3",null,"Import Details",-1)),w("div",tv,[w("div",nv,[W[24]||(W[24]=w("div",{class:"summary-label"},"Files Uploaded",-1)),w("div",rv,oe(r.value.length),1)]),w("div",sv,[W[25]||(W[25]=w("div",{class:"summary-label"},"Total Rows Parsed",-1)),w("div",ov,oe(se()),1)]),w("div",iv,[W[26]||(W[26]=w("div",{class:"summary-label"},"Total Valid Rows",-1)),w("div",av,oe(ge()),1)])])]),u.value?(U(),J("div",{key:0,class:kt(["import-status",u.value.type])},oe(u.value.message),3)):De("",!0)])):De("",!0)])])]),w("div",cv,[n.value>0?(U(),J("button",{key:0,onClick:K,class:"btn btn-secondary"}," Previous ")):De("",!0),n.value<t.length-1?(U(),J("button",{key:1,onClick:H,class:"btn btn-primary",disabled:!N.value}," Next ",8,lv)):De("",!0),n.value===t.length-1?(U(),J("button",{key:2,onClick:X,class:"btn btn-primary",disabled:f.value},oe(f.value?"Importing...":"Import Data"),9,uv)):De("",!0)])]))}}),fv=xn(dv,[["__scopeId","data-v-3d6364bb"]]);class pv{static normalizeFingerprint(t){return{name:t.name.trim().toLowerCase(),setCode:t.setCode.trim().toLowerCase(),collectorNumber:t.collectorNumber.trim().toLowerCase(),finish:t.finish.trim().toLowerCase(),language:t.language.trim().toLowerCase()}}static compareFingerprints(t,n){const r=this.normalizeFingerprint(t),o=this.normalizeFingerprint(n);return r.name===o.name&&r.setCode===o.setCode&&r.collectorNumber===o.collectorNumber&&r.finish===o.finish&&r.language===o.language}static async resolveFingerprint(t){try{const n=await rn.hydrateCard({name:t.name,setCode:t.setCode,collectorNumber:t.collectorNumber});return n&&n.id?n.id:null}catch(n){return console.error("Error resolving fingerprint:",n),null}}}const hv={class:"deck-import"},mv={class:"import-section"},gv={class:"mb-3"},yv={class:"mb-3"},vv=["disabled"],bv={key:0,class:"progress-container mb-4"},_v={class:"progress"},wv={class:"progress-text"},kv=ot({__name:"DeckImportView",setup(e){const t=Ae(""),n=Ae(""),r=Ae(!1),o=Ae(null),a=Ae(null),l=(f,m)=>{o.value={type:f,message:m},setTimeout(()=>{o.value=null},5e3)},u=async()=>{if(!t.value.trim()){l("error","Please enter a deck name");return}if(!n.value.trim()){l("error","Please paste your decklist");return}r.value=!0,a.value=0;try{const f=n.value.trim().split(`
`).filter(C=>C.trim()),m=f.length,h=C=>new Promise(N=>setTimeout(N,C)),y=`deck-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,v=new Date,k={id:y,platform:"csv",name:t.value.trim(),commander:"",url:"",importedAt:v,createdAt:v,updatedAt:v};await ke.decks.add(k);for(let C=0;C<f.length;C++){const N=f[C].trim();if(!N)continue;a.value=Math.round((C+1)/m*100),await h(0),console.log("Processing line:",N);const H=N.match(/^(\d+)\s+(.+?)\s*\(([^)]+)\)\s*(\d+)(?:\s*\*F\*\s*)?$/i);if(H){const[,K,X,j,$]=H,se=parseInt(K)||1;if(X&&j&&$){const ge={name:X.trim(),setCode:j.trim(),collectorNumber:$.trim(),finish:"nonfoil",language:"en"},Ee=await pv.resolveFingerprint(ge);if(Ee){if(!await yn.getById(Ee)){const it=await rn.hydrateCard({scryfall_id:Ee,name:X.trim(),setCode:j.trim(),collectorNumber:$.trim()}),Fe=it?.image_uris?.normal||it?.image_uris?.large||it?.image_uris?.small||"",Oe=new Date,Y={id:Ee,oracleId:it?.oracle_id||"",name:X.trim(),set:it?.set_name||j.trim(),setCode:j.trim(),number:$.trim(),lang:it?.lang||"en",finish:"nonfoil",imageUrl:Fe,createdAt:Oe,updatedAt:Oe};await yn.add(Y)}const wt=(await It.getByCardId(Ee)).reduce((it,Fe)=>{if(!Fe.disposedAt||Fe.disposedQuantity&&Fe.disposedQuantity<Fe.quantity){const Oe=Fe.disposedQuantity?Fe.quantity-Fe.disposedQuantity:Fe.quantity;return it+Oe}return it},0);if(wt<se){const it=se-wt,Fe=new Date,Y={id:`lot-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,cardId:Ee,quantity:it,unitCost:0,condition:"unknown",language:"en",foil:!1,finish:"nonfoil",source:"deck_import",currency:"EUR",purchasedAt:Fe,createdAt:Fe,updatedAt:Fe};await It.add(Y)}}let Se;const Ce=await It.getByCardId(Ee||"");if(Ce.length>0){for(const Xe of Ce)if((Xe.disposedQuantity?Xe.quantity-Xe.disposedQuantity:Xe.quantity)>=se&&!Xe.disposedAt){Se=Xe.id;break}!Se&&Ce.length>0&&(Se=Ce[0].id)}const qe=new Date,ut={id:`deckcard-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,deckId:y||"unknown-deck",cardId:Ee||"unknown-card",lotId:Se,quantity:typeof se=="number"&&se>0?se:1,role:"main",addedAt:qe,createdAt:qe};await ke.deck_cards.put(ut)}}}l("success",`Successfully imported deck: ${t.value}`),t.value="",n.value=""}catch(f){console.error("Error importing deck:",f),l("error","Failed to import deck: "+f.message)}finally{r.value=!1,a.value=null}};return(f,m)=>(U(),J("div",hv,[m[7]||(m[7]=w("h1",null,"Import Deck",-1)),w("div",mv,[m[4]||(m[4]=w("h2",null,"Moxfield Deck Import",-1)),m[5]||(m[5]=w("p",null,"Copy and paste your decklist from Moxfield to track which cards you own and which you're missing.",-1)),w("div",gv,[m[2]||(m[2]=w("label",{for:"deck-name",class:"form-label"},"Deck Name",-1)),_s(w("input",{id:"deck-name","onUpdate:modelValue":m[0]||(m[0]=h=>t.value=h),type:"text",placeholder:"Enter a name for your deck",class:"form-control"},null,512),[[Zi,t.value]])]),w("div",yv,[m[3]||(m[3]=w("label",{for:"decklist",class:"form-label"},"Decklist",-1)),_s(w("textarea",{id:"decklist","onUpdate:modelValue":m[1]||(m[1]=h=>n.value=h),placeholder:`Paste your decklist here (e.g., 4 Lightning Bolt
2 Counterspell)`,rows:"10",class:"form-control"},null,512),[[Zi,n.value]])]),w("button",{onClick:u,disabled:r.value,class:"btn btn-primary mb-4"},oe(r.value?"Importing...":"Import Deck"),9,vv),a.value!==null?(U(),J("div",bv,[w("div",_v,[w("div",{class:"progress-bar",style:$n({width:a.value+"%"})},null,4)]),w("div",wv,oe(a.value)+"%",1)])):De("",!0),m[6]||(m[6]=w("div",{class:"instructions"},[w("h3",null,"How to copy from Moxfield:"),w("ol",null,[w("li",null,"Open your deck on Moxfield.com"),w("li",null,'Click the "Export" button'),w("li",null,'Select "Text" format'),w("li",null,"Copy the text and paste it here")])],-1))]),o.value?(U(),J("div",{key:0,class:kt(["status-message",o.value.type])},oe(o.value.message),3)):De("",!0)]))}}),xv=xn(kv,[["__scopeId","data-v-9ad190d9"]]),Av={class:"decks-view"},Ev={class:"header"},Cv={key:0,class:"loading"},Sv={key:1,class:"empty-state"},Iv={key:2,class:"row g-4"},Pv=["onClick"],Ov={class:"deck-info"},Rv={class:"platform"},Dv={class:"date"},$v={class:"card-count"},Tv=ot({__name:"DecksView",setup(e){const t=im(),n=Ae([]),r=Ae(!0),o=Ae({}),a=m=>new Date(m).toLocaleDateString(),l=m=>o.value[m]||0,u=m=>{t.push(`/decks/${m}`)},f=async()=>{try{const m=await ke.decks.toArray();n.value=m;for(const h of m){const y=await ke.deck_cards.where("deckId").equals(h.id).count();o.value[h.id]=y}}catch(m){console.error("Error loading decks:",m)}finally{r.value=!1}};return tr(()=>{f()}),(m,h)=>{const y=jo("router-link");return U(),J("div",Av,[w("div",Ev,[h[1]||(h[1]=w("h1",null,"Decks",-1)),Ke(y,{to:"/import/deck",class:"btn btn-primary"},{default:rt(()=>[...h[0]||(h[0]=[zt(" Import Deck ",-1)])]),_:1})]),r.value?(U(),J("div",Cv," Loading decks... ")):n.value.length===0?(U(),J("div",Sv,[h[3]||(h[3]=w("p",null,"You haven't imported any decks yet.",-1)),Ke(y,{to:"/import/deck",class:"btn btn-primary"},{default:rt(()=>[...h[2]||(h[2]=[zt(" Import Your First Deck ",-1)])]),_:1})])):(U(),J("div",Iv,[(U(!0),J(nt,null,Kt(n.value,v=>(U(),J("div",{key:v.id,class:"col-lg-4 col-md-6"},[w("div",{class:"deck-card h-100",onClick:k=>u(v.id)},[w("h2",null,oe(v.name),1),w("p",Ov,[w("span",Rv,oe(v.platform),1),w("span",Dv,oe(a(v.importedAt)),1)]),w("p",$v,oe(l(v.id))+" cards",1)],8,Pv)]))),128))]))])}}}),Fv=xn(Tv,[["__scopeId","data-v-a321a24f"]]);function Xu(e,t){const n=typeof e=="string"&&!t?`${e}Context`:t,r=Symbol(n);return[l=>{const u=Xt(r,l);if(u||u===null)return u;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(", ")}`:`\`${e}\``}`)},l=>(fs(r,l),l)]}function Zn(){let e=document.activeElement;if(e==null)return null;for(;e!=null&&e.shadowRoot!=null&&e.shadowRoot.activeElement!=null;)e=e.shadowRoot.activeElement;return e}function Zu(e,t,n){const r=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),r.dispatchEvent(o)}function $a(e){return e?e.flatMap(t=>t.type===nt?$a(t.children):[t]):[]}const[Mv,$0]=Xu("ConfigProvider");function ed(e){return fa()?($l(e),!0):!1}function Bv(e){let t=!1,n;const r=To(!0);return(...o)=>(t||(n=r.run(()=>e(...o)),t=!0),n)}function Nv(e){let t=0,n,r;const o=()=>{t-=1,r&&t<=0&&(r.stop(),n=void 0,r=void 0)};return(...a)=>(t+=1,r||(r=To(!0),n=r.run(()=>e(...a))),ed(o),n)}const _r=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const jv=e=>typeof e<"u",Lv=Object.prototype.toString,qv=e=>Lv.call(e)==="[object Object]",vl=Uv();function Uv(){var e,t;return _r&&((e=window?.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window?.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function Kv(e){return Bn()}function Ni(e){return Array.isArray(e)?e:[e]}function Vv(e,t){Kv()&&uu(e,t)}function Hv(e,t,n){return Zt(e,t,{...n,immediate:!0})}const Ta=_r?window:void 0;function Wo(e){var t;const n=bn(e);return(t=n?.$el)!=null?t:n}function td(...e){const t=[],n=()=>{t.forEach(u=>u()),t.length=0},r=(u,f,m,h)=>(u.addEventListener(f,m,h),()=>u.removeEventListener(f,m,h)),o=st(()=>{const u=Ni(bn(e[0])).filter(f=>f!=null);return u.every(f=>typeof f!="string")?u:void 0}),a=Hv(()=>{var u,f;return[(f=(u=o.value)==null?void 0:u.map(m=>Wo(m)))!=null?f:[Ta].filter(m=>m!=null),Ni(bn(o.value?e[1]:e[0])),Ni(we(o.value?e[2]:e[1])),bn(o.value?e[3]:e[2])]},([u,f,m,h])=>{if(n(),!u?.length||!f?.length||!m?.length)return;const y=qv(h)?{...h}:h;t.push(...u.flatMap(v=>f.flatMap(k=>m.map(C=>r(v,k,C,y)))))},{flush:"post"}),l=()=>{a(),n()};return ed(n),l}function Wv(){const e=Gl(!1),t=Bn();return t&&tr(()=>{e.value=!0},t),e}function zv(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function Qv(...e){let t,n,r={};e.length===3?(t=e[0],n=e[1],r=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:o=Ta,eventName:a="keydown",passive:l=!1,dedupe:u=!1}=r,f=zv(t);return td(o,a,h=>{h.repeat&&bn(u)||f(h)&&n(h)},l)}function Yv(e){return JSON.parse(JSON.stringify(e))}function Gv(e,t,n,r={}){var o,a,l;const{clone:u=!1,passive:f=!1,eventName:m,deep:h=!1,defaultValue:y,shouldEmit:v}=r,k=Bn(),C=n||k?.emit||((o=k?.$emit)==null?void 0:o.bind(k))||((l=(a=k?.proxy)==null?void 0:a.$emit)==null?void 0:l.bind(k?.proxy));let N=m;N=N||`update:${t.toString()}`;const H=j=>u?typeof u=="function"?u(j):Yv(j):j,K=()=>jv(e[t])?H(e[t]):y,X=j=>{v?v(j)&&C(N,j):C(N,j)};if(f){const j=K(),$=Ae(j);let se=!1;return Zt(()=>e[t],ge=>{se||(se=!0,$.value=H(ge),an(()=>se=!1))}),Zt($,ge=>{!se&&(ge!==e[t]||h)&&X(ge)},{deep:h}),$}else return st({get(){return K()},set(j){X(j)}})}function ji(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function aa(e,t,n=".",r){if(!ji(t))return aa(e,{},n,r);const o=Object.assign({},t);for(const a in e){if(a==="__proto__"||a==="constructor")continue;const l=e[a];l!=null&&(r&&r(o,a,l,n)||(Array.isArray(l)&&Array.isArray(o[a])?o[a]=[...l,...o[a]]:ji(l)&&ji(o[a])?o[a]=aa(l,o[a],(n?`${n}.`:"")+a.toString(),r):o[a]=l))}return o}function Jv(e){return(...t)=>t.reduce((n,r)=>aa(n,r,"",e),{})}const Xv=Jv(),Zv=Nv(()=>{const e=Ae(new Map),t=Ae(),n=st(()=>{for(const l of e.value.values())if(l)return!0;return!1}),r=Mv({scrollBody:Ae(!0)});let o=null;const a=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",vl&&o?.(),t.value=void 0};return Zt(n,(l,u)=>{if(!_r)return;if(!l){u&&a();return}t.value===void 0&&(t.value=document.body.style.overflow);const f=window.innerWidth-document.documentElement.clientWidth,m={padding:f,margin:0},h=r.scrollBody?.value?typeof r.scrollBody.value=="object"?Xv({padding:r.scrollBody.value.padding===!0?f:r.scrollBody.value.padding,margin:r.scrollBody.value.margin===!0?f:r.scrollBody.value.margin},m):m:{padding:0,margin:0};f>0&&(document.body.style.paddingRight=typeof h.padding=="number"?`${h.padding}px`:String(h.padding),document.body.style.marginRight=typeof h.margin=="number"?`${h.margin}px`:String(h.margin),document.documentElement.style.setProperty("--scrollbar-width",`${f}px`),document.body.style.overflow="hidden"),vl&&(o=td(document,"touchmove",y=>tb(y),{passive:!1})),an(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function eb(e){const t=Math.random().toString(36).substring(2,7),n=Zv();n.value.set(t,e);const r=st({get:()=>n.value.get(t)??!1,set:o=>n.value.set(t,o)});return Vv(()=>{n.value.delete(t)}),r}function nd(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:nd(n)}}function tb(e){const t=e||window.event,n=t.target;return n instanceof Element&&nd(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}function Fa(e){const t=Bn(),n=t?.type.emits,r={};return n?.length||console.warn(`No emitted event found. Please check component: ${t?.type.__name}`),n?.forEach(o=>{r[lo(en(o))]=(...a)=>e(o,...a)}),r}function An(){const e=Bn(),t=Ae(),n=st(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:Wo(t)),r=Object.assign({},e.exposed),o={};for(const l in e.props)Object.defineProperty(o,l,{enumerable:!0,configurable:!0,get:()=>e.props[l]});if(Object.keys(r).length>0)for(const l in r)Object.defineProperty(o,l,{enumerable:!0,configurable:!0,get:()=>r[l]});Object.defineProperty(o,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=o;function a(l){t.value=l,l&&(Object.defineProperty(o,"$el",{enumerable:!0,configurable:!0,get:()=>l instanceof Element?l:l.$el}),e.exposed=o)}return{forwardRef:a,currentRef:t,currentElement:n}}var nb=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Dr=new WeakMap,io=new WeakMap,ao={},Li=0,rd=function(e){return e&&(e.host||rd(e.parentNode))},rb=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=rd(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},sb=function(e,t,n,r){var o=rb(t,Array.isArray(e)?e:[e]);ao[n]||(ao[n]=new WeakMap);var a=ao[n],l=[],u=new Set,f=new Set(o),m=function(y){!y||u.has(y)||(u.add(y),m(y.parentNode))};o.forEach(m);var h=function(y){!y||f.has(y)||Array.prototype.forEach.call(y.children,function(v){if(u.has(v))h(v);else try{var k=v.getAttribute(r),C=k!==null&&k!=="false",N=(Dr.get(v)||0)+1,H=(a.get(v)||0)+1;Dr.set(v,N),a.set(v,H),l.push(v),N===1&&C&&io.set(v,!0),H===1&&v.setAttribute(n,"true"),C||v.setAttribute(r,"true")}catch(K){console.error("aria-hidden: cannot operate on ",v,K)}})};return h(t),u.clear(),Li++,function(){l.forEach(function(y){var v=Dr.get(y)-1,k=a.get(y)-1;Dr.set(y,v),a.set(y,k),v||(io.has(y)||y.removeAttribute(r),io.delete(y)),k||y.removeAttribute(n)}),Li--,Li||(Dr=new WeakMap,Dr=new WeakMap,io=new WeakMap,ao={})}},ob=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=nb(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),sb(r,o,n,"aria-hidden")):function(){return null}};function ib(e){let t;Zt(()=>Wo(e),n=>{n?t=ob(n):t&&t()}),No(()=>{t&&t()})}function bl(e,t="reka"){return`${t}-${Pf?.()}`}function ab(e,t){const n=Ae(e);function r(a){return t[n.value][a]??n.value}return{state:n,dispatch:a=>{n.value=r(a)}}}function cb(e,t){const n=Ae({}),r=Ae("none"),o=Ae(e),a=e.value?"mounted":"unmounted";let l;const u=t.value?.ownerDocument.defaultView??Ta,{state:f,dispatch:m}=ab(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),h=H=>{if(_r){const K=new CustomEvent(H,{bubbles:!1,cancelable:!1});t.value?.dispatchEvent(K)}};Zt(e,async(H,K)=>{const X=K!==H;if(await an(),X){const j=r.value,$=co(t.value);H?(m("MOUNT"),h("enter"),$==="none"&&h("after-enter")):$==="none"||$==="undefined"||n.value?.display==="none"?(m("UNMOUNT"),h("leave"),h("after-leave")):K&&j!==$?(m("ANIMATION_OUT"),h("leave")):(m("UNMOUNT"),h("after-leave"))}},{immediate:!0});const y=H=>{const K=co(t.value),X=K.includes(H.animationName),j=f.value==="mounted"?"enter":"leave";if(H.target===t.value&&X&&(h(`after-${j}`),m("ANIMATION_END"),!o.value)){const $=t.value.style.animationFillMode;t.value.style.animationFillMode="forwards",l=u?.setTimeout(()=>{t.value?.style.animationFillMode==="forwards"&&(t.value.style.animationFillMode=$)})}H.target===t.value&&K==="none"&&m("ANIMATION_END")},v=H=>{H.target===t.value&&(r.value=co(t.value))},k=Zt(t,(H,K)=>{H?(n.value=getComputedStyle(H),H.addEventListener("animationstart",v),H.addEventListener("animationcancel",y),H.addEventListener("animationend",y)):(m("ANIMATION_END"),l!==void 0&&u?.clearTimeout(l),K?.removeEventListener("animationstart",v),K?.removeEventListener("animationcancel",y),K?.removeEventListener("animationend",y))},{immediate:!0}),C=Zt(f,()=>{const H=co(t.value);r.value=f.value==="mounted"?H:"none"});return No(()=>{k(),C()}),{isPresent:st(()=>["mounted","unmountSuspended"].includes(f.value))}}function co(e){return e&&getComputedStyle(e).animationName||"none"}var sd=ot({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(e,{slots:t,expose:n}){const{present:r,forceMount:o}=wa(e),a=Ae(),{isPresent:l}=cb(r,a);n({present:l});let u=t.default({present:l.value});u=$a(u||[]);const f=Bn();if(u&&u?.length>1){const m=f?.parent?.type.name?`<${f.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${m}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}return()=>o.value||r.value||l.value?jr(t.default({present:l.value})[0],{ref:m=>{const h=Wo(m);return typeof h?.hasAttribute>"u"||(h?.hasAttribute("data-reka-popper-content-wrapper")?a.value=h.firstElementChild:a.value=h),h}}):null}});const lb=ot({name:"PrimitiveSlot",inheritAttrs:!1,setup(e,{attrs:t,slots:n}){return()=>{if(!n.default)return null;const r=$a(n.default()),o=r.findIndex(f=>f.type!==wn);if(o===-1)return r;const a=r[o];delete a.props?.ref;const l=a.props?kn(t,a.props):t,u=yr({...a,props:{}},l);return r.length===1?u:(r[o]=u,r)}}}),ub=["area","img","input"],Ps=ot({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(e,{attrs:t,slots:n}){const r=e.asChild?"template":e.as;return typeof r=="string"&&ub.includes(r)?()=>jr(r,t):r!=="template"?()=>jr(e.as,t,{default:n.default}):()=>jr(lb,t,{default:n.default})}}),[nr,db]=Xu("DialogRoot");var fb=ot({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:t}){const n=e,o=Gv(n,"open",t,{defaultValue:n.defaultOpen,passive:n.open===void 0}),a=Ae(),l=Ae(),{modal:u}=wa(n);return db({open:o,modal:u,openModal:()=>{o.value=!0},onOpenChange:f=>{o.value=f},onOpenToggle:()=>{o.value=!o.value},contentId:"",titleId:"",descriptionId:"",triggerElement:a,contentElement:l}),(f,m)=>Qt(f.$slots,"default",{open:we(o),close:()=>o.value=!1})}}),pb=fb,hb=ot({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e;An();const n=nr();return(r,o)=>(U(),St(we(Ps),kn(t,{type:r.as==="button"?"button":void 0,onClick:o[0]||(o[0]=a=>we(n).onOpenChange(!1))}),{default:rt(()=>[Qt(r.$slots,"default")]),_:3},16,["type"]))}}),mb=hb;const gb="dismissableLayer.pointerDownOutside",yb="dismissableLayer.focusOutside";function od(e,t){const n=t.closest("[data-dismissable-layer]"),r=e.dataset.dismissableLayer===""?e:e.querySelector("[data-dismissable-layer]"),o=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&(r===n||o.indexOf(r)<o.indexOf(n)))}function vb(e,t,n=!0){const r=t?.value?.ownerDocument??globalThis?.document,o=Ae(!1),a=Ae(()=>{});return Ur(l=>{if(!_r||!bn(n))return;const u=async m=>{const h=m.target;if(!(!t?.value||!h)){if(od(t.value,h)){o.value=!1;return}if(m.target&&!o.value){let k=function(){Zu(gb,e,v)};var y=k;const v={originalEvent:m};m.pointerType==="touch"?(r.removeEventListener("click",a.value),a.value=k,r.addEventListener("click",a.value,{once:!0})):k()}else r.removeEventListener("click",a.value);o.value=!1}},f=window.setTimeout(()=>{r.addEventListener("pointerdown",u)},0);l(()=>{window.clearTimeout(f),r.removeEventListener("pointerdown",u),r.removeEventListener("click",a.value)})}),{onPointerDownCapture:()=>{bn(n)&&(o.value=!0)}}}function bb(e,t,n=!0){const r=t?.value?.ownerDocument??globalThis?.document,o=Ae(!1);return Ur(a=>{if(!_r||!bn(n))return;const l=async u=>{if(!t?.value)return;await an(),await an();const f=u.target;!t.value||!f||od(t.value,f)||u.target&&!o.value&&Zu(yb,e,{originalEvent:u})};r.addEventListener("focusin",l),a(()=>r.removeEventListener("focusin",l))}),{onFocusCapture:()=>{bn(n)&&(o.value=!0)},onBlurCapture:()=>{bn(n)&&(o.value=!1)}}}const Pn=br({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set});var _b=ot({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:t}){const n=e,r=t,{forwardRef:o,currentElement:a}=An(),l=st(()=>a.value?.ownerDocument??globalThis.document),u=st(()=>Pn.layersRoot),f=st(()=>a.value?Array.from(u.value).indexOf(a.value):-1),m=st(()=>Pn.layersWithOutsidePointerEventsDisabled.size>0),h=st(()=>{const C=Array.from(u.value),[N]=[...Pn.layersWithOutsidePointerEventsDisabled].slice(-1),H=C.indexOf(N);return f.value>=H}),y=vb(async C=>{const N=[...Pn.branches].some(H=>H?.contains(C.target));!h.value||N||(r("pointerDownOutside",C),r("interactOutside",C),await an(),C.defaultPrevented||r("dismiss"))},a),v=bb(C=>{[...Pn.branches].some(H=>H?.contains(C.target))||(r("focusOutside",C),r("interactOutside",C),C.defaultPrevented||r("dismiss"))},a);Qv("Escape",C=>{f.value===u.value.size-1&&(r("escapeKeyDown",C),C.defaultPrevented||r("dismiss"))});let k;return Ur(C=>{a.value&&(n.disableOutsidePointerEvents&&(Pn.layersWithOutsidePointerEventsDisabled.size===0&&(k=l.value.body.style.pointerEvents,l.value.body.style.pointerEvents="none"),Pn.layersWithOutsidePointerEventsDisabled.add(a.value)),u.value.add(a.value),C(()=>{n.disableOutsidePointerEvents&&Pn.layersWithOutsidePointerEventsDisabled.size===1&&(l.value.body.style.pointerEvents=k)}))}),Ur(C=>{C(()=>{a.value&&(u.value.delete(a.value),Pn.layersWithOutsidePointerEventsDisabled.delete(a.value))})}),(C,N)=>(U(),St(we(Ps),{ref:we(o),"as-child":C.asChild,as:C.as,"data-dismissable-layer":"",style:$n({pointerEvents:m.value?h.value?"auto":"none":void 0}),onFocusCapture:we(v).onFocusCapture,onBlurCapture:we(v).onBlurCapture,onPointerdownCapture:we(y).onPointerDownCapture},{default:rt(()=>[Qt(C.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),wb=_b;const kb=Bv(()=>Ae([]));function xb(){const e=kb();return{add(t){const n=e.value[0];t!==n&&n?.pause(),e.value=_l(e.value,t),e.value.unshift(t)},remove(t){e.value=_l(e.value,t),e.value[0]?.resume()}}}function _l(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Ab(e){return e.filter(t=>t.tagName!=="A")}const qi="focusScope.autoFocusOnMount",Ui="focusScope.autoFocusOnUnmount",wl={bubbles:!1,cancelable:!0};function Eb(e,{select:t=!1}={}){const n=Zn();for(const r of e)if(zn(r,{select:t}),Zn()!==n)return!0}function Cb(e){const t=id(e),n=kl(t,e),r=kl(t.reverse(),e);return[n,r]}function id(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function kl(e,t){for(const n of e)if(!Sb(n,{upTo:t}))return n}function Sb(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ib(e){return e instanceof HTMLInputElement&&"select"in e}function zn(e,{select:t=!1}={}){if(e&&e.focus){const n=Zn();e.focus({preventScroll:!0}),e!==n&&Ib(e)&&t&&e.select()}}var Pb=ot({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,r=t,{currentRef:o,currentElement:a}=An(),l=Ae(null),u=xb(),f=br({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});Ur(h=>{if(!_r)return;const y=a.value;if(!n.trapped)return;function v(H){if(f.paused||!y)return;const K=H.target;y.contains(K)?l.value=K:zn(l.value,{select:!0})}function k(H){if(f.paused||!y)return;const K=H.relatedTarget;K!==null&&(y.contains(K)||zn(l.value,{select:!0}))}function C(H){y.contains(l.value)||zn(y)}document.addEventListener("focusin",v),document.addEventListener("focusout",k);const N=new MutationObserver(C);y&&N.observe(y,{childList:!0,subtree:!0}),h(()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",k),N.disconnect()})}),Ur(async h=>{const y=a.value;if(await an(),!y)return;u.add(f);const v=Zn();if(!y.contains(v)){const C=new CustomEvent(qi,wl);y.addEventListener(qi,N=>r("mountAutoFocus",N)),y.dispatchEvent(C),C.defaultPrevented||(Eb(Ab(id(y)),{select:!0}),Zn()===v&&zn(y))}h(()=>{y.removeEventListener(qi,H=>r("mountAutoFocus",H));const C=new CustomEvent(Ui,wl),N=H=>{r("unmountAutoFocus",H)};y.addEventListener(Ui,N),y.dispatchEvent(C),setTimeout(()=>{C.defaultPrevented||zn(v??document.body,{select:!0}),y.removeEventListener(Ui,N),u.remove(f)},0)})});function m(h){if(!n.loop&&!n.trapped||f.paused)return;const y=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,v=Zn();if(y&&v){const k=h.currentTarget,[C,N]=Cb(k);C&&N?!h.shiftKey&&v===N?(h.preventDefault(),n.loop&&zn(C,{select:!0})):h.shiftKey&&v===C&&(h.preventDefault(),n.loop&&zn(N,{select:!0})):v===k&&h.preventDefault()}}return(h,y)=>(U(),St(we(Ps),{ref_key:"currentRef",ref:o,tabindex:"-1","as-child":h.asChild,as:h.as,onKeydown:m},{default:rt(()=>[Qt(h.$slots,"default")]),_:3},8,["as-child","as"]))}}),Ob=Pb;function Rb(e){return e?"open":"closed"}var Db=ot({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,o=nr(),{forwardRef:a,currentElement:l}=An();return o.titleId||=bl(void 0,"reka-dialog-title"),o.descriptionId||=bl(void 0,"reka-dialog-description"),tr(()=>{o.contentElement=l,Zn()!==document.body&&(o.triggerElement.value=Zn())}),(u,f)=>(U(),St(we(Ob),{"as-child":"",loop:"",trapped:n.trapFocus,onMountAutoFocus:f[5]||(f[5]=m=>r("openAutoFocus",m)),onUnmountAutoFocus:f[6]||(f[6]=m=>r("closeAutoFocus",m))},{default:rt(()=>[Ke(we(wb),kn({id:we(o).contentId,ref:we(a),as:u.as,"as-child":u.asChild,"disable-outside-pointer-events":u.disableOutsidePointerEvents,role:"dialog","aria-describedby":we(o).descriptionId,"aria-labelledby":we(o).titleId,"data-state":we(Rb)(we(o).open.value)},u.$attrs,{onDismiss:f[0]||(f[0]=m=>we(o).onOpenChange(!1)),onEscapeKeyDown:f[1]||(f[1]=m=>r("escapeKeyDown",m)),onFocusOutside:f[2]||(f[2]=m=>r("focusOutside",m)),onInteractOutside:f[3]||(f[3]=m=>r("interactOutside",m)),onPointerDownOutside:f[4]||(f[4]=m=>r("pointerDownOutside",m))}),{default:rt(()=>[Qt(u.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),ad=Db,$b=ot({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,o=nr(),a=Fa(r),{forwardRef:l,currentElement:u}=An();return ib(u),(f,m)=>(U(),St(ad,kn({...n,...we(a)},{ref:we(l),"trap-focus":we(o).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:m[0]||(m[0]=h=>{h.defaultPrevented||(h.preventDefault(),we(o).triggerElement.value?.focus())}),onPointerDownOutside:m[1]||(m[1]=h=>{const y=h.detail.originalEvent,v=y.button===0&&y.ctrlKey===!0;(y.button===2||v)&&h.preventDefault()}),onFocusOutside:m[2]||(m[2]=h=>{h.preventDefault()})}),{default:rt(()=>[Qt(f.$slots,"default")]),_:3},16,["trap-focus"]))}}),Tb=$b,Fb=ot({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,o=Fa(t);An();const a=nr(),l=Ae(!1),u=Ae(!1);return(f,m)=>(U(),St(ad,kn({...n,...we(o)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:m[0]||(m[0]=h=>{h.defaultPrevented||(l.value||we(a).triggerElement.value?.focus(),h.preventDefault()),l.value=!1,u.value=!1}),onInteractOutside:m[1]||(m[1]=h=>{h.defaultPrevented||(l.value=!0,h.detail.originalEvent.type==="pointerdown"&&(u.value=!0));const y=h.target;we(a).triggerElement.value?.contains(y)&&h.preventDefault(),h.detail.originalEvent.type==="focusin"&&u.value&&h.preventDefault()})}),{default:rt(()=>[Qt(f.$slots,"default")]),_:3},16))}}),Mb=Fb,Bb=ot({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,o=nr(),a=Fa(r),{forwardRef:l}=An();return(u,f)=>(U(),St(we(sd),{present:u.forceMount||we(o).open.value},{default:rt(()=>[we(o).modal.value?(U(),St(Tb,kn({key:0,ref:we(l)},{...n,...we(a),...u.$attrs}),{default:rt(()=>[Qt(u.$slots,"default")]),_:3},16)):(U(),St(Mb,kn({key:1,ref:we(l)},{...n,...we(a),...u.$attrs}),{default:rt(()=>[Qt(u.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Nb=Bb,jb=ot({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=nr();return eb(!0),An(),(n,r)=>(U(),St(we(Ps),{as:n.as,"as-child":n.asChild,"data-state":we(t).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:rt(()=>[Qt(n.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),Lb=jb,qb=ot({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=nr(),{forwardRef:n}=An();return(r,o)=>we(t)?.modal.value?(U(),St(we(sd),{key:0,present:r.forceMount||we(t).open.value},{default:rt(()=>[Ke(Lb,kn(r.$attrs,{ref:we(n),as:r.as,"as-child":r.asChild}),{default:rt(()=>[Qt(r.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):De("v-if",!0)}}),Ub=qb,Kb=ot({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=Wv();return(n,r)=>we(t)||n.forceMount?(U(),St(Sf,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[Qt(n.$slots,"default")],8,["to","disabled","defer"])):De("v-if",!0)}}),Vb=Kb,Hb=ot({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(n,r)=>(U(),St(we(Vb),Kd(Pu(t)),{default:rt(()=>[Qt(n.$slots,"default")]),_:3},16))}}),Wb=Hb,zb=ot({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(e){const t=e,n=nr();return An(),(r,o)=>(U(),St(we(Ps),kn(t,{id:we(n).titleId}),{default:rt(()=>[Qt(r.$slots,"default")]),_:3},16,["id"]))}}),Qb=zb;const Yb={class:"card-image-container position-relative overflow-hidden rounded",style:{"padding-bottom":"140%"}},Gb={key:1,class:"placeholder-image card-img-top position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center"},Jb={class:"card-body"},Xb={class:"card-title fs-6 fw-medium mb-1"},Zb={class:"card-text small text-muted mb-2"},e_={key:0,class:"d-flex justify-content-between small"},t_={class:"text-success fw-medium"},n_={key:1,class:"small text-muted fst-italic"},r_={class:"modal-dialog modal-dialog-centered modal-lg"},s_={class:"modal-content"},o_={class:"modal-header py-2"},i_={class:"modal-body py-3"},a_={class:"row g-3 align-items-start"},c_={class:"col-lg-5"},l_={class:"card-inner",style:{"padding-bottom":"140%"}},u_={class:"card-front"},d_={key:1,class:"placeholder-image w-100 h-100 rounded-4 position-relative"},f_={class:"card-back"},p_=["src"],h_={class:"row row-cols-2 g-2 small mt-3 mb-0 meta-grid"},m_={class:"col text-end fw-semibold"},g_={class:"col text-end fw-semibold"},y_={class:"col text-end fw-semibold"},v_={class:"col text-end fw-semibold"},b_={class:"col-lg-7"},__={class:"d-flex justify-content-between align-items-center mb-3"},w_={key:0,class:"h5 mb-0 text-success fw-bold"},k_={key:1,class:"small text-muted fst-italic"},x_={key:2,class:"small text-muted fst-italic"},A_={key:0,class:"mb-3"},E_={class:"d-flex gap-3 small"},C_={class:"mt-2 border rounded-3 p-2 small",style:{"max-height":"30vh",overflow:"auto"}},S_={class:"row g-2 align-items-center"},I_={class:"col-6 col-md-3"},P_={class:"fw-medium"},O_={class:"col-6 col-md-3"},R_={class:"fw-medium"},D_={class:"col-6 col-md-3"},$_={class:"fw-medium"},T_={key:0,class:"col-6 col-md-3"},F_={class:"fw-medium"},M_={key:1},B_={class:"mt-2 small",style:{"max-height":"30vh",overflow:"auto"}},N_={class:"flex-grow-1"},j_={class:"fw-medium"},L_={class:"text-muted"},q_={class:"fw-semibold"},U_=ot({inheritAttrs:!0,__name:"CardComponent",props:{card:{}},setup(e){const t=e,n=Da(),r=Ae(!1),o=Ae(null),a=Ae(!1),l=Ae([]),u=Ae([]),f=Ae(!1),m=Ae(!1),h=st(()=>u.value?[...u.value].sort((j,$)=>new Date($.happenedAt).getTime()-new Date(j.happenedAt).getTime()):[]),y=st(()=>{const j=n.getCardPrice(t.card.id);return j||o.value}),v=st(()=>!l.value||l.value.length===0?0:l.value.reduce((j,$)=>{if(!$.disposedAt||$.disposedQuantity&&$.disposedQuantity<$.quantity){const se=$.disposedQuantity?$.quantity-$.disposedQuantity:$.quantity;return j+se}return j},0)),k=()=>{r.value=!0,K()},C=()=>{r.value=!1},N=j=>new Date(j).toLocaleDateString(),H=(j,$)=>new tt(j,$).format("de-DE"),K=async()=>{try{await X(),l.value=await ke.card_lots.where("cardId").equals(t.card.id).toArray(),u.value=await ke.transactions.where("cardId").equals(t.card.id).toArray()}catch(j){console.error("Error loading card details:",j)}},X=async()=>{a.value=!0;try{const j=await ke.price_points.where("cardId").equals(t.card.id).toArray();if(j.length>0){j.sort((se,ge)=>ge.asOf.getTime()-se.asOf.getTime());const $=j[0];o.value=new tt($.price,$.currency)}}catch(j){console.error("Error loading current price:",j)}finally{a.value=!1}};return(j,$)=>(U(),J(nt,null,[w("div",{class:"card h-100 card-item",onClick:k},[w("div",Yb,[j.card.imageUrl?(U(),J("div",{key:0,class:"card-img-top position-absolute top-0 start-0 w-100 h-100",style:$n({backgroundImage:`url(${j.card.imageUrl})`,backgroundSize:"cover",backgroundPosition:"center"})},null,4)):(U(),J("div",Gb,[...$[3]||($[3]=[w("span",{class:"text-muted"},"Missing Image",-1)])]))]),w("div",Jb,[w("h3",Xb,oe(j.card.name),1),w("p",Zb,oe(j.card.set)+" #"+oe(j.card.number),1),y.value?(U(),J("div",e_,[$[4]||($[4]=w("span",{class:"text-muted"},"Current:",-1)),w("span",t_,oe(y.value.format("de-DE")),1)])):a.value||we(n).loadingPrices?(U(),J("div",n_," Loading... ")):De("",!0)])]),Ke(we(pb),{open:r.value,"onUpdate:open":$[2]||($[2]=se=>r.value=se)},{default:rt(()=>[Ke(we(Wb),null,{default:rt(()=>[Ke(we(Ub),{class:"modal-backdrop fade show",onClick:C}),Ke(we(Nb),{class:"modal d-block compact-modal",onPointerDownOutside:C,onEscapeKeyDown:C},{default:rt(()=>[w("div",r_,[w("div",s_,[w("div",o_,[Ke(we(Qb),{class:"modal-title h5 mb-0"},{default:rt(()=>[zt(oe(j.card.name),1)]),_:1}),Ke(we(mb),{"as-child":""},{default:rt(()=>[...$[5]||($[5]=[w("button",{type:"button",class:"btn-close","aria-label":"Close"},null,-1)])]),_:1})]),w("div",i_,[w("div",a_,[w("div",c_,[w("div",{class:kt(["card-flipper position-relative",{"is-flipped":f.value}])},[w("div",l_,[w("div",u_,[j.card.imageUrl?(U(),J("div",{key:0,class:"w-100 h-100 rounded-4",style:$n({backgroundImage:`url(${j.card.imageUrl})`,backgroundSize:"cover",backgroundPosition:"center"})},null,4)):(U(),J("div",d_,[...$[6]||($[6]=[w("div",{class:"position-absolute top-50 start-50 translate-middle"},[w("span",{class:"text-muted"},"Missing Image")],-1)])]))]),w("div",f_,[j.card.imageUrlBack?(U(),J("div",{key:0,class:"w-100 h-100 rounded-4",style:$n({backgroundImage:`url(${j.card.imageUrlBack})`,backgroundSize:"cover",backgroundPosition:"center"})},null,4)):De("",!0)])]),j.card.imageUrlBack?(U(),J("button",{key:0,onClick:$[0]||($[0]=se=>f.value=!f.value),class:"btn btn-sm btn-dark flip-button"}," Flip ")):De("",!0)],2),w("img",{src:j.card.imageUrlBack,style:{display:"none"}},null,8,p_),w("dl",h_,[$[7]||($[7]=w("dt",{class:"col text-muted"},"Set",-1)),w("dd",m_,oe(j.card.set)+" ("+oe(j.card.setCode)+")",1),$[8]||($[8]=w("dt",{class:"col text-muted"},"Number",-1)),w("dd",g_,"#"+oe(j.card.number),1),$[9]||($[9]=w("dt",{class:"col text-muted"},"Language",-1)),w("dd",y_,oe(j.card.lang),1),$[10]||($[10]=w("dt",{class:"col text-muted"},"Finish",-1)),w("dd",v_,oe(j.card.finish),1)])]),w("div",b_,[w("div",__,[$[11]||($[11]=w("h3",{class:"h6 mb-0"},"Current Price",-1)),o.value?(U(),J("span",w_,oe(o.value.format("de-DE")),1)):a.value?(U(),J("span",k_,"Loading")):(U(),J("span",x_,"Price unavailable"))]),l.value&&l.value.length?(U(),J("div",A_,[$[21]||($[21]=w("h3",{class:"h6 mb-2"},"Your Collection",-1)),w("div",E_,[w("div",null,[$[12]||($[12]=w("span",{class:"text-muted"},"Lots:",-1)),$[13]||($[13]=zt()),w("strong",null,oe(l.value.length),1)]),w("div",null,[$[14]||($[14]=w("span",{class:"text-muted"},"Cards:",-1)),$[15]||($[15]=zt()),w("strong",null,oe(v.value),1)])]),l.value.length>2?(U(),J("button",{key:0,class:"btn btn-link btn-sm p-0 mt-1",onClick:$[1]||($[1]=se=>m.value=!m.value)},oe(m.value?"Hide details":"Show details"),1)):De("",!0),_s(w("div",C_,[(U(!0),J(nt,null,Kt(l.value,se=>(U(),J("div",{key:se.id,class:"border rounded p-2 mb-2"},[w("div",S_,[w("div",I_,[$[16]||($[16]=w("span",{class:"text-muted"},"Qty:",-1)),$[17]||($[17]=zt()),w("span",P_,oe(se.quantity),1)]),w("div",O_,[$[18]||($[18]=w("span",{class:"text-muted"},"Unit Cost:",-1)),w("span",R_,oe(H(se.unitCost,se.currency||"EUR")),1)]),w("div",D_,[$[19]||($[19]=w("span",{class:"text-muted"},"Purchased:",-1)),w("span",$_,oe(N(se.purchasedAt)),1)]),se.disposedQuantity?(U(),J("div",T_,[$[20]||($[20]=w("span",{class:"text-muted"},"Disposed:",-1)),w("span",F_,oe(se.disposedQuantity),1)])):De("",!0)])]))),128))],512),[[Fp,m.value]])])):De("",!0),u.value&&u.value.length?(U(),J("div",M_,[$[22]||($[22]=w("h3",{class:"h6 mb-2"},"Transaction History",-1)),w("div",B_,[(U(!0),J(nt,null,Kt(h.value,se=>(U(),J("div",{key:se.id,class:kt(["tx-item d-flex align-items-center gap-2 p-2 mb-2 rounded border",{buy:/buy/i.test(se.kind),sell:/sell/i.test(se.kind)}])},[w("span",{class:kt(["badge me-1",/buy/i.test(se.kind)?"bg-success-subtle text-success-emphasis":"bg-danger-subtle text-danger-emphasis"])},oe(se.kind),3),w("div",N_,[w("div",j_,oe(N(se.happenedAt)),1),w("div",L_,"Qty: "+oe(se.quantity),1)]),w("div",q_,oe(H(se.unitPrice,se.currency)),1)],2))),128))])])):De("",!0)])])])])])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),cd=xn(U_,[["__scopeId","data-v-a6b42ffa"]]),K_={class:"deck-detail-view"},V_={key:0,class:"loading"},H_={key:1,class:"deck-detail"},W_={class:"deck-header"},z_={class:"deck-meta"},Q_={class:"platform"},Y_={class:"date"},G_={class:"cards-section"},J_={key:0,class:"empty-state"},X_={key:1,class:"cards-grid"},Z_={key:2,class:"error"},e0=ot({__name:"DeckDetailView",setup(e){const t=Wu(),n=Ae(null),r=Ae([]),o=Ae({}),a=Ae(!0),l=m=>new Date(m).toLocaleDateString(),u=m=>o.value[m]||{id:m,name:"Unknown Card",set:"Unknown Set",setCode:"???",number:"???",lang:"en",finish:"nonfoil",imageUrl:"https://placehold.co/200x280?text=Card+Image"},f=async()=>{try{const m=t.params.id,h=await ke.decks.get(m);if(!h)return;n.value=h;const y=await ke.deck_cards.where("deckId").equals(m).toArray();r.value=y;const v=y.map(k=>k.cardId).filter(k=>k);if(v.length>0){const k=await ke.cards.where("id").anyOf(v).toArray();o.value=Object.fromEntries(k.map(C=>[C.id,C]))}}catch(m){console.error("Error loading deck:",m)}finally{a.value=!1}};return tr(()=>{f()}),(m,h)=>{const y=jo("router-link");return U(),J("div",K_,[a.value?(U(),J("div",V_," Loading deck... ")):n.value?(U(),J("div",H_,[w("div",W_,[Ke(y,{to:"/decks",class:"back-link"},{default:rt(()=>[...h[0]||(h[0]=[zt("  Back to Decks ",-1)])]),_:1}),w("h1",null,oe(n.value.name),1),w("p",z_,[w("span",Q_,oe(n.value.platform),1),w("span",Y_,"Imported: "+oe(l(n.value.importedAt)),1)])]),w("div",G_,[h[2]||(h[2]=w("h2",null,"Cards in Deck",-1)),r.value.length===0?(U(),J("div",J_,[...h[1]||(h[1]=[w("p",null,"No cards found in this deck.",-1)])])):(U(),J("div",X_,[(U(!0),J(nt,null,Kt(r.value,v=>(U(),St(cd,{key:v.id,card:u(v.cardId)},null,8,["card"]))),128))]))])])):(U(),J("div",Z_,[h[4]||(h[4]=w("p",null,"Deck not found.",-1)),Ke(y,{to:"/decks",class:"back-link"},{default:rt(()=>[...h[3]||(h[3]=[zt("  Back to Decks ",-1)])]),_:1})]))])}}}),t0=xn(e0,[["__scopeId","data-v-aee401d9"]]),n0={class:"cards-view"},r0={class:"header"},s0={class:"controls"},o0={class:"search-box"},i0={class:"sort-controls"},a0={key:0,class:"loading"},c0={key:1,class:"empty-state"},l0={key:0},u0={key:1},d0={key:2,class:"row g-4"},f0=ot({__name:"CardsView",setup(e){const t=Da(),n=Ae(""),r=Ae("name"),o=Ae("asc"),a=st(()=>{const u=t.getAllCards;if(!n.value)return u;const f=n.value.toLowerCase();return u.filter(m=>m.name.toLowerCase().includes(f)||m.set.toLowerCase().includes(f)||m.number.includes(f))}),l=st(()=>{const u=[...a.value];return u.sort((f,m)=>{let h=0;switch(r.value){case"name":h=f.name.localeCompare(m.name);break;case"set":h=f.set.localeCompare(m.set);break;case"price":{const y=t.getCardPrice(f.id)?.getCents()??0,v=t.getCardPrice(m.id)?.getCents()??0;h=y-v}break;case"owned":h=0;break;default:h=f.name.localeCompare(m.name)}return o.value==="asc"?h:-h}),u});return tr(()=>{t.loadCardsAndPrices()}),(u,f)=>(U(),J("div",n0,[w("div",r0,[w("div",s0,[w("div",o0,[_s(w("input",{"onUpdate:modelValue":f[0]||(f[0]=m=>n.value=m),type:"text",placeholder:"Search cards...",class:"form-control"},null,512),[[Zi,n.value]])]),w("div",i0,[_s(w("select",{"onUpdate:modelValue":f[1]||(f[1]=m=>r.value=m),class:"form-select"},[...f[3]||(f[3]=[w("option",{value:"name"},"Name",-1),w("option",{value:"set"},"Set",-1),w("option",{value:"price"},"Price",-1),w("option",{value:"owned"},"Owned Quantity",-1)])],512),[[Gp,r.value]]),w("button",{onClick:f[2]||(f[2]=m=>o.value=o.value==="asc"?"desc":"asc"),class:"btn btn-outline-primary"},oe(o.value==="asc"?"":""),1)])])]),we(t).loading||we(t).loadingPrices?(U(),J("div",a0," Loading cards and prices... ")):l.value.length===0?(U(),J("div",c0,[n.value?(U(),J("p",l0,"No cards match your search.")):(U(),J("p",u0,"You don't have any cards in your collection yet."))])):(U(),J("div",d0,[(U(!0),J(nt,null,Kt(l.value,m=>(U(),J("div",{key:m.id,class:"col-xl-2 col-lg-3 col-md-4 col-sm-6"},[Ke(cd,{card:m},null,8,["card"])]))),128))]))]))}}),p0=xn(f0,[["__scopeId","data-v-c166bf67"]]),h0=[{path:"/",name:"home",component:pg},{path:"/import/csv",name:"csv-import",component:xg},{path:"/import/cardmarket",name:"cardmarket-import",component:fv},{path:"/import/deck",name:"deck-import",component:xv},{path:"/decks",name:"decks",component:Fv},{path:"/decks/:id",name:"deck-detail",component:t0,props:!0},{path:"/cards",name:"cards",component:p0}],m0=sm({history:$h("/mtg-pwa/"),routes:h0}),g0="modulepreload",y0=function(e){return"/mtg-pwa/"+e},xl={},v0=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let m=function(h){return Promise.all(h.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var l=m;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");o=m(n.map(h=>{if(h=y0(h),h in xl)return;xl[h]=!0;const y=h.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const k=document.createElement("link");if(k.rel=y?"stylesheet":g0,y||(k.as="script"),k.crossOrigin="",k.href=h,f&&k.setAttribute("nonce",f),document.head.appendChild(k),y)return new Promise((C,N)=>{k.addEventListener("load",C),k.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return o.then(u=>{for(const f of u||[])f.status==="rejected"&&a(f.reason);return t().catch(a)})};function b0(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:o,onRegisteredSW:a,onRegisterError:l}=e;let u,f;const m=async(y=!0)=>{await f};async function h(){if("serviceWorker"in navigator){if(u=await v0(async()=>{const{Workbox:y}=await import("./workbox-window.prod.es5-CwtvwXb3.js");return{Workbox:y}},[]).then(({Workbox:y})=>new y("/mtg-pwa/sw.js",{scope:"/mtg-pwa/",type:"classic"})).catch(y=>{l?.(y)}),!u)return;u.addEventListener("activated",y=>{(y.isUpdate||y.isExternal)&&window.location.reload()}),u.addEventListener("installed",y=>{y.isUpdate||r?.()}),u.register({immediate:t}).then(y=>{a?a("/mtg-pwa/sw.js",y):o?.(y)}).catch(y=>{l?.(y)})}}return f=h(),m}b0({immediate:!0,onRegistered(e){console.log("SW registered",e)},onRegisterError(e){console.error("SW registration error",e)}});const ld=Zp(Am),_0=Em();ld.use(_0);async function w0(){try{await os.schedulePriceUpdate()}catch(e){console.error("Error initializing automatic price updates:",e)}ld.use(m0).mount("#app")}w0();
