(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function sa(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ot={},Dr=[],vn=()=>{},gl=()=>!1,ko=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),oa=e=>e.startsWith("onUpdate:"),Ft=Object.assign,ia=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Sd=Object.prototype.hasOwnProperty,Xe=(e,t)=>Sd.call(e,t),De=Array.isArray,Tr=e=>Cs(e)==="[object Map]",Eo=e=>Cs(e)==="[object Set]",uc=e=>Cs(e)==="[object Date]",Be=e=>typeof e=="function",ht=e=>typeof e=="string",on=e=>typeof e=="symbol",at=e=>e!==null&&typeof e=="object",vl=e=>(at(e)||Be(e))&&Be(e.then)&&Be(e.catch),bl=Object.prototype.toString,Cs=e=>bl.call(e),Pd=e=>Cs(e).slice(8,-1),_l=e=>Cs(e)==="[object Object]",aa=e=>ht(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,rs=sa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ao=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},Od=/-(\w)/g,Jt=Ao(e=>e.replace(Od,(t,n)=>n?n.toUpperCase():"")),Id=/\B([A-Z])/g,hr=Ao(e=>e.replace(Id,"-$1").toLowerCase()),So=Ao(e=>e.charAt(0).toUpperCase()+e.slice(1)),oo=Ao(e=>e?`on${So(e)}`:""),Yn=(e,t)=>!Object.is(e,t),io=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},wl=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},fo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let dc;const Po=()=>dc||(dc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ur(e){if(De(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=ht(r)?$d(r):Ur(r);if(i)for(const a in i)t[a]=i[a]}return t}else if(ht(e)||at(e))return e}const Rd=/;(?![^(]*\))/g,Dd=/:([^]+)/,Td=/\/\*[^]*?\*\//g;function $d(e){const t={};return e.replace(Td,"").split(Rd).forEach(n=>{if(n){const r=n.split(Dd);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Mt(e){let t="";if(ht(e))t=e;else if(De(e))for(let n=0;n<e.length;n++){const r=Mt(e[n]);r&&(t+=r+" ")}else if(at(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Md(e){if(!e)return null;let{class:t,style:n}=e;return t&&!ht(t)&&(e.class=Mt(t)),n&&(e.style=Ur(n)),e}const Bd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Fd=sa(Bd);function Cl(e){return!!e||e===""}function Nd(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Oo(e[r],t[r]);return n}function Oo(e,t){if(e===t)return!0;let n=uc(e),r=uc(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=on(e),r=on(t),n||r)return e===t;if(n=De(e),r=De(t),n||r)return n&&r?Nd(e,t):!1;if(n=at(e),r=at(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(const l in e){const d=e.hasOwnProperty(l),f=t.hasOwnProperty(l);if(d&&!f||!d&&f||!Oo(e[l],t[l]))return!1}}return String(e)===String(t)}function jd(e,t){return e.findIndex(n=>Oo(n,t))}const xl=e=>!!(e&&e.__v_isRef===!0),fe=e=>ht(e)?e:e==null?"":De(e)||at(e)&&(e.toString===bl||!Be(e.toString))?xl(e)?fe(e.value):JSON.stringify(e,kl,2):String(e),kl=(e,t)=>xl(t)?kl(e,t.value):Tr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],a)=>(n[_i(r,a)+" =>"]=i,n),{})}:Eo(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>_i(n))}:on(t)?_i(t):at(t)&&!De(t)&&!_l(t)?String(t):t,_i=(e,t="")=>{var n;return on(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Dt;class El{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Dt,!t&&Dt&&(this.index=(Dt.scopes||(Dt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Dt;try{return Dt=this,t()}finally{Dt=n}}}on(){++this._on===1&&(this.prevScope=Dt,Dt=this)}off(){this._on>0&&--this._on===0&&(Dt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Io(e){return new El(e)}function ca(){return Dt}function Al(e,t=!1){Dt&&Dt.cleanups.push(e)}let it;const wi=new WeakSet;class Sl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Dt&&Dt.active&&Dt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,wi.has(this)&&(wi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ol(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,fc(this),Il(this);const t=it,n=sn;it=this,sn=!0;try{return this.fn()}finally{Rl(this),it=t,sn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)da(t);this.deps=this.depsTail=void 0,fc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?wi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ji(this)&&this.run()}get dirty(){return ji(this)}}let Pl=0,ss,os;function Ol(e,t=!1){if(e.flags|=8,t){e.next=os,os=e;return}e.next=ss,ss=e}function la(){Pl++}function ua(){if(--Pl>0)return;if(os){let t=os;for(os=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;ss;){let t=ss;for(ss=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Il(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Rl(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),da(r),Ld(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function ji(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Dl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Dl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===hs)||(e.globalVersion=hs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ji(e))))return;e.flags|=2;const t=e.dep,n=it,r=sn;it=e,sn=!0;try{Il(e);const i=e.fn(e._value);(t.version===0||Yn(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{it=n,sn=r,Rl(e),e.flags&=-3}}function da(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)da(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ld(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let sn=!0;const Tl=[];function Dn(){Tl.push(sn),sn=!1}function Tn(){const e=Tl.pop();sn=e===void 0?!0:e}function fc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=it;it=void 0;try{t()}finally{it=n}}}let hs=0;class qd{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class fa{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!it||!sn||it===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==it)n=this.activeLink=new qd(it,this),it.deps?(n.prevDep=it.depsTail,it.depsTail.nextDep=n,it.depsTail=n):it.deps=it.depsTail=n,$l(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=it.depsTail,n.nextDep=void 0,it.depsTail.nextDep=n,it.depsTail=n,it.deps===n&&(it.deps=r)}return n}trigger(t){this.version++,hs++,this.notify(t)}notify(t){la();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ua()}}}function $l(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)$l(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const po=new WeakMap,dr=Symbol(""),Li=Symbol(""),ms=Symbol("");function $t(e,t,n){if(sn&&it){let r=po.get(e);r||po.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new fa),i.map=r,i.key=n),i.track()}}function In(e,t,n,r,i,a){const l=po.get(e);if(!l){hs++;return}const d=f=>{f&&f.trigger()};if(la(),t==="clear")l.forEach(d);else{const f=De(e),m=f&&aa(n);if(f&&n==="length"){const h=Number(r);l.forEach((y,v)=>{(v==="length"||v===ms||!on(v)&&v>=h)&&d(y)})}else switch((n!==void 0||l.has(void 0))&&d(l.get(n)),m&&d(l.get(ms)),t){case"add":f?m&&d(l.get("length")):(d(l.get(dr)),Tr(e)&&d(l.get(Li)));break;case"delete":f||(d(l.get(dr)),Tr(e)&&d(l.get(Li)));break;case"set":Tr(e)&&d(l.get(dr));break}}ua()}function Kd(e,t){const n=po.get(e);return n&&n.get(t)}function Sr(e){const t=Ye(e);return t===e?t:($t(t,"iterate",ms),Zt(e)?t:t.map(St))}function Ro(e){return $t(e=Ye(e),"iterate",ms),e}const Ud={__proto__:null,[Symbol.iterator](){return Ci(this,Symbol.iterator,St)},concat(...e){return Sr(this).concat(...e.map(t=>De(t)?Sr(t):t))},entries(){return Ci(this,"entries",e=>(e[1]=St(e[1]),e))},every(e,t){return An(this,"every",e,t,void 0,arguments)},filter(e,t){return An(this,"filter",e,t,n=>n.map(St),arguments)},find(e,t){return An(this,"find",e,t,St,arguments)},findIndex(e,t){return An(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return An(this,"findLast",e,t,St,arguments)},findLastIndex(e,t){return An(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return An(this,"forEach",e,t,void 0,arguments)},includes(...e){return xi(this,"includes",e)},indexOf(...e){return xi(this,"indexOf",e)},join(e){return Sr(this).join(e)},lastIndexOf(...e){return xi(this,"lastIndexOf",e)},map(e,t){return An(this,"map",e,t,void 0,arguments)},pop(){return Zr(this,"pop")},push(...e){return Zr(this,"push",e)},reduce(e,...t){return pc(this,"reduce",e,t)},reduceRight(e,...t){return pc(this,"reduceRight",e,t)},shift(){return Zr(this,"shift")},some(e,t){return An(this,"some",e,t,void 0,arguments)},splice(...e){return Zr(this,"splice",e)},toReversed(){return Sr(this).toReversed()},toSorted(e){return Sr(this).toSorted(e)},toSpliced(...e){return Sr(this).toSpliced(...e)},unshift(...e){return Zr(this,"unshift",e)},values(){return Ci(this,"values",St)}};function Ci(e,t,n){const r=Ro(e),i=r[t]();return r!==e&&!Zt(e)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.value&&(a.value=n(a.value)),a}),i}const Vd=Array.prototype;function An(e,t,n,r,i,a){const l=Ro(e),d=l!==e&&!Zt(e),f=l[t];if(f!==Vd[t]){const y=f.apply(e,a);return d?St(y):y}let m=n;l!==e&&(d?m=function(y,v){return n.call(this,St(y),v,e)}:n.length>2&&(m=function(y,v){return n.call(this,y,v,e)}));const h=f.call(l,m,r);return d&&i?i(h):h}function pc(e,t,n,r){const i=Ro(e);let a=n;return i!==e&&(Zt(e)?n.length>3&&(a=function(l,d,f){return n.call(this,l,d,f,e)}):a=function(l,d,f){return n.call(this,l,St(d),f,e)}),i[t](a,...r)}function xi(e,t,n){const r=Ye(e);$t(r,"iterate",ms);const i=r[t](...n);return(i===-1||i===!1)&&ma(n[0])?(n[0]=Ye(n[0]),r[t](...n)):i}function Zr(e,t,n=[]){Dn(),la();const r=Ye(e)[t].apply(e,n);return ua(),Tn(),r}const Hd=sa("__proto__,__v_isRef,__isVue"),Ml=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(on));function Wd(e){on(e)||(e=String(e));const t=Ye(this);return $t(t,"has",e),t.hasOwnProperty(e)}class Bl{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return a;if(n==="__v_raw")return r===(i?a?nf:Ll:a?jl:Nl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const l=De(t);if(!i){let f;if(l&&(f=Ud[n]))return f;if(n==="hasOwnProperty")return Wd}const d=Reflect.get(t,n,gt(t)?t:r);return(on(n)?Ml.has(n):Hd(n))||(i||$t(t,"get",n),a)?d:gt(d)?l&&aa(n)?d:d.value:at(d)?i?Kl(d):mr(d):d}}class Fl extends Bl{constructor(t=!1){super(!1,t)}set(t,n,r,i){let a=t[n];if(!this._isShallow){const f=Xn(a);if(!Zt(r)&&!Xn(r)&&(a=Ye(a),r=Ye(r)),!De(t)&&gt(a)&&!gt(r))return f||(a.value=r),!0}const l=De(t)&&aa(n)?Number(n)<t.length:Xe(t,n),d=Reflect.set(t,n,r,gt(t)?t:i);return t===Ye(i)&&(l?Yn(r,a)&&In(t,"set",n,r):In(t,"add",n,r)),d}deleteProperty(t,n){const r=Xe(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&In(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!on(n)||!Ml.has(n))&&$t(t,"has",n),r}ownKeys(t){return $t(t,"iterate",De(t)?"length":dr),Reflect.ownKeys(t)}}class zd extends Bl{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Qd=new Fl,Yd=new zd,Gd=new Fl(!0);const qi=e=>e,Gs=e=>Reflect.getPrototypeOf(e);function Jd(e,t,n){return function(...r){const i=this.__v_raw,a=Ye(i),l=Tr(a),d=e==="entries"||e===Symbol.iterator&&l,f=e==="keys"&&l,m=i[e](...r),h=n?qi:t?ho:St;return!t&&$t(a,"iterate",f?Li:dr),{next(){const{value:y,done:v}=m.next();return v?{value:y,done:v}:{value:d?[h(y[0]),h(y[1])]:h(y),done:v}},[Symbol.iterator](){return this}}}}function Js(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Xd(e,t){const n={get(i){const a=this.__v_raw,l=Ye(a),d=Ye(i);e||(Yn(i,d)&&$t(l,"get",i),$t(l,"get",d));const{has:f}=Gs(l),m=t?qi:e?ho:St;if(f.call(l,i))return m(a.get(i));if(f.call(l,d))return m(a.get(d));a!==l&&a.get(i)},get size(){const i=this.__v_raw;return!e&&$t(Ye(i),"iterate",dr),i.size},has(i){const a=this.__v_raw,l=Ye(a),d=Ye(i);return e||(Yn(i,d)&&$t(l,"has",i),$t(l,"has",d)),i===d?a.has(i):a.has(i)||a.has(d)},forEach(i,a){const l=this,d=l.__v_raw,f=Ye(d),m=t?qi:e?ho:St;return!e&&$t(f,"iterate",dr),d.forEach((h,y)=>i.call(a,m(h),m(y),l))}};return Ft(n,e?{add:Js("add"),set:Js("set"),delete:Js("delete"),clear:Js("clear")}:{add(i){!t&&!Zt(i)&&!Xn(i)&&(i=Ye(i));const a=Ye(this);return Gs(a).has.call(a,i)||(a.add(i),In(a,"add",i,i)),this},set(i,a){!t&&!Zt(a)&&!Xn(a)&&(a=Ye(a));const l=Ye(this),{has:d,get:f}=Gs(l);let m=d.call(l,i);m||(i=Ye(i),m=d.call(l,i));const h=f.call(l,i);return l.set(i,a),m?Yn(a,h)&&In(l,"set",i,a):In(l,"add",i,a),this},delete(i){const a=Ye(this),{has:l,get:d}=Gs(a);let f=l.call(a,i);f||(i=Ye(i),f=l.call(a,i)),d&&d.call(a,i);const m=a.delete(i);return f&&In(a,"delete",i,void 0),m},clear(){const i=Ye(this),a=i.size!==0,l=i.clear();return a&&In(i,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Jd(i,e,t)}),n}function pa(e,t){const n=Xd(e,t);return(r,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Xe(n,i)&&i in r?n:r,i,a)}const Zd={get:pa(!1,!1)},ef={get:pa(!1,!0)},tf={get:pa(!0,!1)};const Nl=new WeakMap,jl=new WeakMap,Ll=new WeakMap,nf=new WeakMap;function rf(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sf(e){return e.__v_skip||!Object.isExtensible(e)?0:rf(Pd(e))}function mr(e){return Xn(e)?e:ha(e,!1,Qd,Zd,Nl)}function ql(e){return ha(e,!1,Gd,ef,jl)}function Kl(e){return ha(e,!0,Yd,tf,Ll)}function ha(e,t,n,r,i){if(!at(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=sf(e);if(a===0)return e;const l=i.get(e);if(l)return l;const d=new Proxy(e,a===2?r:n);return i.set(e,d),d}function Gn(e){return Xn(e)?Gn(e.__v_raw):!!(e&&e.__v_isReactive)}function Xn(e){return!!(e&&e.__v_isReadonly)}function Zt(e){return!!(e&&e.__v_isShallow)}function ma(e){return e?!!e.__v_raw:!1}function Ye(e){const t=e&&e.__v_raw;return t?Ye(t):e}function ya(e){return!Xe(e,"__v_skip")&&Object.isExtensible(e)&&wl(e,"__v_skip",!0),e}const St=e=>at(e)?mr(e):e,ho=e=>at(e)?Kl(e):e;function gt(e){return e?e.__v_isRef===!0:!1}function Pe(e){return Vl(e,!1)}function Ul(e){return Vl(e,!0)}function Vl(e,t){return gt(e)?e:new of(e,t)}class of{constructor(t,n){this.dep=new fa,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ye(t),this._value=n?t:St(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Zt(t)||Xn(t);t=r?t:Ye(t),Yn(t,n)&&(this._rawValue=t,this._value=r?t:St(t),this.dep.trigger())}}function Ce(e){return gt(e)?e.value:e}function bn(e){return Be(e)?e():Ce(e)}const af={get:(e,t,n)=>t==="__v_raw"?e:Ce(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return gt(i)&&!gt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Hl(e){return Gn(e)?e:new Proxy(e,af)}function ga(e){const t=De(e)?new Array(e.length):{};for(const n in e)t[n]=lf(e,n);return t}class cf{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Kd(Ye(this._object),this._key)}}function lf(e,t,n){const r=e[t];return gt(r)?r:new cf(e,t,n)}class uf{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new fa(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=hs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&it!==this)return Ol(this,!0),!0}get value(){const t=this.dep.track();return Dl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function df(e,t,n=!1){let r,i;return Be(e)?r=e:(r=e.get,i=e.set),new uf(r,i,n)}const Xs={},mo=new WeakMap;let lr;function ff(e,t=!1,n=lr){if(n){let r=mo.get(n);r||mo.set(n,r=[]),r.push(e)}}function pf(e,t,n=ot){const{immediate:r,deep:i,once:a,scheduler:l,augmentJob:d,call:f}=n,m=X=>i?X:Zt(X)||i===!1||i===0?Rn(X,1):Rn(X);let h,y,v,C,O=!1,N=!1;if(gt(e)?(y=()=>e.value,O=Zt(e)):Gn(e)?(y=()=>m(e),O=!0):De(e)?(N=!0,O=e.some(X=>Gn(X)||Zt(X)),y=()=>e.map(X=>{if(gt(X))return X.value;if(Gn(X))return m(X);if(Be(X))return f?f(X,2):X()})):Be(e)?t?y=f?()=>f(e,2):e:y=()=>{if(v){Dn();try{v()}finally{Tn()}}const X=lr;lr=h;try{return f?f(e,3,[C]):e(C)}finally{lr=X}}:y=vn,t&&i){const X=y,we=i===!0?1/0:i;y=()=>Rn(X(),we)}const J=ca(),L=()=>{h.stop(),J&&J.active&&ia(J.effects,h)};if(a&&t){const X=t;t=(...we)=>{X(...we),L()}}let j=N?new Array(e.length).fill(Xs):Xs;const K=X=>{if(!(!(h.flags&1)||!h.dirty&&!X))if(t){const we=h.run();if(i||O||(N?we.some((ve,xe)=>Yn(ve,j[xe])):Yn(we,j))){v&&v();const ve=lr;lr=h;try{const xe=[we,j===Xs?void 0:N&&j[0]===Xs?[]:j,C];j=we,f?f(t,3,xe):t(...xe)}finally{lr=ve}}}else h.run()};return d&&d(K),h=new Sl(y),h.scheduler=l?()=>l(K,!1):K,C=X=>ff(X,!1,h),v=h.onStop=()=>{const X=mo.get(h);if(X){if(f)f(X,4);else for(const we of X)we();mo.delete(h)}},t?r?K(!0):j=h.run():l?l(K.bind(null,!0),!0):h.run(),L.pause=h.pause.bind(h),L.resume=h.resume.bind(h),L.stop=L,L}function Rn(e,t=1/0,n){if(t<=0||!at(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,gt(e))Rn(e.value,t,n);else if(De(e))for(let r=0;r<e.length;r++)Rn(e[r],t,n);else if(Eo(e)||Tr(e))e.forEach(r=>{Rn(r,t,n)});else if(_l(e)){for(const r in e)Rn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Rn(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xs(e,t,n,r){try{return r?e(...r):e()}catch(i){Do(i,t,n)}}function _n(e,t,n,r){if(Be(e)){const i=xs(e,t,n,r);return i&&vl(i)&&i.catch(a=>{Do(a,t,n)}),i}if(De(e)){const i=[];for(let a=0;a<e.length;a++)i.push(_n(e[a],t,n,r));return i}}function Do(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||ot;if(t){let d=t.parent;const f=t.proxy,m=`https://vuejs.org/error-reference/#runtime-${n}`;for(;d;){const h=d.ec;if(h){for(let y=0;y<h.length;y++)if(h[y](e,f,m)===!1)return}d=d.parent}if(a){Dn(),xs(a,null,10,[e,f,m]),Tn();return}}hf(e,n,i,r,l)}function hf(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const Kt=[];let hn=-1;const $r=[];let Wn=null,Ir=0;const Wl=Promise.resolve();let yo=null;function an(e){const t=yo||Wl;return e?t.then(this?e.bind(this):e):t}function mf(e){let t=hn+1,n=Kt.length;for(;t<n;){const r=t+n>>>1,i=Kt[r],a=ys(i);a<e||a===e&&i.flags&2?t=r+1:n=r}return t}function va(e){if(!(e.flags&1)){const t=ys(e),n=Kt[Kt.length-1];!n||!(e.flags&2)&&t>=ys(n)?Kt.push(e):Kt.splice(mf(t),0,e),e.flags|=1,zl()}}function zl(){yo||(yo=Wl.then(Yl))}function yf(e){De(e)?$r.push(...e):Wn&&e.id===-1?Wn.splice(Ir+1,0,e):e.flags&1||($r.push(e),e.flags|=1),zl()}function hc(e,t,n=hn+1){for(;n<Kt.length;n++){const r=Kt[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Kt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Ql(e){if($r.length){const t=[...new Set($r)].sort((n,r)=>ys(n)-ys(r));if($r.length=0,Wn){Wn.push(...t);return}for(Wn=t,Ir=0;Ir<Wn.length;Ir++){const n=Wn[Ir];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Wn=null,Ir=0}}const ys=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Yl(e){try{for(hn=0;hn<Kt.length;hn++){const t=Kt[hn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),xs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;hn<Kt.length;hn++){const t=Kt[hn];t&&(t.flags&=-2)}hn=-1,Kt.length=0,Ql(),yo=null,(Kt.length||$r.length)&&Yl()}}let Pt=null,Gl=null;function go(e){const t=Pt;return Pt=e,Gl=e&&e.type.__scopeId||null,t}function et(e,t=Pt,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&Sc(-1);const a=go(t);let l;try{l=e(...i)}finally{go(a),r._d&&Sc(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function vo(e,t){if(Pt===null)return e;const n=No(Pt),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,l,d,f=ot]=t[i];a&&(Be(a)&&(a={mounted:a,updated:a}),a.deep&&Rn(l),r.push({dir:a,instance:n,value:l,oldValue:void 0,arg:d,modifiers:f}))}return e}function ar(e,t,n,r){const i=e.dirs,a=t&&t.dirs;for(let l=0;l<i.length;l++){const d=i[l];a&&(d.oldValue=a[l].value);let f=d.dir[r];f&&(Dn(),_n(f,n,8,[e.el,d,e,t]),Tn())}}const Jl=Symbol("_vte"),gf=e=>e.__isTeleport,is=e=>e&&(e.disabled||e.disabled===""),mc=e=>e&&(e.defer||e.defer===""),yc=e=>typeof SVGElement<"u"&&e instanceof SVGElement,gc=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Ki=(e,t)=>{const n=e&&e.to;return ht(n)?t?t(n):null:n},Xl={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,a,l,d,f,m){const{mc:h,pc:y,pbc:v,o:{insert:C,querySelector:O,createText:N,createComment:J}}=m,L=is(t.props);let{shapeFlag:j,children:K,dynamicChildren:X}=t;if(e==null){const we=t.el=N(""),ve=t.anchor=N("");C(we,n,r),C(ve,n,r);const xe=(Ae,je)=>{j&16&&(i&&i.isCE&&(i.ce._teleportTarget=Ae),h(K,Ae,je,i,a,l,d,f))},Se=()=>{const Ae=t.target=Ki(t.props,O),je=Zl(Ae,t,N,C);Ae&&(l!=="svg"&&yc(Ae)?l="svg":l!=="mathml"&&gc(Ae)&&(l="mathml"),L||(xe(Ae,je),ao(t,!1)))};L&&(xe(n,ve),ao(t,!0)),mc(t.props)?(t.el.__isMounted=!1,qt(()=>{Se(),delete t.el.__isMounted},a)):Se()}else{if(mc(t.props)&&e.el.__isMounted===!1){qt(()=>{Xl.process(e,t,n,r,i,a,l,d,f,m)},a);return}t.el=e.el,t.targetStart=e.targetStart;const we=t.anchor=e.anchor,ve=t.target=e.target,xe=t.targetAnchor=e.targetAnchor,Se=is(e.props),Ae=Se?n:ve,je=Se?we:xe;if(l==="svg"||yc(ve)?l="svg":(l==="mathml"||gc(ve))&&(l="mathml"),X?(v(e.dynamicChildren,X,Ae,i,a,l,d),Ca(e,t,!0)):f||y(e,t,Ae,je,i,a,l,d,!1),L)Se?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Zs(t,n,we,m,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const Ge=t.target=Ki(t.props,O);Ge&&Zs(t,Ge,null,m,0)}else Se&&Zs(t,ve,xe,m,1);ao(t,L)}},remove(e,t,n,{um:r,o:{remove:i}},a){const{shapeFlag:l,children:d,anchor:f,targetStart:m,targetAnchor:h,target:y,props:v}=e;if(y&&(i(m),i(h)),a&&i(f),l&16){const C=a||!is(v);for(let O=0;O<d.length;O++){const N=d[O];r(N,t,n,C,!!N.dynamicChildren)}}},move:Zs,hydrate:vf};function Zs(e,t,n,{o:{insert:r},m:i},a=2){a===0&&r(e.targetAnchor,t,n);const{el:l,anchor:d,shapeFlag:f,children:m,props:h}=e,y=a===2;if(y&&r(l,t,n),(!y||is(h))&&f&16)for(let v=0;v<m.length;v++)i(m[v],t,n,2);y&&r(d,t,n)}function vf(e,t,n,r,i,a,{o:{nextSibling:l,parentNode:d,querySelector:f,insert:m,createText:h}},y){const v=t.target=Ki(t.props,f);if(v){const C=is(t.props),O=v._lpa||v.firstChild;if(t.shapeFlag&16)if(C)t.anchor=y(l(e),t,d(e),n,r,i,a),t.targetStart=O,t.targetAnchor=O&&l(O);else{t.anchor=l(e);let N=O;for(;N;){if(N&&N.nodeType===8){if(N.data==="teleport start anchor")t.targetStart=N;else if(N.data==="teleport anchor"){t.targetAnchor=N,v._lpa=t.targetAnchor&&l(t.targetAnchor);break}}N=l(N)}t.targetAnchor||Zl(v,t,h,m),y(O&&l(O),t,v,n,r,i,a)}ao(t,C)}return t.anchor&&l(t.anchor)}const bf=Xl;function ao(e,t){const n=e.ctx;if(n&&n.ut){let r,i;for(t?(r=e.el,i=e.anchor):(r=e.targetStart,i=e.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function Zl(e,t,n,r){const i=t.targetStart=n(""),a=t.targetAnchor=n("");return i[Jl]=a,e&&(r(i,e),r(a,e)),a}const _f=Symbol("_leaveCb");function ba(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ba(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function rt(e,t){return Be(e)?Ft({name:e.name},t,{setup:e}):e}function wf(){const e=Mn();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function eu(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function as(e,t,n,r,i=!1){if(De(e)){e.forEach((O,N)=>as(O,t&&(De(t)?t[N]:t),n,r,i));return}if(Mr(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&as(e,t,n,r.component.subTree);return}const a=r.shapeFlag&4?No(r.component):r.el,l=i?null:a,{i:d,r:f}=e,m=t&&t.r,h=d.refs===ot?d.refs={}:d.refs,y=d.setupState,v=Ye(y),C=y===ot?gl:O=>Xe(v,O);if(m!=null&&m!==f){if(ht(m))h[m]=null,C(m)&&(y[m]=null);else if(gt(m)){m.value=null;const O=t;O.k&&(h[O.k]=null)}}if(Be(f))xs(f,d,12,[l,h]);else{const O=ht(f),N=gt(f);if(O||N){const J=()=>{if(e.f){const L=O?C(f)?y[f]:h[f]:f.value;if(i)De(L)&&ia(L,a);else if(De(L))L.includes(a)||L.push(a);else if(O)h[f]=[a],C(f)&&(y[f]=h[f]);else{const j=[a];f.value=j,e.k&&(h[e.k]=j)}}else O?(h[f]=l,C(f)&&(y[f]=l)):N&&(f.value=l,e.k&&(h[e.k]=l))};l?(J.id=-1,qt(J,n)):J()}}}Po().requestIdleCallback;Po().cancelIdleCallback;const Mr=e=>!!e.type.__asyncLoader,tu=e=>e.type.__isKeepAlive;function Cf(e,t){nu(e,"a",t)}function xf(e,t){nu(e,"da",t)}function nu(e,t,n=Bt){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(To(t,r,n),n){let i=n.parent;for(;i&&i.parent;)tu(i.parent.vnode)&&kf(r,t,n,i),i=i.parent}}function kf(e,t,n,r){const i=To(t,e,r,!0);$o(()=>{ia(r[t],i)},n)}function To(e,t,n=Bt,r=!1){if(n){const i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...l)=>{Dn();const d=ks(n),f=_n(t,n,e,l);return d(),Tn(),f});return r?i.unshift(a):i.push(a),a}}const $n=e=>(t,n=Bt)=>{(!bs||e==="sp")&&To(e,(...r)=>t(...r),n)},Ef=$n("bm"),yr=$n("m"),Af=$n("bu"),Sf=$n("u"),ru=$n("bum"),$o=$n("um"),Pf=$n("sp"),Of=$n("rtg"),If=$n("rtc");function Rf(e,t=Bt){To("ec",e,t)}const Df="components";function Mo(e,t){return $f(Df,e,!0,t)||e}const Tf=Symbol.for("v-ndc");function $f(e,t,n=!0,r=!1){const i=Pt||Bt;if(i){const a=i.type;{const d=bp(a,!1);if(d&&(d===t||d===Jt(t)||d===So(Jt(t))))return a}const l=vc(i[e]||a[e],t)||vc(i.appContext[e],t);return!l&&r?a:l}}function vc(e,t){return e&&(e[t]||e[Jt(t)]||e[So(Jt(t))])}function zt(e,t,n,r){let i;const a=n,l=De(e);if(l||ht(e)){const d=l&&Gn(e);let f=!1,m=!1;d&&(f=!Zt(e),m=Xn(e),e=Ro(e)),i=new Array(e.length);for(let h=0,y=e.length;h<y;h++)i[h]=t(f?m?ho(St(e[h])):St(e[h]):e[h],h,void 0,a)}else if(typeof e=="number"){i=new Array(e);for(let d=0;d<e;d++)i[d]=t(d+1,d,void 0,a)}else if(at(e))if(e[Symbol.iterator])i=Array.from(e,(d,f)=>t(d,f,void 0,a));else{const d=Object.keys(e);i=new Array(d.length);for(let f=0,m=d.length;f<m;f++){const h=d[f];i[f]=t(e[h],h,f,a)}}else i=[];return i}function Vt(e,t,n={},r,i){if(Pt.ce||Pt.parent&&Mr(Pt.parent)&&Pt.parent.ce)return z(),Et(nt,null,[Ve("slot",n,r)],64);let a=e[t];a&&a._c&&(a._d=!1),z();const l=a&&su(a(n)),d=n.key||l&&l.key,f=Et(nt,{key:(d&&!on(d)?d:`_${t}`)+(!l&&r?"_fb":"")},l||[],l&&e._===1?64:-2);return f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),a&&a._c&&(a._d=!0),f}function su(e){return e.some(t=>vs(t)?!(t.type===wn||t.type===nt&&!su(t.children)):!0)?e:null}const Ui=e=>e?xu(e)?No(e):Ui(e.parent):null,cs=Ft(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ui(e.parent),$root:e=>Ui(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>iu(e),$forceUpdate:e=>e.f||(e.f=()=>{va(e.update)}),$nextTick:e=>e.n||(e.n=an.bind(e.proxy)),$watch:e=>np.bind(e)}),ki=(e,t)=>e!==ot&&!e.__isScriptSetup&&Xe(e,t),Mf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:a,accessCache:l,type:d,appContext:f}=e;let m;if(t[0]!=="$"){const C=l[t];if(C!==void 0)switch(C){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return a[t]}else{if(ki(r,t))return l[t]=1,r[t];if(i!==ot&&Xe(i,t))return l[t]=2,i[t];if((m=e.propsOptions[0])&&Xe(m,t))return l[t]=3,a[t];if(n!==ot&&Xe(n,t))return l[t]=4,n[t];Vi&&(l[t]=0)}}const h=cs[t];let y,v;if(h)return t==="$attrs"&&$t(e.attrs,"get",""),h(e);if((y=d.__cssModules)&&(y=y[t]))return y;if(n!==ot&&Xe(n,t))return l[t]=4,n[t];if(v=f.config.globalProperties,Xe(v,t))return v[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:a}=e;return ki(i,t)?(i[t]=n,!0):r!==ot&&Xe(r,t)?(r[t]=n,!0):Xe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:a,type:l}},d){let f,m;return!!(n[d]||e!==ot&&d[0]!=="$"&&Xe(e,d)||ki(t,d)||(f=a[0])&&Xe(f,d)||Xe(r,d)||Xe(cs,d)||Xe(i.config.globalProperties,d)||(m=l.__cssModules)&&m[d])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Xe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function bc(e){return De(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Vi=!0;function Bf(e){const t=iu(e),n=e.proxy,r=e.ctx;Vi=!1,t.beforeCreate&&_c(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:l,watch:d,provide:f,inject:m,created:h,beforeMount:y,mounted:v,beforeUpdate:C,updated:O,activated:N,deactivated:J,beforeDestroy:L,beforeUnmount:j,destroyed:K,unmounted:X,render:we,renderTracked:ve,renderTriggered:xe,errorCaptured:Se,serverPrefetch:Ae,expose:je,inheritAttrs:Ge,components:qe,directives:st,filters:ie}=t;if(m&&Ff(m,r,null),l)for(const oe in l){const ue=l[oe];Be(ue)&&(r[oe]=ue.bind(n))}if(i){const oe=i.call(n,n);at(oe)&&(e.data=mr(oe))}if(Vi=!0,a)for(const oe in a){const ue=a[oe],He=Be(ue)?ue.bind(n,n):Be(ue.get)?ue.get.bind(n,n):vn,ut=!Be(ue)&&Be(ue.set)?ue.set.bind(n):vn,vt=tt({get:He,set:ut});Object.defineProperty(r,oe,{enumerable:!0,configurable:!0,get:()=>vt.value,set:_t=>vt.value=_t})}if(d)for(const oe in d)ou(d[oe],r,n,oe);if(f){const oe=Be(f)?f.call(n):f;Reflect.ownKeys(oe).forEach(ue=>{ls(ue,oe[ue])})}h&&_c(h,e,"c");function F(oe,ue){De(ue)?ue.forEach(He=>oe(He.bind(n))):ue&&oe(ue.bind(n))}if(F(Ef,y),F(yr,v),F(Af,C),F(Sf,O),F(Cf,N),F(xf,J),F(Rf,Se),F(If,ve),F(Of,xe),F(ru,j),F($o,X),F(Pf,Ae),De(je))if(je.length){const oe=e.exposed||(e.exposed={});je.forEach(ue=>{Object.defineProperty(oe,ue,{get:()=>n[ue],set:He=>n[ue]=He,enumerable:!0})})}else e.exposed||(e.exposed={});we&&e.render===vn&&(e.render=we),Ge!=null&&(e.inheritAttrs=Ge),qe&&(e.components=qe),st&&(e.directives=st),Ae&&eu(e)}function Ff(e,t,n=vn){De(e)&&(e=Hi(e));for(const r in e){const i=e[r];let a;at(i)?"default"in i?a=Yt(i.from||r,i.default,!0):a=Yt(i.from||r):a=Yt(i),gt(a)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[r]=a}}function _c(e,t,n){_n(De(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function ou(e,t,n,r){let i=r.includes(".")?gu(n,r):()=>n[r];if(ht(e)){const a=t[e];Be(a)&&Gt(i,a)}else if(Be(e))Gt(i,e.bind(n));else if(at(e))if(De(e))e.forEach(a=>ou(a,t,n,r));else{const a=Be(e.handler)?e.handler.bind(n):t[e.handler];Be(a)&&Gt(i,a,e)}}function iu(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:l}}=e.appContext,d=a.get(t);let f;return d?f=d:!i.length&&!n&&!r?f=t:(f={},i.length&&i.forEach(m=>bo(f,m,l,!0)),bo(f,t,l)),at(t)&&a.set(t,f),f}function bo(e,t,n,r=!1){const{mixins:i,extends:a}=t;a&&bo(e,a,n,!0),i&&i.forEach(l=>bo(e,l,n,!0));for(const l in t)if(!(r&&l==="expose")){const d=Nf[l]||n&&n[l];e[l]=d?d(e[l],t[l]):t[l]}return e}const Nf={data:wc,props:Cc,emits:Cc,methods:ns,computed:ns,beforeCreate:Lt,created:Lt,beforeMount:Lt,mounted:Lt,beforeUpdate:Lt,updated:Lt,beforeDestroy:Lt,beforeUnmount:Lt,destroyed:Lt,unmounted:Lt,activated:Lt,deactivated:Lt,errorCaptured:Lt,serverPrefetch:Lt,components:ns,directives:ns,watch:Lf,provide:wc,inject:jf};function wc(e,t){return t?e?function(){return Ft(Be(e)?e.call(this,this):e,Be(t)?t.call(this,this):t)}:t:e}function jf(e,t){return ns(Hi(e),Hi(t))}function Hi(e){if(De(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Lt(e,t){return e?[...new Set([].concat(e,t))]:t}function ns(e,t){return e?Ft(Object.create(null),e,t):t}function Cc(e,t){return e?De(e)&&De(t)?[...new Set([...e,...t])]:Ft(Object.create(null),bc(e),bc(t??{})):t}function Lf(e,t){if(!e)return t;if(!t)return e;const n=Ft(Object.create(null),e);for(const r in t)n[r]=Lt(e[r],t[r]);return n}function au(){return{app:null,config:{isNativeTag:gl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qf=0;function Kf(e,t){return function(r,i=null){Be(r)||(r=Ft({},r)),i!=null&&!at(i)&&(i=null);const a=au(),l=new WeakSet,d=[];let f=!1;const m=a.app={_uid:qf++,_component:r,_props:i,_container:null,_context:a,_instance:null,version:wp,get config(){return a.config},set config(h){},use(h,...y){return l.has(h)||(h&&Be(h.install)?(l.add(h),h.install(m,...y)):Be(h)&&(l.add(h),h(m,...y))),m},mixin(h){return a.mixins.includes(h)||a.mixins.push(h),m},component(h,y){return y?(a.components[h]=y,m):a.components[h]},directive(h,y){return y?(a.directives[h]=y,m):a.directives[h]},mount(h,y,v){if(!f){const C=m._ceVNode||Ve(r,i);return C.appContext=a,v===!0?v="svg":v===!1&&(v=void 0),e(C,h,v),f=!0,m._container=h,h.__vue_app__=m,No(C.component)}},onUnmount(h){d.push(h)},unmount(){f&&(_n(d,m._instance,16),e(null,m._container),delete m._container.__vue_app__)},provide(h,y){return a.provides[h]=y,m},runWithContext(h){const y=fr;fr=m;try{return h()}finally{fr=y}}};return m}}let fr=null;function ls(e,t){if(Bt){let n=Bt.provides;const r=Bt.parent&&Bt.parent.provides;r===n&&(n=Bt.provides=Object.create(r)),n[e]=t}}function Yt(e,t,n=!1){const r=Mn();if(r||fr){let i=fr?fr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Be(t)?t.call(r&&r.proxy):t}}function Uf(){return!!(Mn()||fr)}const cu={},lu=()=>Object.create(cu),uu=e=>Object.getPrototypeOf(e)===cu;function Vf(e,t,n,r=!1){const i={},a=lu();e.propsDefaults=Object.create(null),du(e,t,i,a);for(const l in e.propsOptions[0])l in i||(i[l]=void 0);n?e.props=r?i:ql(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function Hf(e,t,n,r){const{props:i,attrs:a,vnode:{patchFlag:l}}=e,d=Ye(i),[f]=e.propsOptions;let m=!1;if((r||l>0)&&!(l&16)){if(l&8){const h=e.vnode.dynamicProps;for(let y=0;y<h.length;y++){let v=h[y];if(Bo(e.emitsOptions,v))continue;const C=t[v];if(f)if(Xe(a,v))C!==a[v]&&(a[v]=C,m=!0);else{const O=Jt(v);i[O]=Wi(f,d,O,C,e,!1)}else C!==a[v]&&(a[v]=C,m=!0)}}}else{du(e,t,i,a)&&(m=!0);let h;for(const y in d)(!t||!Xe(t,y)&&((h=hr(y))===y||!Xe(t,h)))&&(f?n&&(n[y]!==void 0||n[h]!==void 0)&&(i[y]=Wi(f,d,y,void 0,e,!0)):delete i[y]);if(a!==d)for(const y in a)(!t||!Xe(t,y))&&(delete a[y],m=!0)}m&&In(e.attrs,"set","")}function du(e,t,n,r){const[i,a]=e.propsOptions;let l=!1,d;if(t)for(let f in t){if(rs(f))continue;const m=t[f];let h;i&&Xe(i,h=Jt(f))?!a||!a.includes(h)?n[h]=m:(d||(d={}))[h]=m:Bo(e.emitsOptions,f)||(!(f in r)||m!==r[f])&&(r[f]=m,l=!0)}if(a){const f=Ye(n),m=d||ot;for(let h=0;h<a.length;h++){const y=a[h];n[y]=Wi(i,f,y,m[y],e,!Xe(m,y))}}return l}function Wi(e,t,n,r,i,a){const l=e[n];if(l!=null){const d=Xe(l,"default");if(d&&r===void 0){const f=l.default;if(l.type!==Function&&!l.skipFactory&&Be(f)){const{propsDefaults:m}=i;if(n in m)r=m[n];else{const h=ks(i);r=m[n]=f.call(null,t),h()}}else r=f;i.ce&&i.ce._setProp(n,r)}l[0]&&(a&&!d?r=!1:l[1]&&(r===""||r===hr(n))&&(r=!0))}return r}const Wf=new WeakMap;function fu(e,t,n=!1){const r=n?Wf:t.propsCache,i=r.get(e);if(i)return i;const a=e.props,l={},d=[];let f=!1;if(!Be(e)){const h=y=>{f=!0;const[v,C]=fu(y,t,!0);Ft(l,v),C&&d.push(...C)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!a&&!f)return at(e)&&r.set(e,Dr),Dr;if(De(a))for(let h=0;h<a.length;h++){const y=Jt(a[h]);xc(y)&&(l[y]=ot)}else if(a)for(const h in a){const y=Jt(h);if(xc(y)){const v=a[h],C=l[y]=De(v)||Be(v)?{type:v}:Ft({},v),O=C.type;let N=!1,J=!0;if(De(O))for(let L=0;L<O.length;++L){const j=O[L],K=Be(j)&&j.name;if(K==="Boolean"){N=!0;break}else K==="String"&&(J=!1)}else N=Be(O)&&O.name==="Boolean";C[0]=N,C[1]=J,(N||Xe(C,"default"))&&d.push(y)}}const m=[l,d];return at(e)&&r.set(e,m),m}function xc(e){return e[0]!=="$"&&!rs(e)}const _a=e=>e==="_"||e==="_ctx"||e==="$stable",wa=e=>De(e)?e.map(mn):[mn(e)],zf=(e,t,n)=>{if(t._n)return t;const r=et((...i)=>wa(t(...i)),n);return r._c=!1,r},pu=(e,t,n)=>{const r=e._ctx;for(const i in e){if(_a(i))continue;const a=e[i];if(Be(a))t[i]=zf(i,a,r);else if(a!=null){const l=wa(a);t[i]=()=>l}}},hu=(e,t)=>{const n=wa(t);e.slots.default=()=>n},mu=(e,t,n)=>{for(const r in t)(n||!_a(r))&&(e[r]=t[r])},Qf=(e,t,n)=>{const r=e.slots=lu();if(e.vnode.shapeFlag&32){const i=t._;i?(mu(r,t,n),n&&wl(r,"_",i,!0)):pu(t,r)}else t&&hu(e,t)},Yf=(e,t,n)=>{const{vnode:r,slots:i}=e;let a=!0,l=ot;if(r.shapeFlag&32){const d=t._;d?n&&d===1?a=!1:mu(i,t,n):(a=!t.$stable,pu(t,i)),l=t}else t&&(hu(e,t),l={default:1});if(a)for(const d in i)!_a(d)&&l[d]==null&&delete i[d]},qt=lp;function Gf(e){return Jf(e)}function Jf(e,t){const n=Po();n.__VUE__=!0;const{insert:r,remove:i,patchProp:a,createElement:l,createText:d,createComment:f,setText:m,setElementText:h,parentNode:y,nextSibling:v,setScopeId:C=vn,insertStaticContent:O}=e,N=(_,E,B,W=null,Z=null,G=null,pe=void 0,le=null,ae=!!E.dynamicChildren)=>{if(_===E)return;_&&!es(_,E)&&(W=Y(_),_t(_,Z,G,!0),_=null),E.patchFlag===-2&&(ae=!1,E.dynamicChildren=null);const{type:ee,ref:Ie,shapeFlag:he}=E;switch(ee){case Fo:J(_,E,B,W);break;case wn:L(_,E,B,W);break;case Ai:_==null&&j(E,B,W,pe);break;case nt:qe(_,E,B,W,Z,G,pe,le,ae);break;default:he&1?we(_,E,B,W,Z,G,pe,le,ae):he&6?st(_,E,B,W,Z,G,pe,le,ae):(he&64||he&128)&&ee.process(_,E,B,W,Z,G,pe,le,ae,ke)}Ie!=null&&Z?as(Ie,_&&_.ref,G,E||_,!E):Ie==null&&_&&_.ref!=null&&as(_.ref,null,G,_,!0)},J=(_,E,B,W)=>{if(_==null)r(E.el=d(E.children),B,W);else{const Z=E.el=_.el;E.children!==_.children&&m(Z,E.children)}},L=(_,E,B,W)=>{_==null?r(E.el=f(E.children||""),B,W):E.el=_.el},j=(_,E,B,W)=>{[_.el,_.anchor]=O(_.children,E,B,W,_.el,_.anchor)},K=({el:_,anchor:E},B,W)=>{let Z;for(;_&&_!==E;)Z=v(_),r(_,B,W),_=Z;r(E,B,W)},X=({el:_,anchor:E})=>{let B;for(;_&&_!==E;)B=v(_),i(_),_=B;i(E)},we=(_,E,B,W,Z,G,pe,le,ae)=>{E.type==="svg"?pe="svg":E.type==="math"&&(pe="mathml"),_==null?ve(E,B,W,Z,G,pe,le,ae):Ae(_,E,Z,G,pe,le,ae)},ve=(_,E,B,W,Z,G,pe,le)=>{let ae,ee;const{props:Ie,shapeFlag:he,transition:Oe,dirs:Re}=_;if(ae=_.el=l(_.type,G,Ie&&Ie.is,Ie),he&8?h(ae,_.children):he&16&&Se(_.children,ae,null,W,Z,Ei(_,G),pe,le),Re&&ar(_,null,W,"created"),xe(ae,_,_.scopeId,pe,W),Ie){for(const Ke in Ie)Ke!=="value"&&!rs(Ke)&&a(ae,Ke,null,Ie[Ke],G,W);"value"in Ie&&a(ae,"value",null,Ie.value,G),(ee=Ie.onVnodeBeforeMount)&&pn(ee,W,_)}Re&&ar(_,null,W,"beforeMount");const Fe=Xf(Z,Oe);Fe&&Oe.beforeEnter(ae),r(ae,E,B),((ee=Ie&&Ie.onVnodeMounted)||Fe||Re)&&qt(()=>{ee&&pn(ee,W,_),Fe&&Oe.enter(ae),Re&&ar(_,null,W,"mounted")},Z)},xe=(_,E,B,W,Z)=>{if(B&&C(_,B),W)for(let G=0;G<W.length;G++)C(_,W[G]);if(Z){let G=Z.subTree;if(E===G||bu(G.type)&&(G.ssContent===E||G.ssFallback===E)){const pe=Z.vnode;xe(_,pe,pe.scopeId,pe.slotScopeIds,Z.parent)}}},Se=(_,E,B,W,Z,G,pe,le,ae=0)=>{for(let ee=ae;ee<_.length;ee++){const Ie=_[ee]=le?zn(_[ee]):mn(_[ee]);N(null,Ie,E,B,W,Z,G,pe,le)}},Ae=(_,E,B,W,Z,G,pe)=>{const le=E.el=_.el;let{patchFlag:ae,dynamicChildren:ee,dirs:Ie}=E;ae|=_.patchFlag&16;const he=_.props||ot,Oe=E.props||ot;let Re;if(B&&cr(B,!1),(Re=Oe.onVnodeBeforeUpdate)&&pn(Re,B,E,_),Ie&&ar(E,_,B,"beforeUpdate"),B&&cr(B,!0),(he.innerHTML&&Oe.innerHTML==null||he.textContent&&Oe.textContent==null)&&h(le,""),ee?je(_.dynamicChildren,ee,le,B,W,Ei(E,Z),G):pe||ue(_,E,le,null,B,W,Ei(E,Z),G,!1),ae>0){if(ae&16)Ge(le,he,Oe,B,Z);else if(ae&2&&he.class!==Oe.class&&a(le,"class",null,Oe.class,Z),ae&4&&a(le,"style",he.style,Oe.style,Z),ae&8){const Fe=E.dynamicProps;for(let Ke=0;Ke<Fe.length;Ke++){const We=Fe[Ke],bt=he[We],wt=Oe[We];(wt!==bt||We==="value")&&a(le,We,bt,wt,Z,B)}}ae&1&&_.children!==E.children&&h(le,E.children)}else!pe&&ee==null&&Ge(le,he,Oe,B,Z);((Re=Oe.onVnodeUpdated)||Ie)&&qt(()=>{Re&&pn(Re,B,E,_),Ie&&ar(E,_,B,"updated")},W)},je=(_,E,B,W,Z,G,pe)=>{for(let le=0;le<E.length;le++){const ae=_[le],ee=E[le],Ie=ae.el&&(ae.type===nt||!es(ae,ee)||ae.shapeFlag&198)?y(ae.el):B;N(ae,ee,Ie,null,W,Z,G,pe,!0)}},Ge=(_,E,B,W,Z)=>{if(E!==B){if(E!==ot)for(const G in E)!rs(G)&&!(G in B)&&a(_,G,E[G],null,Z,W);for(const G in B){if(rs(G))continue;const pe=B[G],le=E[G];pe!==le&&G!=="value"&&a(_,G,le,pe,Z,W)}"value"in B&&a(_,"value",E.value,B.value,Z)}},qe=(_,E,B,W,Z,G,pe,le,ae)=>{const ee=E.el=_?_.el:d(""),Ie=E.anchor=_?_.anchor:d("");let{patchFlag:he,dynamicChildren:Oe,slotScopeIds:Re}=E;Re&&(le=le?le.concat(Re):Re),_==null?(r(ee,B,W),r(Ie,B,W),Se(E.children||[],B,Ie,Z,G,pe,le,ae)):he>0&&he&64&&Oe&&_.dynamicChildren?(je(_.dynamicChildren,Oe,B,Z,G,pe,le),(E.key!=null||Z&&E===Z.subTree)&&Ca(_,E,!0)):ue(_,E,B,Ie,Z,G,pe,le,ae)},st=(_,E,B,W,Z,G,pe,le,ae)=>{E.slotScopeIds=le,_==null?E.shapeFlag&512?Z.ctx.activate(E,B,W,pe,ae):ie(E,B,W,Z,G,pe,ae):Q(_,E,ae)},ie=(_,E,B,W,Z,G,pe)=>{const le=_.component=hp(_,W,Z);if(tu(_)&&(le.ctx.renderer=ke),mp(le,!1,pe),le.asyncDep){if(Z&&Z.registerDep(le,F,pe),!_.el){const ae=le.subTree=Ve(wn);L(null,ae,E,B),_.placeholder=ae.el}}else F(le,_,E,B,Z,G,pe)},Q=(_,E,B)=>{const W=E.component=_.component;if(ap(_,E,B))if(W.asyncDep&&!W.asyncResolved){oe(W,E,B);return}else W.next=E,W.update();else E.el=_.el,W.vnode=E},F=(_,E,B,W,Z,G,pe)=>{const le=()=>{if(_.isMounted){let{next:he,bu:Oe,u:Re,parent:Fe,vnode:Ke}=_;{const Ct=yu(_);if(Ct){he&&(he.el=Ke.el,oe(_,he,pe)),Ct.asyncDep.then(()=>{_.isUnmounted||le()});return}}let We=he,bt;cr(_,!1),he?(he.el=Ke.el,oe(_,he,pe)):he=Ke,Oe&&io(Oe),(bt=he.props&&he.props.onVnodeBeforeUpdate)&&pn(bt,Fe,he,Ke),cr(_,!0);const wt=Ec(_),Nt=_.subTree;_.subTree=wt,N(Nt,wt,y(Nt.el),Y(Nt),_,Z,G),he.el=wt.el,We===null&&cp(_,wt.el),Re&&qt(Re,Z),(bt=he.props&&he.props.onVnodeUpdated)&&qt(()=>pn(bt,Fe,he,Ke),Z)}else{let he;const{el:Oe,props:Re}=E,{bm:Fe,m:Ke,parent:We,root:bt,type:wt}=_,Nt=Mr(E);cr(_,!1),Fe&&io(Fe),!Nt&&(he=Re&&Re.onVnodeBeforeMount)&&pn(he,We,E),cr(_,!0);{bt.ce&&bt.ce._def.shadowRoot!==!1&&bt.ce._injectChildStyle(wt);const Ct=_.subTree=Ec(_);N(null,Ct,B,W,_,Z,G),E.el=Ct.el}if(Ke&&qt(Ke,Z),!Nt&&(he=Re&&Re.onVnodeMounted)){const Ct=E;qt(()=>pn(he,We,Ct),Z)}(E.shapeFlag&256||We&&Mr(We.vnode)&&We.vnode.shapeFlag&256)&&_.a&&qt(_.a,Z),_.isMounted=!0,E=B=W=null}};_.scope.on();const ae=_.effect=new Sl(le);_.scope.off();const ee=_.update=ae.run.bind(ae),Ie=_.job=ae.runIfDirty.bind(ae);Ie.i=_,Ie.id=_.uid,ae.scheduler=()=>va(Ie),cr(_,!0),ee()},oe=(_,E,B)=>{E.component=_;const W=_.vnode.props;_.vnode=E,_.next=null,Hf(_,E.props,W,B),Yf(_,E.children,B),Dn(),hc(_),Tn()},ue=(_,E,B,W,Z,G,pe,le,ae=!1)=>{const ee=_&&_.children,Ie=_?_.shapeFlag:0,he=E.children,{patchFlag:Oe,shapeFlag:Re}=E;if(Oe>0){if(Oe&128){ut(ee,he,B,W,Z,G,pe,le,ae);return}else if(Oe&256){He(ee,he,B,W,Z,G,pe,le,ae);return}}Re&8?(Ie&16&&dt(ee,Z,G),he!==ee&&h(B,he)):Ie&16?Re&16?ut(ee,he,B,W,Z,G,pe,le,ae):dt(ee,Z,G,!0):(Ie&8&&h(B,""),Re&16&&Se(he,B,W,Z,G,pe,le,ae))},He=(_,E,B,W,Z,G,pe,le,ae)=>{_=_||Dr,E=E||Dr;const ee=_.length,Ie=E.length,he=Math.min(ee,Ie);let Oe;for(Oe=0;Oe<he;Oe++){const Re=E[Oe]=ae?zn(E[Oe]):mn(E[Oe]);N(_[Oe],Re,B,null,Z,G,pe,le,ae)}ee>Ie?dt(_,Z,G,!0,!1,he):Se(E,B,W,Z,G,pe,le,ae,he)},ut=(_,E,B,W,Z,G,pe,le,ae)=>{let ee=0;const Ie=E.length;let he=_.length-1,Oe=Ie-1;for(;ee<=he&&ee<=Oe;){const Re=_[ee],Fe=E[ee]=ae?zn(E[ee]):mn(E[ee]);if(es(Re,Fe))N(Re,Fe,B,null,Z,G,pe,le,ae);else break;ee++}for(;ee<=he&&ee<=Oe;){const Re=_[he],Fe=E[Oe]=ae?zn(E[Oe]):mn(E[Oe]);if(es(Re,Fe))N(Re,Fe,B,null,Z,G,pe,le,ae);else break;he--,Oe--}if(ee>he){if(ee<=Oe){const Re=Oe+1,Fe=Re<Ie?E[Re].el:W;for(;ee<=Oe;)N(null,E[ee]=ae?zn(E[ee]):mn(E[ee]),B,Fe,Z,G,pe,le,ae),ee++}}else if(ee>Oe)for(;ee<=he;)_t(_[ee],Z,G,!0),ee++;else{const Re=ee,Fe=ee,Ke=new Map;for(ee=Fe;ee<=Oe;ee++){const ft=E[ee]=ae?zn(E[ee]):mn(E[ee]);ft.key!=null&&Ke.set(ft.key,ee)}let We,bt=0;const wt=Oe-Fe+1;let Nt=!1,Ct=0;const ln=new Array(wt);for(ee=0;ee<wt;ee++)ln[ee]=0;for(ee=Re;ee<=he;ee++){const ft=_[ee];if(bt>=wt){_t(ft,Z,G,!0);continue}let be;if(ft.key!=null)be=Ke.get(ft.key);else for(We=Fe;We<=Oe;We++)if(ln[We-Fe]===0&&es(ft,E[We])){be=We;break}be===void 0?_t(ft,Z,G,!0):(ln[be-Fe]=ee+1,be>=Ct?Ct=be:Nt=!0,N(ft,E[be],B,null,Z,G,pe,le,ae),bt++)}const vr=Nt?Zf(ln):Dr;for(We=vr.length-1,ee=wt-1;ee>=0;ee--){const ft=Fe+ee,be=E[ft],Bn=E[ft+1],un=ft+1<Ie?Bn.el||Bn.placeholder:W;ln[ee]===0?N(null,be,B,un,Z,G,pe,le,ae):Nt&&(We<0||ee!==vr[We]?vt(be,B,un,2):We--)}}},vt=(_,E,B,W,Z=null)=>{const{el:G,type:pe,transition:le,children:ae,shapeFlag:ee}=_;if(ee&6){vt(_.component.subTree,E,B,W);return}if(ee&128){_.suspense.move(E,B,W);return}if(ee&64){pe.move(_,E,B,ke);return}if(pe===nt){r(G,E,B);for(let he=0;he<ae.length;he++)vt(ae[he],E,B,W);r(_.anchor,E,B);return}if(pe===Ai){K(_,E,B);return}if(W!==2&&ee&1&&le)if(W===0)le.beforeEnter(G),r(G,E,B),qt(()=>le.enter(G),Z);else{const{leave:he,delayLeave:Oe,afterLeave:Re}=le,Fe=()=>{_.ctx.isUnmounted?i(G):r(G,E,B)},Ke=()=>{G._isLeaving&&G[_f](!0),he(G,()=>{Fe(),Re&&Re()})};Oe?Oe(G,Fe,Ke):Ke()}else r(G,E,B)},_t=(_,E,B,W=!1,Z=!1)=>{const{type:G,props:pe,ref:le,children:ae,dynamicChildren:ee,shapeFlag:Ie,patchFlag:he,dirs:Oe,cacheIndex:Re}=_;if(he===-2&&(Z=!1),le!=null&&(Dn(),as(le,null,B,_,!0),Tn()),Re!=null&&(E.renderCache[Re]=void 0),Ie&256){E.ctx.deactivate(_);return}const Fe=Ie&1&&Oe,Ke=!Mr(_);let We;if(Ke&&(We=pe&&pe.onVnodeBeforeUnmount)&&pn(We,E,_),Ie&6)tn(_.component,B,W);else{if(Ie&128){_.suspense.unmount(B,W);return}Fe&&ar(_,null,E,"beforeUnmount"),Ie&64?_.type.remove(_,E,B,ke,W):ee&&!ee.hasOnce&&(G!==nt||he>0&&he&64)?dt(ee,E,B,!1,!0):(G===nt&&he&384||!Z&&Ie&16)&&dt(ae,E,B),W&&At(_)}(Ke&&(We=pe&&pe.onVnodeUnmounted)||Fe)&&qt(()=>{We&&pn(We,E,_),Fe&&ar(_,null,E,"unmounted")},B)},At=_=>{const{type:E,el:B,anchor:W,transition:Z}=_;if(E===nt){en(B,W);return}if(E===Ai){X(_);return}const G=()=>{i(B),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(_.shapeFlag&1&&Z&&!Z.persisted){const{leave:pe,delayLeave:le}=Z,ae=()=>pe(B,G);le?le(_.el,G,ae):ae()}else G()},en=(_,E)=>{let B;for(;_!==E;)B=v(_),i(_),_=B;i(E)},tn=(_,E,B)=>{const{bum:W,scope:Z,job:G,subTree:pe,um:le,m:ae,a:ee}=_;kc(ae),kc(ee),W&&io(W),Z.stop(),G&&(G.flags|=8,_t(pe,_,E,B)),le&&qt(le,E),qt(()=>{_.isUnmounted=!0},E)},dt=(_,E,B,W=!1,Z=!1,G=0)=>{for(let pe=G;pe<_.length;pe++)_t(_[pe],E,B,W,Z)},Y=_=>{if(_.shapeFlag&6)return Y(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const E=v(_.anchor||_.el),B=E&&E[Jl];return B?v(B):E};let _e=!1;const H=(_,E,B)=>{_==null?E._vnode&&_t(E._vnode,null,null,!0):N(E._vnode||null,_,E,null,null,null,B),E._vnode=_,_e||(_e=!0,hc(),Ql(),_e=!1)},ke={p:N,um:_t,m:vt,r:At,mt:ie,mc:Se,pc:ue,pbc:je,n:Y,o:e};return{render:H,hydrate:void 0,createApp:Kf(H)}}function Ei({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function cr({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Xf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ca(e,t,n=!1){const r=e.children,i=t.children;if(De(r)&&De(i))for(let a=0;a<r.length;a++){const l=r[a];let d=i[a];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=i[a]=zn(i[a]),d.el=l.el),!n&&d.patchFlag!==-2&&Ca(l,d)),d.type===Fo&&d.patchFlag!==-1&&(d.el=l.el),d.type===wn&&!d.el&&(d.el=l.el)}}function Zf(e){const t=e.slice(),n=[0];let r,i,a,l,d;const f=e.length;for(r=0;r<f;r++){const m=e[r];if(m!==0){if(i=n[n.length-1],e[i]<m){t[r]=i,n.push(r);continue}for(a=0,l=n.length-1;a<l;)d=a+l>>1,e[n[d]]<m?a=d+1:l=d;m<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,l=n[a-1];a-- >0;)n[a]=l,l=t[l];return n}function yu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:yu(t)}function kc(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ep=Symbol.for("v-scx"),tp=()=>Yt(ep);function Lr(e,t){return xa(e,null,t)}function Gt(e,t,n){return xa(e,t,n)}function xa(e,t,n=ot){const{immediate:r,deep:i,flush:a,once:l}=n,d=Ft({},n),f=t&&r||!t&&a!=="post";let m;if(bs){if(a==="sync"){const C=tp();m=C.__watcherHandles||(C.__watcherHandles=[])}else if(!f){const C=()=>{};return C.stop=vn,C.resume=vn,C.pause=vn,C}}const h=Bt;d.call=(C,O,N)=>_n(C,h,O,N);let y=!1;a==="post"?d.scheduler=C=>{qt(C,h&&h.suspense)}:a!=="sync"&&(y=!0,d.scheduler=(C,O)=>{O?C():va(C)}),d.augmentJob=C=>{t&&(C.flags|=4),y&&(C.flags|=2,h&&(C.id=h.uid,C.i=h))};const v=pf(e,t,d);return bs&&(m?m.push(v):f&&v()),v}function np(e,t,n){const r=this.proxy,i=ht(e)?e.includes(".")?gu(r,e):()=>r[e]:e.bind(r,r);let a;Be(t)?a=t:(a=t.handler,n=t);const l=ks(this),d=xa(i,a.bind(r),n);return l(),d}function gu(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const rp=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Jt(t)}Modifiers`]||e[`${hr(t)}Modifiers`];function sp(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||ot;let i=n;const a=t.startsWith("update:"),l=a&&rp(r,t.slice(7));l&&(l.trim&&(i=n.map(h=>ht(h)?h.trim():h)),l.number&&(i=n.map(fo)));let d,f=r[d=oo(t)]||r[d=oo(Jt(t))];!f&&a&&(f=r[d=oo(hr(t))]),f&&_n(f,e,6,i);const m=r[d+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,_n(m,e,6,i)}}function vu(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const a=e.emits;let l={},d=!1;if(!Be(e)){const f=m=>{const h=vu(m,t,!0);h&&(d=!0,Ft(l,h))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!a&&!d?(at(e)&&r.set(e,null),null):(De(a)?a.forEach(f=>l[f]=null):Ft(l,a),at(e)&&r.set(e,l),l)}function Bo(e,t){return!e||!ko(t)?!1:(t=t.slice(2).replace(/Once$/,""),Xe(e,t[0].toLowerCase()+t.slice(1))||Xe(e,hr(t))||Xe(e,t))}function Ec(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[a],slots:l,attrs:d,emit:f,render:m,renderCache:h,props:y,data:v,setupState:C,ctx:O,inheritAttrs:N}=e,J=go(e);let L,j;try{if(n.shapeFlag&4){const X=i||r,we=X;L=mn(m.call(we,X,h,y,C,v,O)),j=d}else{const X=t;L=mn(X.length>1?X(y,{attrs:d,slots:l,emit:f}):X(y,null)),j=t.props?d:op(d)}}catch(X){us.length=0,Do(X,e,1),L=Ve(wn)}let K=L;if(j&&N!==!1){const X=Object.keys(j),{shapeFlag:we}=K;X.length&&we&7&&(a&&X.some(oa)&&(j=ip(j,a)),K=pr(K,j,!1,!0))}return n.dirs&&(K=pr(K,null,!1,!0),K.dirs=K.dirs?K.dirs.concat(n.dirs):n.dirs),n.transition&&ba(K,n.transition),L=K,go(J),L}const op=e=>{let t;for(const n in e)(n==="class"||n==="style"||ko(n))&&((t||(t={}))[n]=e[n]);return t},ip=(e,t)=>{const n={};for(const r in e)(!oa(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function ap(e,t,n){const{props:r,children:i,component:a}=e,{props:l,children:d,patchFlag:f}=t,m=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?Ac(r,l,m):!!l;if(f&8){const h=t.dynamicProps;for(let y=0;y<h.length;y++){const v=h[y];if(l[v]!==r[v]&&!Bo(m,v))return!0}}}else return(i||d)&&(!d||!d.$stable)?!0:r===l?!1:r?l?Ac(r,l,m):!0:!!l;return!1}function Ac(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const a=r[i];if(t[a]!==e[a]&&!Bo(n,a))return!0}return!1}function cp({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const bu=e=>e.__isSuspense;function lp(e,t){t&&t.pendingBranch?De(e)?t.effects.push(...e):t.effects.push(e):yf(e)}const nt=Symbol.for("v-fgt"),Fo=Symbol.for("v-txt"),wn=Symbol.for("v-cmt"),Ai=Symbol.for("v-stc"),us=[];let Qt=null;function z(e=!1){us.push(Qt=e?null:[])}function up(){us.pop(),Qt=us[us.length-1]||null}let gs=1;function Sc(e,t=!1){gs+=e,e<0&&Qt&&t&&(Qt.hasOnce=!0)}function _u(e){return e.dynamicChildren=gs>0?Qt||Dr:null,up(),gs>0&&Qt&&Qt.push(e),e}function te(e,t,n,r,i,a){return _u(x(e,t,n,r,i,a,!0))}function Et(e,t,n,r,i){return _u(Ve(e,t,n,r,i,!0))}function vs(e){return e?e.__v_isVNode===!0:!1}function es(e,t){return e.type===t.type&&e.key===t.key}const wu=({key:e})=>e??null,co=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ht(e)||gt(e)||Be(e)?{i:Pt,r:e,k:t,f:!!n}:e:null);function x(e,t=null,n=null,r=0,i=null,a=e===nt?0:1,l=!1,d=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&wu(t),ref:t&&co(t),scopeId:Gl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Pt};return d?(ka(f,n),a&128&&e.normalize(f)):n&&(f.shapeFlag|=ht(n)?8:16),gs>0&&!l&&Qt&&(f.patchFlag>0||a&6)&&f.patchFlag!==32&&Qt.push(f),f}const Ve=dp;function dp(e,t=null,n=null,r=0,i=null,a=!1){if((!e||e===Tf)&&(e=wn),vs(e)){const d=pr(e,t,!0);return n&&ka(d,n),gs>0&&!a&&Qt&&(d.shapeFlag&6?Qt[Qt.indexOf(e)]=d:Qt.push(d)),d.patchFlag=-2,d}if(_p(e)&&(e=e.__vccOpts),t){t=Cu(t);let{class:d,style:f}=t;d&&!ht(d)&&(t.class=Mt(d)),at(f)&&(ma(f)&&!De(f)&&(f=Ft({},f)),t.style=Ur(f))}const l=ht(e)?1:bu(e)?128:gf(e)?64:at(e)?4:Be(e)?2:0;return x(e,t,n,r,i,l,a,!0)}function Cu(e){return e?ma(e)||uu(e)?Ft({},e):e:null}function pr(e,t,n=!1,r=!1){const{props:i,ref:a,patchFlag:l,children:d,transition:f}=e,m=t?Cn(i||{},t):i,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:m,key:m&&wu(m),ref:t&&t.ref?n&&a?De(a)?a.concat(co(t)):[a,co(t)]:co(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:d,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==nt?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:f,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&pr(e.ssContent),ssFallback:e.ssFallback&&pr(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return f&&r&&ba(h,f.clone(h)),h}function rn(e=" ",t=0){return Ve(Fo,null,e,t)}function $e(e="",t=!1){return t?(z(),Et(wn,null,e)):Ve(wn,null,e)}function mn(e){return e==null||typeof e=="boolean"?Ve(wn):De(e)?Ve(nt,null,e.slice()):vs(e)?zn(e):Ve(Fo,null,String(e))}function zn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:pr(e)}function ka(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(De(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),ka(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!uu(t)?t._ctx=Pt:i===3&&Pt&&(Pt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Be(t)?(t={default:t,_ctx:Pt},n=32):(t=String(t),r&64?(n=16,t=[rn(t)]):n=8);e.children=t,e.shapeFlag|=n}function Cn(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Mt([t.class,r.class]));else if(i==="style")t.style=Ur([t.style,r.style]);else if(ko(i)){const a=t[i],l=r[i];l&&a!==l&&!(De(a)&&a.includes(l))&&(t[i]=a?[].concat(a,l):l)}else i!==""&&(t[i]=r[i])}return t}function pn(e,t,n,r=null){_n(e,t,7,[n,r])}const fp=au();let pp=0;function hp(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||fp,a={uid:pp++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new El(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fu(r,i),emitsOptions:vu(r,i),emit:null,emitted:null,propsDefaults:ot,inheritAttrs:r.inheritAttrs,ctx:ot,data:ot,props:ot,attrs:ot,slots:ot,refs:ot,setupState:ot,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=sp.bind(null,a),e.ce&&e.ce(a),a}let Bt=null;const Mn=()=>Bt||Pt;let _o,zi;{const e=Po(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),a=>{i.length>1?i.forEach(l=>l(a)):i[0](a)}};_o=t("__VUE_INSTANCE_SETTERS__",n=>Bt=n),zi=t("__VUE_SSR_SETTERS__",n=>bs=n)}const ks=e=>{const t=Bt;return _o(e),e.scope.on(),()=>{e.scope.off(),_o(t)}},Pc=()=>{Bt&&Bt.scope.off(),_o(null)};function xu(e){return e.vnode.shapeFlag&4}let bs=!1;function mp(e,t=!1,n=!1){t&&zi(t);const{props:r,children:i}=e.vnode,a=xu(e);Vf(e,r,a,t),Qf(e,i,n||t);const l=a?yp(e,t):void 0;return t&&zi(!1),l}function yp(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Mf);const{setup:r}=n;if(r){Dn();const i=e.setupContext=r.length>1?vp(e):null,a=ks(e),l=xs(r,e,0,[e.props,i]),d=vl(l);if(Tn(),a(),(d||e.sp)&&!Mr(e)&&eu(e),d){if(l.then(Pc,Pc),t)return l.then(f=>{Oc(e,f)}).catch(f=>{Do(f,e,0)});e.asyncDep=l}else Oc(e,l)}else ku(e)}function Oc(e,t,n){Be(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:at(t)&&(e.setupState=Hl(t)),ku(e)}function ku(e,t,n){const r=e.type;e.render||(e.render=r.render||vn);{const i=ks(e);Dn();try{Bf(e)}finally{Tn(),i()}}}const gp={get(e,t){return $t(e,"get",""),e[t]}};function vp(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,gp),slots:e.slots,emit:e.emit,expose:t}}function No(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Hl(ya(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in cs)return cs[n](e)},has(t,n){return n in t||n in cs}})):e.proxy}function bp(e,t=!0){return Be(e)?e.displayName||e.name:e.name||t&&e.__name}function _p(e){return Be(e)&&"__vccOpts"in e}const tt=(e,t)=>df(e,t,bs);function Br(e,t,n){const r=arguments.length;return r===2?at(t)&&!De(t)?vs(t)?Ve(e,null,[t]):Ve(e,t):Ve(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&vs(n)&&(n=[n]),Ve(e,t,n))}const wp="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qi;const Ic=typeof window<"u"&&window.trustedTypes;if(Ic)try{Qi=Ic.createPolicy("vue",{createHTML:e=>e})}catch{}const Eu=Qi?e=>Qi.createHTML(e):e=>e,Cp="http://www.w3.org/2000/svg",xp="http://www.w3.org/1998/Math/MathML",On=typeof document<"u"?document:null,Rc=On&&On.createElement("template"),kp={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?On.createElementNS(Cp,e):t==="mathml"?On.createElementNS(xp,e):n?On.createElement(e,{is:n}):On.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>On.createTextNode(e),createComment:e=>On.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>On.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,a){const l=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{Rc.innerHTML=Eu(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const d=Rc.content;if(r==="svg"||r==="mathml"){const f=d.firstChild;for(;f.firstChild;)d.appendChild(f.firstChild);d.removeChild(f)}t.insertBefore(d,n)}return[l?l.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ep=Symbol("_vtc");function Ap(e,t,n){const r=e[Ep];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Dc=Symbol("_vod"),Sp=Symbol("_vsh"),Pp=Symbol(""),Op=/(^|;)\s*display\s*:/;function Ip(e,t,n){const r=e.style,i=ht(n);let a=!1;if(n&&!i){if(t)if(ht(t))for(const l of t.split(";")){const d=l.slice(0,l.indexOf(":")).trim();n[d]==null&&lo(r,d,"")}else for(const l in t)n[l]==null&&lo(r,l,"");for(const l in n)l==="display"&&(a=!0),lo(r,l,n[l])}else if(i){if(t!==n){const l=r[Pp];l&&(n+=";"+l),r.cssText=n,a=Op.test(n)}}else t&&e.removeAttribute("style");Dc in e&&(e[Dc]=a?r.display:"",e[Sp]&&(r.display="none"))}const Tc=/\s*!important$/;function lo(e,t,n){if(De(n))n.forEach(r=>lo(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Rp(e,t);Tc.test(n)?e.setProperty(hr(r),n.replace(Tc,""),"important"):e[r]=n}}const $c=["Webkit","Moz","ms"],Si={};function Rp(e,t){const n=Si[t];if(n)return n;let r=Jt(t);if(r!=="filter"&&r in e)return Si[t]=r;r=So(r);for(let i=0;i<$c.length;i++){const a=$c[i]+r;if(a in e)return Si[t]=a}return t}const Mc="http://www.w3.org/1999/xlink";function Bc(e,t,n,r,i,a=Fd(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Mc,t.slice(6,t.length)):e.setAttributeNS(Mc,t,n):n==null||a&&!Cl(n)?e.removeAttribute(t):e.setAttribute(t,a?"":on(n)?String(n):n)}function Fc(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Eu(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const d=a==="OPTION"?e.getAttribute("value")||"":e.value,f=n==null?e.type==="checkbox"?"on":"":String(n);(d!==f||!("_value"in e))&&(e.value=f),n==null&&e.removeAttribute(t),e._value=n;return}let l=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=Cl(n):n==null&&d==="string"?(n="",l=!0):d==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(i||t)}function ur(e,t,n,r){e.addEventListener(t,n,r)}function Dp(e,t,n,r){e.removeEventListener(t,n,r)}const Nc=Symbol("_vei");function Tp(e,t,n,r,i=null){const a=e[Nc]||(e[Nc]={}),l=a[t];if(r&&l)l.value=r;else{const[d,f]=$p(t);if(r){const m=a[t]=Fp(r,i);ur(e,d,m,f)}else l&&(Dp(e,d,l,f),a[t]=void 0)}}const jc=/(?:Once|Passive|Capture)$/;function $p(e){let t;if(jc.test(e)){t={};let r;for(;r=e.match(jc);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hr(e.slice(2)),t]}let Pi=0;const Mp=Promise.resolve(),Bp=()=>Pi||(Mp.then(()=>Pi=0),Pi=Date.now());function Fp(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;_n(Np(r,n.value),t,5,[r])};return n.value=e,n.attached=Bp(),n}function Np(e,t){if(De(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const Lc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,jp=(e,t,n,r,i,a)=>{const l=i==="svg";t==="class"?Ap(e,r,l):t==="style"?Ip(e,n,r):ko(t)?oa(t)||Tp(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Lp(e,t,r,l))?(Fc(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Bc(e,t,r,l,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ht(r))?Fc(e,Jt(t),r,a,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Bc(e,t,r,l))};function Lp(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Lc(t)&&Be(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Lc(t)&&ht(n)?!1:t in e}const wo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return De(t)?n=>io(t,n):t};function qp(e){e.target.composing=!0}function qc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Fr=Symbol("_assign"),Yi={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[Fr]=wo(i);const a=r||i.props&&i.props.type==="number";ur(e,t?"change":"input",l=>{if(l.target.composing)return;let d=e.value;n&&(d=d.trim()),a&&(d=fo(d)),e[Fr](d)}),n&&ur(e,"change",()=>{e.value=e.value.trim()}),t||(ur(e,"compositionstart",qp),ur(e,"compositionend",qc),ur(e,"change",qc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:a}},l){if(e[Fr]=wo(l),e.composing)return;const d=(a||e.type==="number")&&!/^0\d/.test(e.value)?fo(e.value):e.value,f=t??"";d!==f&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||i&&e.value.trim()===f)||(e.value=f))}},Kp={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=Eo(t);ur(e,"change",()=>{const a=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>n?fo(Co(l)):Co(l));e[Fr](e.multiple?i?new Set(a):a:a[0]),e._assigning=!0,an(()=>{e._assigning=!1})}),e[Fr]=wo(r)},mounted(e,{value:t}){Kc(e,t)},beforeUpdate(e,t,n){e[Fr]=wo(n)},updated(e,{value:t}){e._assigning||Kc(e,t)}};function Kc(e,t){const n=e.multiple,r=De(t);if(!(n&&!r&&!Eo(t))){for(let i=0,a=e.options.length;i<a;i++){const l=e.options[i],d=Co(l);if(n)if(r){const f=typeof d;f==="string"||f==="number"?l.selected=t.some(m=>String(m)===String(d)):l.selected=jd(t,d)>-1}else l.selected=t.has(d);else if(Oo(Co(l),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Co(e){return"_value"in e?e._value:e.value}const Up=Ft({patchProp:jp},kp);let Uc;function Vp(){return Uc||(Uc=Gf(Up))}const Hp=((...e)=>{const t=Vp().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=zp(r);if(!i)return;const a=t._component;!Be(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const l=n(i,!1,Wp(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),l},t});function Wp(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function zp(e){return ht(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Rr=typeof document<"u";function Au(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Qp(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Au(e.default)}const Je=Object.assign;function Oi(e,t){const n={};for(const r in t){const i=t[r];n[r]=cn(i)?i.map(e):e(i)}return n}const ds=()=>{},cn=Array.isArray,Su=/#/g,Yp=/&/g,Gp=/\//g,Jp=/=/g,Xp=/\?/g,Pu=/\+/g,Zp=/%5B/g,eh=/%5D/g,Ou=/%5E/g,th=/%60/g,Iu=/%7B/g,nh=/%7C/g,Ru=/%7D/g,rh=/%20/g;function Ea(e){return encodeURI(""+e).replace(nh,"|").replace(Zp,"[").replace(eh,"]")}function sh(e){return Ea(e).replace(Iu,"{").replace(Ru,"}").replace(Ou,"^")}function Gi(e){return Ea(e).replace(Pu,"%2B").replace(rh,"+").replace(Su,"%23").replace(Yp,"%26").replace(th,"`").replace(Iu,"{").replace(Ru,"}").replace(Ou,"^")}function oh(e){return Gi(e).replace(Jp,"%3D")}function ih(e){return Ea(e).replace(Su,"%23").replace(Xp,"%3F")}function ah(e){return e==null?"":ih(e).replace(Gp,"%2F")}function _s(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const ch=/\/$/,lh=e=>e.replace(ch,"");function Ii(e,t,n="/"){let r,i={},a="",l="";const d=t.indexOf("#");let f=t.indexOf("?");return d<f&&d>=0&&(f=-1),f>-1&&(r=t.slice(0,f),a=t.slice(f+1,d>-1?d:t.length),i=e(a)),d>-1&&(r=r||t.slice(0,d),l=t.slice(d,t.length)),r=ph(r??t,n),{fullPath:r+(a&&"?")+a+l,path:r,query:i,hash:_s(l)}}function uh(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Vc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function dh(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&qr(t.matched[r],n.matched[i])&&Du(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function qr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Du(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!fh(e[n],t[n]))return!1;return!0}function fh(e,t){return cn(e)?Hc(e,t):cn(t)?Hc(t,e):e===t}function Hc(e,t){return cn(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function ph(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let a=n.length-1,l,d;for(l=0;l<r.length;l++)if(d=r[l],d!==".")if(d==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+r.slice(l).join("/")}const Un={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ws;(function(e){e.pop="pop",e.push="push"})(ws||(ws={}));var fs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(fs||(fs={}));function hh(e){if(!e)if(Rr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),lh(e)}const mh=/^[^#]+#/;function yh(e,t){return e.replace(mh,"#")+t}function gh(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const jo=()=>({left:window.scrollX,top:window.scrollY});function vh(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=gh(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Wc(e,t){return(history.state?history.state.position-t:-1)+e}const Ji=new Map;function bh(e,t){Ji.set(e,t)}function _h(e){const t=Ji.get(e);return Ji.delete(e),t}let wh=()=>location.protocol+"//"+location.host;function Tu(e,t){const{pathname:n,search:r,hash:i}=t,a=e.indexOf("#");if(a>-1){let d=i.includes(e.slice(a))?e.slice(a).length:1,f=i.slice(d);return f[0]!=="/"&&(f="/"+f),Vc(f,"")}return Vc(n,e)+r+i}function Ch(e,t,n,r){let i=[],a=[],l=null;const d=({state:v})=>{const C=Tu(e,location),O=n.value,N=t.value;let J=0;if(v){if(n.value=C,t.value=v,l&&l===O){l=null;return}J=N?v.position-N.position:0}else r(C);i.forEach(L=>{L(n.value,O,{delta:J,type:ws.pop,direction:J?J>0?fs.forward:fs.back:fs.unknown})})};function f(){l=n.value}function m(v){i.push(v);const C=()=>{const O=i.indexOf(v);O>-1&&i.splice(O,1)};return a.push(C),C}function h(){const{history:v}=window;v.state&&v.replaceState(Je({},v.state,{scroll:jo()}),"")}function y(){for(const v of a)v();a=[],window.removeEventListener("popstate",d),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",d),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:f,listen:m,destroy:y}}function zc(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?jo():null}}function xh(e){const{history:t,location:n}=window,r={value:Tu(e,n)},i={value:t.state};i.value||a(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(f,m,h){const y=e.indexOf("#"),v=y>-1?(n.host&&document.querySelector("base")?e:e.slice(y))+f:wh()+e+f;try{t[h?"replaceState":"pushState"](m,"",v),i.value=m}catch(C){console.error(C),n[h?"replace":"assign"](v)}}function l(f,m){const h=Je({},t.state,zc(i.value.back,f,i.value.forward,!0),m,{position:i.value.position});a(f,h,!0),r.value=f}function d(f,m){const h=Je({},i.value,t.state,{forward:f,scroll:jo()});a(h.current,h,!0);const y=Je({},zc(r.value,f,null),{position:h.position+1},m);a(f,y,!1),r.value=f}return{location:r,state:i,push:d,replace:l}}function kh(e){e=hh(e);const t=xh(e),n=Ch(e,t.state,t.location,t.replace);function r(a,l=!0){l||n.pauseListeners(),history.go(a)}const i=Je({location:"",base:e,go:r,createHref:yh.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function Eh(e){return typeof e=="string"||e&&typeof e=="object"}function $u(e){return typeof e=="string"||typeof e=="symbol"}const Mu=Symbol("");var Qc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Qc||(Qc={}));function Kr(e,t){return Je(new Error,{type:e,[Mu]:!0},t)}function Sn(e,t){return e instanceof Error&&Mu in e&&(t==null||!!(e.type&t))}const Yc="[^/]+?",Ah={sensitive:!1,strict:!1,start:!0,end:!0},Sh=/[.+*?^${}()[\]/\\]/g;function Ph(e,t){const n=Je({},Ah,t),r=[];let i=n.start?"^":"";const a=[];for(const m of e){const h=m.length?[]:[90];n.strict&&!m.length&&(i+="/");for(let y=0;y<m.length;y++){const v=m[y];let C=40+(n.sensitive?.25:0);if(v.type===0)y||(i+="/"),i+=v.value.replace(Sh,"\\$&"),C+=40;else if(v.type===1){const{value:O,repeatable:N,optional:J,regexp:L}=v;a.push({name:O,repeatable:N,optional:J});const j=L||Yc;if(j!==Yc){C+=10;try{new RegExp(`(${j})`)}catch(X){throw new Error(`Invalid custom RegExp for param "${O}" (${j}): `+X.message)}}let K=N?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;y||(K=J&&m.length<2?`(?:/${K})`:"/"+K),J&&(K+="?"),i+=K,C+=20,J&&(C+=-8),N&&(C+=-20),j===".*"&&(C+=-50)}h.push(C)}r.push(h)}if(n.strict&&n.end){const m=r.length-1;r[m][r[m].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const l=new RegExp(i,n.sensitive?"":"i");function d(m){const h=m.match(l),y={};if(!h)return null;for(let v=1;v<h.length;v++){const C=h[v]||"",O=a[v-1];y[O.name]=C&&O.repeatable?C.split("/"):C}return y}function f(m){let h="",y=!1;for(const v of e){(!y||!h.endsWith("/"))&&(h+="/"),y=!1;for(const C of v)if(C.type===0)h+=C.value;else if(C.type===1){const{value:O,repeatable:N,optional:J}=C,L=O in m?m[O]:"";if(cn(L)&&!N)throw new Error(`Provided param "${O}" is an array but it is not repeatable (* or + modifiers)`);const j=cn(L)?L.join("/"):L;if(!j)if(J)v.length<2&&(h.endsWith("/")?h=h.slice(0,-1):y=!0);else throw new Error(`Missing required param "${O}"`);h+=j}}return h||"/"}return{re:l,score:r,keys:a,parse:d,stringify:f}}function Oh(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Bu(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const a=Oh(r[n],i[n]);if(a)return a;n++}if(Math.abs(i.length-r.length)===1){if(Gc(r))return 1;if(Gc(i))return-1}return i.length-r.length}function Gc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Ih={type:0,value:""},Rh=/[a-zA-Z0-9_]/;function Dh(e){if(!e)return[[]];if(e==="/")return[[Ih]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(C){throw new Error(`ERR (${n})/"${m}": ${C}`)}let n=0,r=n;const i=[];let a;function l(){a&&i.push(a),a=[]}let d=0,f,m="",h="";function y(){m&&(n===0?a.push({type:0,value:m}):n===1||n===2||n===3?(a.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${m}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:m,regexp:h,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),m="")}function v(){m+=f}for(;d<e.length;){if(f=e[d++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(m&&y(),l()):f===":"?(y(),n=1):v();break;case 4:v(),n=r;break;case 1:f==="("?n=2:Rh.test(f)?v():(y(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&d--);break;case 2:f===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+f:n=3:h+=f;break;case 3:y(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&d--,h="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${m}"`),y(),l(),i}function Th(e,t,n){const r=Ph(Dh(e.path),n),i=Je(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function $h(e,t){const n=[],r=new Map;t=el({strict:!1,end:!0,sensitive:!1},t);function i(y){return r.get(y)}function a(y,v,C){const O=!C,N=Xc(y);N.aliasOf=C&&C.record;const J=el(t,y),L=[N];if("alias"in y){const X=typeof y.alias=="string"?[y.alias]:y.alias;for(const we of X)L.push(Xc(Je({},N,{components:C?C.record.components:N.components,path:we,aliasOf:C?C.record:N})))}let j,K;for(const X of L){const{path:we}=X;if(v&&we[0]!=="/"){const ve=v.record.path,xe=ve[ve.length-1]==="/"?"":"/";X.path=v.record.path+(we&&xe+we)}if(j=Th(X,v,J),C?C.alias.push(j):(K=K||j,K!==j&&K.alias.push(j),O&&y.name&&!Zc(j)&&l(y.name)),Fu(j)&&f(j),N.children){const ve=N.children;for(let xe=0;xe<ve.length;xe++)a(ve[xe],j,C&&C.children[xe])}C=C||j}return K?()=>{l(K)}:ds}function l(y){if($u(y)){const v=r.get(y);v&&(r.delete(y),n.splice(n.indexOf(v),1),v.children.forEach(l),v.alias.forEach(l))}else{const v=n.indexOf(y);v>-1&&(n.splice(v,1),y.record.name&&r.delete(y.record.name),y.children.forEach(l),y.alias.forEach(l))}}function d(){return n}function f(y){const v=Fh(y,n);n.splice(v,0,y),y.record.name&&!Zc(y)&&r.set(y.record.name,y)}function m(y,v){let C,O={},N,J;if("name"in y&&y.name){if(C=r.get(y.name),!C)throw Kr(1,{location:y});J=C.record.name,O=Je(Jc(v.params,C.keys.filter(K=>!K.optional).concat(C.parent?C.parent.keys.filter(K=>K.optional):[]).map(K=>K.name)),y.params&&Jc(y.params,C.keys.map(K=>K.name))),N=C.stringify(O)}else if(y.path!=null)N=y.path,C=n.find(K=>K.re.test(N)),C&&(O=C.parse(N),J=C.record.name);else{if(C=v.name?r.get(v.name):n.find(K=>K.re.test(v.path)),!C)throw Kr(1,{location:y,currentLocation:v});J=C.record.name,O=Je({},v.params,y.params),N=C.stringify(O)}const L=[];let j=C;for(;j;)L.unshift(j.record),j=j.parent;return{name:J,path:N,params:O,matched:L,meta:Bh(L)}}e.forEach(y=>a(y));function h(){n.length=0,r.clear()}return{addRoute:a,resolve:m,removeRoute:l,clearRoutes:h,getRoutes:d,getRecordMatcher:i}}function Jc(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Xc(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Mh(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Mh(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Zc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Bh(e){return e.reduce((t,n)=>Je(t,n.meta),{})}function el(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Fh(e,t){let n=0,r=t.length;for(;n!==r;){const a=n+r>>1;Bu(e,t[a])<0?r=a:n=a+1}const i=Nh(e);return i&&(r=t.lastIndexOf(i,r-1)),r}function Nh(e){let t=e;for(;t=t.parent;)if(Fu(t)&&Bu(e,t)===0)return t}function Fu({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function jh(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const a=r[i].replace(Pu," "),l=a.indexOf("="),d=_s(l<0?a:a.slice(0,l)),f=l<0?null:_s(a.slice(l+1));if(d in t){let m=t[d];cn(m)||(m=t[d]=[m]),m.push(f)}else t[d]=f}return t}function tl(e){let t="";for(let n in e){const r=e[n];if(n=oh(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(cn(r)?r.map(a=>a&&Gi(a)):[r&&Gi(r)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+n,a!=null&&(t+="="+a))})}return t}function Lh(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=cn(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const qh=Symbol(""),nl=Symbol(""),Lo=Symbol(""),Aa=Symbol(""),Xi=Symbol("");function ts(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Qn(e,t,n,r,i,a=l=>l()){const l=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((d,f)=>{const m=v=>{v===!1?f(Kr(4,{from:n,to:t})):v instanceof Error?f(v):Eh(v)?f(Kr(2,{from:t,to:v})):(l&&r.enterCallbacks[i]===l&&typeof v=="function"&&l.push(v),d())},h=a(()=>e.call(r&&r.instances[i],t,n,m));let y=Promise.resolve(h);e.length<3&&(y=y.then(m)),y.catch(v=>f(v))})}function Ri(e,t,n,r,i=a=>a()){const a=[];for(const l of e)for(const d in l.components){let f=l.components[d];if(!(t!=="beforeRouteEnter"&&!l.instances[d]))if(Au(f)){const h=(f.__vccOpts||f)[t];h&&a.push(Qn(h,n,r,l,d,i))}else{let m=f();a.push(()=>m.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${d}" at "${l.path}"`);const y=Qp(h)?h.default:h;l.mods[d]=h,l.components[d]=y;const C=(y.__vccOpts||y)[t];return C&&Qn(C,n,r,l,d,i)()}))}}return a}function rl(e){const t=Yt(Lo),n=Yt(Aa),r=tt(()=>{const f=Ce(e.to);return t.resolve(f)}),i=tt(()=>{const{matched:f}=r.value,{length:m}=f,h=f[m-1],y=n.matched;if(!h||!y.length)return-1;const v=y.findIndex(qr.bind(null,h));if(v>-1)return v;const C=sl(f[m-2]);return m>1&&sl(h)===C&&y[y.length-1].path!==C?y.findIndex(qr.bind(null,f[m-2])):v}),a=tt(()=>i.value>-1&&Wh(n.params,r.value.params)),l=tt(()=>i.value>-1&&i.value===n.matched.length-1&&Du(n.params,r.value.params));function d(f={}){if(Hh(f)){const m=t[Ce(e.replace)?"replace":"push"](Ce(e.to)).catch(ds);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>m),m}return Promise.resolve()}return{route:r,href:tt(()=>r.value.href),isActive:a,isExactActive:l,navigate:d}}function Kh(e){return e.length===1?e[0]:e}const Uh=rt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:rl,setup(e,{slots:t}){const n=mr(rl(e)),{options:r}=Yt(Lo),i=tt(()=>({[ol(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ol(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&Kh(t.default(n));return e.custom?a:Br("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},a)}}}),Vh=Uh;function Hh(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Wh(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!cn(i)||i.length!==r.length||r.some((a,l)=>a!==i[l]))return!1}return!0}function sl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ol=(e,t,n)=>e??t??n,zh=rt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Yt(Xi),i=tt(()=>e.route||r.value),a=Yt(nl,0),l=tt(()=>{let m=Ce(a);const{matched:h}=i.value;let y;for(;(y=h[m])&&!y.components;)m++;return m}),d=tt(()=>i.value.matched[l.value]);ls(nl,tt(()=>l.value+1)),ls(qh,d),ls(Xi,i);const f=Pe();return Gt(()=>[f.value,d.value,e.name],([m,h,y],[v,C,O])=>{h&&(h.instances[y]=m,C&&C!==h&&m&&m===v&&(h.leaveGuards.size||(h.leaveGuards=C.leaveGuards),h.updateGuards.size||(h.updateGuards=C.updateGuards))),m&&h&&(!C||!qr(h,C)||!v)&&(h.enterCallbacks[y]||[]).forEach(N=>N(m))},{flush:"post"}),()=>{const m=i.value,h=e.name,y=d.value,v=y&&y.components[h];if(!v)return il(n.default,{Component:v,route:m});const C=y.props[h],O=C?C===!0?m.params:typeof C=="function"?C(m):C:null,J=Br(v,Je({},O,t,{onVnodeUnmounted:L=>{L.component.isUnmounted&&(y.instances[h]=null)},ref:f}));return il(n.default,{Component:J,route:m})||J}}});function il(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Qh=zh;function Yh(e){const t=$h(e.routes,e),n=e.parseQuery||jh,r=e.stringifyQuery||tl,i=e.history,a=ts(),l=ts(),d=ts(),f=Ul(Un);let m=Un;Rr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Oi.bind(null,Y=>""+Y),y=Oi.bind(null,ah),v=Oi.bind(null,_s);function C(Y,_e){let H,ke;return $u(Y)?(H=t.getRecordMatcher(Y),ke=_e):ke=Y,t.addRoute(ke,H)}function O(Y){const _e=t.getRecordMatcher(Y);_e&&t.removeRoute(_e)}function N(){return t.getRoutes().map(Y=>Y.record)}function J(Y){return!!t.getRecordMatcher(Y)}function L(Y,_e){if(_e=Je({},_e||f.value),typeof Y=="string"){const B=Ii(n,Y,_e.path),W=t.resolve({path:B.path},_e),Z=i.createHref(B.fullPath);return Je(B,W,{params:v(W.params),hash:_s(B.hash),redirectedFrom:void 0,href:Z})}let H;if(Y.path!=null)H=Je({},Y,{path:Ii(n,Y.path,_e.path).path});else{const B=Je({},Y.params);for(const W in B)B[W]==null&&delete B[W];H=Je({},Y,{params:y(B)}),_e.params=y(_e.params)}const ke=t.resolve(H,_e),ze=Y.hash||"";ke.params=h(v(ke.params));const _=uh(r,Je({},Y,{hash:sh(ze),path:ke.path})),E=i.createHref(_);return Je({fullPath:_,hash:ze,query:r===tl?Lh(Y.query):Y.query||{}},ke,{redirectedFrom:void 0,href:E})}function j(Y){return typeof Y=="string"?Ii(n,Y,f.value.path):Je({},Y)}function K(Y,_e){if(m!==Y)return Kr(8,{from:_e,to:Y})}function X(Y){return xe(Y)}function we(Y){return X(Je(j(Y),{replace:!0}))}function ve(Y){const _e=Y.matched[Y.matched.length-1];if(_e&&_e.redirect){const{redirect:H}=_e;let ke=typeof H=="function"?H(Y):H;return typeof ke=="string"&&(ke=ke.includes("?")||ke.includes("#")?ke=j(ke):{path:ke},ke.params={}),Je({query:Y.query,hash:Y.hash,params:ke.path!=null?{}:Y.params},ke)}}function xe(Y,_e){const H=m=L(Y),ke=f.value,ze=Y.state,_=Y.force,E=Y.replace===!0,B=ve(H);if(B)return xe(Je(j(B),{state:typeof B=="object"?Je({},ze,B.state):ze,force:_,replace:E}),_e||H);const W=H;W.redirectedFrom=_e;let Z;return!_&&dh(r,ke,H)&&(Z=Kr(16,{to:W,from:ke}),vt(ke,ke,!0,!1)),(Z?Promise.resolve(Z):je(W,ke)).catch(G=>Sn(G)?Sn(G,2)?G:ut(G):ue(G,W,ke)).then(G=>{if(G){if(Sn(G,2))return xe(Je({replace:E},j(G.to),{state:typeof G.to=="object"?Je({},ze,G.to.state):ze,force:_}),_e||W)}else G=qe(W,ke,!0,E,ze);return Ge(W,ke,G),G})}function Se(Y,_e){const H=K(Y,_e);return H?Promise.reject(H):Promise.resolve()}function Ae(Y){const _e=en.values().next().value;return _e&&typeof _e.runWithContext=="function"?_e.runWithContext(Y):Y()}function je(Y,_e){let H;const[ke,ze,_]=Gh(Y,_e);H=Ri(ke.reverse(),"beforeRouteLeave",Y,_e);for(const B of ke)B.leaveGuards.forEach(W=>{H.push(Qn(W,Y,_e))});const E=Se.bind(null,Y,_e);return H.push(E),dt(H).then(()=>{H=[];for(const B of a.list())H.push(Qn(B,Y,_e));return H.push(E),dt(H)}).then(()=>{H=Ri(ze,"beforeRouteUpdate",Y,_e);for(const B of ze)B.updateGuards.forEach(W=>{H.push(Qn(W,Y,_e))});return H.push(E),dt(H)}).then(()=>{H=[];for(const B of _)if(B.beforeEnter)if(cn(B.beforeEnter))for(const W of B.beforeEnter)H.push(Qn(W,Y,_e));else H.push(Qn(B.beforeEnter,Y,_e));return H.push(E),dt(H)}).then(()=>(Y.matched.forEach(B=>B.enterCallbacks={}),H=Ri(_,"beforeRouteEnter",Y,_e,Ae),H.push(E),dt(H))).then(()=>{H=[];for(const B of l.list())H.push(Qn(B,Y,_e));return H.push(E),dt(H)}).catch(B=>Sn(B,8)?B:Promise.reject(B))}function Ge(Y,_e,H){d.list().forEach(ke=>Ae(()=>ke(Y,_e,H)))}function qe(Y,_e,H,ke,ze){const _=K(Y,_e);if(_)return _;const E=_e===Un,B=Rr?history.state:{};H&&(ke||E?i.replace(Y.fullPath,Je({scroll:E&&B&&B.scroll},ze)):i.push(Y.fullPath,ze)),f.value=Y,vt(Y,_e,H,E),ut()}let st;function ie(){st||(st=i.listen((Y,_e,H)=>{if(!tn.listening)return;const ke=L(Y),ze=ve(ke);if(ze){xe(Je(ze,{replace:!0,force:!0}),ke).catch(ds);return}m=ke;const _=f.value;Rr&&bh(Wc(_.fullPath,H.delta),jo()),je(ke,_).catch(E=>Sn(E,12)?E:Sn(E,2)?(xe(Je(j(E.to),{force:!0}),ke).then(B=>{Sn(B,20)&&!H.delta&&H.type===ws.pop&&i.go(-1,!1)}).catch(ds),Promise.reject()):(H.delta&&i.go(-H.delta,!1),ue(E,ke,_))).then(E=>{E=E||qe(ke,_,!1),E&&(H.delta&&!Sn(E,8)?i.go(-H.delta,!1):H.type===ws.pop&&Sn(E,20)&&i.go(-1,!1)),Ge(ke,_,E)}).catch(ds)}))}let Q=ts(),F=ts(),oe;function ue(Y,_e,H){ut(Y);const ke=F.list();return ke.length?ke.forEach(ze=>ze(Y,_e,H)):console.error(Y),Promise.reject(Y)}function He(){return oe&&f.value!==Un?Promise.resolve():new Promise((Y,_e)=>{Q.add([Y,_e])})}function ut(Y){return oe||(oe=!Y,ie(),Q.list().forEach(([_e,H])=>Y?H(Y):_e()),Q.reset()),Y}function vt(Y,_e,H,ke){const{scrollBehavior:ze}=e;if(!Rr||!ze)return Promise.resolve();const _=!H&&_h(Wc(Y.fullPath,0))||(ke||!H)&&history.state&&history.state.scroll||null;return an().then(()=>ze(Y,_e,_)).then(E=>E&&vh(E)).catch(E=>ue(E,Y,_e))}const _t=Y=>i.go(Y);let At;const en=new Set,tn={currentRoute:f,listening:!0,addRoute:C,removeRoute:O,clearRoutes:t.clearRoutes,hasRoute:J,getRoutes:N,resolve:L,options:e,push:X,replace:we,go:_t,back:()=>_t(-1),forward:()=>_t(1),beforeEach:a.add,beforeResolve:l.add,afterEach:d.add,onError:F.add,isReady:He,install(Y){const _e=this;Y.component("RouterLink",Vh),Y.component("RouterView",Qh),Y.config.globalProperties.$router=_e,Object.defineProperty(Y.config.globalProperties,"$route",{enumerable:!0,get:()=>Ce(f)}),Rr&&!At&&f.value===Un&&(At=!0,X(i.location).catch(ze=>{}));const H={};for(const ze in Un)Object.defineProperty(H,ze,{get:()=>f.value[ze],enumerable:!0});Y.provide(Lo,_e),Y.provide(Aa,ql(H)),Y.provide(Xi,f);const ke=Y.unmount;en.add(Y),Y.unmount=function(){en.delete(Y),en.size<1&&(m=Un,st&&st(),st=null,f.value=Un,At=!1,oe=!1),ke()}}};function dt(Y){return Y.reduce((_e,H)=>_e.then(()=>Ae(H)),Promise.resolve())}return tn}function Gh(e,t){const n=[],r=[],i=[],a=Math.max(t.matched.length,e.matched.length);for(let l=0;l<a;l++){const d=t.matched[l];d&&(e.matched.find(m=>qr(m,d))?r.push(d):n.push(d));const f=e.matched[l];f&&(t.matched.find(m=>qr(m,f))||i.push(f))}return[n,r,i]}function Jh(){return Yt(Lo)}function Nu(e){return Yt(Aa)}const Xh={class:"navbar navbar-expand-md navbar-light bg-body fixed-top border-bottom"},Zh={class:"container-fluid"},em=["aria-expanded"],tm={class:"navbar-nav"},nm={class:"nav-item"},rm={class:"nav-item"},sm={class:"nav-item"},om={class:"nav-item"},im=rt({__name:"Navigation",setup(e){const t=Nu(),n=tt(()=>t.name==="decks"||t.name==="deck-detail"||t.name==="deck-import"),r=Pe(!1);return(i,a)=>{const l=Mo("router-link");return z(),te("nav",Xh,[x("div",Zh,[Ve(l,{to:"/",class:"navbar-brand"},{default:et(()=>[...a[1]||(a[1]=[rn(" MTG Tracker ",-1)])]),_:1}),x("button",{class:"navbar-toggler",type:"button",onClick:a[0]||(a[0]=d=>r.value=!r.value),"aria-controls":"navbarNav","aria-expanded":r.value,"aria-label":"Toggle navigation"},[...a[2]||(a[2]=[x("span",{class:"navbar-toggler-icon"},null,-1)])],8,em),x("div",{id:"navbarNav",class:Mt(["collapse navbar-collapse",{show:r.value}])},[x("ul",tm,[x("li",nm,[Ve(l,{to:"/",class:Mt(["nav-link",{active:Ce(t).name==="home"}])},{default:et(()=>[...a[3]||(a[3]=[rn(" Dashboard ",-1)])]),_:1},8,["class"])]),x("li",rm,[Ve(l,{to:"/decks",class:Mt(["nav-link",{active:n.value}])},{default:et(()=>[...a[4]||(a[4]=[rn(" Decks ",-1)])]),_:1},8,["class"])]),x("li",sm,[Ve(l,{to:"/cards",class:Mt(["nav-link",{active:Ce(t).name==="cards"}])},{default:et(()=>[...a[5]||(a[5]=[rn(" Cards ",-1)])]),_:1},8,["class"])]),x("li",om,[Ve(l,{to:"/import/cardmarket",class:Mt(["nav-link",{active:Ce(t).name==="cardmarket-import"}])},{default:et(()=>[...a[6]||(a[6]=[rn(" Cardmarket Import ",-1)])]),_:1},8,["class"])])])],2)])])}}}),am={class:"container-lg py-4"},cm=rt({__name:"App",setup(e){return(t,n)=>{const r=Mo("router-view");return z(),te(nt,null,[Ve(im),x("main",am,[Ve(r)])],64)}}});/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let ju;const qo=e=>ju=e,Lu=Symbol();function Zi(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ps;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ps||(ps={}));function lm(){const e=Io(!0),t=e.run(()=>Pe({}));let n=[],r=[];const i=ya({install(a){qo(i),i._a=a,a.provide(Lu,i),a.config.globalProperties.$pinia=i,r.forEach(l=>n.push(l)),r=[]},use(a){return this._a?n.push(a):r.push(a),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const qu=()=>{};function al(e,t,n,r=qu){e.push(t);const i=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),r())};return!n&&ca()&&Al(i),i}function Pr(e,...t){e.slice().forEach(n=>{n(...t)})}const um=e=>e(),cl=Symbol(),Di=Symbol();function ea(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];Zi(i)&&Zi(r)&&e.hasOwnProperty(n)&&!gt(r)&&!Gn(r)?e[n]=ea(i,r):e[n]=r}return e}const dm=Symbol();function fm(e){return!Zi(e)||!Object.prototype.hasOwnProperty.call(e,dm)}const{assign:Vn}=Object;function pm(e){return!!(gt(e)&&e.effect)}function hm(e,t,n,r){const{state:i,actions:a,getters:l}=t,d=n.state.value[e];let f;function m(){d||(n.state.value[e]=i?i():{});const h=ga(n.state.value[e]);return Vn(h,a,Object.keys(l||{}).reduce((y,v)=>(y[v]=ya(tt(()=>{qo(n);const C=n._s.get(e);return l[v].call(C,C)})),y),{}))}return f=Ku(e,m,t,n,r,!0),f}function Ku(e,t,n={},r,i,a){let l;const d=Vn({actions:{}},n),f={deep:!0};let m,h,y=[],v=[],C;const O=r.state.value[e];!a&&!O&&(r.state.value[e]={}),Pe({});let N;function J(Se){let Ae;m=h=!1,typeof Se=="function"?(Se(r.state.value[e]),Ae={type:ps.patchFunction,storeId:e,events:C}):(ea(r.state.value[e],Se),Ae={type:ps.patchObject,payload:Se,storeId:e,events:C});const je=N=Symbol();an().then(()=>{N===je&&(m=!0)}),h=!0,Pr(y,Ae,r.state.value[e])}const L=a?function(){const{state:Ae}=n,je=Ae?Ae():{};this.$patch(Ge=>{Vn(Ge,je)})}:qu;function j(){l.stop(),y=[],v=[],r._s.delete(e)}const K=(Se,Ae="")=>{if(cl in Se)return Se[Di]=Ae,Se;const je=function(){qo(r);const Ge=Array.from(arguments),qe=[],st=[];function ie(oe){qe.push(oe)}function Q(oe){st.push(oe)}Pr(v,{args:Ge,name:je[Di],store:we,after:ie,onError:Q});let F;try{F=Se.apply(this&&this.$id===e?this:we,Ge)}catch(oe){throw Pr(st,oe),oe}return F instanceof Promise?F.then(oe=>(Pr(qe,oe),oe)).catch(oe=>(Pr(st,oe),Promise.reject(oe))):(Pr(qe,F),F)};return je[cl]=!0,je[Di]=Ae,je},X={_p:r,$id:e,$onAction:al.bind(null,v),$patch:J,$reset:L,$subscribe(Se,Ae={}){const je=al(y,Se,Ae.detached,()=>Ge()),Ge=l.run(()=>Gt(()=>r.state.value[e],qe=>{(Ae.flush==="sync"?h:m)&&Se({storeId:e,type:ps.direct,events:C},qe)},Vn({},f,Ae)));return je},$dispose:j},we=mr(X);r._s.set(e,we);const xe=(r._a&&r._a.runWithContext||um)(()=>r._e.run(()=>(l=Io()).run(()=>t({action:K}))));for(const Se in xe){const Ae=xe[Se];if(gt(Ae)&&!pm(Ae)||Gn(Ae))a||(O&&fm(Ae)&&(gt(Ae)?Ae.value=O[Se]:ea(Ae,O[Se])),r.state.value[e][Se]=Ae);else if(typeof Ae=="function"){const je=K(Ae,Se);xe[Se]=je,d.actions[Se]=Ae}}return Vn(we,xe),Vn(Ye(we),xe),Object.defineProperty(we,"$state",{get:()=>r.state.value[e],set:Se=>{J(Ae=>{Vn(Ae,Se)})}}),r._p.forEach(Se=>{Vn(we,l.run(()=>Se({store:we,app:r._a,pinia:r,options:d})))}),O&&a&&n.hydrate&&n.hydrate(we.$state,O),m=!0,h=!0,we}/*! #__NO_SIDE_EFFECTS__ */function Sa(e,t,n){let r;const i=typeof t=="function";r=i?n:t;function a(l,d){const f=Uf();return l=l||(f?Yt(Lu,null):null),l&&qo(l),l=ju,l._s.has(e)||(i?Ku(e,t,r,l):hm(e,r,l)),l._s.get(e)}return a.$id=e,a}var mm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ym(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uo={exports:{}},gm=uo.exports,ll;function vm(){return ll||(ll=1,(function(e,t){(function(n,r){e.exports=r()})(gm,function(){var n=function(s,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(c[p]=u[p])})(s,o)},r=function(){return(r=Object.assign||function(s){for(var o,c=1,u=arguments.length;c<u;c++)for(var p in o=arguments[c])Object.prototype.hasOwnProperty.call(o,p)&&(s[p]=o[p]);return s}).apply(this,arguments)};function i(s,o,c){for(var u,p=0,g=o.length;p<g;p++)!u&&p in o||((u=u||Array.prototype.slice.call(o,0,p))[p]=o[p]);return s.concat(u||Array.prototype.slice.call(o))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:mm,l=Object.keys,d=Array.isArray;function f(s,o){return typeof o!="object"||l(o).forEach(function(c){s[c]=o[c]}),s}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var m=Object.getPrototypeOf,h={}.hasOwnProperty;function y(s,o){return h.call(s,o)}function v(s,o){typeof o=="function"&&(o=o(m(s))),(typeof Reflect>"u"?l:Reflect.ownKeys)(o).forEach(function(c){O(s,c,o[c])})}var C=Object.defineProperty;function O(s,o,c,u){C(s,o,f(c&&y(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},u))}function N(s){return{from:function(o){return s.prototype=Object.create(o.prototype),O(s.prototype,"constructor",s),{extend:v.bind(null,s.prototype)}}}}var J=Object.getOwnPropertyDescriptor,L=[].slice;function j(s,o,c){return L.call(s,o,c)}function K(s,o){return o(s)}function X(s){if(!s)throw new Error("Assertion Failed")}function we(s){a.setImmediate?setImmediate(s):setTimeout(s,0)}function ve(s,o){if(typeof o=="string"&&y(s,o))return s[o];if(!o)return s;if(typeof o!="string"){for(var c=[],u=0,p=o.length;u<p;++u){var g=ve(s,o[u]);c.push(g)}return c}var b=o.indexOf(".");if(b!==-1){var w=s[o.substr(0,b)];return w==null?void 0:ve(w,o.substr(b+1))}}function xe(s,o,c){if(s&&o!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof o!="string"&&"length"in o){X(typeof c!="string"&&"length"in c);for(var u=0,p=o.length;u<p;++u)xe(s,o[u],c[u])}else{var g,b,w=o.indexOf(".");w!==-1?(g=o.substr(0,w),(b=o.substr(w+1))===""?c===void 0?d(s)&&!isNaN(parseInt(g))?s.splice(g,1):delete s[g]:s[g]=c:xe(w=!(w=s[g])||!y(s,g)?s[g]={}:w,b,c)):c===void 0?d(s)&&!isNaN(parseInt(o))?s.splice(o,1):delete s[o]:s[o]=c}}function Se(s){var o,c={};for(o in s)y(s,o)&&(c[o]=s[o]);return c}var Ae=[].concat;function je(s){return Ae.apply([],s)}var Fe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(je([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(o){return o+s+"Array"})}))).filter(function(s){return a[s]}),Ge=new Set(Fe.map(function(s){return a[s]})),qe=null;function st(s){return qe=new WeakMap,s=(function o(c){if(!c||typeof c!="object")return c;var u=qe.get(c);if(u)return u;if(d(c)){u=[],qe.set(c,u);for(var p=0,g=c.length;p<g;++p)u.push(o(c[p]))}else if(Ge.has(c.constructor))u=c;else{var b,w=m(c);for(b in u=w===Object.prototype?{}:Object.create(w),qe.set(c,u),c)y(c,b)&&(u[b]=o(c[b]))}return u})(s),qe=null,s}var ie={}.toString;function Q(s){return ie.call(s).slice(8,-1)}var F=typeof Symbol<"u"?Symbol.iterator:"@@iterator",oe=typeof F=="symbol"?function(s){var o;return s!=null&&(o=s[F])&&o.apply(s)}:function(){return null};function ue(s,o){return o=s.indexOf(o),0<=o&&s.splice(o,1),0<=o}var He={};function ut(s){var o,c,u,p;if(arguments.length===1){if(d(s))return s.slice();if(this===He&&typeof s=="string")return[s];if(p=oe(s)){for(c=[];!(u=p.next()).done;)c.push(u.value);return c}if(s==null)return[s];if(typeof(o=s.length)!="number")return[s];for(c=new Array(o);o--;)c[o]=s[o];return c}for(o=arguments.length,c=new Array(o);o--;)c[o]=arguments[o];return c}var vt=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Re=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Xt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Re),_t={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function At(s,o){this.name=s,this.message=o}function en(s,o){return s+". Errors: "+Object.keys(o).map(function(c){return o[c].toString()}).filter(function(c,u,p){return p.indexOf(c)===u}).join(`
`)}function tn(s,o,c,u){this.failures=o,this.failedKeys=u,this.successCount=c,this.message=en(s,o)}function dt(s,o){this.name="BulkError",this.failures=Object.keys(o).map(function(c){return o[c]}),this.failuresByPos=o,this.message=en(s,this.failures)}N(At).from(Error).extend({toString:function(){return this.name+": "+this.message}}),N(tn).from(At),N(dt).from(At);var Y=Xt.reduce(function(s,o){return s[o]=o+"Error",s},{}),_e=At,H=Xt.reduce(function(s,o){var c=o+"Error";function u(p,g){this.name=c,p?typeof p=="string"?(this.message="".concat(p).concat(g?`
 `+g:""),this.inner=g||null):typeof p=="object"&&(this.message="".concat(p.name," ").concat(p.message),this.inner=p):(this.message=_t[o]||c,this.inner=null)}return N(u).from(_e),s[o]=u,s},{});H.Syntax=SyntaxError,H.Type=TypeError,H.Range=RangeError;var ke=Re.reduce(function(s,o){return s[o+"Error"]=H[o],s},{}),ze=Xt.reduce(function(s,o){return["Syntax","Type","Range"].indexOf(o)===-1&&(s[o+"Error"]=H[o]),s},{});function _(){}function E(s){return s}function B(s,o){return s==null||s===E?o:function(c){return o(s(c))}}function W(s,o){return function(){s.apply(this,arguments),o.apply(this,arguments)}}function Z(s,o){return s===_?o:function(){var c=s.apply(this,arguments);c!==void 0&&(arguments[0]=c);var u=this.onsuccess,p=this.onerror;this.onsuccess=null,this.onerror=null;var g=o.apply(this,arguments);return u&&(this.onsuccess=this.onsuccess?W(u,this.onsuccess):u),p&&(this.onerror=this.onerror?W(p,this.onerror):p),g!==void 0?g:c}}function G(s,o){return s===_?o:function(){s.apply(this,arguments);var c=this.onsuccess,u=this.onerror;this.onsuccess=this.onerror=null,o.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?W(c,this.onsuccess):c),u&&(this.onerror=this.onerror?W(u,this.onerror):u)}}function pe(s,o){return s===_?o:function(c){var u=s.apply(this,arguments);f(c,u);var p=this.onsuccess,g=this.onerror;return this.onsuccess=null,this.onerror=null,c=o.apply(this,arguments),p&&(this.onsuccess=this.onsuccess?W(p,this.onsuccess):p),g&&(this.onerror=this.onerror?W(g,this.onerror):g),u===void 0?c===void 0?void 0:c:f(u,c)}}function le(s,o){return s===_?o:function(){return o.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function ae(s,o){return s===_?o:function(){var c=s.apply(this,arguments);if(c&&typeof c.then=="function"){for(var u=this,p=arguments.length,g=new Array(p);p--;)g[p]=arguments[p];return c.then(function(){return o.apply(u,g)})}return o.apply(this,arguments)}}ze.ModifyError=tn,ze.DexieError=At,ze.BulkError=dt;var ee=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ie(s){ee=s}var he={},Oe=100,Fe=typeof Promise>"u"?[]:(function(){var s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,m(s),s];var o=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[o,m(o),s]})(),Re=Fe[0],Xt=Fe[1],Fe=Fe[2],Xt=Xt&&Xt.then,Ke=Re&&Re.constructor,We=!!Fe,bt=function(s,o){Bn.push([s,o]),Nt&&(queueMicrotask(rd),Nt=!1)},wt=!0,Nt=!0,Ct=[],ln=[],vr=E,ft={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:_,pgp:!1,env:{},finalize:_},be=ft,Bn=[],un=0,As=[];function ye(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var o=this._PSD=be;if(typeof s!="function"){if(s!==he)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Vo(this,this._value))}this._state=null,this._value=null,++o.ref,(function c(u,p){try{p(function(g){if(u._state===null){if(g===u)throw new TypeError("A promise cannot be resolved with itself.");var b=u._lib&&br();g&&typeof g.then=="function"?c(u,function(w,A){g instanceof ye?g._then(w,A):g.then(w,A)}):(u._state=!0,u._value=g,Ta(u)),b&&_r()}},Vo.bind(null,u))}catch(g){Vo(u,g)}})(this,s)}var Uo={get:function(){var s=be,o=Is;function c(u,p){var g=this,b=!s.global&&(s!==be||o!==Is),w=b&&!Nn(),A=new ye(function(P,R){Ho(g,new Da(Ma(u,s,b,w),Ma(p,s,b,w),P,R,s))});return this._consoleTask&&(A._consoleTask=this._consoleTask),A}return c.prototype=he,c},set:function(s){O(this,"then",s&&s.prototype===he?Uo:{get:function(){return s},set:Uo.set})}};function Da(s,o,c,u,p){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof o=="function"?o:null,this.resolve=c,this.reject=u,this.psd=p}function Vo(s,o){var c,u;ln.push(o),s._state===null&&(c=s._lib&&br(),o=vr(o),s._state=!1,s._value=o,u=s,Ct.some(function(p){return p._value===u._value})||Ct.push(u),Ta(s),c&&_r())}function Ta(s){var o=s._listeners;s._listeners=[];for(var c=0,u=o.length;c<u;++c)Ho(s,o[c]);var p=s._PSD;--p.ref||p.finalize(),un===0&&(++un,bt(function(){--un==0&&Wo()},[]))}function Ho(s,o){if(s._state!==null){var c=s._state?o.onFulfilled:o.onRejected;if(c===null)return(s._state?o.resolve:o.reject)(s._value);++o.psd.ref,++un,bt(nd,[c,s,o])}else s._listeners.push(o)}function nd(s,o,c){try{var u,p=o._value;!o._state&&ln.length&&(ln=[]),u=ee&&o._consoleTask?o._consoleTask.run(function(){return s(p)}):s(p),o._state||ln.indexOf(p)!==-1||(function(g){for(var b=Ct.length;b;)if(Ct[--b]._value===g._value)return Ct.splice(b,1)})(o),c.resolve(u)}catch(g){c.reject(g)}finally{--un==0&&Wo(),--c.psd.ref||c.psd.finalize()}}function rd(){tr(ft,function(){br()&&_r()})}function br(){var s=wt;return Nt=wt=!1,s}function _r(){var s,o,c;do for(;0<Bn.length;)for(s=Bn,Bn=[],c=s.length,o=0;o<c;++o){var u=s[o];u[0].apply(null,u[1])}while(0<Bn.length);Nt=wt=!0}function Wo(){var s=Ct;Ct=[],s.forEach(function(u){u._PSD.onunhandled.call(null,u._value,u)});for(var o=As.slice(0),c=o.length;c;)o[--c]()}function Ss(s){return new ye(he,!1,s)}function lt(s,o){var c=be;return function(){var u=br(),p=be;try{return jn(c,!0),s.apply(this,arguments)}catch(g){o&&o(g)}finally{jn(p,!1),u&&_r()}}}v(ye.prototype,{then:Uo,_then:function(s,o){Ho(this,new Da(null,null,s,o,be))},catch:function(s){if(arguments.length===1)return this.then(null,s);var o=s,c=arguments[1];return typeof o=="function"?this.then(null,function(u){return(u instanceof o?c:Ss)(u)}):this.then(null,function(u){return(u&&u.name===o?c:Ss)(u)})},finally:function(s){return this.then(function(o){return ye.resolve(s()).then(function(){return o})},function(o){return ye.resolve(s()).then(function(){return Ss(o)})})},timeout:function(s,o){var c=this;return s<1/0?new ye(function(u,p){var g=setTimeout(function(){return p(new H.Timeout(o))},s);c.then(u,p).finally(clearTimeout.bind(null,g))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&O(ye.prototype,Symbol.toStringTag,"Dexie.Promise"),ft.env=$a(),v(ye,{all:function(){var s=ut.apply(null,arguments).map(Rs);return new ye(function(o,c){s.length===0&&o([]);var u=s.length;s.forEach(function(p,g){return ye.resolve(p).then(function(b){s[g]=b,--u||o(s)},c)})})},resolve:function(s){return s instanceof ye?s:s&&typeof s.then=="function"?new ye(function(o,c){s.then(o,c)}):new ye(he,!0,s)},reject:Ss,race:function(){var s=ut.apply(null,arguments).map(Rs);return new ye(function(o,c){s.map(function(u){return ye.resolve(u).then(o,c)})})},PSD:{get:function(){return be},set:function(s){return be=s}},totalEchoes:{get:function(){return Is}},newPSD:Fn,usePSD:tr,scheduler:{get:function(){return bt},set:function(s){bt=s}},rejectionMapper:{get:function(){return vr},set:function(s){vr=s}},follow:function(s,o){return new ye(function(c,u){return Fn(function(p,g){var b=be;b.unhandleds=[],b.onunhandled=g,b.finalize=W(function(){var w,A=this;w=function(){A.unhandleds.length===0?p():g(A.unhandleds[0])},As.push(function P(){w(),As.splice(As.indexOf(P),1)}),++un,bt(function(){--un==0&&Wo()},[])},b.finalize),s()},o,c,u)})}}),Ke&&(Ke.allSettled&&O(ye,"allSettled",function(){var s=ut.apply(null,arguments).map(Rs);return new ye(function(o){s.length===0&&o([]);var c=s.length,u=new Array(c);s.forEach(function(p,g){return ye.resolve(p).then(function(b){return u[g]={status:"fulfilled",value:b}},function(b){return u[g]={status:"rejected",reason:b}}).then(function(){return--c||o(u)})})})}),Ke.any&&typeof AggregateError<"u"&&O(ye,"any",function(){var s=ut.apply(null,arguments).map(Rs);return new ye(function(o,c){s.length===0&&c(new AggregateError([]));var u=s.length,p=new Array(u);s.forEach(function(g,b){return ye.resolve(g).then(function(w){return o(w)},function(w){p[b]=w,--u||c(new AggregateError(p))})})})}),Ke.withResolvers&&(ye.withResolvers=Ke.withResolvers));var xt={awaits:0,echoes:0,id:0},sd=0,Ps=[],Os=0,Is=0,od=0;function Fn(s,o,c,u){var p=be,g=Object.create(p);return g.parent=p,g.ref=0,g.global=!1,g.id=++od,ft.env,g.env=We?{Promise:ye,PromiseProp:{value:ye,configurable:!0,writable:!0},all:ye.all,race:ye.race,allSettled:ye.allSettled,any:ye.any,resolve:ye.resolve,reject:ye.reject}:{},o&&f(g,o),++p.ref,g.finalize=function(){--this.parent.ref||this.parent.finalize()},u=tr(g,s,c,u),g.ref===0&&g.finalize(),u}function wr(){return xt.id||(xt.id=++sd),++xt.awaits,xt.echoes+=Oe,xt.id}function Nn(){return!!xt.awaits&&(--xt.awaits==0&&(xt.id=0),xt.echoes=xt.awaits*Oe,!0)}function Rs(s){return xt.echoes&&s&&s.constructor===Ke?(wr(),s.then(function(o){return Nn(),o},function(o){return Nn(),mt(o)})):s}function id(){var s=Ps[Ps.length-1];Ps.pop(),jn(s,!1)}function jn(s,o){var c,u=be;(o?!xt.echoes||Os++&&s===be:!Os||--Os&&s===be)||queueMicrotask(o?(function(p){++Is,xt.echoes&&--xt.echoes!=0||(xt.echoes=xt.awaits=xt.id=0),Ps.push(be),jn(p,!0)}).bind(null,s):id),s!==be&&(be=s,u===ft&&(ft.env=$a()),We&&(c=ft.env.Promise,o=s.env,(u.global||s.global)&&(Object.defineProperty(a,"Promise",o.PromiseProp),c.all=o.all,c.race=o.race,c.resolve=o.resolve,c.reject=o.reject,o.allSettled&&(c.allSettled=o.allSettled),o.any&&(c.any=o.any))))}function $a(){var s=a.Promise;return We?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function tr(s,o,c,u,p){var g=be;try{return jn(s,!0),o(c,u,p)}finally{jn(g,!1)}}function Ma(s,o,c,u){return typeof s!="function"?s:function(){var p=be;c&&wr(),jn(o,!0);try{return s.apply(this,arguments)}finally{jn(p,!1),u&&queueMicrotask(Nn)}}}function zo(s){Promise===Ke&&xt.echoes===0?Os===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+Xt).indexOf("[native code]")===-1&&(wr=Nn=_);var mt=ye.reject,nr="",kn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ba="String expected.",Cr=[],Ds="__dbnames",Qo="readonly",Yo="readwrite";function rr(s,o){return s?o?function(){return s.apply(this,arguments)&&o.apply(this,arguments)}:s:o}var Fa={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ts(s){return typeof s!="string"||/\./.test(s)?function(o){return o}:function(o){return o[s]===void 0&&s in o&&delete(o=st(o))[s],o}}function Na(){throw H.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Le(s,o){try{var c=ja(s),u=ja(o);if(c!==u)return c==="Array"?1:u==="Array"?-1:c==="binary"?1:u==="binary"?-1:c==="string"?1:u==="string"?-1:c==="Date"?1:u!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return o<s?1:s<o?-1:0;case"binary":return(function(p,g){for(var b=p.length,w=g.length,A=b<w?b:w,P=0;P<A;++P)if(p[P]!==g[P])return p[P]<g[P]?-1:1;return b===w?0:b<w?-1:1})(La(s),La(o));case"Array":return(function(p,g){for(var b=p.length,w=g.length,A=b<w?b:w,P=0;P<A;++P){var R=Le(p[P],g[P]);if(R!==0)return R}return b===w?0:b<w?-1:1})(s,o)}}catch{}return NaN}function ja(s){var o=typeof s;return o!="object"?o:ArrayBuffer.isView(s)?"binary":(s=Q(s),s==="ArrayBuffer"?"binary":s)}function La(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function $s(s,o,c){var u=s.schema.yProps;return u?(o&&0<c.numFailures&&(o=o.filter(function(p,g){return!c.failures[g]})),Promise.all(u.map(function(p){return p=p.updatesTable,o?s.db.table(p).where("k").anyOf(o).delete():s.db.table(p).clear()})).then(function(){return c})):c}var qa=(ct.prototype._trans=function(s,o,c){var u=this._tx||be.trans,p=this.name,g=ee&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function b(P,R,k){if(!k.schema[p])throw new H.NotFound("Table "+p+" not part of transaction");return o(k.idbtrans,k)}var w=br();try{var A=u&&u.db._novip===this.db._novip?u===be.trans?u._promise(s,b,c):Fn(function(){return u._promise(s,b,c)},{trans:u,transless:be.transless||be}):(function P(R,k,$,S){if(R.idbdb&&(R._state.openComplete||be.letThrough||R._vip)){var I=R._createTransaction(k,$,R._dbSchema);try{I.create(),R._state.PR1398_maxLoop=3}catch(T){return T.name===Y.InvalidState&&R.isOpen()&&0<--R._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),R.close({disableAutoOpen:!1}),R.open().then(function(){return P(R,k,$,S)})):mt(T)}return I._promise(k,function(T,D){return Fn(function(){return be.trans=I,S(T,D,I)})}).then(function(T){if(k==="readwrite")try{I.idbtrans.commit()}catch{}return k==="readonly"?T:I._completion.then(function(){return T})})}if(R._state.openComplete)return mt(new H.DatabaseClosed(R._state.dbOpenError));if(!R._state.isBeingOpened){if(!R._state.autoOpen)return mt(new H.DatabaseClosed);R.open().catch(_)}return R._state.dbReadyPromise.then(function(){return P(R,k,$,S)})})(this.db,s,[this.name],b);return g&&(A._consoleTask=g,A=A.catch(function(P){return console.trace(P),mt(P)})),A}finally{w&&_r()}},ct.prototype.get=function(s,o){var c=this;return s&&s.constructor===Object?this.where(s).first(o):s==null?mt(new H.Type("Invalid argument to Table.get()")):this._trans("readonly",function(u){return c.core.get({trans:u,key:s}).then(function(p){return c.hook.reading.fire(p)})}).then(o)},ct.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(d(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var o=l(s);if(o.length===1)return this.where(o[0]).equals(s[o[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(w){if(w.compound&&o.every(function(P){return 0<=w.keyPath.indexOf(P)})){for(var A=0;A<o.length;++A)if(o.indexOf(w.keyPath[A])===-1)return!1;return!0}return!1}).sort(function(w,A){return w.keyPath.length-A.keyPath.length})[0];if(c&&this.db._maxKey!==nr){var g=c.keyPath.slice(0,o.length);return this.where(g).equals(g.map(function(A){return s[A]}))}!c&&ee&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(o.join("+"),"]"));var u=this.schema.idxByName;function p(w,A){return Le(w,A)===0}var b=o.reduce(function(k,A){var P=k[0],R=k[1],k=u[A],$=s[A];return[P||k,P||!k?rr(R,k&&k.multi?function(S){return S=ve(S,A),d(S)&&S.some(function(I){return p($,I)})}:function(S){return p($,ve(S,A))}):R]},[null,null]),g=b[0],b=b[1];return g?this.where(g.name).equals(s[g.keyPath]).filter(b):c?this.filter(b):this.where(o).equals("")},ct.prototype.filter=function(s){return this.toCollection().and(s)},ct.prototype.count=function(s){return this.toCollection().count(s)},ct.prototype.offset=function(s){return this.toCollection().offset(s)},ct.prototype.limit=function(s){return this.toCollection().limit(s)},ct.prototype.each=function(s){return this.toCollection().each(s)},ct.prototype.toArray=function(s){return this.toCollection().toArray(s)},ct.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ct.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,d(s)?"[".concat(s.join("+"),"]"):s))},ct.prototype.reverse=function(){return this.toCollection().reverse()},ct.prototype.mapToClass=function(s){var o,c=this.db,u=this.name;function p(){return o!==null&&o.apply(this,arguments)||this}(this.schema.mappedClass=s).prototype instanceof Na&&((function(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function R(){this.constructor=A}n(A,P),A.prototype=P===null?Object.create(P):(R.prototype=P.prototype,new R)})(p,o=s),Object.defineProperty(p.prototype,"db",{get:function(){return c},enumerable:!1,configurable:!0}),p.prototype.table=function(){return u},s=p);for(var g=new Set,b=s.prototype;b;b=m(b))Object.getOwnPropertyNames(b).forEach(function(A){return g.add(A)});function w(A){if(!A)return A;var P,R=Object.create(s.prototype);for(P in A)if(!g.has(P))try{R[P]=A[P]}catch{}return R}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=w,this.hook("reading",w),s},ct.prototype.defineClass=function(){return this.mapToClass(function(s){f(this,s)})},ct.prototype.add=function(s,o){var c=this,u=this.schema.primKey,p=u.auto,g=u.keyPath,b=s;return g&&p&&(b=Ts(g)(s)),this._trans("readwrite",function(w){return c.core.mutate({trans:w,type:"add",keys:o!=null?[o]:null,values:[b]})}).then(function(w){return w.numFailures?ye.reject(w.failures[0]):w.lastResult}).then(function(w){if(g)try{xe(s,g,w)}catch{}return w})},ct.prototype.update=function(s,o){return typeof s!="object"||d(s)?this.where(":id").equals(s).modify(o):(s=ve(s,this.schema.primKey.keyPath),s===void 0?mt(new H.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(o))},ct.prototype.put=function(s,o){var c=this,u=this.schema.primKey,p=u.auto,g=u.keyPath,b=s;return g&&p&&(b=Ts(g)(s)),this._trans("readwrite",function(w){return c.core.mutate({trans:w,type:"put",values:[b],keys:o!=null?[o]:null})}).then(function(w){return w.numFailures?ye.reject(w.failures[0]):w.lastResult}).then(function(w){if(g)try{xe(s,g,w)}catch{}return w})},ct.prototype.delete=function(s){var o=this;return this._trans("readwrite",function(c){return o.core.mutate({trans:c,type:"delete",keys:[s]}).then(function(u){return $s(o,[s],u)}).then(function(u){return u.numFailures?ye.reject(u.failures[0]):void 0})})},ct.prototype.clear=function(){var s=this;return this._trans("readwrite",function(o){return s.core.mutate({trans:o,type:"deleteRange",range:Fa}).then(function(c){return $s(s,null,c)})}).then(function(o){return o.numFailures?ye.reject(o.failures[0]):void 0})},ct.prototype.bulkGet=function(s){var o=this;return this._trans("readonly",function(c){return o.core.getMany({keys:s,trans:c}).then(function(u){return u.map(function(p){return o.hook.reading.fire(p)})})})},ct.prototype.bulkAdd=function(s,o,c){var u=this,p=Array.isArray(o)?o:void 0,g=(c=c||(p?void 0:o))?c.allKeys:void 0;return this._trans("readwrite",function(b){var P=u.schema.primKey,w=P.auto,P=P.keyPath;if(P&&p)throw new H.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(p&&p.length!==s.length)throw new H.InvalidArgument("Arguments objects and keys must have the same length");var A=s.length,P=P&&w?s.map(Ts(P)):s;return u.core.mutate({trans:b,type:"add",keys:p,values:P,wantResults:g}).then(function(I){var k=I.numFailures,$=I.results,S=I.lastResult,I=I.failures;if(k===0)return g?$:S;throw new dt("".concat(u.name,".bulkAdd(): ").concat(k," of ").concat(A," operations failed"),I)})})},ct.prototype.bulkPut=function(s,o,c){var u=this,p=Array.isArray(o)?o:void 0,g=(c=c||(p?void 0:o))?c.allKeys:void 0;return this._trans("readwrite",function(b){var P=u.schema.primKey,w=P.auto,P=P.keyPath;if(P&&p)throw new H.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(p&&p.length!==s.length)throw new H.InvalidArgument("Arguments objects and keys must have the same length");var A=s.length,P=P&&w?s.map(Ts(P)):s;return u.core.mutate({trans:b,type:"put",keys:p,values:P,wantResults:g}).then(function(I){var k=I.numFailures,$=I.results,S=I.lastResult,I=I.failures;if(k===0)return g?$:S;throw new dt("".concat(u.name,".bulkPut(): ").concat(k," of ").concat(A," operations failed"),I)})})},ct.prototype.bulkUpdate=function(s){var o=this,c=this.core,u=s.map(function(b){return b.key}),p=s.map(function(b){return b.changes}),g=[];return this._trans("readwrite",function(b){return c.getMany({trans:b,keys:u,cache:"clone"}).then(function(w){var A=[],P=[];s.forEach(function(k,$){var S=k.key,I=k.changes,T=w[$];if(T){for(var D=0,M=Object.keys(I);D<M.length;D++){var q=M[D],U=I[q];if(q===o.schema.primKey.keyPath){if(Le(U,S)!==0)throw new H.Constraint("Cannot update primary key in bulkUpdate()")}else xe(T,q,U)}g.push($),A.push(S),P.push(T)}});var R=A.length;return c.mutate({trans:b,type:"put",keys:A,values:P,updates:{keys:u,changeSpecs:p}}).then(function(k){var $=k.numFailures,S=k.failures;if($===0)return R;for(var I=0,T=Object.keys(S);I<T.length;I++){var D,M=T[I],q=g[Number(M)];q!=null&&(D=S[M],delete S[M],S[q]=D)}throw new dt("".concat(o.name,".bulkUpdate(): ").concat($," of ").concat(R," operations failed"),S)})})})},ct.prototype.bulkDelete=function(s){var o=this,c=s.length;return this._trans("readwrite",function(u){return o.core.mutate({trans:u,type:"delete",keys:s}).then(function(p){return $s(o,s,p)})}).then(function(b){var p=b.numFailures,g=b.lastResult,b=b.failures;if(p===0)return g;throw new dt("".concat(o.name,".bulkDelete(): ").concat(p," of ").concat(c," operations failed"),b)})},ct);function ct(){}function Vr(s){function o(b,w){if(w){for(var A=arguments.length,P=new Array(A-1);--A;)P[A-1]=arguments[A];return c[b].subscribe.apply(null,P),s}if(typeof b=="string")return c[b]}var c={};o.addEventType=g;for(var u=1,p=arguments.length;u<p;++u)g(arguments[u]);return o;function g(b,w,A){if(typeof b!="object"){var P;w=w||le;var R={subscribers:[],fire:A=A||_,subscribe:function(k){R.subscribers.indexOf(k)===-1&&(R.subscribers.push(k),R.fire=w(R.fire,k))},unsubscribe:function(k){R.subscribers=R.subscribers.filter(function($){return $!==k}),R.fire=R.subscribers.reduce(w,A)}};return c[b]=o[b]=R}l(P=b).forEach(function(k){var $=P[k];if(d($))g(k,P[k][0],P[k][1]);else{if($!=="asap")throw new H.InvalidArgument("Invalid event config");var S=g(k,E,function(){for(var I=arguments.length,T=new Array(I);I--;)T[I]=arguments[I];S.subscribers.forEach(function(D){we(function(){D.apply(null,T)})})})}})}}function Hr(s,o){return N(o).from({prototype:s}),o}function xr(s,o){return!(s.filter||s.algorithm||s.or)&&(o?s.justLimit:!s.replayFilter)}function Go(s,o){s.filter=rr(s.filter,o)}function Jo(s,o,c){var u=s.replayFilter;s.replayFilter=u?function(){return rr(u(),o())}:o,s.justLimit=c&&!u}function Ms(s,o){if(s.isPrimKey)return o.primaryKey;var c=o.getIndexByKeyPath(s.index);if(!c)throw new H.Schema("KeyPath "+s.index+" on object store "+o.name+" is not indexed");return c}function Ka(s,o,c){var u=Ms(s,o.schema);return o.openCursor({trans:c,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:u,range:s.range}})}function Bs(s,o,c,u){var p=s.replayFilter?rr(s.filter,s.replayFilter()):s.filter;if(s.or){var g={},b=function(w,A,P){var R,k;p&&!p(A,P,function($){return A.stop($)},function($){return A.fail($)})||((k=""+(R=A.primaryKey))=="[object ArrayBuffer]"&&(k=""+new Uint8Array(R)),y(g,k)||(g[k]=!0,o(w,A,P)))};return Promise.all([s.or._iterate(b,c),Ua(Ka(s,u,c),s.algorithm,b,!s.keysOnly&&s.valueMapper)])}return Ua(Ka(s,u,c),rr(s.algorithm,p),o,!s.keysOnly&&s.valueMapper)}function Ua(s,o,c,u){var p=lt(u?function(g,b,w){return c(u(g),b,w)}:c);return s.then(function(g){if(g)return g.start(function(){var b=function(){return g.continue()};o&&!o(g,function(w){return b=w},function(w){g.stop(w),b=_},function(w){g.fail(w),b=_})||p(g.value,g,function(w){return b=w}),b()})})}var Wr=(Va.prototype.execute=function(s){var o=this["@@propmod"];if(o.add!==void 0){var c=o.add;if(d(c))return i(i([],d(s)?s:[],!0),c).sort();if(typeof c=="number")return(Number(s)||0)+c;if(typeof c=="bigint")try{return BigInt(s)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(o.remove!==void 0){var u=o.remove;if(d(u))return d(s)?s.filter(function(p){return!u.includes(p)}).sort():[];if(typeof u=="number")return Number(s)-u;if(typeof u=="bigint")try{return BigInt(s)-u}catch{return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return c=(c=o.replacePrefix)===null||c===void 0?void 0:c[0],c&&typeof s=="string"&&s.startsWith(c)?o.replacePrefix[1]+s.substring(c.length):s},Va);function Va(s){this["@@propmod"]=s}var ad=(Qe.prototype._read=function(s,o){var c=this._ctx;return c.error?c.table._trans(null,mt.bind(null,c.error)):c.table._trans("readonly",s).then(o)},Qe.prototype._write=function(s){var o=this._ctx;return o.error?o.table._trans(null,mt.bind(null,o.error)):o.table._trans("readwrite",s,"locked")},Qe.prototype._addAlgorithm=function(s){var o=this._ctx;o.algorithm=rr(o.algorithm,s)},Qe.prototype._iterate=function(s,o){return Bs(this._ctx,s,o,this._ctx.table.core)},Qe.prototype.clone=function(s){var o=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return s&&f(c,s),o._ctx=c,o},Qe.prototype.raw=function(){return this._ctx.valueMapper=null,this},Qe.prototype.each=function(s){var o=this._ctx;return this._read(function(c){return Bs(o,s,c,o.table.core)})},Qe.prototype.count=function(s){var o=this;return this._read(function(c){var u=o._ctx,p=u.table.core;if(xr(u,!0))return p.count({trans:c,query:{index:Ms(u,p.schema),range:u.range}}).then(function(b){return Math.min(b,u.limit)});var g=0;return Bs(u,function(){return++g,!1},c,p).then(function(){return g})}).then(s)},Qe.prototype.sortBy=function(s,o){var c=s.split(".").reverse(),u=c[0],p=c.length-1;function g(A,P){return P?g(A[c[P]],P-1):A[u]}var b=this._ctx.dir==="next"?1:-1;function w(A,P){return Le(g(A,p),g(P,p))*b}return this.toArray(function(A){return A.sort(w)}).then(o)},Qe.prototype.toArray=function(s){var o=this;return this._read(function(c){var u=o._ctx;if(u.dir==="next"&&xr(u,!0)&&0<u.limit){var p=u.valueMapper,g=Ms(u,u.table.core.schema);return u.table.core.query({trans:c,limit:u.limit,values:!0,query:{index:g,range:u.range}}).then(function(w){return w=w.result,p?w.map(p):w})}var b=[];return Bs(u,function(w){return b.push(w)},c,u.table.core).then(function(){return b})},s)},Qe.prototype.offset=function(s){var o=this._ctx;return s<=0||(o.offset+=s,xr(o)?Jo(o,function(){var c=s;return function(u,p){return c===0||(c===1?--c:p(function(){u.advance(c),c=0}),!1)}}):Jo(o,function(){var c=s;return function(){return--c<0}})),this},Qe.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),Jo(this._ctx,function(){var o=s;return function(c,u,p){return--o<=0&&u(p),0<=o}},!0),this},Qe.prototype.until=function(s,o){return Go(this._ctx,function(c,u,p){return!s(c.value)||(u(p),o)}),this},Qe.prototype.first=function(s){return this.limit(1).toArray(function(o){return o[0]}).then(s)},Qe.prototype.last=function(s){return this.reverse().first(s)},Qe.prototype.filter=function(s){var o;return Go(this._ctx,function(c){return s(c.value)}),(o=this._ctx).isMatch=rr(o.isMatch,s),this},Qe.prototype.and=function(s){return this.filter(s)},Qe.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},Qe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Qe.prototype.desc=function(){return this.reverse()},Qe.prototype.eachKey=function(s){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(c,u){s(u.key,u)})},Qe.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},Qe.prototype.eachPrimaryKey=function(s){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(c,u){s(u.primaryKey,u)})},Qe.prototype.keys=function(s){var o=this._ctx;o.keysOnly=!o.isMatch;var c=[];return this.each(function(u,p){c.push(p.key)}).then(function(){return c}).then(s)},Qe.prototype.primaryKeys=function(s){var o=this._ctx;if(o.dir==="next"&&xr(o,!0)&&0<o.limit)return this._read(function(u){var p=Ms(o,o.table.core.schema);return o.table.core.query({trans:u,values:!1,limit:o.limit,query:{index:p,range:o.range}})}).then(function(u){return u.result}).then(s);o.keysOnly=!o.isMatch;var c=[];return this.each(function(u,p){c.push(p.primaryKey)}).then(function(){return c}).then(s)},Qe.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},Qe.prototype.firstKey=function(s){return this.limit(1).keys(function(o){return o[0]}).then(s)},Qe.prototype.lastKey=function(s){return this.reverse().firstKey(s)},Qe.prototype.distinct=function(){var s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];if(!s||!s.multi)return this;var o={};return Go(this._ctx,function(p){var u=p.primaryKey.toString(),p=y(o,u);return o[u]=!0,!p}),this},Qe.prototype.modify=function(s){var o=this,c=this._ctx;return this._write(function(u){var p,g,b;b=typeof s=="function"?s:(p=l(s),g=p.length,function(M){for(var q=!1,U=0;U<g;++U){var V=p[U],ne=s[V],ce=ve(M,V);ne instanceof Wr?(xe(M,V,ne.execute(ce)),q=!0):ce!==ne&&(xe(M,V,ne),q=!0)}return q});var w=c.table.core,k=w.schema.primaryKey,A=k.outbound,P=k.extractKey,R=200,k=o.db._options.modifyChunkSize;k&&(R=typeof k=="object"?k[w.name]||k["*"]||200:k);function $(M,V){var U=V.failures,V=V.numFailures;I+=M-V;for(var ne=0,ce=l(U);ne<ce.length;ne++){var re=ce[ne];S.push(U[re])}}var S=[],I=0,T=[],D=s===Ha;return o.clone().primaryKeys().then(function(M){function q(V){var ne=Math.min(R,M.length-V),ce=M.slice(V,V+ne);return(D?Promise.resolve([]):w.getMany({trans:u,keys:ce,cache:"immutable"})).then(function(re){var se=[],me=[],de=A?[]:null,ge=D?ce:[];if(!D)for(var Ne=0;Ne<ne;++Ne){var Ue=re[Ne],Me={value:st(Ue),primKey:M[V+Ne]};b.call(Me,Me.value,Me)!==!1&&(Me.value==null?ge.push(M[V+Ne]):A||Le(P(Ue),P(Me.value))===0?(me.push(Me.value),A&&de.push(M[V+Ne])):(ge.push(M[V+Ne]),se.push(Me.value)))}return Promise.resolve(0<se.length&&w.mutate({trans:u,type:"add",values:se}).then(function(pt){for(var Te in pt.failures)ge.splice(parseInt(Te),1);$(se.length,pt)})).then(function(){return(0<me.length||U&&typeof s=="object")&&w.mutate({trans:u,type:"put",keys:de,values:me,criteria:U,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<V}).then(function(pt){return $(me.length,pt)})}).then(function(){return(0<ge.length||U&&D)&&w.mutate({trans:u,type:"delete",keys:ge,criteria:U,isAdditionalChunk:0<V}).then(function(pt){return $s(c.table,ge,pt)}).then(function(pt){return $(ge.length,pt)})}).then(function(){return M.length>V+ne&&q(V+R)})})}var U=xr(c)&&c.limit===1/0&&(typeof s!="function"||D)&&{index:c.index,range:c.range};return q(0).then(function(){if(0<S.length)throw new tn("Error modifying one or more objects",S,I,T);return M.length})})})},Qe.prototype.delete=function(){var s=this._ctx,o=s.range;return!xr(s)||s.table.schema.yProps||!s.isPrimKey&&o.type!==3?this.modify(Ha):this._write(function(c){var u=s.table.core.schema.primaryKey,p=o;return s.table.core.count({trans:c,query:{index:u,range:p}}).then(function(g){return s.table.core.mutate({trans:c,type:"deleteRange",range:p}).then(function(A){var w=A.failures,A=A.numFailures;if(A)throw new tn("Could not delete some values",Object.keys(w).map(function(P){return w[P]}),g-A);return g-A})})})},Qe);function Qe(){}var Ha=function(s,o){return o.value=null};function cd(s,o){return s<o?-1:s===o?0:1}function ld(s,o){return o<s?-1:s===o?0:1}function Ht(s,o,c){return s=s instanceof za?new s.Collection(s):s,s._ctx.error=new(c||TypeError)(o),s}function kr(s){return new s.Collection(s,function(){return Wa("")}).limit(0)}function Fs(s,o,c,u){var p,g,b,w,A,P,R,k=c.length;if(!c.every(function(I){return typeof I=="string"}))return Ht(s,Ba);function $(I){p=I==="next"?function(D){return D.toUpperCase()}:function(D){return D.toLowerCase()},g=I==="next"?function(D){return D.toLowerCase()}:function(D){return D.toUpperCase()},b=I==="next"?cd:ld;var T=c.map(function(D){return{lower:g(D),upper:p(D)}}).sort(function(D,M){return b(D.lower,M.lower)});w=T.map(function(D){return D.upper}),A=T.map(function(D){return D.lower}),R=(P=I)==="next"?"":u}$("next"),s=new s.Collection(s,function(){return Ln(w[0],A[k-1]+u)}),s._ondirectionchange=function(I){$(I)};var S=0;return s._addAlgorithm(function(I,T,D){var M=I.key;if(typeof M!="string")return!1;var q=g(M);if(o(q,A,S))return!0;for(var U=null,V=S;V<k;++V){var ne=(function(ce,re,se,me,de,ge){for(var Ne=Math.min(ce.length,me.length),Ue=-1,Me=0;Me<Ne;++Me){var pt=re[Me];if(pt!==me[Me])return de(ce[Me],se[Me])<0?ce.substr(0,Me)+se[Me]+se.substr(Me+1):de(ce[Me],me[Me])<0?ce.substr(0,Me)+me[Me]+se.substr(Me+1):0<=Ue?ce.substr(0,Ue)+re[Ue]+se.substr(Ue+1):null;de(ce[Me],pt)<0&&(Ue=Me)}return Ne<me.length&&ge==="next"?ce+se.substr(ce.length):Ne<ce.length&&ge==="prev"?ce.substr(0,se.length):Ue<0?null:ce.substr(0,Ue)+me[Ue]+se.substr(Ue+1)})(M,q,w[V],A[V],b,P);ne===null&&U===null?S=V+1:(U===null||0<b(U,ne))&&(U=ne)}return T(U!==null?function(){I.continue(U+R)}:D),!1}),s}function Ln(s,o,c,u){return{type:2,lower:s,upper:o,lowerOpen:c,upperOpen:u}}function Wa(s){return{type:1,lower:s,upper:s}}var za=(Object.defineProperty(kt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),kt.prototype.between=function(s,o,c,u){c=c!==!1,u=u===!0;try{return 0<this._cmp(s,o)||this._cmp(s,o)===0&&(c||u)&&(!c||!u)?kr(this):new this.Collection(this,function(){return Ln(s,o,!c,!u)})}catch{return Ht(this,kn)}},kt.prototype.equals=function(s){return s==null?Ht(this,kn):new this.Collection(this,function(){return Wa(s)})},kt.prototype.above=function(s){return s==null?Ht(this,kn):new this.Collection(this,function(){return Ln(s,void 0,!0)})},kt.prototype.aboveOrEqual=function(s){return s==null?Ht(this,kn):new this.Collection(this,function(){return Ln(s,void 0,!1)})},kt.prototype.below=function(s){return s==null?Ht(this,kn):new this.Collection(this,function(){return Ln(void 0,s,!1,!0)})},kt.prototype.belowOrEqual=function(s){return s==null?Ht(this,kn):new this.Collection(this,function(){return Ln(void 0,s)})},kt.prototype.startsWith=function(s){return typeof s!="string"?Ht(this,Ba):this.between(s,s+nr,!0,!0)},kt.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):Fs(this,function(o,c){return o.indexOf(c[0])===0},[s],nr)},kt.prototype.equalsIgnoreCase=function(s){return Fs(this,function(o,c){return o===c[0]},[s],"")},kt.prototype.anyOfIgnoreCase=function(){var s=ut.apply(He,arguments);return s.length===0?kr(this):Fs(this,function(o,c){return c.indexOf(o)!==-1},s,"")},kt.prototype.startsWithAnyOfIgnoreCase=function(){var s=ut.apply(He,arguments);return s.length===0?kr(this):Fs(this,function(o,c){return c.some(function(u){return o.indexOf(u)===0})},s,nr)},kt.prototype.anyOf=function(){var s=this,o=ut.apply(He,arguments),c=this._cmp;try{o.sort(c)}catch{return Ht(this,kn)}if(o.length===0)return kr(this);var u=new this.Collection(this,function(){return Ln(o[0],o[o.length-1])});u._ondirectionchange=function(g){c=g==="next"?s._ascending:s._descending,o.sort(c)};var p=0;return u._addAlgorithm(function(g,b,w){for(var A=g.key;0<c(A,o[p]);)if(++p===o.length)return b(w),!1;return c(A,o[p])===0||(b(function(){g.continue(o[p])}),!1)}),u},kt.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},kt.prototype.noneOf=function(){var s=ut.apply(He,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return Ht(this,kn)}var o=s.reduce(function(c,u){return c?c.concat([[c[c.length-1][1],u]]):[[-1/0,u]]},null);return o.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(o,{includeLowers:!1,includeUppers:!1})},kt.prototype.inAnyRange=function(M,o){var c=this,u=this._cmp,p=this._ascending,g=this._descending,b=this._min,w=this._max;if(M.length===0)return kr(this);if(!M.every(function(q){return q[0]!==void 0&&q[1]!==void 0&&p(q[0],q[1])<=0}))return Ht(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",H.InvalidArgument);var A=!o||o.includeLowers!==!1,P=o&&o.includeUppers===!0,R,k=p;function $(q,U){return k(q[0],U[0])}try{(R=M.reduce(function(q,U){for(var V=0,ne=q.length;V<ne;++V){var ce=q[V];if(u(U[0],ce[1])<0&&0<u(U[1],ce[0])){ce[0]=b(ce[0],U[0]),ce[1]=w(ce[1],U[1]);break}}return V===ne&&q.push(U),q},[])).sort($)}catch{return Ht(this,kn)}var S=0,I=P?function(q){return 0<p(q,R[S][1])}:function(q){return 0<=p(q,R[S][1])},T=A?function(q){return 0<g(q,R[S][0])}:function(q){return 0<=g(q,R[S][0])},D=I,M=new this.Collection(this,function(){return Ln(R[0][0],R[R.length-1][1],!A,!P)});return M._ondirectionchange=function(q){k=q==="next"?(D=I,p):(D=T,g),R.sort($)},M._addAlgorithm(function(q,U,V){for(var ne,ce=q.key;D(ce);)if(++S===R.length)return U(V),!1;return!I(ne=ce)&&!T(ne)||(c._cmp(ce,R[S][1])===0||c._cmp(ce,R[S][0])===0||U(function(){k===p?q.continue(R[S][0]):q.continue(R[S][1])}),!1)}),M},kt.prototype.startsWithAnyOf=function(){var s=ut.apply(He,arguments);return s.every(function(o){return typeof o=="string"})?s.length===0?kr(this):this.inAnyRange(s.map(function(o){return[o,o+nr]})):Ht(this,"startsWithAnyOf() only works with strings")},kt);function kt(){}function dn(s){return lt(function(o){return zr(o),s(o.target.error),!1})}function zr(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var Qr="storagemutated",Xo="x-storagemutated-1",qn=Vr(null,Qr),ud=(fn.prototype._lock=function(){return X(!be.global),++this._reculock,this._reculock!==1||be.global||(be.lockOwnerFor=this),this},fn.prototype._unlock=function(){if(X(!be.global),--this._reculock==0)for(be.global||(be.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{tr(s[1],s[0])}catch{}}return this},fn.prototype._locked=function(){return this._reculock&&be.lockOwnerFor!==this},fn.prototype.create=function(s){var o=this;if(!this.mode)return this;var c=this.db.idbdb,u=this.db._state.dbOpenError;if(X(!this.idbtrans),!s&&!c)switch(u&&u.name){case"DatabaseClosedError":throw new H.DatabaseClosed(u);case"MissingAPIError":throw new H.MissingAPI(u.message,u);default:throw new H.OpenFailed(u)}if(!this.active)throw new H.TransactionInactive;return X(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=lt(function(p){zr(p),o._reject(s.error)}),s.onabort=lt(function(p){zr(p),o.active&&o._reject(new H.Abort(s.error)),o.active=!1,o.on("abort").fire(p)}),s.oncomplete=lt(function(){o.active=!1,o._resolve(),"mutatedParts"in s&&qn.storagemutated.fire(s.mutatedParts)}),this},fn.prototype._promise=function(s,o,c){var u=this;if(s==="readwrite"&&this.mode!=="readwrite")return mt(new H.ReadOnly("Transaction is readonly"));if(!this.active)return mt(new H.TransactionInactive);if(this._locked())return new ye(function(g,b){u._blockedFuncs.push([function(){u._promise(s,o,c).then(g,b)},be])});if(c)return Fn(function(){var g=new ye(function(b,w){u._lock();var A=o(b,w,u);A&&A.then&&A.then(b,w)});return g.finally(function(){return u._unlock()}),g._lib=!0,g});var p=new ye(function(g,b){var w=o(g,b,u);w&&w.then&&w.then(g,b)});return p._lib=!0,p},fn.prototype._root=function(){return this.parent?this.parent._root():this},fn.prototype.waitFor=function(s){var o,c=this._root(),u=ye.resolve(s);c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return u}):(c._waitingFor=u,c._waitingQueue=[],o=c.idbtrans.objectStore(c.storeNames[0]),(function g(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(o.get(-1/0).onsuccess=g)})());var p=c._waitingFor;return new ye(function(g,b){u.then(function(w){return c._waitingQueue.push(lt(g.bind(null,w)))},function(w){return c._waitingQueue.push(lt(b.bind(null,w)))}).finally(function(){c._waitingFor===p&&(c._waitingFor=null)})})},fn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new H.Abort))},fn.prototype.table=function(s){var o=this._memoizedTables||(this._memoizedTables={});if(y(o,s))return o[s];var c=this.schema[s];if(!c)throw new H.NotFound("Table "+s+" not part of transaction");return c=new this.db.Table(s,c,this),c.core=this.db.core.table(s),o[s]=c},fn);function fn(){}function Zo(s,o,c,u,p,g,b,w){return{name:s,keyPath:o,unique:c,multi:u,auto:p,compound:g,src:(c&&!b?"&":"")+(u?"*":"")+(p?"++":"")+Qa(o),type:w}}function Qa(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function ei(s,o,c){return{name:s,primKey:o,indexes:c,mappedClass:null,idxByName:(u=function(p){return[p.name,p]},c.reduce(function(p,g,b){return b=u(g,b),b&&(p[b[0]]=b[1]),p},{}))};var u}var Yr=function(s){try{return s.only([[]]),Yr=function(){return[[]]},[[]]}catch{return Yr=function(){return nr},nr}};function ti(s){return s==null?function(){}:typeof s=="string"?(o=s).split(".").length===1?function(c){return c[o]}:function(c){return ve(c,o)}:function(c){return ve(c,s)};var o}function Ya(s){return[].slice.call(s)}var dd=0;function Gr(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function fd(s,o,A){function u(D){if(D.type===3)return null;if(D.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var S=D.lower,I=D.upper,T=D.lowerOpen,D=D.upperOpen;return S===void 0?I===void 0?null:o.upperBound(I,!!D):I===void 0?o.lowerBound(S,!!T):o.bound(S,I,!!T,!!D)}function p($){var S,I=$.name;return{name:I,schema:$,mutate:function(T){var D=T.trans,M=T.type,q=T.keys,U=T.values,V=T.range;return new Promise(function(ne,ce){ne=lt(ne);var re=D.objectStore(I),se=re.keyPath==null,me=M==="put"||M==="add";if(!me&&M!=="delete"&&M!=="deleteRange")throw new Error("Invalid operation type: "+M);var de,ge=(q||U||{length:1}).length;if(q&&U&&q.length!==U.length)throw new Error("Given keys array must have same length as given values array.");if(ge===0)return ne({numFailures:0,failures:{},results:[],lastResult:void 0});function Ne(jt){++pt,zr(jt)}var Ue=[],Me=[],pt=0;if(M==="deleteRange"){if(V.type===4)return ne({numFailures:pt,failures:Me,results:[],lastResult:void 0});V.type===3?Ue.push(de=re.clear()):Ue.push(de=re.delete(u(V)))}else{var se=me?se?[U,q]:[U,null]:[q,null],Te=se[0],It=se[1];if(me)for(var Rt=0;Rt<ge;++Rt)Ue.push(de=It&&It[Rt]!==void 0?re[M](Te[Rt],It[Rt]):re[M](Te[Rt])),de.onerror=Ne;else for(Rt=0;Rt<ge;++Rt)Ue.push(de=re[M](Te[Rt])),de.onerror=Ne}function Ys(jt){jt=jt.target.result,Ue.forEach(function(ir,bi){return ir.error!=null&&(Me[bi]=ir.error)}),ne({numFailures:pt,failures:Me,results:M==="delete"?q:Ue.map(function(ir){return ir.result}),lastResult:jt})}de.onerror=function(jt){Ne(jt),Ys(jt)},de.onsuccess=Ys})},getMany:function(T){var D=T.trans,M=T.keys;return new Promise(function(q,U){q=lt(q);for(var V,ne=D.objectStore(I),ce=M.length,re=new Array(ce),se=0,me=0,de=function(Ue){Ue=Ue.target,re[Ue._pos]=Ue.result,++me===se&&q(re)},ge=dn(U),Ne=0;Ne<ce;++Ne)M[Ne]!=null&&((V=ne.get(M[Ne]))._pos=Ne,V.onsuccess=de,V.onerror=ge,++se);se===0&&q(re)})},get:function(T){var D=T.trans,M=T.key;return new Promise(function(q,U){q=lt(q);var V=D.objectStore(I).get(M);V.onsuccess=function(ne){return q(ne.target.result)},V.onerror=dn(U)})},query:(S=P,function(T){return new Promise(function(D,M){D=lt(D);var q,U,V,se=T.trans,ne=T.values,ce=T.limit,de=T.query,re=ce===1/0?void 0:ce,me=de.index,de=de.range,se=se.objectStore(I),me=me.isPrimaryKey?se:se.index(me.name),de=u(de);if(ce===0)return D({result:[]});S?((re=ne?me.getAll(de,re):me.getAllKeys(de,re)).onsuccess=function(ge){return D({result:ge.target.result})},re.onerror=dn(M)):(q=0,U=!ne&&"openKeyCursor"in me?me.openKeyCursor(de):me.openCursor(de),V=[],U.onsuccess=function(ge){var Ne=U.result;return Ne?(V.push(ne?Ne.value:Ne.primaryKey),++q===ce?D({result:V}):void Ne.continue()):D({result:V})},U.onerror=dn(M))})}),openCursor:function(T){var D=T.trans,M=T.values,q=T.query,U=T.reverse,V=T.unique;return new Promise(function(ne,ce){ne=lt(ne);var me=q.index,re=q.range,se=D.objectStore(I),se=me.isPrimaryKey?se:se.index(me.name),me=U?V?"prevunique":"prev":V?"nextunique":"next",de=!M&&"openKeyCursor"in se?se.openKeyCursor(u(re),me):se.openCursor(u(re),me);de.onerror=dn(ce),de.onsuccess=lt(function(ge){var Ne,Ue,Me,pt,Te=de.result;Te?(Te.___id=++dd,Te.done=!1,Ne=Te.continue.bind(Te),Ue=(Ue=Te.continuePrimaryKey)&&Ue.bind(Te),Me=Te.advance.bind(Te),pt=function(){throw new Error("Cursor not stopped")},Te.trans=D,Te.stop=Te.continue=Te.continuePrimaryKey=Te.advance=function(){throw new Error("Cursor not started")},Te.fail=lt(ce),Te.next=function(){var It=this,Rt=1;return this.start(function(){return Rt--?It.continue():It.stop()}).then(function(){return It})},Te.start=function(It){function Rt(){if(de.result)try{It()}catch(jt){Te.fail(jt)}else Te.done=!0,Te.start=function(){throw new Error("Cursor behind last entry")},Te.stop()}var Ys=new Promise(function(jt,ir){jt=lt(jt),de.onerror=dn(ir),Te.fail=ir,Te.stop=function(bi){Te.stop=Te.continue=Te.continuePrimaryKey=Te.advance=pt,jt(bi)}});return de.onsuccess=lt(function(jt){de.onsuccess=Rt,Rt()}),Te.continue=Ne,Te.continuePrimaryKey=Ue,Te.advance=Me,Rt(),Ys},ne(Te)):ne(null)},ce)})},count:function(T){var D=T.query,M=T.trans,q=D.index,U=D.range;return new Promise(function(V,ne){var ce=M.objectStore(I),re=q.isPrimaryKey?ce:ce.index(q.name),ce=u(U),re=ce?re.count(ce):re.count();re.onsuccess=lt(function(se){return V(se.target.result)}),re.onerror=dn(ne)})}}}var g,b,w,R=(b=A,w=Ya((g=s).objectStoreNames),{schema:{name:g.name,tables:w.map(function($){return b.objectStore($)}).map(function($){var S=$.keyPath,D=$.autoIncrement,I=d(S),T={},D={name:$.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:S==null,compound:I,keyPath:S,autoIncrement:D,unique:!0,extractKey:ti(S)},indexes:Ya($.indexNames).map(function(M){return $.index(M)}).map(function(V){var q=V.name,U=V.unique,ne=V.multiEntry,V=V.keyPath,ne={name:q,compound:d(V),keyPath:V,unique:U,multiEntry:ne,extractKey:ti(V)};return T[Gr(V)]=ne}),getIndexByKeyPath:function(M){return T[Gr(M)]}};return T[":id"]=D.primaryKey,S!=null&&(T[Gr(S)]=D.primaryKey),D})},hasGetAll:0<w.length&&"getAll"in b.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),A=R.schema,P=R.hasGetAll,R=A.tables.map(p),k={};return R.forEach(function($){return k[$.name]=$}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function($){if(!k[$])throw new Error("Table '".concat($,"' not found"));return k[$]},MIN_KEY:-1/0,MAX_KEY:Yr(o),schema:A}}function pd(s,o,c,u){var p=c.IDBKeyRange;return c.indexedDB,{dbcore:(u=fd(o,p,u),s.dbcore.reduce(function(g,b){return b=b.create,r(r({},g),b(g))},u))}}function Ns(s,u){var c=u.db,u=pd(s._middlewares,c,s._deps,u);s.core=u.dbcore,s.tables.forEach(function(p){var g=p.name;s.core.schema.tables.some(function(b){return b.name===g})&&(p.core=s.core.table(g),s[g]instanceof s.Table&&(s[g].core=p.core))})}function js(s,o,c,u){c.forEach(function(p){var g=u[p];o.forEach(function(b){var w=(function A(P,R){return J(P,R)||(P=m(P))&&A(P,R)})(b,p);(!w||"value"in w&&w.value===void 0)&&(b===s.Transaction.prototype||b instanceof s.Transaction?O(b,p,{get:function(){return this.table(p)},set:function(A){C(this,p,{value:A,writable:!0,configurable:!0,enumerable:!0})}}):b[p]=new s.Table(p,g))})})}function ni(s,o){o.forEach(function(c){for(var u in c)c[u]instanceof s.Table&&delete c[u]})}function hd(s,o){return s._cfg.version-o._cfg.version}function md(s,o,c,u){var p=s._dbSchema;c.objectStoreNames.contains("$meta")&&!p.$meta&&(p.$meta=ei("$meta",Ja("")[0],[]),s._storeNames.push("$meta"));var g=s._createTransaction("readwrite",s._storeNames,p);g.create(c),g._completion.catch(u);var b=g._reject.bind(g),w=be.transless||be;Fn(function(){return be.trans=g,be.transless=w,o!==0?(Ns(s,c),P=o,((A=g).storeNames.includes("$meta")?A.table("$meta").get("version").then(function(R){return R??P}):ye.resolve(P)).then(function(R){return $=R,S=g,I=c,T=[],R=(k=s)._versions,D=k._dbSchema=qs(0,k.idbdb,I),(R=R.filter(function(M){return M._cfg.version>=$})).length!==0?(R.forEach(function(M){T.push(function(){var q=D,U=M._cfg.dbschema;Ks(k,q,I),Ks(k,U,I),D=k._dbSchema=U;var V=ri(q,U);V.add.forEach(function(me){si(I,me[0],me[1].primKey,me[1].indexes)}),V.change.forEach(function(me){if(me.recreate)throw new H.Upgrade("Not yet support for changing primary key");var de=I.objectStore(me.name);me.add.forEach(function(ge){return Ls(de,ge)}),me.change.forEach(function(ge){de.deleteIndex(ge.name),Ls(de,ge)}),me.del.forEach(function(ge){return de.deleteIndex(ge)})});var ne=M._cfg.contentUpgrade;if(ne&&M._cfg.version>$){Ns(k,I),S._memoizedTables={};var ce=Se(U);V.del.forEach(function(me){ce[me]=q[me]}),ni(k,[k.Transaction.prototype]),js(k,[k.Transaction.prototype],l(ce),ce),S.schema=ce;var re,se=vt(ne);return se&&wr(),V=ye.follow(function(){var me;(re=ne(S))&&se&&(me=Nn.bind(null,null),re.then(me,me))}),re&&typeof re.then=="function"?ye.resolve(re):V.then(function(){return re})}}),T.push(function(q){var U,V,ne=M._cfg.dbschema;U=ne,V=q,[].slice.call(V.db.objectStoreNames).forEach(function(ce){return U[ce]==null&&V.db.deleteObjectStore(ce)}),ni(k,[k.Transaction.prototype]),js(k,[k.Transaction.prototype],k._storeNames,k._dbSchema),S.schema=k._dbSchema}),T.push(function(q){k.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(k.idbdb.version/10)===M._cfg.version?(k.idbdb.deleteObjectStore("$meta"),delete k._dbSchema.$meta,k._storeNames=k._storeNames.filter(function(U){return U!=="$meta"})):q.objectStore("$meta").put(M._cfg.version,"version"))})}),(function M(){return T.length?ye.resolve(T.shift()(S.idbtrans)).then(M):ye.resolve()})().then(function(){Ga(D,I)})):ye.resolve();var k,$,S,I,T,D}).catch(b)):(l(p).forEach(function(R){si(c,R,p[R].primKey,p[R].indexes)}),Ns(s,c),void ye.follow(function(){return s.on.populate.fire(g)}).catch(b));var A,P})}function yd(s,o){Ga(s._dbSchema,o),o.db.version%10!=0||o.objectStoreNames.contains("$meta")||o.db.createObjectStore("$meta").add(Math.ceil(o.db.version/10-1),"version");var c=qs(0,s.idbdb,o);Ks(s,s._dbSchema,o);for(var u=0,p=ri(c,s._dbSchema).change;u<p.length;u++){var g=(function(b){if(b.change.length||b.recreate)return console.warn("Unable to patch indexes of table ".concat(b.name," because it has changes on the type of index or primary key.")),{value:void 0};var w=o.objectStore(b.name);b.add.forEach(function(A){ee&&console.debug("Dexie upgrade patch: Creating missing index ".concat(b.name,".").concat(A.src)),Ls(w,A)})})(p[u]);if(typeof g=="object")return g.value}}function ri(s,o){var c,u={del:[],add:[],change:[]};for(c in s)o[c]||u.del.push(c);for(c in o){var p=s[c],g=o[c];if(p){var b={name:c,def:g,recreate:!1,del:[],add:[],change:[]};if(""+(p.primKey.keyPath||"")!=""+(g.primKey.keyPath||"")||p.primKey.auto!==g.primKey.auto)b.recreate=!0,u.change.push(b);else{var w=p.idxByName,A=g.idxByName,P=void 0;for(P in w)A[P]||b.del.push(P);for(P in A){var R=w[P],k=A[P];R?R.src!==k.src&&b.change.push(k):b.add.push(k)}(0<b.del.length||0<b.add.length||0<b.change.length)&&u.change.push(b)}}else u.add.push([c,g])}return u}function si(s,o,c,u){var p=s.db.createObjectStore(o,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return u.forEach(function(g){return Ls(p,g)}),p}function Ga(s,o){l(s).forEach(function(c){o.db.objectStoreNames.contains(c)||(ee&&console.debug("Dexie: Creating missing table",c),si(o,c,s[c].primKey,s[c].indexes))})}function Ls(s,o){s.createIndex(o.name,o.keyPath,{unique:o.unique,multiEntry:o.multi})}function qs(s,o,c){var u={};return j(o.objectStoreNames,0).forEach(function(p){for(var g=c.objectStore(p),b=Zo(Qa(P=g.keyPath),P||"",!0,!1,!!g.autoIncrement,P&&typeof P!="string",!0),w=[],A=0;A<g.indexNames.length;++A){var R=g.index(g.indexNames[A]),P=R.keyPath,R=Zo(R.name,P,!!R.unique,!!R.multiEntry,!1,P&&typeof P!="string",!1);w.push(R)}u[p]=ei(p,b,w)}),u}function Ks(s,o,c){for(var u=c.db.objectStoreNames,p=0;p<u.length;++p){var g=u[p],b=c.objectStore(g);s._hasGetAll="getAll"in b;for(var w=0;w<b.indexNames.length;++w){var A=b.indexNames[w],P=b.index(A).keyPath,R=typeof P=="string"?P:"["+j(P).join("+")+"]";!o[g]||(P=o[g].idxByName[R])&&(P.name=A,delete o[g].idxByName[R],o[g].idxByName[A]=P)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function Ja(s){return s.split(",").map(function(o,c){var g=o.split(":"),u=(p=g[1])===null||p===void 0?void 0:p.trim(),p=(o=g[0].trim()).replace(/([&*]|\+\+)/g,""),g=/^\[/.test(p)?p.match(/^\[(.*)\]$/)[1].split("+"):p;return Zo(p,g||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),d(g),c===0,u)})}var gd=(Er.prototype._createTableSchema=ei,Er.prototype._parseIndexSyntax=Ja,Er.prototype._parseStoresSpec=function(s,o){var c=this;l(s).forEach(function(u){if(s[u]!==null){var p=c._parseIndexSyntax(s[u]),g=p.shift();if(!g)throw new H.Schema("Invalid schema for table "+u+": "+s[u]);if(g.unique=!0,g.multi)throw new H.Schema("Primary key cannot be multiEntry*");p.forEach(function(b){if(b.auto)throw new H.Schema("Only primary key can be marked as autoIncrement (++)");if(!b.keyPath)throw new H.Schema("Index must have a name and cannot be an empty string")}),p=c._createTableSchema(u,g,p),o[u]=p}})},Er.prototype.stores=function(c){var o=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,c):c;var c=o._versions,u={},p={};return c.forEach(function(g){f(u,g._cfg.storesSource),p=g._cfg.dbschema={},g._parseStoresSpec(u,p)}),o._dbSchema=p,ni(o,[o._allTables,o,o.Transaction.prototype]),js(o,[o._allTables,o,o.Transaction.prototype,this._cfg.tables],l(p),p),o._storeNames=l(p),this},Er.prototype.upgrade=function(s){return this._cfg.contentUpgrade=ae(this._cfg.contentUpgrade||_,s),this},Er);function Er(){}function oi(s,o){var c=s._dbNamesDB;return c||(c=s._dbNamesDB=new En(Ds,{addons:[],indexedDB:s,IDBKeyRange:o})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function ii(s){return s&&typeof s.databases=="function"}function ai(s){return Fn(function(){return be.letThrough=!0,s()})}function ci(s){return!("from"in s)}var Ot=function(s,o){if(!this){var c=new Ot;return s&&"d"in s&&f(c,s),c}f(this,arguments.length?{d:1,from:s,to:1<arguments.length?o:s}:{d:0})};function Jr(s,o,c){var u=Le(o,c);if(!isNaN(u)){if(0<u)throw RangeError();if(ci(s))return f(s,{from:o,to:c,d:1});var p=s.l,u=s.r;if(Le(c,s.from)<0)return p?Jr(p,o,c):s.l={from:o,to:c,d:1,l:null,r:null},Za(s);if(0<Le(o,s.to))return u?Jr(u,o,c):s.r={from:o,to:c,d:1,l:null,r:null},Za(s);Le(o,s.from)<0&&(s.from=o,s.l=null,s.d=u?u.d+1:1),0<Le(c,s.to)&&(s.to=c,s.r=null,s.d=s.l?s.l.d+1:1),c=!s.r,p&&!s.l&&Xr(s,p),u&&c&&Xr(s,u)}}function Xr(s,o){ci(o)||(function c(u,A){var g=A.from,b=A.to,w=A.l,A=A.r;Jr(u,g,b),w&&c(u,w),A&&c(u,A)})(s,o)}function Xa(s,o){var c=Us(o),u=c.next();if(u.done)return!1;for(var p=u.value,g=Us(s),b=g.next(p.from),w=b.value;!u.done&&!b.done;){if(Le(w.from,p.to)<=0&&0<=Le(w.to,p.from))return!0;Le(p.from,w.from)<0?p=(u=c.next(w.from)).value:w=(b=g.next(p.from)).value}return!1}function Us(s){var o=ci(s)?null:{s:0,n:s};return{next:function(c){for(var u=0<arguments.length;o;)switch(o.s){case 0:if(o.s=1,u)for(;o.n.l&&Le(c,o.n.from)<0;)o={up:o,n:o.n.l,s:1};else for(;o.n.l;)o={up:o,n:o.n.l,s:1};case 1:if(o.s=2,!u||Le(c,o.n.to)<=0)return{value:o.n,done:!1};case 2:if(o.n.r){o.s=3,o={up:o,n:o.n.r,s:0};continue}case 3:o=o.up}return{done:!0}}}}function Za(s){var o,c,u=(((o=s.r)===null||o===void 0?void 0:o.d)||0)-(((c=s.l)===null||c===void 0?void 0:c.d)||0),p=1<u?"r":u<-1?"l":"";p&&(o=p=="r"?"l":"r",c=r({},s),u=s[p],s.from=u.from,s.to=u.to,s[p]=u[p],c[p]=u[o],(s[o]=c).d=ec(c)),s.d=ec(s)}function ec(c){var o=c.r,c=c.l;return(o?c?Math.max(o.d,c.d):o.d:c?c.d:0)+1}function Vs(s,o){return l(o).forEach(function(c){s[c]?Xr(s[c],o[c]):s[c]=(function u(p){var g,b,w={};for(g in p)y(p,g)&&(b=p[g],w[g]=!b||typeof b!="object"||Ge.has(b.constructor)?b:u(b));return w})(o[c])}),s}function li(s,o){return s.all||o.all||Object.keys(s).some(function(c){return o[c]&&Xa(o[c],s[c])})}v(Ot.prototype,((Xt={add:function(s){return Xr(this,s),this},addKey:function(s){return Jr(this,s,s),this},addKeys:function(s){var o=this;return s.forEach(function(c){return Jr(o,c,c)}),this},hasKey:function(s){var o=Us(this).next(s).value;return o&&Le(o.from,s)<=0&&0<=Le(o.to,s)}})[F]=function(){return Us(this)},Xt));var sr={},ui={},di=!1;function Hs(s){Vs(ui,s),di||(di=!0,setTimeout(function(){di=!1,fi(ui,!(ui={}))},0))}function fi(s,o){o===void 0&&(o=!1);var c=new Set;if(s.all)for(var u=0,p=Object.values(sr);u<p.length;u++)tc(b=p[u],s,c,o);else for(var g in s){var b,w=/^idb\:\/\/(.*)\/(.*)\//.exec(g);w&&(g=w[1],w=w[2],(b=sr["idb://".concat(g,"/").concat(w)])&&tc(b,s,c,o))}c.forEach(function(A){return A()})}function tc(s,o,c,u){for(var p=[],g=0,b=Object.entries(s.queries.query);g<b.length;g++){for(var w=b[g],A=w[0],P=[],R=0,k=w[1];R<k.length;R++){var $=k[R];li(o,$.obsSet)?$.subscribers.forEach(function(D){return c.add(D)}):u&&P.push($)}u&&p.push([A,P])}if(u)for(var S=0,I=p;S<I.length;S++){var T=I[S],A=T[0],P=T[1];s.queries.query[A]=P}}function vd(s){var o=s._state,c=s._deps.indexedDB;if(o.isBeingOpened||s.idbdb)return o.dbReadyPromise.then(function(){return o.dbOpenError?mt(o.dbOpenError):s});o.isBeingOpened=!0,o.dbOpenError=null,o.openComplete=!1;var u=o.openCanceller,p=Math.round(10*s.verno),g=!1;function b(){if(o.openCanceller!==u)throw new H.DatabaseClosed("db.open() was cancelled")}function w(){return new ye(function($,S){if(b(),!c)throw new H.MissingAPI;var I=s.name,T=o.autoSchema||!p?c.open(I):c.open(I,p);if(!T)throw new H.MissingAPI;T.onerror=dn(S),T.onblocked=lt(s._fireOnBlocked),T.onupgradeneeded=lt(function(D){var M;R=T.transaction,o.autoSchema&&!s._options.allowEmptyDB?(T.onerror=zr,R.abort(),T.result.close(),(M=c.deleteDatabase(I)).onsuccess=M.onerror=lt(function(){S(new H.NoSuchDatabase("Database ".concat(I," doesnt exist")))})):(R.onerror=dn(S),D=D.oldVersion>Math.pow(2,62)?0:D.oldVersion,k=D<1,s.idbdb=T.result,g&&yd(s,R),md(s,D/10,R,S))},S),T.onsuccess=lt(function(){R=null;var D,M,q,U,V,ne=s.idbdb=T.result,ce=j(ne.objectStoreNames);if(0<ce.length)try{var re=ne.transaction((U=ce).length===1?U[0]:U,"readonly");if(o.autoSchema)M=ne,q=re,(D=s).verno=M.version/10,q=D._dbSchema=qs(0,M,q),D._storeNames=j(M.objectStoreNames,0),js(D,[D._allTables],l(q),q);else if(Ks(s,s._dbSchema,re),((V=ri(qs(0,(V=s).idbdb,re),V._dbSchema)).add.length||V.change.some(function(se){return se.add.length||se.change.length}))&&!g)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ne.close(),p=ne.version+1,g=!0,$(w());Ns(s,re)}catch{}Cr.push(s),ne.onversionchange=lt(function(se){o.vcFired=!0,s.on("versionchange").fire(se)}),ne.onclose=lt(function(se){s.on("close").fire(se)}),k&&(V=s._deps,re=I,ne=V.indexedDB,V=V.IDBKeyRange,ii(ne)||re===Ds||oi(ne,V).put({name:re}).catch(_)),$()},S)}).catch(function($){switch($?.name){case"UnknownError":if(0<o.PR1398_maxLoop)return o.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),w();break;case"VersionError":if(0<p)return p=0,w()}return ye.reject($)})}var A,P=o.dbReadyResolve,R=null,k=!1;return ye.race([u,(typeof navigator>"u"?ye.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function($){function S(){return indexedDB.databases().finally($)}A=setInterval(S,100),S()}).finally(function(){return clearInterval(A)}):Promise.resolve()).then(w)]).then(function(){return b(),o.onReadyBeingFired=[],ye.resolve(ai(function(){return s.on.ready.fire(s.vip)})).then(function $(){if(0<o.onReadyBeingFired.length){var S=o.onReadyBeingFired.reduce(ae,_);return o.onReadyBeingFired=[],ye.resolve(ai(function(){return S(s.vip)})).then($)}})}).finally(function(){o.openCanceller===u&&(o.onReadyBeingFired=null,o.isBeingOpened=!1)}).catch(function($){o.dbOpenError=$;try{R&&R.abort()}catch{}return u===o.openCanceller&&s._close(),mt($)}).finally(function(){o.openComplete=!0,P()}).then(function(){var $;return k&&($={},s.tables.forEach(function(S){S.schema.indexes.forEach(function(I){I.name&&($["idb://".concat(s.name,"/").concat(S.name,"/").concat(I.name)]=new Ot(-1/0,[[[]]]))}),$["idb://".concat(s.name,"/").concat(S.name,"/")]=$["idb://".concat(s.name,"/").concat(S.name,"/:dels")]=new Ot(-1/0,[[[]]])}),qn(Qr).fire($),fi($,!0)),s})}function pi(s){function o(g){return s.next(g)}var c=p(o),u=p(function(g){return s.throw(g)});function p(g){return function(A){var w=g(A),A=w.value;return w.done?A:A&&typeof A.then=="function"?A.then(c,u):d(A)?Promise.all(A).then(c,u):c(A)}}return p(o)()}function Ws(s,o,c){for(var u=d(s)?s.slice():[s],p=0;p<c;++p)u.push(o);return u}var bd={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return r(r({},s),{table:function(o){var c=s.table(o),u=c.schema,p={},g=[];function b(k,$,S){var I=Gr(k),T=p[I]=p[I]||[],D=k==null?0:typeof k=="string"?1:k.length,M=0<$,M=r(r({},S),{name:M?"".concat(I,"(virtual-from:").concat(S.name,")"):S.name,lowLevelIndex:S,isVirtual:M,keyTail:$,keyLength:D,extractKey:ti(k),unique:!M&&S.unique});return T.push(M),M.isPrimaryKey||g.push(M),1<D&&b(D===2?k[0]:k.slice(0,D-1),$+1,S),T.sort(function(q,U){return q.keyTail-U.keyTail}),M}o=b(u.primaryKey.keyPath,0,u.primaryKey),p[":id"]=[o];for(var w=0,A=u.indexes;w<A.length;w++){var P=A[w];b(P.keyPath,0,P)}function R(k){var $,S=k.query.index;return S.isVirtual?r(r({},k),{query:{index:S.lowLevelIndex,range:($=k.query.range,S=S.keyTail,{type:$.type===1?2:$.type,lower:Ws($.lower,$.lowerOpen?s.MAX_KEY:s.MIN_KEY,S),lowerOpen:!0,upper:Ws($.upper,$.upperOpen?s.MIN_KEY:s.MAX_KEY,S),upperOpen:!0})}}):k}return r(r({},c),{schema:r(r({},u),{primaryKey:o,indexes:g,getIndexByKeyPath:function(k){return(k=p[Gr(k)])&&k[0]}}),count:function(k){return c.count(R(k))},query:function(k){return c.query(R(k))},openCursor:function(k){var $=k.query.index,S=$.keyTail,I=$.isVirtual,T=$.keyLength;return I?c.openCursor(R(k)).then(function(M){return M&&D(M)}):c.openCursor(k);function D(M){return Object.create(M,{continue:{value:function(q){q!=null?M.continue(Ws(q,k.reverse?s.MAX_KEY:s.MIN_KEY,S)):k.unique?M.continue(M.key.slice(0,T).concat(k.reverse?s.MIN_KEY:s.MAX_KEY,S)):M.continue()}},continuePrimaryKey:{value:function(q,U){M.continuePrimaryKey(Ws(q,s.MAX_KEY,S),U)}},primaryKey:{get:function(){return M.primaryKey}},key:{get:function(){var q=M.key;return T===1?q[0]:q.slice(0,T)}},value:{get:function(){return M.value}}})}}})}})}};function hi(s,o,c,u){return c=c||{},u=u||"",l(s).forEach(function(p){var g,b,w;y(o,p)?(g=s[p],b=o[p],typeof g=="object"&&typeof b=="object"&&g&&b?(w=Q(g))!==Q(b)?c[u+p]=o[p]:w==="Object"?hi(g,b,c,u+p+"."):g!==b&&(c[u+p]=o[p]):g!==b&&(c[u+p]=o[p])):c[u+p]=void 0}),l(o).forEach(function(p){y(s,p)||(c[u+p]=o[p])}),c}function mi(s,o){return o.type==="delete"?o.keys:o.keys||o.values.map(s.extractKey)}var _d={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return r(r({},s),{table:function(o){var c=s.table(o),u=c.schema.primaryKey;return r(r({},c),{mutate:function(p){var g=be.trans,b=g.table(o).hook,w=b.deleting,A=b.creating,P=b.updating;switch(p.type){case"add":if(A.fire===_)break;return g._promise("readwrite",function(){return R(p)},!0);case"put":if(A.fire===_&&P.fire===_)break;return g._promise("readwrite",function(){return R(p)},!0);case"delete":if(w.fire===_)break;return g._promise("readwrite",function(){return R(p)},!0);case"deleteRange":if(w.fire===_)break;return g._promise("readwrite",function(){return(function k($,S,I){return c.query({trans:$,values:!1,query:{index:u,range:S},limit:I}).then(function(T){var D=T.result;return R({type:"delete",keys:D,trans:$}).then(function(M){return 0<M.numFailures?Promise.reject(M.failures[0]):D.length<I?{failures:[],numFailures:0,lastResult:void 0}:k($,r(r({},S),{lower:D[D.length-1],lowerOpen:!0}),I)})})})(p.trans,p.range,1e4)},!0)}return c.mutate(p);function R(k){var $,S,I,T=be.trans,D=k.keys||mi(u,k);if(!D)throw new Error("Keys missing");return(k=k.type==="add"||k.type==="put"?r(r({},k),{keys:D}):r({},k)).type!=="delete"&&(k.values=i([],k.values)),k.keys&&(k.keys=i([],k.keys)),$=c,I=D,((S=k).type==="add"?Promise.resolve([]):$.getMany({trans:S.trans,keys:I,cache:"immutable"})).then(function(M){var q=D.map(function(U,V){var ne,ce,re,se=M[V],me={onerror:null,onsuccess:null};return k.type==="delete"?w.fire.call(me,U,se,T):k.type==="add"||se===void 0?(ne=A.fire.call(me,U,k.values[V],T),U==null&&ne!=null&&(k.keys[V]=U=ne,u.outbound||xe(k.values[V],u.keyPath,U))):(ne=hi(se,k.values[V]),(ce=P.fire.call(me,ne,U,se,T))&&(re=k.values[V],Object.keys(ce).forEach(function(de){y(re,de)?re[de]=ce[de]:xe(re,de,ce[de])}))),me});return c.mutate(k).then(function(U){for(var V=U.failures,ne=U.results,ce=U.numFailures,U=U.lastResult,re=0;re<D.length;++re){var se=(ne||D)[re],me=q[re];se==null?me.onerror&&me.onerror(V[re]):me.onsuccess&&me.onsuccess(k.type==="put"&&M[re]?k.values[re]:se)}return{failures:V,results:ne,numFailures:ce,lastResult:U}}).catch(function(U){return q.forEach(function(V){return V.onerror&&V.onerror(U)}),Promise.reject(U)})})}}})}})}};function nc(s,o,c){try{if(!o||o.keys.length<s.length)return null;for(var u=[],p=0,g=0;p<o.keys.length&&g<s.length;++p)Le(o.keys[p],s[g])===0&&(u.push(c?st(o.values[p]):o.values[p]),++g);return u.length===s.length?u:null}catch{return null}}var wd={stack:"dbcore",level:-1,create:function(s){return{table:function(o){var c=s.table(o);return r(r({},c),{getMany:function(u){if(!u.cache)return c.getMany(u);var p=nc(u.keys,u.trans._cache,u.cache==="clone");return p?ye.resolve(p):c.getMany(u).then(function(g){return u.trans._cache={keys:u.keys,values:u.cache==="clone"?st(g):g},g})},mutate:function(u){return u.type!=="add"&&(u.trans._cache=null),c.mutate(u)}})}}}};function rc(s,o){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!o.schema.primaryKey.outbound}function sc(s,o){switch(s){case"query":return o.values&&!o.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Cd={stack:"dbcore",level:0,name:"Observability",create:function(s){var o=s.schema.name,c=new Ot(s.MIN_KEY,s.MAX_KEY);return r(r({},s),{transaction:function(u,p,g){if(be.subscr&&p!=="readonly")throw new H.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(be.querier));return s.transaction(u,p,g)},table:function(u){var p=s.table(u),g=p.schema,b=g.primaryKey,k=g.indexes,w=b.extractKey,A=b.outbound,P=b.autoIncrement&&k.filter(function(S){return S.compound&&S.keyPath.includes(b.keyPath)}),R=r(r({},p),{mutate:function(S){function I(de){return de="idb://".concat(o,"/").concat(u,"/").concat(de),U[de]||(U[de]=new Ot)}var T,D,M,q=S.trans,U=S.mutatedParts||(S.mutatedParts={}),V=I(""),ne=I(":dels"),ce=S.type,me=S.type==="deleteRange"?[S.range]:S.type==="delete"?[S.keys]:S.values.length<50?[mi(b,S).filter(function(de){return de}),S.values]:[],re=me[0],se=me[1],me=S.trans._cache;return d(re)?(V.addKeys(re),(me=ce==="delete"||re.length===se.length?nc(re,me):null)||ne.addKeys(re),(me||se)&&(T=I,D=me,M=se,g.indexes.forEach(function(de){var ge=T(de.name||"");function Ne(Me){return Me!=null?de.extractKey(Me):null}function Ue(Me){return de.multiEntry&&d(Me)?Me.forEach(function(pt){return ge.addKey(pt)}):ge.addKey(Me)}(D||M).forEach(function(Me,It){var Te=D&&Ne(D[It]),It=M&&Ne(M[It]);Le(Te,It)!==0&&(Te!=null&&Ue(Te),It!=null&&Ue(It))})}))):re?(se={from:(se=re.lower)!==null&&se!==void 0?se:s.MIN_KEY,to:(se=re.upper)!==null&&se!==void 0?se:s.MAX_KEY},ne.add(se),V.add(se)):(V.add(c),ne.add(c),g.indexes.forEach(function(de){return I(de.name).add(c)})),p.mutate(S).then(function(de){return!re||S.type!=="add"&&S.type!=="put"||(V.addKeys(de.results),P&&P.forEach(function(ge){for(var Ne=S.values.map(function(Te){return ge.extractKey(Te)}),Ue=ge.keyPath.findIndex(function(Te){return Te===b.keyPath}),Me=0,pt=de.results.length;Me<pt;++Me)Ne[Me][Ue]=de.results[Me];I(ge.name).addKeys(Ne)})),q.mutatedParts=Vs(q.mutatedParts||{},U),de})}}),k=function(I){var T=I.query,I=T.index,T=T.range;return[I,new Ot((I=T.lower)!==null&&I!==void 0?I:s.MIN_KEY,(T=T.upper)!==null&&T!==void 0?T:s.MAX_KEY)]},$={get:function(S){return[b,new Ot(S.key)]},getMany:function(S){return[b,new Ot().addKeys(S.keys)]},count:k,query:k,openCursor:k};return l($).forEach(function(S){R[S]=function(I){var T=be.subscr,D=!!T,M=rc(be,p)&&sc(S,I)?I.obsSet={}:T;if(D){var q=function(se){return se="idb://".concat(o,"/").concat(u,"/").concat(se),M[se]||(M[se]=new Ot)},U=q(""),V=q(":dels"),T=$[S](I),D=T[0],T=T[1];if((S==="query"&&D.isPrimaryKey&&!I.values?V:q(D.name||"")).add(T),!D.isPrimaryKey){if(S!=="count"){var ne=S==="query"&&A&&I.values&&p.query(r(r({},I),{values:!1}));return p[S].apply(this,arguments).then(function(se){if(S==="query"){if(A&&I.values)return ne.then(function(Ne){return Ne=Ne.result,U.addKeys(Ne),se});var me=I.values?se.result.map(w):se.result;(I.values?U:V).addKeys(me)}else if(S==="openCursor"){var de=se,ge=I.values;return de&&Object.create(de,{key:{get:function(){return V.addKey(de.primaryKey),de.key}},primaryKey:{get:function(){var Ne=de.primaryKey;return V.addKey(Ne),Ne}},value:{get:function(){return ge&&U.addKey(de.primaryKey),de.value}}})}return se})}V.add(c)}}return p[S].apply(this,arguments)}}),R}})}};function oc(s,o,c){if(c.numFailures===0)return o;if(o.type==="deleteRange")return null;var u=o.keys?o.keys.length:"values"in o&&o.values?o.values.length:1;return c.numFailures===u?null:(o=r({},o),d(o.keys)&&(o.keys=o.keys.filter(function(p,g){return!(g in c.failures)})),"values"in o&&d(o.values)&&(o.values=o.values.filter(function(p,g){return!(g in c.failures)})),o)}function yi(s,o){return c=s,((u=o).lower===void 0||(u.lowerOpen?0<Le(c,u.lower):0<=Le(c,u.lower)))&&(s=s,(o=o).upper===void 0||(o.upperOpen?Le(s,o.upper)<0:Le(s,o.upper)<=0));var c,u}function ic(s,o,$,u,p,g){if(!$||$.length===0)return s;var b=o.query.index,w=b.multiEntry,A=o.query.range,P=u.schema.primaryKey.extractKey,R=b.extractKey,k=(b.lowLevelIndex||b).extractKey,$=$.reduce(function(S,I){var T=S,D=[];if(I.type==="add"||I.type==="put")for(var M=new Ot,q=I.values.length-1;0<=q;--q){var U,V=I.values[q],ne=P(V);M.hasKey(ne)||(U=R(V),(w&&d(U)?U.some(function(de){return yi(de,A)}):yi(U,A))&&(M.addKey(ne),D.push(V)))}switch(I.type){case"add":var ce=new Ot().addKeys(o.values?S.map(function(ge){return P(ge)}):S),T=S.concat(o.values?D.filter(function(ge){return ge=P(ge),!ce.hasKey(ge)&&(ce.addKey(ge),!0)}):D.map(function(ge){return P(ge)}).filter(function(ge){return!ce.hasKey(ge)&&(ce.addKey(ge),!0)}));break;case"put":var re=new Ot().addKeys(I.values.map(function(ge){return P(ge)}));T=S.filter(function(ge){return!re.hasKey(o.values?P(ge):ge)}).concat(o.values?D:D.map(function(ge){return P(ge)}));break;case"delete":var se=new Ot().addKeys(I.keys);T=S.filter(function(ge){return!se.hasKey(o.values?P(ge):ge)});break;case"deleteRange":var me=I.range;T=S.filter(function(ge){return!yi(P(ge),me)})}return T},s);return $===s?s:($.sort(function(S,I){return Le(k(S),k(I))||Le(P(S),P(I))}),o.limit&&o.limit<1/0&&($.length>o.limit?$.length=o.limit:s.length===o.limit&&$.length<o.limit&&(p.dirty=!0)),g?Object.freeze($):$)}function ac(s,o){return Le(s.lower,o.lower)===0&&Le(s.upper,o.upper)===0&&!!s.lowerOpen==!!o.lowerOpen&&!!s.upperOpen==!!o.upperOpen}function xd(s,o){return(function(c,u,p,g){if(c===void 0)return u!==void 0?-1:0;if(u===void 0)return 1;if((u=Le(c,u))===0){if(p&&g)return 0;if(p)return 1;if(g)return-1}return u})(s.lower,o.lower,s.lowerOpen,o.lowerOpen)<=0&&0<=(function(c,u,p,g){if(c===void 0)return u!==void 0?1:0;if(u===void 0)return-1;if((u=Le(c,u))===0){if(p&&g)return 0;if(p)return-1;if(g)return 1}return u})(s.upper,o.upper,s.upperOpen,o.upperOpen)}function kd(s,o,c,u){s.subscribers.add(c),u.addEventListener("abort",function(){var p,g;s.subscribers.delete(c),s.subscribers.size===0&&(p=s,g=o,setTimeout(function(){p.subscribers.size===0&&ue(g,p)},3e3))})}var Ed={stack:"dbcore",level:0,name:"Cache",create:function(s){var o=s.schema.name;return r(r({},s),{transaction:function(c,u,p){var g,b,w=s.transaction(c,u,p);return u==="readwrite"&&(b=(g=new AbortController).signal,p=function(A){return function(){if(g.abort(),u==="readwrite"){for(var P=new Set,R=0,k=c;R<k.length;R++){var $=k[R],S=sr["idb://".concat(o,"/").concat($)];if(S){var I=s.table($),T=S.optimisticOps.filter(function(ge){return ge.trans===w});if(w._explicit&&A&&w.mutatedParts)for(var D=0,M=Object.values(S.queries.query);D<M.length;D++)for(var q=0,U=(ce=M[D]).slice();q<U.length;q++)li((re=U[q]).obsSet,w.mutatedParts)&&(ue(ce,re),re.subscribers.forEach(function(ge){return P.add(ge)}));else if(0<T.length){S.optimisticOps=S.optimisticOps.filter(function(ge){return ge.trans!==w});for(var V=0,ne=Object.values(S.queries.query);V<ne.length;V++)for(var ce,re,se,me=0,de=(ce=ne[V]).slice();me<de.length;me++)(re=de[me]).res!=null&&w.mutatedParts&&(A&&!re.dirty?(se=Object.isFrozen(re.res),se=ic(re.res,re.req,T,I,re,se),re.dirty?(ue(ce,re),re.subscribers.forEach(function(ge){return P.add(ge)})):se!==re.res&&(re.res=se,re.promise=ye.resolve({result:se}))):(re.dirty&&ue(ce,re),re.subscribers.forEach(function(ge){return P.add(ge)})))}}}P.forEach(function(ge){return ge()})}}},w.addEventListener("abort",p(!1),{signal:b}),w.addEventListener("error",p(!1),{signal:b}),w.addEventListener("complete",p(!0),{signal:b})),w},table:function(c){var u=s.table(c),p=u.schema.primaryKey;return r(r({},u),{mutate:function(g){var b=be.trans;if(p.outbound||b.db._options.cache==="disabled"||b.explicit||b.idbtrans.mode!=="readwrite")return u.mutate(g);var w=sr["idb://".concat(o,"/").concat(c)];return w?(b=u.mutate(g),g.type!=="add"&&g.type!=="put"||!(50<=g.values.length||mi(p,g).some(function(A){return A==null}))?(w.optimisticOps.push(g),g.mutatedParts&&Hs(g.mutatedParts),b.then(function(A){0<A.numFailures&&(ue(w.optimisticOps,g),(A=oc(0,g,A))&&w.optimisticOps.push(A),g.mutatedParts&&Hs(g.mutatedParts))}),b.catch(function(){ue(w.optimisticOps,g),g.mutatedParts&&Hs(g.mutatedParts)})):b.then(function(A){var P=oc(0,r(r({},g),{values:g.values.map(function(R,k){var $;return A.failures[k]?R:(R=($=p.keyPath)!==null&&$!==void 0&&$.includes(".")?st(R):r({},R),xe(R,p.keyPath,A.results[k]),R)})}),A);w.optimisticOps.push(P),queueMicrotask(function(){return g.mutatedParts&&Hs(g.mutatedParts)})}),b):u.mutate(g)},query:function(g){if(!rc(be,u)||!sc("query",g))return u.query(g);var b=((P=be.trans)===null||P===void 0?void 0:P.db._options.cache)==="immutable",k=be,w=k.requery,A=k.signal,P=(function(I,T,D,M){var q=sr["idb://".concat(I,"/").concat(T)];if(!q)return[];if(!(T=q.queries[D]))return[null,!1,q,null];var U=T[(M.query?M.query.index.name:null)||""];if(!U)return[null,!1,q,null];switch(D){case"query":var V=U.find(function(ne){return ne.req.limit===M.limit&&ne.req.values===M.values&&ac(ne.req.query.range,M.query.range)});return V?[V,!0,q,U]:[U.find(function(ne){return("limit"in ne.req?ne.req.limit:1/0)>=M.limit&&(!M.values||ne.req.values)&&xd(ne.req.query.range,M.query.range)}),!1,q,U];case"count":return V=U.find(function(ne){return ac(ne.req.query.range,M.query.range)}),[V,!!V,q,U]}})(o,c,"query",g),R=P[0],k=P[1],$=P[2],S=P[3];return R&&k?R.obsSet=g.obsSet:(k=u.query(g).then(function(I){var T=I.result;if(R&&(R.res=T),b){for(var D=0,M=T.length;D<M;++D)Object.freeze(T[D]);Object.freeze(T)}else I.result=st(T);return I}).catch(function(I){return S&&R&&ue(S,R),Promise.reject(I)}),R={obsSet:g.obsSet,promise:k,subscribers:new Set,type:"query",req:g,dirty:!1},S?S.push(R):(S=[R],($=$||(sr["idb://".concat(o,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[g.query.index.name||""]=S)),kd(R,S,w,A),R.promise.then(function(I){return{result:ic(I.result,g,$?.optimisticOps,u,R,b)}})}})}})}};function zs(s,o){return new Proxy(s,{get:function(c,u,p){return u==="db"?o:Reflect.get(c,u,p)}})}var En=(yt.prototype.version=function(s){if(isNaN(s)||s<.1)throw new H.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new H.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var o=this._versions,c=o.filter(function(u){return u._cfg.version===s})[0];return c||(c=new this.Version(s),o.push(c),o.sort(hd),c.stores({}),this._state.autoSchema=!1,c)},yt.prototype._whenReady=function(s){var o=this;return this.idbdb&&(this._state.openComplete||be.letThrough||this._vip)?s():new ye(function(c,u){if(o._state.openComplete)return u(new H.DatabaseClosed(o._state.dbOpenError));if(!o._state.isBeingOpened){if(!o._state.autoOpen)return void u(new H.DatabaseClosed);o.open().catch(_)}o._state.dbReadyPromise.then(c,u)}).then(s)},yt.prototype.use=function(s){var o=s.stack,c=s.create,u=s.level,p=s.name;return p&&this.unuse({stack:o,name:p}),s=this._middlewares[o]||(this._middlewares[o]=[]),s.push({stack:o,create:c,level:u??10,name:p}),s.sort(function(g,b){return g.level-b.level}),this},yt.prototype.unuse=function(s){var o=s.stack,c=s.name,u=s.create;return o&&this._middlewares[o]&&(this._middlewares[o]=this._middlewares[o].filter(function(p){return u?p.create!==u:!!c&&p.name!==c})),this},yt.prototype.open=function(){var s=this;return tr(ft,function(){return vd(s)})},yt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,o=Cr.indexOf(this);if(0<=o&&Cr.splice(o,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new ye(function(c){s.dbReadyResolve=c}),s.openCanceller=new ye(function(c,u){s.cancelOpen=u}))},yt.prototype.close=function(c){var o=(c===void 0?{disableAutoOpen:!0}:c).disableAutoOpen,c=this._state;o?(c.isBeingOpened&&c.cancelOpen(new H.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new H.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},yt.prototype.delete=function(s){var o=this;s===void 0&&(s={disableAutoOpen:!0});var c=0<arguments.length&&typeof arguments[0]!="object",u=this._state;return new ye(function(p,g){function b(){o.close(s);var w=o._deps.indexedDB.deleteDatabase(o.name);w.onsuccess=lt(function(){var A,P,R;A=o._deps,P=o.name,R=A.indexedDB,A=A.IDBKeyRange,ii(R)||P===Ds||oi(R,A).delete(P).catch(_),p()}),w.onerror=dn(g),w.onblocked=o._fireOnBlocked}if(c)throw new H.InvalidArgument("Invalid closeOptions argument to db.delete()");u.isBeingOpened?u.dbReadyPromise.then(b):b()})},yt.prototype.backendDB=function(){return this.idbdb},yt.prototype.isOpen=function(){return this.idbdb!==null},yt.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},yt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},yt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(yt.prototype,"tables",{get:function(){var s=this;return l(this._allTables).map(function(o){return s._allTables[o]})},enumerable:!1,configurable:!0}),yt.prototype.transaction=function(){var s=(function(o,c,u){var p=arguments.length;if(p<2)throw new H.InvalidArgument("Too few arguments");for(var g=new Array(p-1);--p;)g[p-1]=arguments[p];return u=g.pop(),[o,je(g),u]}).apply(this,arguments);return this._transaction.apply(this,s)},yt.prototype._transaction=function(s,o,c){var u=this,p=be.trans;p&&p.db===this&&s.indexOf("!")===-1||(p=null);var g,b,w=s.indexOf("?")!==-1;s=s.replace("!","").replace("?","");try{if(b=o.map(function(P){if(P=P instanceof u.Table?P.name:P,typeof P!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return P}),s=="r"||s===Qo)g=Qo;else{if(s!="rw"&&s!=Yo)throw new H.InvalidArgument("Invalid transaction mode: "+s);g=Yo}if(p){if(p.mode===Qo&&g===Yo){if(!w)throw new H.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");p=null}p&&b.forEach(function(P){if(p&&p.storeNames.indexOf(P)===-1){if(!w)throw new H.SubTransaction("Table "+P+" not included in parent transaction.");p=null}}),w&&p&&!p.active&&(p=null)}}catch(P){return p?p._promise(null,function(R,k){k(P)}):mt(P)}var A=(function P(R,k,$,S,I){return ye.resolve().then(function(){var T=be.transless||be,D=R._createTransaction(k,$,R._dbSchema,S);if(D.explicit=!0,T={trans:D,transless:T},S)D.idbtrans=S.idbtrans;else try{D.create(),D.idbtrans._explicit=!0,R._state.PR1398_maxLoop=3}catch(U){return U.name===Y.InvalidState&&R.isOpen()&&0<--R._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),R.close({disableAutoOpen:!1}),R.open().then(function(){return P(R,k,$,null,I)})):mt(U)}var M,q=vt(I);return q&&wr(),T=ye.follow(function(){var U;(M=I.call(D,D))&&(q?(U=Nn.bind(null,null),M.then(U,U)):typeof M.next=="function"&&typeof M.throw=="function"&&(M=pi(M)))},T),(M&&typeof M.then=="function"?ye.resolve(M).then(function(U){return D.active?U:mt(new H.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):T.then(function(){return M})).then(function(U){return S&&D._resolve(),D._completion.then(function(){return U})}).catch(function(U){return D._reject(U),mt(U)})})}).bind(null,this,g,b,p,c);return p?p._promise(g,A,"lock"):be.trans?tr(be.transless,function(){return u._whenReady(A)}):this._whenReady(A)},yt.prototype.table=function(s){if(!y(this._allTables,s))throw new H.InvalidTable("Table ".concat(s," does not exist"));return this._allTables[s]},yt);function yt(s,o){var c=this;this._middlewares={},this.verno=0;var u=yt.dependencies;this._options=o=r({addons:yt.addons,autoOpen:!0,indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange,cache:"cloned"},o),this._deps={indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},u=o.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var p,g,b,w,A,P={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:_,dbReadyPromise:null,cancelOpen:_,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:o.autoOpen};P.dbReadyPromise=new ye(function(k){P.dbReadyResolve=k}),P.openCanceller=new ye(function(k,$){P.cancelOpen=$}),this._state=P,this.name=s,this.on=Vr(this,"populate","blocked","versionchange","close",{ready:[ae,_]}),this.once=function(k,$){var S=function(){for(var I=[],T=0;T<arguments.length;T++)I[T]=arguments[T];c.on(k).unsubscribe(S),$.apply(c,I)};return c.on(k,S)},this.on.ready.subscribe=K(this.on.ready.subscribe,function(k){return function($,S){yt.vip(function(){var I,T=c._state;T.openComplete?(T.dbOpenError||ye.resolve().then($),S&&k($)):T.onReadyBeingFired?(T.onReadyBeingFired.push($),S&&k($)):(k($),I=c,S||k(function D(){I.on.ready.unsubscribe($),I.on.ready.unsubscribe(D)}))})}}),this.Collection=(p=this,Hr(ad.prototype,function(M,D){this.db=p;var S=Fa,I=null;if(D)try{S=D()}catch(q){I=q}var T=M._ctx,D=T.table,M=D.hook.reading.fire;this._ctx={table:D,index:T.index,isPrimKey:!T.index||D.schema.primKey.keyPath&&T.index===D.schema.primKey.name,range:S,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:I,or:T.or,valueMapper:M!==E?M:null}})),this.Table=(g=this,Hr(qa.prototype,function(k,$,S){this.db=g,this._tx=S,this.name=k,this.schema=$,this.hook=g._allTables[k]?g._allTables[k].hook:Vr(null,{creating:[Z,_],reading:[B,E],updating:[pe,_],deleting:[G,_]})})),this.Transaction=(b=this,Hr(ud.prototype,function(k,$,S,I,T){var D=this;k!=="readonly"&&$.forEach(function(M){M=(M=S[M])===null||M===void 0?void 0:M.yProps,M&&($=$.concat(M.map(function(q){return q.updatesTable})))}),this.db=b,this.mode=k,this.storeNames=$,this.schema=S,this.chromeTransactionDurability=I,this.idbtrans=null,this.on=Vr(this,"complete","error","abort"),this.parent=T||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ye(function(M,q){D._resolve=M,D._reject=q}),this._completion.then(function(){D.active=!1,D.on.complete.fire()},function(M){var q=D.active;return D.active=!1,D.on.error.fire(M),D.parent?D.parent._reject(M):q&&D.idbtrans&&D.idbtrans.abort(),mt(M)})})),this.Version=(w=this,Hr(gd.prototype,function(k){this.db=w,this._cfg={version:k,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(A=this,Hr(za.prototype,function(k,$,S){if(this.db=A,this._ctx={table:k,index:$===":id"?null:$,or:S},this._cmp=this._ascending=Le,this._descending=function(I,T){return Le(T,I)},this._max=function(I,T){return 0<Le(I,T)?I:T},this._min=function(I,T){return Le(I,T)<0?I:T},this._IDBKeyRange=A._deps.IDBKeyRange,!this._IDBKeyRange)throw new H.MissingAPI})),this.on("versionchange",function(k){0<k.newVersion?console.warn("Another connection wants to upgrade database '".concat(c.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(c.name,"'. Closing db now to resume the delete request.")),c.close({disableAutoOpen:!1})}),this.on("blocked",function(k){!k.newVersion||k.newVersion<k.oldVersion?console.warn("Dexie.delete('".concat(c.name,"') was blocked")):console.warn("Upgrade '".concat(c.name,"' blocked by other connection holding version ").concat(k.oldVersion/10))}),this._maxKey=Yr(o.IDBKeyRange),this._createTransaction=function(k,$,S,I){return new c.Transaction(k,$,S,c._options.chromeTransactionDurability,I)},this._fireOnBlocked=function(k){c.on("blocked").fire(k),Cr.filter(function($){return $.name===c.name&&$!==c&&!$._state.vcFired}).map(function($){return $.on("versionchange").fire(k)})},this.use(wd),this.use(Ed),this.use(Cd),this.use(bd),this.use(_d);var R=new Proxy(this,{get:function(k,$,S){if($==="_vip")return!0;if($==="table")return function(T){return zs(c.table(T),R)};var I=Reflect.get(k,$,S);return I instanceof qa?zs(I,R):$==="tables"?I.map(function(T){return zs(T,R)}):$==="_createTransaction"?function(){return zs(I.apply(this,arguments),R)}:I}});this.vip=R,u.forEach(function(k){return k(c)})}var Qs,Xt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ad=(gi.prototype.subscribe=function(s,o,c){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:o,complete:c})},gi.prototype[Xt]=function(){return this},gi);function gi(s){this._subscribe=s}try{Qs={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Qs={indexedDB:null,IDBKeyRange:null}}function cc(s){var o,c=!1,u=new Ad(function(p){var g=vt(s),b,w=!1,A={},P={},R={get closed(){return w},unsubscribe:function(){w||(w=!0,b&&b.abort(),k&&qn.storagemutated.unsubscribe(S))}};p.start&&p.start(R);var k=!1,$=function(){return zo(I)},S=function(T){Vs(A,T),li(P,A)&&$()},I=function(){var T,D,M;!w&&Qs.indexedDB&&(A={},T={},b&&b.abort(),b=new AbortController,M=(function(q){var U=br();try{g&&wr();var V=Fn(s,q);return V=g?V.finally(Nn):V}finally{U&&_r()}})(D={subscr:T,signal:b.signal,requery:$,querier:s,trans:null}),Promise.resolve(M).then(function(q){c=!0,o=q,w||D.signal.aborted||(A={},(function(U){for(var V in U)if(y(U,V))return;return 1})(P=T)||k||(qn(Qr,S),k=!0),zo(function(){return!w&&p.next&&p.next(q)}))},function(q){c=!1,["DatabaseClosedError","AbortError"].includes(q?.name)||w||zo(function(){w||p.error&&p.error(q)})}))};return setTimeout($,0),R});return u.hasValue=function(){return c},u.getValue=function(){return o},u}var or=En;function vi(s){var o=Kn;try{Kn=!0,qn.storagemutated.fire(s),fi(s,!0)}finally{Kn=o}}v(or,r(r({},ze),{delete:function(s){return new or(s,{addons:[]}).delete()},exists:function(s){return new or(s,{addons:[]}).open().then(function(o){return o.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return o=or.dependencies,c=o.indexedDB,o=o.IDBKeyRange,(ii(c)?Promise.resolve(c.databases()).then(function(u){return u.map(function(p){return p.name}).filter(function(p){return p!==Ds})}):oi(c,o).toCollection().primaryKeys()).then(s)}catch{return mt(new H.MissingAPI)}var o,c},defineClass:function(){return function(s){f(this,s)}},ignoreTransaction:function(s){return be.trans?tr(be.transless,s):s()},vip:ai,async:function(s){return function(){try{var o=pi(s.apply(this,arguments));return o&&typeof o.then=="function"?o:ye.resolve(o)}catch(c){return mt(c)}}},spawn:function(s,o,c){try{var u=pi(s.apply(c,o||[]));return u&&typeof u.then=="function"?u:ye.resolve(u)}catch(p){return mt(p)}},currentTransaction:{get:function(){return be.trans||null}},waitFor:function(s,o){return o=ye.resolve(typeof s=="function"?or.ignoreTransaction(s):s).timeout(o||6e4),be.trans?be.trans.waitFor(o):o},Promise:ye,debug:{get:function(){return ee},set:function(s){Ie(s)}},derive:N,extend:f,props:v,override:K,Events:Vr,on:qn,liveQuery:cc,extendObservabilitySet:Vs,getByKeyPath:ve,setByKeyPath:xe,delByKeyPath:function(s,o){typeof o=="string"?xe(s,o,void 0):"length"in o&&[].map.call(o,function(c){xe(s,c,void 0)})},shallowClone:Se,deepClone:st,getObjectDiff:hi,cmp:Le,asap:we,minKey:-1/0,addons:[],connections:Cr,errnames:Y,dependencies:Qs,cache:sr,semVer:"4.2.0",version:"4.2.0".split(".").map(function(s){return parseInt(s)}).reduce(function(s,o,c){return s+o/Math.pow(10,2*c)})})),or.maxKey=Yr(or.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(qn(Qr,function(s){Kn||(s=new CustomEvent(Xo,{detail:s}),Kn=!0,dispatchEvent(s),Kn=!1)}),addEventListener(Xo,function(s){s=s.detail,Kn||vi(s)}));var Ar,Kn=!1,lc=function(){};return typeof BroadcastChannel<"u"&&((lc=function(){(Ar=new BroadcastChannel(Xo)).onmessage=function(s){return s.data&&vi(s.data)}})(),typeof Ar.unref=="function"&&Ar.unref(),qn(Qr,function(s){Kn||Ar.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!En.disableBfCache&&s.persisted){ee&&console.debug("Dexie: handling persisted pagehide"),Ar?.close();for(var o=0,c=Cr;o<c.length;o++)c[o].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!En.disableBfCache&&s.persisted&&(ee&&console.debug("Dexie: handling persisted pageshow"),lc(),vi({all:new Ot(-1/0,[[]])}))})),ye.rejectionMapper=function(s,o){return!s||s instanceof At||s instanceof TypeError||s instanceof SyntaxError||!s.name||!ke[s.name]?s:(o=new ke[s.name](o||s.message,s),"stack"in s&&O(o,"stack",{get:function(){return this.inner.stack}}),o)},Ie(ee),r(En,Object.freeze({__proto__:null,Dexie:En,liveQuery:cc,Entity:Na,cmp:Le,PropModification:Wr,replacePrefix:function(s,o){return new Wr({replacePrefix:[s,o]})},add:function(s){return new Wr({add:s})},remove:function(s){return new Wr({remove:s})},default:En,RangeSet:Ot,mergeRanges:Xr,rangesOverlap:Xa}),{default:En}),En})})(uo)),uo.exports}var bm=vm();const ta=ym(bm),ul=Symbol.for("Dexie"),xo=globalThis[ul]||(globalThis[ul]=ta);if(ta.semVer!==xo.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ta.semVer} and ${xo.semVer}`);const{liveQuery:O_,mergeRanges:I_,rangesOverlap:R_,RangeSet:D_,cmp:T_,Entity:$_,PropModification:M_,replacePrefix:B_,add:F_,remove:N_,DexieYProvider:j_}=xo;class _m extends xo{cards;card_lots;holdings;transactions;scans;decks;deck_cards;price_points;valuations;settings;scan_sale_links;constructor(){super("MtgTrackerDb"),this.version(1).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish",holdings:"id, cardId, acquisitionId, source, createdAt",transactions:"id, kind, cardId, source, externalRef, happenedAt",scans:"id, cardFingerprint, cardId, source, scannedAt",decks:"id, platform, name, importedAt",deck_cards:"[deckId+cardId], deckId, cardId",price_points:"id, cardId, provider, asOf",valuations:"id, asOf",settings:"k"}),this.version(2).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish, createdAt, updatedAt",holdings:"id, cardId, acquisitionId, source, createdAt, updatedAt",transactions:"id, kind, cardId, source, externalRef, happenedAt, createdAt, updatedAt",scans:"id, cardFingerprint, cardId, source, scannedAt, createdAt, updatedAt",decks:"id, platform, name, importedAt, createdAt, updatedAt",deck_cards:"[deckId+cardId], deckId, cardId, createdAt",price_points:"id, cardId, provider, asOf, createdAt",valuations:"id, asOf, createdAt",settings:"k, createdAt, updatedAt",scan_sale_links:"id, scanId, transactionId, matchedAt, createdAt"}).upgrade(async t=>{const n=new Date;await t.table("cards").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n}),await t.table("holdings").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n}),await t.table("transactions").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n}),await t.table("scans").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n}),await t.table("decks").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n}),await t.table("deck_cards").toCollection().modify(r=>{r.createdAt=r.createdAt||n}),await t.table("price_points").toCollection().modify(r=>{r.createdAt=r.createdAt||n}),await t.table("valuations").toCollection().modify(r=>{r.createdAt=r.createdAt||n}),await t.table("settings").toCollection().modify(r=>{r.createdAt=r.createdAt||n,r.updatedAt=r.updatedAt||n})}),this.version(3).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish, createdAt, updatedAt",holdings:"id, cardId, acquisitionId, source, createdAt, updatedAt",transactions:"id, kind, cardId, source, externalRef, happenedAt, createdAt, updatedAt",scans:"id, cardFingerprint, cardId, source, scannedAt, createdAt, updatedAt",decks:"id, platform, name, importedAt, createdAt, updatedAt",deck_cards:"[deckId+cardId], deckId, cardId, createdAt",price_points:"id, cardId, provider, currency, asOf, createdAt, [cardId+asOf], [provider+asOf]",valuations:"id, asOf, createdAt, [asOf+createdAt]",settings:"k, createdAt, updatedAt",scan_sale_links:"id, scanId, transactionId, matchedAt, createdAt"}),this.version(4).stores({cards:"id, oracleId, name, set, setCode, number, lang, finish, createdAt, updatedAt",card_lots:"id, cardId, acquisitionId, source, purchasedAt, disposedAt, createdAt, updatedAt, [cardId+purchasedAt], [acquisitionId+cardId]",holdings:"id, cardId, acquisitionId, source, createdAt, updatedAt",transactions:"id, kind, cardId, lotId, source, externalRef, happenedAt, relatedTransactionId, createdAt, updatedAt, [lotId+kind]",scans:"id, cardFingerprint, cardId, lotId, source, scannedAt, boosterPackId, createdAt, updatedAt, [lotId+scannedAt]",decks:"id, platform, name, importedAt, createdAt, updatedAt",deck_cards:"id, deckId, cardId, lotId, addedAt, removedAt, createdAt, [deckId+cardId], [lotId+addedAt]",price_points:"id, cardId, provider, currency, asOf, source, createdAt, [cardId+asOf], [provider+asOf]",valuations:"id, asOf, createdAt, [asOf+createdAt]",settings:"k, createdAt, updatedAt",scan_sale_links:"id, scanId, transactionId, quantity, matchedAt, createdAt"}).upgrade(async t=>{const n=new Date;await t.table("deck_cards").toCollection().modify(r=>{try{r.id||(r.id=`deckcard-${Date.now()}-${Math.random().toString(36).substr(2,9)}`),r.addedAt||(r.addedAt=r.createdAt||n),r.role||(r.role="main"),(!r.cardId||r.cardId==="")&&(r.cardId="unknown-card"),r.deckId||(r.deckId="unknown-deck"),typeof r.quantity!="number"&&(r.quantity=1),r.createdAt||(r.createdAt=n)}catch(i){console.error("Error upgrading deck card:",i,r);return}})})}}const Ee=new _m,gn={async add(e){return await Ee.cards.add(e)},async getById(e){return await Ee.cards.get(e)},async getAll(){return await Ee.cards.toArray()},async update(e,t){return await Ee.cards.update(e,t)},async delete(e){await Ee.cards.delete(e)}},Tt={async add(e){return await Ee.card_lots.add(e)},async getById(e){return await Ee.card_lots.get(e)},async getAll(){return await Ee.card_lots.toArray()},async getByCardId(e){return await Ee.card_lots.where("cardId").equals(e).toArray()},async getActiveLotsByCardId(e){return await Ee.card_lots.where("cardId").equals(e).and(t=>!t.disposedAt).toArray()},async update(e,t){return await Ee.card_lots.update(e,t)},async delete(e){await Ee.card_lots.delete(e)}},eo={async add(e){return await Ee.holdings.add(e)},async getById(e){return await Ee.holdings.get(e)},async getAll(){return await Ee.holdings.toArray()},async getByCardId(e){return await Ee.holdings.where("cardId").equals(e).toArray()},async update(e,t){return await Ee.holdings.update(e,t)},async delete(e){await Ee.holdings.delete(e)}},yn={async add(e){return await Ee.transactions.add(e)},async getById(e){return await Ee.transactions.get(e)},async getAll(){return await Ee.transactions.toArray()},async getByCardId(e){return await Ee.transactions.where("cardId").equals(e).toArray()},async getByLotId(e){return await Ee.transactions.where("lotId").equals(e).toArray()},async getByKind(e){return await Ee.transactions.where("kind").equals(e).toArray()},async getBuyTransactionsByCardId(e){return await Ee.transactions.where("cardId").equals(e).and(t=>t.kind==="BUY").toArray()},async getSellTransactionsByCardId(e){return await Ee.transactions.where("cardId").equals(e).and(t=>t.kind==="SELL").toArray()},async update(e,t){return await Ee.transactions.update(e,t)},async delete(e){await Ee.transactions.delete(e)}},na={async add(e){return await Ee.price_points.add(e)},async getById(e){return await Ee.price_points.get(e)},async getByCardId(e){return await Ee.price_points.where("cardId").equals(e).toArray()},async update(e,t){return await Ee.price_points.update(e,t)},async delete(e){await Ee.price_points.delete(e)}};class Ze{cents;currency;constructor(t,n="EUR"){this.cents=Math.round(t),this.currency=n}static parse(t,n="EUR"){if(typeof t=="number")return new Ze(t*100,n);const r=t.replace(/[$\s]/g,"").replace(",","."),i=parseFloat(r);return new Ze(isNaN(i)?0:i*100,n)}getCents(){return this.cents}getDecimal(){return this.cents/100}getCurrency(){return this.currency}add(t){if(this.currency!==t.currency)throw new Error("Cannot add Money values with different currencies");return new Ze(this.cents+t.cents,this.currency)}subtract(t){if(this.currency!==t.currency)throw new Error("Cannot subtract Money values with different currencies");return new Ze(this.cents-t.cents,this.currency)}multiply(t){return new Ze(this.cents*t,this.currency)}divide(t){return new Ze(this.cents/t,this.currency)}format(t="de-DE"){return new Intl.NumberFormat(t,{style:"currency",currency:this.currency,minimumFractionDigits:2,maximumFractionDigits:2}).format(this.getDecimal())}isZero(){return this.cents===0}isPositive(){return this.cents>0}isNegative(){return this.cents<0}}const Pa=Sa("cards",{state:()=>({cards:{},cardPrices:{},loading:!1,loadingPrices:!1,error:null}),getters:{getCardById:e=>t=>e.cards[t],getAllCards:e=>Object.values(e.cards),getCardsBySet:e=>t=>Object.values(e.cards).filter(n=>n.setCode===t),getCardPrice:e=>t=>e.cardPrices[t]||null},actions:{async loadCards(){this.loading=!0,this.error=null;try{const e=await gn.getAll();this.cards=e.reduce((t,n)=>(t[n.id]=n,t),{})}catch(e){this.error=e instanceof Error?e.message:"Failed to load cards",console.error("Error loading cards:",e)}finally{this.loading=!1}},async loadCardPrices(){this.loadingPrices=!0,this.error=null;try{const e=await Ee.price_points.toArray(),t={},n={};e.forEach(r=>{n[r.cardId]||(n[r.cardId]=[]),n[r.cardId].push(r)}),Object.keys(n).forEach(r=>{const i=n[r];if(i.length>0){i.sort((l,d)=>d.asOf.getTime()-l.asOf.getTime());const a=i[0];t[r]=new Ze(a.price,a.currency)}}),this.cardPrices=t}catch(e){this.error=e instanceof Error?e.message:"Failed to load card prices",console.error("Error loading card prices:",e)}finally{this.loadingPrices=!1}},async loadCardsAndPrices(){await Promise.all([this.loadCards(),this.loadCardPrices()])},async addCard(e){try{await gn.add(e),this.cards[e.id]=e}catch(t){throw this.error=t instanceof Error?t.message:"Failed to add card",console.error("Error adding card:",t),t}},async updateCard(e,t){try{await gn.update(e,t),this.cards[e]&&(this.cards[e]={...this.cards[e],...t})}catch(n){throw this.error=n instanceof Error?n.message:"Failed to update card",console.error("Error updating card:",n),n}},async removeCard(e){try{await gn.delete(e),delete this.cards[e],delete this.cardPrices[e]}catch(t){throw this.error=t instanceof Error?t.message:"Failed to remove card",console.error("Error removing card:",t),t}}}}),wm=Sa("holdings",{state:()=>({holdings:{},loading:!1,error:null}),getters:{getHoldingById:e=>t=>e.holdings[t],getAllHoldings:e=>Object.values(e.holdings),getHoldingsByCardId:e=>t=>Object.values(e.holdings).filter(n=>n.cardId===t),getTotalQuantityByCardId:e=>t=>Object.values(e.holdings).filter(n=>n.cardId===t).reduce((n,r)=>n+r.quantity,0)},actions:{async loadHoldings(){this.loading=!0,this.error=null;try{const e=await eo.getAll();this.holdings=e.reduce((t,n)=>(t[n.id]=n,t),{})}catch(e){this.error=e instanceof Error?e.message:"Failed to load holdings",console.error("Error loading holdings:",e)}finally{this.loading=!1}},async addHolding(e){try{await eo.add(e),this.holdings[e.id]=e}catch(t){throw this.error=t instanceof Error?t.message:"Failed to add holding",console.error("Error adding holding:",t),t}},async updateHolding(e,t){try{await eo.update(e,t),this.holdings[e]&&(this.holdings[e]={...this.holdings[e],...t})}catch(n){throw this.error=n instanceof Error?n.message:"Failed to update holding",console.error("Error updating holding:",n),n}},async removeHolding(e){try{await eo.delete(e),delete this.holdings[e]}catch(t){throw this.error=t instanceof Error?t.message:"Failed to remove holding",console.error("Error removing holding:",t),t}}}}),Cm=Sa("transactions",{state:()=>({transactions:{},loading:!1,error:null}),getters:{getTransactionById:e=>t=>e.transactions[t],getAllTransactions:e=>Object.values(e.transactions),getTransactionsByCardId:e=>t=>Object.values(e.transactions).filter(n=>n.cardId===t),getTransactionsByKind:e=>t=>Object.values(e.transactions).filter(n=>n.kind===t),getTotalValueByKind:e=>t=>Object.values(e.transactions).filter(n=>n.kind===t).reduce((n,r)=>{const i=r.unitPrice*r.quantity,a=r.fees||0,l=r.shipping||0;return t==="BUY"?n+i+a+l:n+i-a-l},0)},actions:{async loadTransactions(){this.loading=!0,this.error=null;try{const e=await yn.getAll();this.transactions=e.reduce((t,n)=>(t[n.id]=n,t),{})}catch(e){this.error=e instanceof Error?e.message:"Failed to load transactions",console.error("Error loading transactions:",e)}finally{this.loading=!1}},async addTransaction(e){try{await yn.add(e),this.transactions[e.id]=e}catch(t){throw this.error=t instanceof Error?t.message:"Failed to add transaction",console.error("Error adding transaction:",t),t}},async updateTransaction(e,t){try{await yn.update(e,t),this.transactions[e]&&(this.transactions[e]={...this.transactions[e],...t})}catch(n){throw this.error=n instanceof Error?n.message:"Failed to update transaction",console.error("Error updating transaction:",n),n}},async removeTransaction(e){try{await yn.delete(e),delete this.transactions[e]}catch(t){throw this.error=t instanceof Error?t.message:"Failed to remove transaction",console.error("Error removing transaction:",t),t}}}});class to{static async calculateLotValue(t){if(t.cardId){const n=await na.getByCardId(t.cardId);if(n.length>0){n.sort((l,d)=>d.asOf.getTime()-l.asOf.getTime());const r=n[0],i=new Ze(r.price,r.currency),a=t.disposedQuantity?t.quantity-t.disposedQuantity:t.quantity;return i.multiply(a)}}return new Ze(0,"EUR")}static async calculateLotCostBasis(t){return new Ze(t.unitCost,t.currency||"EUR").multiply(t.quantity)}static async calculateRealizedPnL(){const t=await yn.getByKind("SELL");let n=new Ze(0,"EUR");for(const r of t){const i=new Ze(r.unitPrice,r.currency).multiply(r.quantity);let a=new Ze(0,"EUR");if(r.lotId){const m=await Tt.getById(r.lotId);m&&(a=new Ze(m.unitCost,m.currency||"EUR").multiply(r.quantity))}else r.cardId&&(a=await this.calculateFIFOCostForCard(r.cardId,r.quantity));const l=new Ze(r.fees,r.currency),d=new Ze(r.shipping,r.currency),f=i.subtract(a).subtract(l).subtract(d);n=n.add(f)}return n}static async calculateFIFOCostForCard(t,n){const i=(await Tt.getByCardId(t)).filter(d=>!d.disposedAt||d.disposedQuantity&&d.disposedQuantity<d.quantity).sort((d,f)=>d.purchasedAt.getTime()-f.purchasedAt.getTime());let a=n,l=new Ze(0,"EUR");for(const d of i){if(a<=0)break;const f=d.disposedQuantity?d.quantity-d.disposedQuantity:d.quantity,m=Math.min(a,f),y=new Ze(d.unitCost,d.currency||"EUR").multiply(m);l=l.add(y),a-=m}return l}static async calculatePortfolioValue(){const t=await Tt.getAll();let n=new Ze(0,"EUR");for(const r of t)if(!r.disposedAt||r.disposedQuantity&&r.disposedQuantity<r.quantity){const i=await this.calculateLotValue(r);n=n.add(i)}return n}static async calculateTotalCostBasis(){const t=await Tt.getAll();let n=new Ze(0,"EUR");for(const r of t)if(!r.disposedAt||r.disposedQuantity&&r.disposedQuantity<r.quantity){const i=await this.calculateLotCostBasis(r);n=n.add(i)}return n}static async calculateUnrealizedPnL(){const t=await this.calculatePortfolioValue(),n=await this.calculateTotalCostBasis();return t.subtract(n)}static async getActiveLots(){return(await Tt.getAll()).filter(n=>!n.disposedAt||n.disposedQuantity&&n.disposedQuantity<n.quantity)}static async getOwnedQuantity(t){const n=await Tt.getByCardId(t);let r=0;for(const i of n)i.disposedAt?i.disposedQuantity&&i.disposedQuantity<i.quantity&&(r+=i.quantity-i.disposedQuantity):r+=i.quantity;return r}}class nn{static BASE_URL="https://api.scryfall.com";static lastRequestTime=0;static RATE_LIMIT_DELAY=100;static async enforceRateLimit(){const n=Date.now()-this.lastRequestTime;if(n<this.RATE_LIMIT_DELAY){const r=this.RATE_LIMIT_DELAY-n;await new Promise(i=>setTimeout(i,r))}this.lastRequestTime=Date.now()}static async getPriceById(t){try{await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/${t}`);if(!n.ok)return null;const i=(await n.json()).prices?.eur;return i?Ze.parse(i,"EUR"):null}catch(n){return console.error("Error fetching price from Scryfall:",n),null}}static async getPriceBySetAndNumber(t,n){try{await this.enforceRateLimit();const r=await fetch(`${this.BASE_URL}/cards/${t}/${n}`);if(!r.ok)return null;const a=(await r.json()).prices?.eur;return a?Ze.parse(a,"EUR"):null}catch(r){return console.error("Error fetching price from Scryfall:",r),null}}static async getImageUrlById(t){try{await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/${t}`);if(!n.ok)return null;const r=await n.json();return r.image_uris?.normal||r.image_uris?.large||r.image_uris?.small||null}catch(n){return console.error("Error fetching image from Scryfall:",n),null}}static async getImageUrlBySetAndNumber(t,n){try{await this.enforceRateLimit();const r=await fetch(`${this.BASE_URL}/cards/${t}/${n}`);if(!r.ok)return null;const i=await r.json();return i.image_uris?.normal||i.image_uris?.large||i.image_uris?.small||null}catch(r){return console.error("Error fetching image from Scryfall:",r),null}}static async getByCardmarketId(t){try{await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/cardmarket/${t}`);if(!n.ok){console.error(`Scryfall API error for cardmarket_id ${t}: ${n.status} ${n.statusText}`);try{const r=await n.text();console.error(`Scryfall API error details: ${r}`)}catch{console.error("Could not read error response body")}return null}return await n.json()}catch(n){return console.error("Error fetching card by Cardmarket ID from Scryfall:",n),null}}static async getByCardmarketIds(t){try{if(!t||t.length===0)return[];if(t.length===1){const i=await this.getByCardmarketId(t[0]);return i?[i]:[]}await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/collection`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifiers:t.map(i=>({cardmarket_id:i}))})});if(!n.ok){console.error(`Scryfall API error for batch cardmarket_ids: ${n.status} ${n.statusText}`);try{const i=await n.text();console.error(`Scryfall API error details: ${i}`)}catch{console.error("Could not read error response body")}return await this.getByCardmarketIdsIndividually(t)}return(await n.json()).data||[]}catch(n){return console.error("Error fetching cards by Cardmarket IDs from Scryfall:",n),await this.getByCardmarketIdsIndividually(t)}}static async getByCardmarketIdsIndividually(t){const n=[];for(const r of t){const i=await this.getByCardmarketId(r);i&&n.push(i)}return n}static async hydrateCard(t){try{if(t.scryfall_id){await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/${t.scryfall_id}`);if(n.ok)return await n.json()}if(t.setCode&&t.collectorNumber){await this.enforceRateLimit();const n=await fetch(`${this.BASE_URL}/cards/${t.setCode}/${t.collectorNumber}`);if(n.ok)return await n.json()}if(t.name&&t.setCode){await this.enforceRateLimit();let n=await fetch(`${this.BASE_URL}/cards/named?exact=${encodeURIComponent(t.name)}&set=${encodeURIComponent(t.setCode)}`);if(n.ok)return await n.json();if(t.version&&(await this.enforceRateLimit(),n=await fetch(`${this.BASE_URL}/cards/named?exact=${encodeURIComponent(t.name)}&set=${encodeURIComponent(t.setCode)}&include_variations=true`),n.ok))return await n.json();if(await this.enforceRateLimit(),n=await fetch(`${this.BASE_URL}/cards/named?fuzzy=${encodeURIComponent(t.name)}&set=${encodeURIComponent(t.setCode)}`),n.ok)return await n.json()}return null}catch(n){return console.error("Error hydrating card with Scryfall data:",n),null}}}class Ti{static async syncPrices(){try{const t=new Date,n=await gn.getAll();for(const r of n)try{const i=await nn.getPriceById(r.id);if(i){const a=t.toISOString().split("T")[0],d={id:`${r.id}:scryfall:${a}`,cardId:r.id,provider:"scryfall",currency:i.getCurrency(),price:i.getCents(),asOf:t,createdAt:t};await Ee.price_points.put(d)}}catch(i){console.error(`Error syncing price for card ${r.id}:`,i)}}catch(t){throw console.error("Error syncing prices:",t),t}}static async syncPriceForCard(t){try{const n=new Date,r=await gn.getById(t);if(!r){console.warn(`Card with ID ${t} not found`);return}const i=await nn.getPriceById(r.id);if(i){const a=n.toISOString().split("T")[0],d={id:`${r.id}:scryfall:${a}`,cardId:r.id,provider:"scryfall",currency:i.getCurrency(),price:i.getCents(),asOf:n,createdAt:n};await Ee.price_points.put(d)}}catch(n){throw console.error(`Error syncing price for card ${t}:`,n),n}}static async needsPriceUpdate(){try{const t=await Ee.price_points.orderBy("asOf").last();if(!t)return!0;const n=new Date,r=new Date(t.asOf);return(n.getTime()-r.getTime())/(1e3*60*60)>=24}catch(t){return console.error("Error checking if price update is needed:",t),!0}}static async needsPriceUpdateForCard(t){try{const n=await na.getByCardId(t);if(n.length===0)return!0;n.sort((d,f)=>f.asOf.getTime()-d.asOf.getTime());const r=n[0],i=new Date,a=new Date(r.asOf);return(i.getTime()-a.getTime())/(1e3*60*60)>=24}catch(n){return console.error(`Error checking if price update is needed for card ${t}:`,n),!0}}static async getLatestPriceForCard(t){try{const n=await na.getByCardId(t);if(n.length===0)return null;n.sort((i,a)=>a.asOf.getTime()-i.asOf.getTime());const r=n[0];return{price:r.price,asOf:r.asOf}}catch(n){return console.error(`Error getting latest price for card ${t}:`,n),null}}}const xm={class:"home"},km={class:"dashboard-stats row g-4"},Em={class:"col-lg-3 col-md-6"},Am={class:"stat-card h-100"},Sm={class:"stat-value"},Pm={class:"col-lg-3 col-md-6"},Om={class:"stat-card h-100"},Im={class:"stat-value"},Rm={class:"col-lg-3 col-md-6"},Dm={class:"stat-card h-100"},Tm={class:"col-lg-3 col-md-6"},$m={class:"stat-card h-100"},Mm=rt({__name:"HomeView",setup(e){const t=Pa(),n=wm(),r=Cm(),i=Pe("0.00"),a=Pe("0.00"),l=Pe("0.00"),d=Pe("0.00"),f=y=>y.format("de-DE"),m=async()=>{try{await t.loadCards(),await n.loadHoldings(),await r.loadTransactions();const y=await to.calculatePortfolioValue(),v=await to.calculateTotalCostBasis(),C=await to.calculateUnrealizedPnL(),O=await to.calculateRealizedPnL();i.value=f(y),a.value=f(v),l.value=f(C),d.value=f(O)}catch(y){console.error("Error loading dashboard data:",y)}},h=async()=>{try{await Ti.syncPrices(),await m(),alert("Prices refreshed successfully")}catch(y){console.error("Error refreshing prices:",y),alert("Failed to refresh prices: "+y.message)}};return yr(async()=>{if(await Ti.needsPriceUpdate())try{await Ti.syncPrices()}catch(v){console.error("Error updating prices on app start:",v)}await m()}),(y,v)=>(z(),te("div",xm,[v[4]||(v[4]=x("h1",null,"MTG Collection Value Tracker",-1)),x("div",km,[x("div",Em,[x("div",Am,[v[0]||(v[0]=x("h2",null,"Portfolio Value",-1)),x("p",Sm,fe(i.value),1)])]),x("div",Pm,[x("div",Om,[v[1]||(v[1]=x("h2",null,"Total Cost",-1)),x("p",Im,fe(a.value),1)])]),x("div",Rm,[x("div",Dm,[v[2]||(v[2]=x("h2",null,"Unrealized P/L",-1)),x("p",{class:Mt(["stat-value",parseFloat(l.value)>=0?"positive":"negative"])},fe(l.value),3)])]),x("div",Tm,[x("div",$m,[v[3]||(v[3]=x("h2",null,"Realized P/L",-1)),x("p",{class:Mt(["stat-value",parseFloat(d.value)>=0?"positive":"negative"])},fe(d.value),3)])])]),x("div",{class:"actions"},[x("button",{onClick:h,class:"btn btn-primary"},"Refresh Prices")])]))}}),Zn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},Bm=Zn(Mm,[["__scopeId","data-v-70e9c208"]]),Ut=e=>e.toLowerCase().normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"").replace(/[\s-]+/g," ").replace(/[:'"]/g,"").trim();function Nr(e){const t=new Map;for(const n of e)t.set(Ut(n.name),n);return{byName:t}}async function Fm(e){const t=e.trim(),n=Ut(t),r=await dl(),a=(await Nm()).get(n);if(a)return console.log(`Set code resolved from alias: ${t} -> ${a}`),a;const l=r.byName.get(n);if(l)return console.log(`Set code resolved from exact match: ${t} -> ${l.code}`),await Wt(n,l.code),l.code;if(/^commander:\s*/i.test(t)&&/: extras$/i.test(t)){const m=t.replace(/^commander:\s*/i,"").replace(/: extras$/i,"").trim(),h=r.byName.get(Ut(`${m} Commander`));if(h)return console.log(`Set code resolved from commander + extras nested: ${t} -> ${h.code}`),await Wt(n,h.code),h.code;const y=r.byName.get(Ut(m));if(y)return console.log(`Set code resolved from commander + extras nested (base): ${t} -> ${y.code}`),await Wt(n,y.code),y.code}if(/^commander:\s*/i.test(t)){const m=t.replace(/^commander:\s*/i,"").trim(),h=r.byName.get(Ut(`${m} Commander`));if(h)return console.log(`Set code resolved from commander rewrite (commander): ${t} -> ${h.code}`),await Wt(n,h.code),h.code;const y=r.byName.get(Ut(m));if(y)return console.log(`Set code resolved from commander rewrite (base): ${t} -> ${y.code}`),await Wt(n,y.code),y.code}if(/: extras$/i.test(t)){const m=Ut(t.replace(/: extras$/i,"")),h=r.byName.get(m);if(h)return console.log(`Set code resolved from extras suffix: ${t} -> ${h.code}`),await Wt(n,h.code),h.code}if(/^universes beyond:\s*/i.test(t)){const m=t.replace(/^universes beyond:\s*/i,"").trim();if(/: extras$/i.test(m)){const y=Ut(m.replace(/: extras$/i,"")),v=r.byName.get(y);if(v)return console.log(`Set code resolved from universes beyond + extras: ${t} -> ${v.code}`),await Wt(n,v.code),v.code}const h=r.byName.get(Ut(m));if(h)return console.log(`Set code resolved from universes beyond: ${t} -> ${h.code}`),await Wt(n,h.code),h.code}if(/^magic: the gathering -\s*/i.test(t)){const m=t.replace(/^magic: the gathering -\s*/i,"").trim();if(/: extras$/i.test(m)){const y=Ut(m.replace(/: extras$/i,"")),v=r.byName.get(y);if(v)return console.log(`Set code resolved from magic: the gathering - extras: ${t} -> ${v.code}`),await Wt(n,v.code),v.code}const h=r.byName.get(Ut(m));if(h)return console.log(`Set code resolved from magic: the gathering -: ${t} -> ${h.code}`),await Wt(n,h.code),h.code}if(/^secret lair drop series:/i.test(t)){const m=t.replace(/^secret lair drop series:/i,"").trim();if(/: extras$/i.test(m)){const y=Ut(m.replace(/: extras$/i,"")),v=r.byName.get(y);if(v)return console.log(`Set code resolved from secret lair drop series + extras: ${t} -> ${v.code}`),await Wt(n,v.code),v.code}const h=r.byName.get(Ut(m));if(h)return console.log(`Set code resolved from secret lair drop series: ${t} -> ${h.code}`),await Wt(n,h.code),h.code}console.log(`Set code unresolved: ${t}`),await Uu();const f=(await dl()).byName.get(n);return f?(console.log(`Set code resolved from fresh exact match: ${t} -> ${f.code}`),f.code):(await Wt(n,null),null)}async function dl(){try{const e=Date.now()-6048e5,t=await Ee.settings.get("scryfall_sets_cache");return t&&t.v&&t.v.fetchedAt>e?(console.log("Using cached Scryfall sets data"),Nr(t.v.sets)):(console.log("Refreshing Scryfall sets cache (no cache or old cache)"),await Uu())}catch(e){console.error("Error in getSetIndex:",e);try{const t=await Ee.settings.get("scryfall_sets_cache");if(t&&t.v)return console.log("Using old cached Scryfall sets data due to error"),Nr(t.v.sets)}catch(t){console.error("Error accessing cached Scryfall sets data:",t)}return console.log("Returning empty Scryfall sets index"),Nr([])}}async function Uu(){try{console.log("Fetching Scryfall sets data...");const e=await fetch("https://api.scryfall.com/sets");if(!e.ok)throw new Error(`Failed to fetch sets: ${e.status} ${e.statusText}`);const n=(await e.json()).data||[];return console.log(`Fetched ${n.length} Scryfall sets`),await Ee.settings.put({k:"scryfall_sets_cache",v:{sets:n,fetchedAt:Date.now()},createdAt:new Date,updatedAt:new Date}),Nr(n)}catch(e){console.error("Error refreshing Scryfall sets cache:",e);try{const t=await Ee.settings.get("scryfall_sets_cache");if(t&&t.v)return console.log("Using old cached Scryfall sets data due to fetch error"),Nr(t.v.sets)}catch(t){console.error("Error accessing cached Scryfall sets data:",t)}return console.log("Returning empty Scryfall sets index due to errors"),Nr([])}}async function Nm(){const e=new Map,t=await Ee.settings.get("set_code_aliases");if(t&&t.v)for(const[n,r]of Object.entries(t.v))e.set(n,r);return e}async function Wt(e,t){try{const n=Ut(e),r=await Ee.settings.get("set_code_aliases");let i={};r&&r.v&&(i={...r.v}),i[n]=t,await Ee.settings.put({k:"set_code_aliases",v:i,createdAt:r?.createdAt||new Date,updatedAt:new Date})}catch(n){console.error("Error storing set code alias:",n)}}class jr{static async importCardmarketTransactions(t){try{const n=new Date;for(const r of t){const i=`cardmarket:${r.reference}:${r.lineNumber}`;if(await Ee.transactions.where("externalRef").equals(i).first())continue;const l=Ze.parse(r.amount,"EUR"),d={id:`tx-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,kind:l.isPositive()?"SELL":"BUY",quantity:1,unitPrice:l.getCents(),fees:0,shipping:0,currency:"EUR",source:"cardmarket",externalRef:i,happenedAt:new Date(r.date),createdAt:n,updatedAt:n};await yn.add(d)}}catch(n){throw console.error("Error importing Cardmarket transactions:",n),n}}static async importCardmarketOrders(t){try{const n=new Date;for(const r of t){const i=`cardmarket:order:${r.orderId}:${r.lineNumber}`;if(await Ee.transactions.where("externalRef").equals(i).first())continue;const l=Ze.parse(r.merchandiseValue,"EUR"),d=Ze.parse(r.shipmentCosts,"EUR"),f=Ze.parse(r.commission,"EUR"),m={id:`order-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,kind:r.direction==="sale"?"SELL":"BUY",quantity:parseInt(r.articleCount)||1,unitPrice:Math.round(l.getCents()/(parseInt(r.articleCount)||1)),fees:f.getCents(),shipping:d.getCents(),currency:"EUR",source:"cardmarket",externalRef:i,happenedAt:new Date(r.dateOfPurchase),createdAt:n,updatedAt:n};await yn.add(m)}}catch(n){throw console.error("Error importing Cardmarket orders:",n),n}}static async importCardmarketArticles(t){try{const n=new Date;for(const r of t){let i=null,a=null;if(r.productId){const h=r.productId.split(" | ").map(y=>y.trim());if(h.length===1)i=await nn.getByCardmarketId(h[0]),console.log(JSON.stringify({product_ids:h,resolved_via:"cardmarket_id",cardmarket_id:h[0],final_uri:`/cards/cardmarket/${h[0]}`}));else if(h.length>1){const y=await nn.getByCardmarketIds(h);y&&y.length>0&&(i=y[0],console.log(JSON.stringify({product_ids:h,resolved_via:"cardmarket_id",cardmarket_id:h[0],final_uri:"/cards/collection"})))}a=i?.id||null}const l=h=>{const y=[/-\s*(\d+[a-zA-Z]*)\s*-/i,/-\s*([IVXLCDM]+)\s*-/i,/\s+(\d+[a-zA-Z]*)\s*$/i,/\((\d+[a-zA-Z]*)\)/i];for(const v of y){const C=h.match(v);if(C)return C[1]}return""};if(!a){const h=await Fm(r.expansion);let y=r.name,v=null;const C=r.name.match(/^(.+?)\s*\((V\.\d+)\)$/i);C&&(y=C[1].trim(),v=C[2]);let O=l(r.name);console.log(JSON.stringify({product_ids:r.productId?r.productId.split(" | ").map(N=>N.trim()):[],resolved_via:"set+cn",set_code:h,collector_number:O,final_uri:h?`/cards/${h}/${O}`:""})),i=await nn.hydrateCard({name:y,setCode:h||r.expansion,collectorNumber:O,version:v}),a=i?.id||null,a||console.log(JSON.stringify({product_ids:r.productId?r.productId.split(" | ").map(N=>N.trim()):[],resolved_via:"none",set_code:null,collector_number:"",final_uri:"",name:r.name,expansion:r.expansion}))}const d=Ze.parse(r.price,"EUR");if(a)if(await gn.getById(a))try{const y=n.toISOString().split("T")[0],v=`${a}:scryfall:${y}`;if(!await Ee.price_points.get(v)){const O=await nn.getPriceById(a);if(O){const N={id:v,cardId:a,provider:"scryfall",currency:O.getCurrency(),price:O.getCents(),asOf:n,createdAt:n};await Ee.price_points.put(N)}}}catch(y){console.error(`Error checking/updating price for existing card ${a}:`,y)}else{const y=i||await nn.hydrateCard({scryfall_id:a,name:r.name,setCode:r.expansion,collectorNumber:""}),v=await nn.getImageUrlById(a);let C=l(r.name);const O={id:a,oracleId:y?.oracle_id||i?.oracle_id||"",name:r.name,set:y?.set_name||i?.set_name||r.expansion,setCode:y?.set||i?.set||r.expansion,number:y?.collector_number||i?.collector_number||C||"",lang:y?.lang||i?.lang||"en",finish:"nonfoil",imageUrl:v||"",createdAt:n,updatedAt:n};await gn.add(O);try{const N=await nn.getPriceById(a);if(N){const J=n.toISOString().split("T")[0],j={id:`${a}:scryfall:${J}`,cardId:a,provider:"scryfall",currency:N.getCurrency(),price:N.getCents(),asOf:n,createdAt:n};await Ee.price_points.put(j)}}catch(N){console.error(`Error fetching price for new card ${a}:`,N)}}let f;if(r.direction==="purchase"){const h=await Tt.getByCardId(a||"");let y=null;for(const v of h)if(!(await yn.getByLotId(v.id)).some(N=>N.kind==="BUY")){y=v;break}if(y)await Tt.update(y.id,{unitCost:d.getCents(),source:"cardmarket",purchasedAt:new Date(r.dateOfPurchase),updatedAt:n}),f=y.id;else{const v=`lot-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,C={id:v,cardId:a||"",quantity:parseInt(r.amount)||1,unitCost:d.getCents(),condition:"",language:"",foil:!1,finish:"nonfoil",source:"cardmarket",currency:"EUR",purchasedAt:new Date(r.dateOfPurchase),createdAt:n,updatedAt:n};await Tt.add(C),f=v}}const m={id:`article-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,kind:r.direction==="sale"?"SELL":"BUY",cardId:a||void 0,lotId:f,quantity:parseInt(r.amount)||1,unitPrice:d.getCents(),fees:0,shipping:0,currency:"EUR",source:"cardmarket",externalRef:`cardmarket:article:${r.shipmentId}:${r.lineNumber}`,happenedAt:new Date(r.dateOfPurchase),createdAt:n,updatedAt:n};await yn.add(m)}}catch(n){throw console.error("Error importing Cardmarket articles:",n),n}}static async getOrCreateLotForPurchase(t,n,r,i){const a=new Date,l=await Tt.getByCardId(t);for(const m of l)if(!(await yn.getByLotId(m.id)).some(v=>v.kind==="BUY"))return await Tt.update(m.id,{unitCost:r,quantity:m.quantity+n,source:"cardmarket",purchasedAt:i,updatedAt:a}),m.id;const d=`lot-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,f={id:d,cardId:t,quantity:n,unitCost:r,condition:"NM",language:"en",foil:!1,finish:"nonfoil",source:"cardmarket",currency:"EUR",purchasedAt:i,createdAt:a,updatedAt:a};return await Tt.add(f),d}static async getLotForSale(t,n){const i=(await Tt.getByCardId(t)).filter(a=>!a.disposedAt||a.disposedQuantity&&a.disposedQuantity<a.quantity).sort((a,l)=>a.purchasedAt.getTime()-l.purchasedAt.getTime());for(const a of i){const l=a.disposedQuantity?a.quantity-a.disposedQuantity:a.quantity;if(l>=n)return{lotId:a.id,remainingQuantity:l-n}}return null}}const jm={class:"csv-import"},Lm={class:"import-section"},qm={class:"mb-3"},Km={class:"mb-3"},Um={class:"mb-3"},Vm={class:"import-section"},Hm={class:"mb-3"},Wm=rt({__name:"CsvImportView",setup(e){const t=Pe(null),n=(d,f)=>{t.value={type:d,message:f},setTimeout(()=>{t.value=null},5e3)},r=async d=>{const f=d.target,m=f.files?.[0];if(m)try{const y=(await m.text()).split(`
`),v=y[0].split(";").map(O=>O.trim()),C=[];for(let O=1;O<y.length;O++){const N=y[O].trim();if(!N)continue;const J=N.split(";"),L={};for(let j=0;j<v.length;j++){const K=v[j].toLowerCase(),X=J[j]?J[j].trim():"";switch(K){case"reference":case"referenz":case"transaktions-id":L.reference=X;break;case"date":case"datum":case"date paid":L.date=X;break;case"category":case"kategorie":L.category=X;break;case"type":case"typ":L.type=X;break;case"counterpart":case"gegenpartei":L.counterpart=X;break;case"amount":case"betrag":L.amount=X;break;case"closing balance (eur)":case"balance after":case"saldo danach (eur)":L.balanceAfter=X;break}}L.reference&&(L.currency="EUR",C.push(L))}await jr.importCardmarketTransactions(C),n("success",`Successfully imported ${C.length} transactions`),f.value=""}catch(h){console.error("Error importing transactions:",h),n("error","Failed to import transactions: "+h.message)}},i=async d=>{const f=d.target,m=f.files?.[0];if(m)try{const y=m.name.toLowerCase().includes("purchased")?"purchase":"sale",C=(await m.text()).split(`
`),O=C[0].split(";").map(J=>J.trim()),N=[];for(let J=1;J<C.length;J++){const L=C[J].trim();if(!L)continue;const j=L.split(";"),K={};for(let X=0;X<O.length;X++){const we=O[X].toLowerCase(),ve=j[X]?j[X].trim():"";switch(we){case"order id":case"orderid":case"bestellnummer":K.orderId=ve;break;case"date of purchase":case"date":case"date of payment":case"kaufdatum":case"zahlungsdatum":K.dateOfPurchase=ve;break;case"username":case"benutzername":K.username=ve;break;case"country":case"land":K.country=ve;break;case"city":case"stadt":K.city=ve;break;case"article count":case"items":case"anzahl artikel":K.articleCount=ve;break;case"merchandise value":case"warenwert":K.merchandiseValue=ve;break;case"shipment costs":case"versandkosten":K.shipmentCosts=ve;break;case"commission":case"trustee service fee":case"provision":K.commission=ve;break;case"total value":case"gesamtwert":K.totalValue=ve;break}}K.orderId&&(K.direction=y,K.currency="EUR",N.push(K))}await jr.importCardmarketOrders(N),n("success",`Successfully imported ${N.length} ${y} orders`),f.value=""}catch(h){console.error("Error importing orders:",h),n("error","Failed to import orders: "+h.message)}},a=async d=>{const f=d.target,m=f.files?.[0];if(m)try{const y=m.name.toLowerCase().includes("purchased")?"purchase":"sale",C=(await m.text()).split(`
`),O=C[0].split(";").map(J=>J.trim()),N=[];for(let J=1;J<C.length;J++){const L=C[J].trim();if(!L)continue;const j=L.split(";"),K={};for(let X=0;X<O.length;X++){const we=O[X].toLowerCase(),ve=j[X]?j[X].trim():"";switch(we){case"shipment nr.":case"shipment nr":case"shipment id":case"order id":case"bestellnummer":K.shipmentId=ve;break;case"date of purchase":case"date":K.dateOfPurchase=ve;break;case"product id":case"produkt id":K.productId=ve;break;case"article":case"artikel":case"localized product name":case"produktname":K.name=ve;break;case"expansion":case"erweiterung":K.expansion=ve;break;case"category":case"kategorie":K.category=ve;break;case"amount":case"anzahl":K.amount=ve;break;case"article value":case"price":case"preis":K.price=ve;break;case"total":K.total=ve;break;case"currency":K.currency=ve;break;case"comments":K.comments=ve;break}}K.shipmentId&&(K.direction=y,K.currency||(K.currency="EUR"),N.push(K))}await jr.importCardmarketArticles(N),n("success",`Successfully imported ${N.length} ${y} articles`),f.value=""}catch(h){console.error("Error importing articles:",h),n("error","Failed to import articles: "+h.message)}},l=async d=>{const f=d.target;f.files?.[0]&&(n("success","ManaBox import functionality would be implemented here"),f.value="")};return(d,f)=>(z(),te("div",jm,[f[8]||(f[8]=x("h1",null,"Import CSV Files",-1)),x("div",Lm,[f[3]||(f[3]=x("h2",null,"Cardmarket Data",-1)),f[4]||(f[4]=x("p",null,"Import your Cardmarket transaction data to track your purchases and sales.",-1)),x("div",qm,[f[0]||(f[0]=x("label",{for:"transactions-csv",class:"form-label"}," Upload Transactions CSV ",-1)),x("input",{id:"transactions-csv",type:"file",accept:".csv",onChange:r,class:"form-control"},null,32)]),x("div",Km,[f[1]||(f[1]=x("label",{for:"orders-csv",class:"form-label"}," Upload Orders CSV ",-1)),x("input",{id:"orders-csv",type:"file",accept:".csv",onChange:i,class:"form-control"},null,32)]),x("div",Um,[f[2]||(f[2]=x("label",{for:"articles-csv",class:"form-label"}," Upload Articles CSV ",-1)),x("input",{id:"articles-csv",type:"file",accept:".csv",onChange:a,class:"form-control"},null,32)])]),x("div",Vm,[f[6]||(f[6]=x("h2",null,"ManaBox Scans",-1)),f[7]||(f[7]=x("p",null,"Import your ManaBox scan data to track your physical collection.",-1)),x("div",Hm,[f[5]||(f[5]=x("label",{for:"manabox-csv",class:"form-label"}," Upload ManaBox CSV ",-1)),x("input",{id:"manabox-csv",type:"file",accept:".csv",onChange:l,class:"form-control"},null,32)])]),t.value?(z(),te("div",{key:0,class:Mt(["status-message",t.value.type])},fe(t.value.message),3)):$e("",!0)]))}}),zm=Zn(Wm,[["__scopeId","data-v-a64310e9"]]);function Qm(e){return new Worker("/mtg-pwa/assets/cardmarketCsv-GHGAoa0o.js",{name:e?.name})}const Ym={class:"cardmarket-wizard"},Gm={class:"wizard-progress"},Jm={class:"step-number"},Xm={class:"step-label"},Zm={class:"wizard-content"},ey={key:0,class:"step-content"},ty={class:"file-upload-section"},ny={class:"mb-3"},ry={key:0,class:"files-info"},sy={class:"file-list"},oy={class:"file-name"},iy={class:"file-type"},ay={class:"file-size"},cy={key:0,class:"error-messages"},ly={key:1,class:"step-content"},uy={key:0,class:"preview-stats"},dy={class:"stat"},fy={class:"stat-value"},py={class:"stat"},hy={class:"stat-value"},my={class:"stat"},yy={class:"stat-value"},gy={key:1,class:"preview-table-container"},vy={class:"preview-table-wrapper"},by={class:"preview-table"},_y={key:0},wy={key:1},Cy={key:2},xy={key:3},ky={key:4},Ey={key:5},Ay={key:6},Sy={key:7},Py={key:8},Oy={key:9},Iy={key:10},Ry={key:11},Dy={key:12},Ty={key:13},$y={key:0},My={key:1},By={key:2},Fy={key:3},Ny={key:4},jy={key:5},Ly={key:6},qy={key:7},Ky={key:8},Uy={key:9},Vy={key:10},Hy={key:11},Wy={key:12},zy={key:13},Qy={key:0},Yy=["colspan"],Gy={key:2,class:"invalid-rows-section"},Jy={class:"invalid-rows"},Xy={class:"row-number"},Zy={class:"row-errors"},eg={key:0,class:"more-rows"},tg={key:2,class:"step-content"},ng={key:3,class:"step-content"},rg={class:"summary-stats"},sg={class:"stat"},og={class:"stat-value"},ig={class:"stat"},ag={class:"stat-value"},cg={class:"summary-details"},lg={class:"summary-grid"},ug={class:"summary-item"},dg={class:"summary-value"},fg={class:"summary-item"},pg={class:"summary-value"},hg={class:"summary-item"},mg={class:"summary-value"},yg={class:"wizard-navigation"},gg=["disabled"],vg=["disabled"],bg=rt({__name:"CardmarketImportWizard",setup(e){const t=[{key:"upload",title:"Upload"},{key:"preview",title:"Preview"},{key:"conflicts",title:"Conflicts"},{key:"summary",title:"Summary"}],n=Pe(0),r=Pe([]),i=Pe({}),a=Pe({}),l=Pe({}),d=Pe([]),f=Pe(null),m=Pe(!1),h=ie=>{if(ie===0)return"0 Bytes";const Q=1024,F=["Bytes","KB","MB","GB"],oe=Math.floor(Math.log(ie)/Math.log(Q));return parseFloat((ie/Math.pow(Q,oe)).toFixed(2))+" "+F[oe]},y=ie=>new Intl.NumberFormat("en-EU",{style:"currency",currency:"EUR"}).format(ie/100),v=async ie=>{const F=ie.target.files;if(!(!F||F.length===0)){d.value=[],r.value=Array.from(F);try{for(const oe of r.value){if(!oe.name.endsWith(".csv")){d.value.push(`File ${oe.name} is not a CSV file.`);continue}const ue=await oe.text();i.value[oe.name]=ue,a.value[oe.name]=st(oe.name)}await C()}catch(oe){d.value.push("Failed to read the files: "+oe.message)}}},C=async()=>{try{l.value={};for(const[ie,Q]of Object.entries(i.value)){const F=a.value[ie];if(F==="unknown"){console.warn(`Skipping unknown file type: ${ie}`);continue}const oe=new Qm;let ue="",He="sale";switch(F){case"transactions":ue="parseTransactions";break;case"sold-orders":ue="parseOrders",He="sale";break;case"purchased-orders":ue="parseOrders",He="purchase";break;case"sold-articles":ue="parseArticles",He="sale";break;case"purchased-articles":ue="parseArticles",He="purchase";break}oe.postMessage({type:ue,data:Q,direction:He});const ut=await new Promise((vt,_t)=>{oe.onmessage=At=>{const{type:en,result:tn,error:dt}=At.data;console.log("Worker response type:",en),dt?_t(new Error(dt)):vt(tn)},oe.onerror=At=>{_t(At)}});l.value[F]=ut,oe.terminate()}}catch(ie){d.value.push("Failed to parse CSV data: "+ie.message)}},O=tt(()=>n.value===0?r.value.length>0&&d.value.length===0:!0),N=async()=>{O.value&&(n.value===0&&await C(),n.value<t.length-1&&n.value++)},J=()=>{n.value>0&&n.value--},L=async()=>{if(!m.value){m.value=!0,f.value=null;try{for(const[ie,Q]of Object.entries(l.value)){if(!Q||Q.length===0)continue;const F=Ge(Q,ie);switch(ie){case"transactions":await jr.importCardmarketTransactions(F);break;case"sold-orders":case"purchased-orders":await jr.importCardmarketOrders(F);break;case"sold-articles":case"purchased-articles":await jr.importCardmarketArticles(F);break}}f.value={type:"success",message:"Successfully imported all data"}}catch(ie){f.value={type:"error",message:"Failed to import data: "+ie.message}}finally{m.value=!1}}},j=ie=>Ge(l.value[ie]||[],ie),K=()=>Object.values(l.value).reduce((ie,Q)=>ie+(Q?.length||0),0),X=()=>{let ie=0;for(const[Q,F]of Object.entries(l.value))F&&(ie+=Ge(F,Q).length);return ie},we=ie=>{if(/^\d{2}\.\d{2}\.\d{4} \d{2}:\d{2}:\d{2}$/.test(ie)){const oe=ie.split(" ")[0].split("."),ue=parseInt(oe[0],10),He=parseInt(oe[1],10)-1,ut=parseInt(oe[2],10),vt=new Date(ut,He,ue);return vt.getFullYear()===ut&&vt.getMonth()===He&&vt.getDate()===ue}if(/^\d{2}\.\d{2}\.\d{4}$/.test(ie)){const Q=ie.split("."),F=parseInt(Q[0],10),oe=parseInt(Q[1],10)-1,ue=parseInt(Q[2],10),He=new Date(ue,oe,F);return He.getFullYear()===ue&&He.getMonth()===oe&&He.getDate()===F}if(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(ie)){const Q=new Date(ie);return!isNaN(Q.getTime())}if(/^\d{4}-\d{2}-\d{2}$/.test(ie)){const Q=new Date(ie);return!isNaN(Q.getTime())}return!1},ve=ie=>{const Q=ie.replace(/[$\s]/g,"").replace(",",".");return!isNaN(parseFloat(Q))},xe=ie=>{const Q=parseInt(ie,10);return!isNaN(Q)&&Q>0};function Se(ie){switch(ie){case"transactions":return"Transaction Summary";case"sold-orders":return"Sold Orders";case"purchased-orders":return"Purchased Orders";case"sold-articles":return"Sold Articles";case"purchased-articles":return"Purchased Articles";default:return"Unknown File Type"}}const Ae=ie=>{switch(ie){case"transactions":return 5;case"sold-orders":case"purchased-orders":return 6;case"sold-articles":case"purchased-articles":return 7;default:return 5}},je=(ie,Q)=>{const F=[];if(!ie.date&&!ie.dateOfPurchase)F.push("Date is required");else{const oe=ie.date||ie.dateOfPurchase;we(oe)||F.push("Invalid date format (expected DD.MM.YYYY or YYYY-MM-DD)")}return Q.includes("articles")?(ie.name||F.push("Card name is required"),ie.expansion||F.push("Expansion/Set is required"),ie.price?ve(ie.price)||F.push("Invalid price format (expected numeric value)"):F.push("Price is required"),ie.amount?xe(ie.amount)||F.push("Invalid quantity (expected positive integer)"):F.push("Quantity is required"),ie.shipmentId||F.push("Order ID is required")):Q.includes("orders")?(ie.dateOfPurchase?we(ie.dateOfPurchase)||F.push("Invalid date format (expected DD.MM.YYYY or YYYY-MM-DD)"):F.push("Date is required"),ie.orderId||F.push("Order ID is required"),ie.articleCount?xe(ie.articleCount)||F.push("Invalid article count (expected positive integer)"):F.push("Article count is required"),ie.merchandiseValue?ve(ie.merchandiseValue)||F.push("Invalid merchandise value format (expected numeric value)"):F.push("Merchandise value is required")):Q==="transactions"&&(ie.reference||F.push("Reference is required"),ie.amount?ve(ie.amount)||F.push("Invalid amount format (expected numeric value)"):F.push("Amount is required"),ie.category||F.push("Category is required"),ie.type||F.push("Type is required")),F},Ge=(ie,Q="articles")=>ie.filter(F=>je(F,Q).length===0),qe=(ie,Q="articles")=>ie.map((F,oe)=>({index:oe,row:F,errors:je(F,Q)})).filter(F=>F.errors.length>0),st=ie=>{const Q=ie.toLowerCase();return Q.includes("transaction")?"transactions":Q.includes("sold orders")?"sold-orders":Q.includes("purchased orders")?"purchased-orders":Q.includes("sold articles")?"sold-articles":Q.includes("purchased articles")?"purchased-articles":"unknown"};return(ie,Q)=>(z(),te("div",Ym,[Q[23]||(Q[23]=x("h1",null,"Cardmarket Import Wizard",-1)),x("div",Gm,[(z(),te(nt,null,zt(t,(F,oe)=>x("div",{key:F.key,class:Mt(["step",{active:n.value===oe,completed:oe<n.value}])},[x("div",Jm,fe(oe+1),1),x("div",Xm,fe(F.title),1)],2)),64))]),x("div",Zm,[n.value===0?(z(),te("div",ey,[Q[2]||(Q[2]=x("h2",null,"Upload CSV Files",-1)),Q[3]||(Q[3]=x("p",null,"Please select all Cardmarket CSV export files to import. You can select multiple files at once.",-1)),x("div",ty,[x("div",ny,[Q[0]||(Q[0]=x("label",{for:"csv-files",class:"form-label"}," Choose CSV Files ",-1)),x("input",{id:"csv-files",type:"file",accept:".csv",multiple:"",onChange:v,class:"form-control"},null,32)]),r.value.length>0?(z(),te("div",ry,[Q[1]||(Q[1]=x("h3",null,"Uploaded Files",-1)),x("ul",sy,[(z(!0),te(nt,null,zt(r.value,F=>(z(),te("li",{key:F.name,class:"file-item"},[x("span",oy,fe(F.name),1),x("span",iy,"("+fe(st(F.name))+")",1),x("span",ay,"- "+fe(h(F.size)),1)]))),128))])])):$e("",!0)]),d.value.length>0?(z(),te("div",cy,[(z(!0),te(nt,null,zt(d.value,F=>(z(),te("div",{key:F,class:"error-message"},fe(F),1))),128))])):$e("",!0)])):n.value===1?(z(),te("div",ly,[Q[11]||(Q[11]=x("h2",null,"Preview Data",-1)),Q[12]||(Q[12]=x("p",null,"Review the data that will be imported. Check for any issues before proceeding.",-1)),(z(!0),te(nt,null,zt(a.value,(F,oe)=>(z(),te("div",{key:oe,class:"file-preview"},[x("h3",null,fe(Se(F)),1),l.value[F]&&l.value[F].length>0?(z(),te("div",uy,[x("div",dy,[x("div",fy,fe(l.value[F].length),1),Q[4]||(Q[4]=x("div",{class:"stat-label"},"Total Rows",-1))]),x("div",py,[x("div",hy,fe(Ge(l.value[F],F).length),1),Q[5]||(Q[5]=x("div",{class:"stat-label"},"Valid Rows",-1))]),x("div",my,[x("div",yy,fe(qe(l.value[F],F).length),1),Q[6]||(Q[6]=x("div",{class:"stat-label"},"Invalid Rows",-1))])])):$e("",!0),l.value[F]&&l.value[F].length>0?(z(),te("div",gy,[Q[8]||(Q[8]=x("h4",null,"Valid Data Preview",-1)),x("div",vy,[x("table",by,[x("thead",null,[x("tr",null,[F==="transactions"?(z(),te("th",_y,"Reference")):(z(),te("th",wy,"Line")),Q[7]||(Q[7]=x("th",null,"Date",-1)),F.includes("articles")?(z(),te("th",Cy,"Card Name")):$e("",!0),F.includes("articles")?(z(),te("th",xy,"Expansion")):$e("",!0),F.includes("articles")?(z(),te("th",ky,"Price")):$e("",!0),F.includes("articles")?(z(),te("th",Ey,"Quantity")):$e("",!0),F.includes("articles")?(z(),te("th",Ay,"Order ID")):$e("",!0),F.includes("orders")?(z(),te("th",Sy,"Order ID")):$e("",!0),F.includes("orders")?(z(),te("th",Py,"Username")):$e("",!0),F.includes("orders")?(z(),te("th",Oy,"Article Count")):$e("",!0),F.includes("orders")?(z(),te("th",Iy,"Merchandise Value")):$e("",!0),F==="transactions"?(z(),te("th",Ry,"Category")):$e("",!0),F==="transactions"?(z(),te("th",Dy,"Type")):$e("",!0),F==="transactions"?(z(),te("th",Ty,"Amount")):$e("",!0)])]),x("tbody",null,[(z(!0),te(nt,null,zt(Ge(l.value[F],F).slice(0,5),(ue,He)=>(z(),te("tr",{key:He},[F==="transactions"?(z(),te("td",$y,fe(ue.reference),1)):(z(),te("td",My,fe(ue.lineNumber),1)),x("td",null,fe(ue.date||ue.dateOfPurchase),1),F.includes("articles")?(z(),te("td",By,fe(ue.name),1)):$e("",!0),F.includes("articles")?(z(),te("td",Fy,fe(ue.expansion),1)):$e("",!0),F.includes("articles")?(z(),te("td",Ny,fe(y(parseFloat(ue.price.replace(/[$\s]/g,"").replace(",","."))*100)),1)):$e("",!0),F.includes("articles")?(z(),te("td",jy,fe(ue.amount),1)):$e("",!0),F.includes("articles")?(z(),te("td",Ly,fe(ue.shipmentId),1)):$e("",!0),F.includes("orders")?(z(),te("td",qy,fe(ue.orderId),1)):$e("",!0),F.includes("orders")?(z(),te("td",Ky,fe(ue.username),1)):$e("",!0),F.includes("orders")?(z(),te("td",Uy,fe(ue.articleCount),1)):$e("",!0),F.includes("orders")?(z(),te("td",Vy,fe(y(parseFloat(ue.merchandiseValue.replace(/[$\s]/g,"").replace(",","."))*100)),1)):$e("",!0),F==="transactions"?(z(),te("td",Hy,fe(ue.category),1)):$e("",!0),F==="transactions"?(z(),te("td",Wy,fe(ue.type),1)):$e("",!0),F==="transactions"?(z(),te("td",zy,fe(y(parseFloat(ue.amount.replace(/[$\s]/g,"").replace(",","."))*100)),1)):$e("",!0)]))),128)),Ge(l.value[F],F).length>5?(z(),te("tr",Qy,[x("td",{colspan:Ae(F),class:"more-rows-cell"}," ... and "+fe(Ge(l.value[F],F).length-5)+" more rows ",9,Yy)])):$e("",!0)])])])])):$e("",!0),qe(l.value[F],F).length>0?(z(),te("div",Gy,[Q[9]||(Q[9]=x("h4",null,"Invalid Rows",-1)),Q[10]||(Q[10]=x("p",null,"The following rows have issues and will be skipped:",-1)),x("div",Jy,[(z(!0),te(nt,null,zt(qe(l.value[F],F).slice(0,3),(ue,He)=>(z(),te("div",{key:He,class:"invalid-row"},[x("div",Xy,"Row "+fe(ue.row.lineNumber||ue.row.reference),1),x("div",Zy,fe(ue.errors.join(", ")),1)]))),128)),qe(l.value[F],F).length>3?(z(),te("div",eg," ... and "+fe(qe(l.value[F],F).length-3)+" more rows ",1)):$e("",!0)])])):$e("",!0)]))),128))])):n.value===2?(z(),te("div",tg,[Q[13]||(Q[13]=x("h2",null,"Resolve Conflicts",-1)),Q[14]||(Q[14]=x("p",null,"Check for duplicate imports and resolve any conflicts.",-1)),(z(!0),te(nt,null,zt(a.value,(F,oe)=>(z(),te("div",{key:oe,class:"file-conflicts"},[x("h3",null,fe(Se(F)),1)]))),128))])):n.value===3?(z(),te("div",ng,[Q[21]||(Q[21]=x("h2",null,"Import Summary",-1)),Q[22]||(Q[22]=x("p",null,"Review the import summary before finalizing.",-1)),(z(!0),te(nt,null,zt(a.value,(F,oe)=>(z(),te("div",{key:oe,class:"file-summary"},[x("h3",null,fe(Se(F)),1),x("div",rg,[x("div",sg,[x("div",og,fe(j(F).length),1),Q[15]||(Q[15]=x("div",{class:"stat-label"},"New Records",-1))]),x("div",ig,[x("div",ag,fe(qe(l.value[F]||[],F).length),1),Q[16]||(Q[16]=x("div",{class:"stat-label"},"Invalid Rows",-1))])])]))),128)),x("div",cg,[Q[20]||(Q[20]=x("h3",null,"Import Details",-1)),x("div",lg,[x("div",ug,[Q[17]||(Q[17]=x("div",{class:"summary-label"},"Files Uploaded",-1)),x("div",dg,fe(r.value.length),1)]),x("div",fg,[Q[18]||(Q[18]=x("div",{class:"summary-label"},"Total Rows Parsed",-1)),x("div",pg,fe(K()),1)]),x("div",hg,[Q[19]||(Q[19]=x("div",{class:"summary-label"},"Total Valid Rows",-1)),x("div",mg,fe(X()),1)])])]),f.value?(z(),te("div",{key:0,class:Mt(["import-status",f.value.type])},fe(f.value.message),3)):$e("",!0)])):$e("",!0)]),x("div",yg,[n.value>0?(z(),te("button",{key:0,onClick:J,class:"btn btn-secondary"}," Previous ")):$e("",!0),n.value<t.length-1?(z(),te("button",{key:1,onClick:N,class:"btn btn-primary",disabled:!O.value}," Next ",8,gg)):$e("",!0),n.value===t.length-1?(z(),te("button",{key:2,onClick:L,class:"btn btn-primary",disabled:m.value},fe(m.value?"Importing...":"Import Data"),9,vg)):$e("",!0)])]))}}),_g=Zn(bg,[["__scopeId","data-v-792f71b1"]]);class wg{static normalizeFingerprint(t){return{name:t.name.trim().toLowerCase(),setCode:t.setCode.trim().toLowerCase(),collectorNumber:t.collectorNumber.trim().toLowerCase(),finish:t.finish.trim().toLowerCase(),language:t.language.trim().toLowerCase()}}static compareFingerprints(t,n){const r=this.normalizeFingerprint(t),i=this.normalizeFingerprint(n);return r.name===i.name&&r.setCode===i.setCode&&r.collectorNumber===i.collectorNumber&&r.finish===i.finish&&r.language===i.language}static async resolveFingerprint(t){try{const n=await nn.hydrateCard({name:t.name,setCode:t.setCode,collectorNumber:t.collectorNumber});return n&&n.id?n.id:null}catch(n){return console.error("Error resolving fingerprint:",n),null}}}const Cg={class:"deck-import"},xg={class:"import-section"},kg={class:"mb-3"},Eg={class:"mb-3"},Ag=["disabled"],Sg={key:0,class:"progress-container mb-4"},Pg={class:"progress"},Og={class:"progress-text"},Ig=rt({__name:"DeckImportView",setup(e){const t=Pe(""),n=Pe(""),r=Pe(!1),i=Pe(null),a=Pe(null),l=(f,m)=>{i.value={type:f,message:m},setTimeout(()=>{i.value=null},5e3)},d=async()=>{if(!t.value.trim()){l("error","Please enter a deck name");return}if(!n.value.trim()){l("error","Please paste your decklist");return}r.value=!0,a.value=0;try{const f=n.value.trim().split(`
`).filter(O=>O.trim()),m=f.length,h=O=>new Promise(N=>setTimeout(N,O)),y=`deck-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,v=new Date,C={id:y,platform:"csv",name:t.value.trim(),commander:"",url:"",importedAt:v,createdAt:v,updatedAt:v};await Ee.decks.add(C);for(let O=0;O<f.length;O++){const N=f[O].trim();if(!N)continue;a.value=Math.round((O+1)/m*100),await h(0),console.log("Processing line:",N);const J=N.match(/^(\d+)\s+(.+?)\s*\(([^)]+)\)\s*(\d+)(?:\s*\*F\*\s*)?$/i);if(J){const[,L,j,K,X]=J,we=parseInt(L)||1;if(j&&K&&X){const ve={name:j.trim(),setCode:K.trim(),collectorNumber:X.trim(),finish:"nonfoil",language:"en"},xe=await wg.resolveFingerprint(ve);if(xe){if(!await gn.getById(xe)){const Q=await nn.hydrateCard({scryfall_id:xe,name:j.trim(),setCode:K.trim(),collectorNumber:X.trim()}),F=Q?.image_uris?.normal||Q?.image_uris?.large||Q?.image_uris?.small||"",oe=new Date,ue={id:xe,oracleId:Q?.oracle_id||"",name:j.trim(),set:Q?.set_name||K.trim(),setCode:K.trim(),number:X.trim(),lang:Q?.lang||"en",finish:"nonfoil",imageUrl:F,createdAt:oe,updatedAt:oe};await gn.add(ue)}const ie=(await Tt.getByCardId(xe)).reduce((Q,F)=>{if(!F.disposedAt||F.disposedQuantity&&F.disposedQuantity<F.quantity){const oe=F.disposedQuantity?F.quantity-F.disposedQuantity:F.quantity;return Q+oe}return Q},0);if(ie<we){const Q=we-ie,F=new Date,ue={id:`lot-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,cardId:xe,quantity:Q,unitCost:0,condition:"unknown",language:"en",foil:!1,finish:"nonfoil",source:"deck_import",currency:"EUR",purchasedAt:F,createdAt:F,updatedAt:F};await Tt.add(ue)}}let Se;const Ae=await Tt.getByCardId(xe||"");if(Ae.length>0){for(const qe of Ae)if((qe.disposedQuantity?qe.quantity-qe.disposedQuantity:qe.quantity)>=we&&!qe.disposedAt){Se=qe.id;break}!Se&&Ae.length>0&&(Se=Ae[0].id)}const je=new Date,Ge={id:`deckcard-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,deckId:y||"unknown-deck",cardId:xe||"unknown-card",lotId:Se,quantity:typeof we=="number"&&we>0?we:1,role:"main",addedAt:je,createdAt:je};await Ee.deck_cards.put(Ge)}}}l("success",`Successfully imported deck: ${t.value}`),t.value="",n.value=""}catch(f){console.error("Error importing deck:",f),l("error","Failed to import deck: "+f.message)}finally{r.value=!1,a.value=null}};return(f,m)=>(z(),te("div",Cg,[m[7]||(m[7]=x("h1",null,"Import Deck",-1)),x("div",xg,[m[4]||(m[4]=x("h2",null,"Moxfield Deck Import",-1)),m[5]||(m[5]=x("p",null,"Copy and paste your decklist from Moxfield to track which cards you own and which you're missing.",-1)),x("div",kg,[m[2]||(m[2]=x("label",{for:"deck-name",class:"form-label"},"Deck Name",-1)),vo(x("input",{id:"deck-name","onUpdate:modelValue":m[0]||(m[0]=h=>t.value=h),type:"text",placeholder:"Enter a name for your deck",class:"form-control"},null,512),[[Yi,t.value]])]),x("div",Eg,[m[3]||(m[3]=x("label",{for:"decklist",class:"form-label"},"Decklist",-1)),vo(x("textarea",{id:"decklist","onUpdate:modelValue":m[1]||(m[1]=h=>n.value=h),placeholder:`Paste your decklist here (e.g., 4 Lightning Bolt
2 Counterspell)`,rows:"10",class:"form-control"},null,512),[[Yi,n.value]])]),x("button",{onClick:d,disabled:r.value,class:"btn btn-primary mb-4"},fe(r.value?"Importing...":"Import Deck"),9,Ag),a.value!==null?(z(),te("div",Sg,[x("div",Pg,[x("div",{class:"progress-bar",style:Ur({width:a.value+"%"})},null,4)]),x("div",Og,fe(a.value)+"%",1)])):$e("",!0),m[6]||(m[6]=x("div",{class:"instructions"},[x("h3",null,"How to copy from Moxfield:"),x("ol",null,[x("li",null,"Open your deck on Moxfield.com"),x("li",null,'Click the "Export" button'),x("li",null,'Select "Text" format'),x("li",null,"Copy the text and paste it here")])],-1))]),i.value?(z(),te("div",{key:0,class:Mt(["status-message",i.value.type])},fe(i.value.message),3)):$e("",!0)]))}}),Rg=Zn(Ig,[["__scopeId","data-v-9ad190d9"]]),Dg={class:"decks-view"},Tg={class:"header"},$g={key:0,class:"loading"},Mg={key:1,class:"empty-state"},Bg={key:2,class:"row g-4"},Fg=["onClick"],Ng={class:"deck-info"},jg={class:"platform"},Lg={class:"date"},qg={class:"card-count"},Kg=rt({__name:"DecksView",setup(e){const t=Jh(),n=Pe([]),r=Pe(!0),i=Pe({}),a=m=>new Date(m).toLocaleDateString(),l=m=>i.value[m]||0,d=m=>{t.push(`/decks/${m}`)},f=async()=>{try{const m=await Ee.decks.toArray();n.value=m;for(const h of m){const y=await Ee.deck_cards.where("deckId").equals(h.id).count();i.value[h.id]=y}}catch(m){console.error("Error loading decks:",m)}finally{r.value=!1}};return yr(()=>{f()}),(m,h)=>{const y=Mo("router-link");return z(),te("div",Dg,[x("div",Tg,[h[1]||(h[1]=x("h1",null,"Decks",-1)),Ve(y,{to:"/import/deck",class:"btn btn-primary"},{default:et(()=>[...h[0]||(h[0]=[rn(" Import Deck ",-1)])]),_:1})]),r.value?(z(),te("div",$g," Loading decks... ")):n.value.length===0?(z(),te("div",Mg,[h[3]||(h[3]=x("p",null,"You haven't imported any decks yet.",-1)),Ve(y,{to:"/import/deck",class:"btn btn-primary"},{default:et(()=>[...h[2]||(h[2]=[rn(" Import Your First Deck ",-1)])]),_:1})])):(z(),te("div",Bg,[(z(!0),te(nt,null,zt(n.value,v=>(z(),te("div",{key:v.id,class:"col-lg-4 col-md-6"},[x("div",{class:"deck-card h-100",onClick:C=>d(v.id)},[x("h2",null,fe(v.name),1),x("p",Ng,[x("span",jg,fe(v.platform),1),x("span",Lg,fe(a(v.importedAt)),1)]),x("p",qg,fe(l(v.id))+" cards",1)],8,Fg)]))),128))]))])}}}),Ug=Zn(Kg,[["__scopeId","data-v-a321a24f"]]);function Vu(e,t){const n=typeof e=="string"&&!t?`${e}Context`:t,r=Symbol(n);return[l=>{const d=Yt(r,l);if(d||d===null)return d;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(", ")}`:`\`${e}\``}`)},l=>(ls(r,l),l)]}function Jn(){let e=document.activeElement;if(e==null)return null;for(;e!=null&&e.shadowRoot!=null&&e.shadowRoot.activeElement!=null;)e=e.shadowRoot.activeElement;return e}function Hu(e,t,n){const r=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),r.dispatchEvent(i)}function Oa(e){return e?e.flatMap(t=>t.type===nt?Oa(t.children):[t]):[]}const[Vg,L_]=Vu("ConfigProvider");function Wu(e){return ca()?(Al(e),!0):!1}function Hg(e){let t=!1,n;const r=Io(!0);return(...i)=>(t||(n=r.run(()=>e(...i)),t=!0),n)}function Wg(e){let t=0,n,r;const i=()=>{t-=1,r&&t<=0&&(r.stop(),n=void 0,r=void 0)};return(...a)=>(t+=1,r||(r=Io(!0),n=r.run(()=>e(...a))),Wu(i),n)}const gr=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const zg=e=>typeof e<"u",Qg=Object.prototype.toString,Yg=e=>Qg.call(e)==="[object Object]",fl=Gg();function Gg(){var e,t;return gr&&((e=window?.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window?.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function Jg(e){return Mn()}function $i(e){return Array.isArray(e)?e:[e]}function Xg(e,t){Jg()&&ru(e,t)}function Zg(e,t,n){return Gt(e,t,{...n,immediate:!0})}const Ia=gr?window:void 0;function Ko(e){var t;const n=bn(e);return(t=n?.$el)!=null?t:n}function zu(...e){const t=[],n=()=>{t.forEach(d=>d()),t.length=0},r=(d,f,m,h)=>(d.addEventListener(f,m,h),()=>d.removeEventListener(f,m,h)),i=tt(()=>{const d=$i(bn(e[0])).filter(f=>f!=null);return d.every(f=>typeof f!="string")?d:void 0}),a=Zg(()=>{var d,f;return[(f=(d=i.value)==null?void 0:d.map(m=>Ko(m)))!=null?f:[Ia].filter(m=>m!=null),$i(bn(i.value?e[1]:e[0])),$i(Ce(i.value?e[2]:e[1])),bn(i.value?e[3]:e[2])]},([d,f,m,h])=>{if(n(),!d?.length||!f?.length||!m?.length)return;const y=Yg(h)?{...h}:h;t.push(...d.flatMap(v=>f.flatMap(C=>m.map(O=>r(v,C,O,y)))))},{flush:"post"}),l=()=>{a(),n()};return Wu(n),l}function ev(){const e=Ul(!1),t=Mn();return t&&yr(()=>{e.value=!0},t),e}function tv(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function nv(...e){let t,n,r={};e.length===3?(t=e[0],n=e[1],r=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:i=Ia,eventName:a="keydown",passive:l=!1,dedupe:d=!1}=r,f=tv(t);return zu(i,a,h=>{h.repeat&&bn(d)||f(h)&&n(h)},l)}function rv(e){return JSON.parse(JSON.stringify(e))}function sv(e,t,n,r={}){var i,a,l;const{clone:d=!1,passive:f=!1,eventName:m,deep:h=!1,defaultValue:y,shouldEmit:v}=r,C=Mn(),O=n||C?.emit||((i=C?.$emit)==null?void 0:i.bind(C))||((l=(a=C?.proxy)==null?void 0:a.$emit)==null?void 0:l.bind(C?.proxy));let N=m;N=N||`update:${t.toString()}`;const J=K=>d?typeof d=="function"?d(K):rv(K):K,L=()=>zg(e[t])?J(e[t]):y,j=K=>{v?v(K)&&O(N,K):O(N,K)};if(f){const K=L(),X=Pe(K);let we=!1;return Gt(()=>e[t],ve=>{we||(we=!0,X.value=J(ve),an(()=>we=!1))}),Gt(X,ve=>{!we&&(ve!==e[t]||h)&&j(ve)},{deep:h}),X}else return tt({get(){return L()},set(K){j(K)}})}function Mi(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function ra(e,t,n=".",r){if(!Mi(t))return ra(e,{},n,r);const i=Object.assign({},t);for(const a in e){if(a==="__proto__"||a==="constructor")continue;const l=e[a];l!=null&&(r&&r(i,a,l,n)||(Array.isArray(l)&&Array.isArray(i[a])?i[a]=[...l,...i[a]]:Mi(l)&&Mi(i[a])?i[a]=ra(l,i[a],(n?`${n}.`:"")+a.toString(),r):i[a]=l))}return i}function ov(e){return(...t)=>t.reduce((n,r)=>ra(n,r,"",e),{})}const iv=ov(),av=Wg(()=>{const e=Pe(new Map),t=Pe(),n=tt(()=>{for(const l of e.value.values())if(l)return!0;return!1}),r=Vg({scrollBody:Pe(!0)});let i=null;const a=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",fl&&i?.(),t.value=void 0};return Gt(n,(l,d)=>{if(!gr)return;if(!l){d&&a();return}t.value===void 0&&(t.value=document.body.style.overflow);const f=window.innerWidth-document.documentElement.clientWidth,m={padding:f,margin:0},h=r.scrollBody?.value?typeof r.scrollBody.value=="object"?iv({padding:r.scrollBody.value.padding===!0?f:r.scrollBody.value.padding,margin:r.scrollBody.value.margin===!0?f:r.scrollBody.value.margin},m):m:{padding:0,margin:0};f>0&&(document.body.style.paddingRight=typeof h.padding=="number"?`${h.padding}px`:String(h.padding),document.body.style.marginRight=typeof h.margin=="number"?`${h.margin}px`:String(h.margin),document.documentElement.style.setProperty("--scrollbar-width",`${f}px`),document.body.style.overflow="hidden"),fl&&(i=zu(document,"touchmove",y=>lv(y),{passive:!1})),an(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function cv(e){const t=Math.random().toString(36).substring(2,7),n=av();n.value.set(t,e);const r=tt({get:()=>n.value.get(t)??!1,set:i=>n.value.set(t,i)});return Xg(()=>{n.value.delete(t)}),r}function Qu(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:Qu(n)}}function lv(e){const t=e||window.event,n=t.target;return n instanceof Element&&Qu(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}function Ra(e){const t=Mn(),n=t?.type.emits,r={};return n?.length||console.warn(`No emitted event found. Please check component: ${t?.type.__name}`),n?.forEach(i=>{r[oo(Jt(i))]=(...a)=>e(i,...a)}),r}function xn(){const e=Mn(),t=Pe(),n=tt(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:Ko(t)),r=Object.assign({},e.exposed),i={};for(const l in e.props)Object.defineProperty(i,l,{enumerable:!0,configurable:!0,get:()=>e.props[l]});if(Object.keys(r).length>0)for(const l in r)Object.defineProperty(i,l,{enumerable:!0,configurable:!0,get:()=>r[l]});Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=i;function a(l){t.value=l,l&&(Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>l instanceof Element?l:l.$el}),e.exposed=i)}return{forwardRef:a,currentRef:t,currentElement:n}}var uv=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Or=new WeakMap,no=new WeakMap,ro={},Bi=0,Yu=function(e){return e&&(e.host||Yu(e.parentNode))},dv=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Yu(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},fv=function(e,t,n,r){var i=dv(t,Array.isArray(e)?e:[e]);ro[n]||(ro[n]=new WeakMap);var a=ro[n],l=[],d=new Set,f=new Set(i),m=function(y){!y||d.has(y)||(d.add(y),m(y.parentNode))};i.forEach(m);var h=function(y){!y||f.has(y)||Array.prototype.forEach.call(y.children,function(v){if(d.has(v))h(v);else try{var C=v.getAttribute(r),O=C!==null&&C!=="false",N=(Or.get(v)||0)+1,J=(a.get(v)||0)+1;Or.set(v,N),a.set(v,J),l.push(v),N===1&&O&&no.set(v,!0),J===1&&v.setAttribute(n,"true"),O||v.setAttribute(r,"true")}catch(L){console.error("aria-hidden: cannot operate on ",v,L)}})};return h(t),d.clear(),Bi++,function(){l.forEach(function(y){var v=Or.get(y)-1,C=a.get(y)-1;Or.set(y,v),a.set(y,C),v||(no.has(y)||y.removeAttribute(r),no.delete(y)),C||y.removeAttribute(n)}),Bi--,Bi||(Or=new WeakMap,Or=new WeakMap,no=new WeakMap,ro={})}},pv=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=uv(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),fv(r,i,n,"aria-hidden")):function(){return null}};function hv(e){let t;Gt(()=>Ko(e),n=>{n?t=pv(n):t&&t()}),$o(()=>{t&&t()})}function pl(e,t="reka"){return`${t}-${wf?.()}`}function mv(e,t){const n=Pe(e);function r(a){return t[n.value][a]??n.value}return{state:n,dispatch:a=>{n.value=r(a)}}}function yv(e,t){const n=Pe({}),r=Pe("none"),i=Pe(e),a=e.value?"mounted":"unmounted";let l;const d=t.value?.ownerDocument.defaultView??Ia,{state:f,dispatch:m}=mv(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),h=J=>{if(gr){const L=new CustomEvent(J,{bubbles:!1,cancelable:!1});t.value?.dispatchEvent(L)}};Gt(e,async(J,L)=>{const j=L!==J;if(await an(),j){const K=r.value,X=so(t.value);J?(m("MOUNT"),h("enter"),X==="none"&&h("after-enter")):X==="none"||X==="undefined"||n.value?.display==="none"?(m("UNMOUNT"),h("leave"),h("after-leave")):L&&K!==X?(m("ANIMATION_OUT"),h("leave")):(m("UNMOUNT"),h("after-leave"))}},{immediate:!0});const y=J=>{const L=so(t.value),j=L.includes(J.animationName),K=f.value==="mounted"?"enter":"leave";if(J.target===t.value&&j&&(h(`after-${K}`),m("ANIMATION_END"),!i.value)){const X=t.value.style.animationFillMode;t.value.style.animationFillMode="forwards",l=d?.setTimeout(()=>{t.value?.style.animationFillMode==="forwards"&&(t.value.style.animationFillMode=X)})}J.target===t.value&&L==="none"&&m("ANIMATION_END")},v=J=>{J.target===t.value&&(r.value=so(t.value))},C=Gt(t,(J,L)=>{J?(n.value=getComputedStyle(J),J.addEventListener("animationstart",v),J.addEventListener("animationcancel",y),J.addEventListener("animationend",y)):(m("ANIMATION_END"),l!==void 0&&d?.clearTimeout(l),L?.removeEventListener("animationstart",v),L?.removeEventListener("animationcancel",y),L?.removeEventListener("animationend",y))},{immediate:!0}),O=Gt(f,()=>{const J=so(t.value);r.value=f.value==="mounted"?J:"none"});return $o(()=>{C(),O()}),{isPresent:tt(()=>["mounted","unmountSuspended"].includes(f.value))}}function so(e){return e&&getComputedStyle(e).animationName||"none"}var Gu=rt({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(e,{slots:t,expose:n}){const{present:r,forceMount:i}=ga(e),a=Pe(),{isPresent:l}=yv(r,a);n({present:l});let d=t.default({present:l.value});d=Oa(d||[]);const f=Mn();if(d&&d?.length>1){const m=f?.parent?.type.name?`<${f.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${m}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}return()=>i.value||r.value||l.value?Br(t.default({present:l.value})[0],{ref:m=>{const h=Ko(m);return typeof h?.hasAttribute>"u"||(h?.hasAttribute("data-reka-popper-content-wrapper")?a.value=h.firstElementChild:a.value=h),h}}):null}});const gv=rt({name:"PrimitiveSlot",inheritAttrs:!1,setup(e,{attrs:t,slots:n}){return()=>{if(!n.default)return null;const r=Oa(n.default()),i=r.findIndex(f=>f.type!==wn);if(i===-1)return r;const a=r[i];delete a.props?.ref;const l=a.props?Cn(t,a.props):t,d=pr({...a,props:{}},l);return r.length===1?d:(r[i]=d,r)}}}),vv=["area","img","input"],Es=rt({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(e,{attrs:t,slots:n}){const r=e.asChild?"template":e.as;return typeof r=="string"&&vv.includes(r)?()=>Br(r,t):r!=="template"?()=>Br(e.as,t,{default:n.default}):()=>Br(gv,t,{default:n.default})}}),[er,bv]=Vu("DialogRoot");var _v=rt({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:t}){const n=e,i=sv(n,"open",t,{defaultValue:n.defaultOpen,passive:n.open===void 0}),a=Pe(),l=Pe(),{modal:d}=ga(n);return bv({open:i,modal:d,openModal:()=>{i.value=!0},onOpenChange:f=>{i.value=f},onOpenToggle:()=>{i.value=!i.value},contentId:"",titleId:"",descriptionId:"",triggerElement:a,contentElement:l}),(f,m)=>Vt(f.$slots,"default",{open:Ce(i),close:()=>i.value=!1})}}),wv=_v,Cv=rt({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e;xn();const n=er();return(r,i)=>(z(),Et(Ce(Es),Cn(t,{type:r.as==="button"?"button":void 0,onClick:i[0]||(i[0]=a=>Ce(n).onOpenChange(!1))}),{default:et(()=>[Vt(r.$slots,"default")]),_:3},16,["type"]))}}),xv=Cv;const kv="dismissableLayer.pointerDownOutside",Ev="dismissableLayer.focusOutside";function Ju(e,t){const n=t.closest("[data-dismissable-layer]"),r=e.dataset.dismissableLayer===""?e:e.querySelector("[data-dismissable-layer]"),i=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&(r===n||i.indexOf(r)<i.indexOf(n)))}function Av(e,t,n=!0){const r=t?.value?.ownerDocument??globalThis?.document,i=Pe(!1),a=Pe(()=>{});return Lr(l=>{if(!gr||!bn(n))return;const d=async m=>{const h=m.target;if(!(!t?.value||!h)){if(Ju(t.value,h)){i.value=!1;return}if(m.target&&!i.value){let C=function(){Hu(kv,e,v)};var y=C;const v={originalEvent:m};m.pointerType==="touch"?(r.removeEventListener("click",a.value),a.value=C,r.addEventListener("click",a.value,{once:!0})):C()}else r.removeEventListener("click",a.value);i.value=!1}},f=window.setTimeout(()=>{r.addEventListener("pointerdown",d)},0);l(()=>{window.clearTimeout(f),r.removeEventListener("pointerdown",d),r.removeEventListener("click",a.value)})}),{onPointerDownCapture:()=>{bn(n)&&(i.value=!0)}}}function Sv(e,t,n=!0){const r=t?.value?.ownerDocument??globalThis?.document,i=Pe(!1);return Lr(a=>{if(!gr||!bn(n))return;const l=async d=>{if(!t?.value)return;await an(),await an();const f=d.target;!t.value||!f||Ju(t.value,f)||d.target&&!i.value&&Hu(Ev,e,{originalEvent:d})};r.addEventListener("focusin",l),a(()=>r.removeEventListener("focusin",l))}),{onFocusCapture:()=>{bn(n)&&(i.value=!0)},onBlurCapture:()=>{bn(n)&&(i.value=!1)}}}const Pn=mr({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set});var Pv=rt({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:t}){const n=e,r=t,{forwardRef:i,currentElement:a}=xn(),l=tt(()=>a.value?.ownerDocument??globalThis.document),d=tt(()=>Pn.layersRoot),f=tt(()=>a.value?Array.from(d.value).indexOf(a.value):-1),m=tt(()=>Pn.layersWithOutsidePointerEventsDisabled.size>0),h=tt(()=>{const O=Array.from(d.value),[N]=[...Pn.layersWithOutsidePointerEventsDisabled].slice(-1),J=O.indexOf(N);return f.value>=J}),y=Av(async O=>{const N=[...Pn.branches].some(J=>J?.contains(O.target));!h.value||N||(r("pointerDownOutside",O),r("interactOutside",O),await an(),O.defaultPrevented||r("dismiss"))},a),v=Sv(O=>{[...Pn.branches].some(J=>J?.contains(O.target))||(r("focusOutside",O),r("interactOutside",O),O.defaultPrevented||r("dismiss"))},a);nv("Escape",O=>{f.value===d.value.size-1&&(r("escapeKeyDown",O),O.defaultPrevented||r("dismiss"))});let C;return Lr(O=>{a.value&&(n.disableOutsidePointerEvents&&(Pn.layersWithOutsidePointerEventsDisabled.size===0&&(C=l.value.body.style.pointerEvents,l.value.body.style.pointerEvents="none"),Pn.layersWithOutsidePointerEventsDisabled.add(a.value)),d.value.add(a.value),O(()=>{n.disableOutsidePointerEvents&&Pn.layersWithOutsidePointerEventsDisabled.size===1&&(l.value.body.style.pointerEvents=C)}))}),Lr(O=>{O(()=>{a.value&&(d.value.delete(a.value),Pn.layersWithOutsidePointerEventsDisabled.delete(a.value))})}),(O,N)=>(z(),Et(Ce(Es),{ref:Ce(i),"as-child":O.asChild,as:O.as,"data-dismissable-layer":"",style:Ur({pointerEvents:m.value?h.value?"auto":"none":void 0}),onFocusCapture:Ce(v).onFocusCapture,onBlurCapture:Ce(v).onBlurCapture,onPointerdownCapture:Ce(y).onPointerDownCapture},{default:et(()=>[Vt(O.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),Ov=Pv;const Iv=Hg(()=>Pe([]));function Rv(){const e=Iv();return{add(t){const n=e.value[0];t!==n&&n?.pause(),e.value=hl(e.value,t),e.value.unshift(t)},remove(t){e.value=hl(e.value,t),e.value[0]?.resume()}}}function hl(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Dv(e){return e.filter(t=>t.tagName!=="A")}const Fi="focusScope.autoFocusOnMount",Ni="focusScope.autoFocusOnUnmount",ml={bubbles:!1,cancelable:!0};function Tv(e,{select:t=!1}={}){const n=Jn();for(const r of e)if(Hn(r,{select:t}),Jn()!==n)return!0}function $v(e){const t=Xu(e),n=yl(t,e),r=yl(t.reverse(),e);return[n,r]}function Xu(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function yl(e,t){for(const n of e)if(!Mv(n,{upTo:t}))return n}function Mv(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Bv(e){return e instanceof HTMLInputElement&&"select"in e}function Hn(e,{select:t=!1}={}){if(e&&e.focus){const n=Jn();e.focus({preventScroll:!0}),e!==n&&Bv(e)&&t&&e.select()}}var Fv=rt({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,r=t,{currentRef:i,currentElement:a}=xn(),l=Pe(null),d=Rv(),f=mr({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});Lr(h=>{if(!gr)return;const y=a.value;if(!n.trapped)return;function v(J){if(f.paused||!y)return;const L=J.target;y.contains(L)?l.value=L:Hn(l.value,{select:!0})}function C(J){if(f.paused||!y)return;const L=J.relatedTarget;L!==null&&(y.contains(L)||Hn(l.value,{select:!0}))}function O(J){y.contains(l.value)||Hn(y)}document.addEventListener("focusin",v),document.addEventListener("focusout",C);const N=new MutationObserver(O);y&&N.observe(y,{childList:!0,subtree:!0}),h(()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",C),N.disconnect()})}),Lr(async h=>{const y=a.value;if(await an(),!y)return;d.add(f);const v=Jn();if(!y.contains(v)){const O=new CustomEvent(Fi,ml);y.addEventListener(Fi,N=>r("mountAutoFocus",N)),y.dispatchEvent(O),O.defaultPrevented||(Tv(Dv(Xu(y)),{select:!0}),Jn()===v&&Hn(y))}h(()=>{y.removeEventListener(Fi,J=>r("mountAutoFocus",J));const O=new CustomEvent(Ni,ml),N=J=>{r("unmountAutoFocus",J)};y.addEventListener(Ni,N),y.dispatchEvent(O),setTimeout(()=>{O.defaultPrevented||Hn(v??document.body,{select:!0}),y.removeEventListener(Ni,N),d.remove(f)},0)})});function m(h){if(!n.loop&&!n.trapped||f.paused)return;const y=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,v=Jn();if(y&&v){const C=h.currentTarget,[O,N]=$v(C);O&&N?!h.shiftKey&&v===N?(h.preventDefault(),n.loop&&Hn(O,{select:!0})):h.shiftKey&&v===O&&(h.preventDefault(),n.loop&&Hn(N,{select:!0})):v===C&&h.preventDefault()}}return(h,y)=>(z(),Et(Ce(Es),{ref_key:"currentRef",ref:i,tabindex:"-1","as-child":h.asChild,as:h.as,onKeydown:m},{default:et(()=>[Vt(h.$slots,"default")]),_:3},8,["as-child","as"]))}}),Nv=Fv;function jv(e){return e?"open":"closed"}var Lv=rt({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,i=er(),{forwardRef:a,currentElement:l}=xn();return i.titleId||=pl(void 0,"reka-dialog-title"),i.descriptionId||=pl(void 0,"reka-dialog-description"),yr(()=>{i.contentElement=l,Jn()!==document.body&&(i.triggerElement.value=Jn())}),(d,f)=>(z(),Et(Ce(Nv),{"as-child":"",loop:"",trapped:n.trapFocus,onMountAutoFocus:f[5]||(f[5]=m=>r("openAutoFocus",m)),onUnmountAutoFocus:f[6]||(f[6]=m=>r("closeAutoFocus",m))},{default:et(()=>[Ve(Ce(Ov),Cn({id:Ce(i).contentId,ref:Ce(a),as:d.as,"as-child":d.asChild,"disable-outside-pointer-events":d.disableOutsidePointerEvents,role:"dialog","aria-describedby":Ce(i).descriptionId,"aria-labelledby":Ce(i).titleId,"data-state":Ce(jv)(Ce(i).open.value)},d.$attrs,{onDismiss:f[0]||(f[0]=m=>Ce(i).onOpenChange(!1)),onEscapeKeyDown:f[1]||(f[1]=m=>r("escapeKeyDown",m)),onFocusOutside:f[2]||(f[2]=m=>r("focusOutside",m)),onInteractOutside:f[3]||(f[3]=m=>r("interactOutside",m)),onPointerDownOutside:f[4]||(f[4]=m=>r("pointerDownOutside",m))}),{default:et(()=>[Vt(d.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),Zu=Lv,qv=rt({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,i=er(),a=Ra(r),{forwardRef:l,currentElement:d}=xn();return hv(d),(f,m)=>(z(),Et(Zu,Cn({...n,...Ce(a)},{ref:Ce(l),"trap-focus":Ce(i).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:m[0]||(m[0]=h=>{h.defaultPrevented||(h.preventDefault(),Ce(i).triggerElement.value?.focus())}),onPointerDownOutside:m[1]||(m[1]=h=>{const y=h.detail.originalEvent,v=y.button===0&&y.ctrlKey===!0;(y.button===2||v)&&h.preventDefault()}),onFocusOutside:m[2]||(m[2]=h=>{h.preventDefault()})}),{default:et(()=>[Vt(f.$slots,"default")]),_:3},16,["trap-focus"]))}}),Kv=qv,Uv=rt({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,i=Ra(t);xn();const a=er(),l=Pe(!1),d=Pe(!1);return(f,m)=>(z(),Et(Zu,Cn({...n,...Ce(i)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:m[0]||(m[0]=h=>{h.defaultPrevented||(l.value||Ce(a).triggerElement.value?.focus(),h.preventDefault()),l.value=!1,d.value=!1}),onInteractOutside:m[1]||(m[1]=h=>{h.defaultPrevented||(l.value=!0,h.detail.originalEvent.type==="pointerdown"&&(d.value=!0));const y=h.target;Ce(a).triggerElement.value?.contains(y)&&h.preventDefault(),h.detail.originalEvent.type==="focusin"&&d.value&&h.preventDefault()})}),{default:et(()=>[Vt(f.$slots,"default")]),_:3},16))}}),Vv=Uv,Hv=rt({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,i=er(),a=Ra(r),{forwardRef:l}=xn();return(d,f)=>(z(),Et(Ce(Gu),{present:d.forceMount||Ce(i).open.value},{default:et(()=>[Ce(i).modal.value?(z(),Et(Kv,Cn({key:0,ref:Ce(l)},{...n,...Ce(a),...d.$attrs}),{default:et(()=>[Vt(d.$slots,"default")]),_:3},16)):(z(),Et(Vv,Cn({key:1,ref:Ce(l)},{...n,...Ce(a),...d.$attrs}),{default:et(()=>[Vt(d.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Wv=Hv,zv=rt({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=er();return cv(!0),xn(),(n,r)=>(z(),Et(Ce(Es),{as:n.as,"as-child":n.asChild,"data-state":Ce(t).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:et(()=>[Vt(n.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),Qv=zv,Yv=rt({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=er(),{forwardRef:n}=xn();return(r,i)=>Ce(t)?.modal.value?(z(),Et(Ce(Gu),{key:0,present:r.forceMount||Ce(t).open.value},{default:et(()=>[Ve(Qv,Cn(r.$attrs,{ref:Ce(n),as:r.as,"as-child":r.asChild}),{default:et(()=>[Vt(r.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):$e("v-if",!0)}}),Gv=Yv,Jv=rt({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=ev();return(n,r)=>Ce(t)||n.forceMount?(z(),Et(bf,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[Vt(n.$slots,"default")],8,["to","disabled","defer"])):$e("v-if",!0)}}),Xv=Jv,Zv=rt({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(n,r)=>(z(),Et(Ce(Xv),Md(Cu(t)),{default:et(()=>[Vt(n.$slots,"default")]),_:3},16))}}),eb=Zv,tb=rt({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(e){const t=e,n=er();return xn(),(r,i)=>(z(),Et(Ce(Es),Cn(t,{id:Ce(n).titleId}),{default:et(()=>[Vt(r.$slots,"default")]),_:3},16,["id"]))}}),nb=tb;const rb={class:"card-image-container position-relative overflow-hidden rounded",style:{"padding-bottom":"140%"}},sb=["src","alt"],ob={class:"card-body"},ib={class:"card-title fs-6 fw-medium mb-1"},ab={class:"card-text small text-muted mb-2"},cb={key:0,class:"d-flex justify-content-between small"},lb={class:"text-success fw-medium"},ub={key:1,class:"small text-muted fst-italic"},db={class:"modal-dialog modal-dialog-centered modal-xl"},fb={class:"modal-content"},pb={class:"modal-header"},hb={class:"modal-body"},mb={class:"card-details-section d-flex flex-wrap gap-4 mb-4"},yb={class:"card-image-large flex-shrink-0",style:{flex:"0 0 300px"}},gb=["src","alt"],vb={class:"card-metadata flex-grow-1 min-w-250"},bb={class:"metadata-item d-flex justify-content-between py-2 border-bottom border-light"},_b={class:"fw-medium"},wb={class:"metadata-item d-flex justify-content-between py-2 border-bottom border-light"},Cb={class:"fw-medium"},xb={class:"metadata-item d-flex justify-content-between py-2 border-bottom border-light"},kb={class:"fw-medium"},Eb={class:"metadata-item d-flex justify-content-between py-2"},Ab={class:"fw-medium"},Sb={class:"price-section mb-4"},Pb={key:0,class:"current-price h2 text-success fw-bold"},Ob={key:1,class:"price-loading small text-muted fst-italic"},Ib={key:2,class:"price-unavailable small text-muted fst-italic"},Rb={key:0,class:"ownership-section mb-4"},Db={class:"lots-summary d-flex gap-4 p-3 bg-light rounded mb-3"},Tb={class:"summary-item"},$b={class:"value h5"},Mb={class:"summary-item"},Bb={class:"value h5"},Fb={class:"lots-list"},Nb={class:"lot-details row"},jb={class:"lot-quantity col-md-3"},Lb={class:"value fw-medium"},qb={class:"lot-cost col-md-3"},Kb={class:"value fw-medium"},Ub={class:"lot-date col-md-3"},Vb={class:"value fw-medium"},Hb={key:0,class:"lot-disposed col-md-3"},Wb={class:"value fw-medium"},zb={key:1,class:"transactions-section"},Qb={class:"transactions-list"},Yb={class:"transaction-details row"},Gb={class:"transaction-type col-md-3 fw-bold"},Jb={class:"transaction-date col-md-3 text-muted"},Xb={class:"transaction-quantity col-md-3 fw-medium"},Zb={class:"transaction-price col-md-3 fw-medium"},e_=rt({inheritAttrs:!0,__name:"CardComponent",props:{card:{}},setup(e){const t=e,n=Pa(),r=Pe(!1),i=Pe(null),a=Pe(!1),l=Pe([]),d=Pe([]),f=tt(()=>{const L=n.getCardPrice(t.card.id);return L||i.value}),m=tt(()=>!l.value||l.value.length===0?0:l.value.reduce((L,j)=>{if(!j.disposedAt||j.disposedQuantity&&j.disposedQuantity<j.quantity){const K=j.disposedQuantity?j.quantity-j.disposedQuantity:j.quantity;return L+K}return L},0)),h=()=>{r.value=!0,N()},y=()=>{r.value=!1},v=L=>{L.target.src="https://placehold.co/200x280?text=Card+Image"},C=L=>new Date(L).toLocaleDateString(),O=(L,j)=>new Ze(L,j).format("de-DE"),N=async()=>{try{J();const L=await Ee.card_lots.where("cardId").equals(t.card.id).toArray();l.value=L;const j=await Ee.transactions.where("cardId").equals(t.card.id).toArray();d.value=j}catch(L){console.error("Error loading card details:",L)}},J=async()=>{a.value=!0;try{const L=await Ee.price_points.where("cardId").equals(t.card.id).toArray();if(L.length>0){L.sort((K,X)=>X.asOf.getTime()-K.asOf.getTime());const j=L[0];i.value=new Ze(j.price,j.currency)}}catch(L){console.error("Error loading current price:",L)}finally{a.value=!1}};return(L,j)=>(z(),te(nt,null,[x("div",{class:"card h-100 card-item",onClick:h},[x("div",rb,[x("img",{src:L.card.imageUrl||"https://placehold.co/200x280?text=Card+Image",alt:L.card.name,class:"card-img-top position-absolute top-0 start-0 w-100 h-100 object-fit-cover",onError:v},null,40,sb)]),x("div",ob,[x("h3",ib,fe(L.card.name),1),x("p",ab,fe(L.card.set)+" #"+fe(L.card.number),1),f.value?(z(),te("div",cb,[j[1]||(j[1]=x("span",{class:"text-muted"},"Current:",-1)),x("span",lb,fe(f.value.format("de-DE")),1)])):a.value||Ce(n).loadingPrices?(z(),te("div",ub," Loading... ")):$e("",!0)])]),Ve(Ce(wv),{open:r.value,"onUpdate:open":j[0]||(j[0]=K=>r.value=K)},{default:et(()=>[Ve(Ce(eb),null,{default:et(()=>[Ve(Ce(Gv),{class:"modal-backdrop fade show"}),Ve(Ce(Wv),{class:"modal d-block",onPointerDownOutside:y,onEscapeKeyDown:y},{default:et(()=>[x("div",db,[x("div",fb,[x("div",pb,[Ve(Ce(nb),{class:"modal-title h2"},{default:et(()=>[rn(fe(L.card.name),1)]),_:1}),Ve(Ce(xv),{"as-child":""},{default:et(()=>[x("button",{class:"btn-close",onClick:y})]),_:1})]),x("div",hb,[x("div",mb,[x("div",yb,[x("img",{src:L.card.imageUrl||"https://placehold.co/300x420?text=Card+Image",alt:L.card.name,onError:v,class:"img-fluid rounded"},null,40,gb)]),x("div",vb,[x("div",bb,[j[2]||(j[2]=x("span",{class:"text-muted fw-medium"},"Set:",-1)),x("span",_b,fe(L.card.set)+" ("+fe(L.card.setCode)+")",1)]),x("div",wb,[j[3]||(j[3]=x("span",{class:"text-muted fw-medium"},"Collector Number:",-1)),x("span",Cb,"#"+fe(L.card.number),1)]),x("div",xb,[j[4]||(j[4]=x("span",{class:"text-muted fw-medium"},"Language:",-1)),x("span",kb,fe(L.card.lang),1)]),x("div",Eb,[j[5]||(j[5]=x("span",{class:"text-muted fw-medium"},"Finish:",-1)),x("span",Ab,fe(L.card.finish),1)])])]),x("div",Sb,[j[6]||(j[6]=x("h3",{class:"fs-5 mb-2"},"Current Price",-1)),i.value?(z(),te("div",Pb,fe(i.value.format("de-DE")),1)):a.value?(z(),te("div",Ob," Loading price... ")):(z(),te("div",Ib," Price unavailable "))]),l.value&&l.value.length>0?(z(),te("div",Rb,[j[13]||(j[13]=x("h3",{class:"fs-5 mb-2"},"Your Collection",-1)),x("div",Db,[x("div",Tb,[j[7]||(j[7]=x("span",{class:"label small text-muted"},"Total Lots:",-1)),x("span",$b,fe(l.value.length),1)]),x("div",Mb,[j[8]||(j[8]=x("span",{class:"label small text-muted"},"Total Cards:",-1)),x("span",Bb,fe(m.value),1)])]),x("div",Fb,[(z(!0),te(nt,null,zt(l.value,K=>(z(),te("div",{key:K.id,class:"lot-item border rounded p-3 mb-2"},[x("div",Nb,[x("div",jb,[j[9]||(j[9]=x("span",{class:"label small text-muted"},"Quantity:",-1)),x("span",Lb,fe(K.quantity),1)]),x("div",qb,[j[10]||(j[10]=x("span",{class:"label small text-muted"},"Unit Cost:",-1)),x("span",Kb,fe(O(K.unitCost,K.currency||"EUR")),1)]),x("div",Ub,[j[11]||(j[11]=x("span",{class:"label small text-muted"},"Purchased:",-1)),x("span",Vb,fe(C(K.purchasedAt)),1)]),K.disposedQuantity?(z(),te("div",Hb,[j[12]||(j[12]=x("span",{class:"label small text-muted"},"Disposed:",-1)),x("span",Wb,fe(K.disposedQuantity),1)])):$e("",!0)])]))),128))])])):$e("",!0),d.value&&d.value.length>0?(z(),te("div",zb,[j[14]||(j[14]=x("h3",{class:"fs-5 mb-2"},"Transaction History",-1)),x("div",Qb,[(z(!0),te(nt,null,zt(d.value,K=>(z(),te("div",{key:K.id,class:Mt(["transaction-item border rounded p-3 mb-2",K.kind.toLowerCase()])},[x("div",Yb,[x("div",Gb,fe(K.kind),1),x("div",Jb,fe(C(K.happenedAt)),1),x("div",Xb,"Qty: "+fe(K.quantity),1),x("div",Zb,fe(O(K.unitPrice,K.currency)),1)])],2))),128))])])):$e("",!0)])])])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),ed=Zn(e_,[["__scopeId","data-v-11044c83"]]),t_={class:"deck-detail-view"},n_={key:0,class:"loading"},r_={key:1,class:"deck-detail"},s_={class:"deck-header"},o_={class:"deck-meta"},i_={class:"platform"},a_={class:"date"},c_={class:"cards-section"},l_={key:0,class:"empty-state"},u_={key:1,class:"cards-grid"},d_={key:2,class:"error"},f_=rt({__name:"DeckDetailView",setup(e){const t=Nu(),n=Pe(null),r=Pe([]),i=Pe({}),a=Pe(!0),l=m=>new Date(m).toLocaleDateString(),d=m=>i.value[m]||{id:m,name:"Unknown Card",set:"Unknown Set",setCode:"???",number:"???",lang:"en",finish:"nonfoil",imageUrl:"https://placehold.co/200x280?text=Card+Image"},f=async()=>{try{const m=t.params.id,h=await Ee.decks.get(m);if(!h)return;n.value=h;const y=await Ee.deck_cards.where("deckId").equals(m).toArray();r.value=y;const v=y.map(C=>C.cardId).filter(C=>C);if(v.length>0){const C=await Ee.cards.where("id").anyOf(v).toArray();i.value=Object.fromEntries(C.map(O=>[O.id,O]))}}catch(m){console.error("Error loading deck:",m)}finally{a.value=!1}};return yr(()=>{f()}),(m,h)=>{const y=Mo("router-link");return z(),te("div",t_,[a.value?(z(),te("div",n_," Loading deck... ")):n.value?(z(),te("div",r_,[x("div",s_,[Ve(y,{to:"/decks",class:"back-link"},{default:et(()=>[...h[0]||(h[0]=[rn("  Back to Decks ",-1)])]),_:1}),x("h1",null,fe(n.value.name),1),x("p",o_,[x("span",i_,fe(n.value.platform),1),x("span",a_,"Imported: "+fe(l(n.value.importedAt)),1)])]),x("div",c_,[h[2]||(h[2]=x("h2",null,"Cards in Deck",-1)),r.value.length===0?(z(),te("div",l_,[...h[1]||(h[1]=[x("p",null,"No cards found in this deck.",-1)])])):(z(),te("div",u_,[(z(!0),te(nt,null,zt(r.value,v=>(z(),Et(ed,{key:v.id,card:d(v.cardId)},null,8,["card"]))),128))]))])])):(z(),te("div",d_,[h[4]||(h[4]=x("p",null,"Deck not found.",-1)),Ve(y,{to:"/decks",class:"back-link"},{default:et(()=>[...h[3]||(h[3]=[rn("  Back to Decks ",-1)])]),_:1})]))])}}}),p_=Zn(f_,[["__scopeId","data-v-aee401d9"]]),h_={class:"cards-view"},m_={class:"header"},y_={class:"controls"},g_={class:"search-box"},v_={class:"sort-controls"},b_={key:0,class:"loading"},__={key:1,class:"empty-state"},w_={key:0},C_={key:1},x_={key:2,class:"row g-4"},k_=rt({__name:"CardsView",setup(e){const t=Pa(),n=Pe(""),r=Pe("name"),i=Pe("asc"),a=tt(()=>{const d=t.getAllCards;if(!n.value)return d;const f=n.value.toLowerCase();return d.filter(m=>m.name.toLowerCase().includes(f)||m.set.toLowerCase().includes(f)||m.number.includes(f))}),l=tt(()=>{const d=[...a.value];return d.sort((f,m)=>{let h=0;switch(r.value){case"name":h=f.name.localeCompare(m.name);break;case"set":h=f.set.localeCompare(m.set);break;case"price":{const y=t.getCardPrice(f.id)?.getCents()??0,v=t.getCardPrice(m.id)?.getCents()??0;h=y-v}break;case"owned":h=0;break;default:h=f.name.localeCompare(m.name)}return i.value==="asc"?h:-h}),d});return yr(()=>{t.loadCardsAndPrices()}),(d,f)=>(z(),te("div",h_,[x("div",m_,[x("div",y_,[x("div",g_,[vo(x("input",{"onUpdate:modelValue":f[0]||(f[0]=m=>n.value=m),type:"text",placeholder:"Search cards...",class:"form-control"},null,512),[[Yi,n.value]])]),x("div",v_,[vo(x("select",{"onUpdate:modelValue":f[1]||(f[1]=m=>r.value=m),class:"form-select"},[...f[3]||(f[3]=[x("option",{value:"name"},"Name",-1),x("option",{value:"set"},"Set",-1),x("option",{value:"price"},"Price",-1),x("option",{value:"owned"},"Owned Quantity",-1)])],512),[[Kp,r.value]]),x("button",{onClick:f[2]||(f[2]=m=>i.value=i.value==="asc"?"desc":"asc"),class:"btn btn-outline-primary"},fe(i.value==="asc"?"":""),1)])])]),Ce(t).loading||Ce(t).loadingPrices?(z(),te("div",b_," Loading cards and prices... ")):l.value.length===0?(z(),te("div",__,[n.value?(z(),te("p",w_,"No cards match your search.")):(z(),te("p",C_,"You don't have any cards in your collection yet."))])):(z(),te("div",x_,[(z(!0),te(nt,null,zt(l.value,m=>(z(),te("div",{key:m.id,class:"col-xl-2 col-lg-3 col-md-4 col-sm-6"},[Ve(ed,{card:m},null,8,["card"])]))),128))]))]))}}),E_=Zn(k_,[["__scopeId","data-v-c166bf67"]]),A_=[{path:"/",name:"home",component:Bm},{path:"/import/csv",name:"csv-import",component:zm},{path:"/import/cardmarket",name:"cardmarket-import",component:_g},{path:"/import/deck",name:"deck-import",component:Rg},{path:"/decks",name:"decks",component:Ug},{path:"/decks/:id",name:"deck-detail",component:p_,props:!0},{path:"/cards",name:"cards",component:E_}],S_=Yh({history:kh(),routes:A_}),td=Hp(cm),P_=lm();td.use(P_);td.use(S_).mount("#app");
